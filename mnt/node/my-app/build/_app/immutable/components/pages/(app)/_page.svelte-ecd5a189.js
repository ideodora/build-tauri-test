import{S as we,i as Ee,s as Me,I as Pt,J as Sn,K as In,m as pt,h as Y,L as on,b as wt,M as qt,B as Xt,N as Ae,O as je,P as hg,k as bt,a as De,w as pe,l as Ct,c as Re,x as me,n as yt,G as It,Q as Gc,y as de,R as un,f as dt,g as no,t as mt,d as ro,z as ge,T as ie,H as Dn,U as Pl,V as Bh,W as Vc,X as cg,q as mn,r as vn,u as $o,Y as Jo,p as ha,Z as ll,_ as fs,e as so,$ as Oa,o as Tu,C as Qt,D as $t,E as te,F as ee,a0 as re,a1 as ua,a2 as dp,A as zh,a3 as Nt,a4 as ye,a5 as fg,a6 as pg,a7 as dg,a8 as Fh,v as Uc,a9 as mh,aa as Hc,ab as gp,ac as Ot,ad as _p}from"../../../chunks/index-fe7b48ea.js";import{w as Ci}from"../../../chunks/index-52c8aabd.js";import{s as gg,u as _g}from"../../../chunks/firebase-a8362361.js";const mg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",vg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",yg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==";var br=63710088e-1,mp={centimeters:br*100,centimetres:br*100,degrees:br/111325,feet:br*3.28084,inches:br*39.37,kilometers:br/1e3,kilometres:br/1e3,meters:br,metres:br,miles:br/1609.344,millimeters:br*1e3,millimetres:br*1e3,nauticalmiles:br/1852,radians:1,yards:br*1.0936};function Nu(r,t,e){e===void 0&&(e={});var n={type:"Feature"};return(e.id===0||e.id)&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.properties=t||{},n.geometry=r,n}function gu(r,t,e){if(e===void 0&&(e={}),!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Zc(r[0])||!Zc(r[1]))throw new Error("coordinates must contain numbers");var n={type:"Point",coordinates:r};return Nu(n,t,e)}function Lg(r,t,e){if(e===void 0&&(e={}),r.length<2)throw new Error("coordinates must be an array of two or more positions");var n={type:"LineString",coordinates:r};return Nu(n,t,e)}function vh(r,t){t===void 0&&(t={});var e={type:"FeatureCollection"};return t.id&&(e.id=t.id),t.bbox&&(e.bbox=t.bbox),e.features=r,e}function bg(r,t){t===void 0&&(t="kilometers");var e=mp[t];if(!e)throw new Error(t+" units is invalid");return r*e}function Cg(r,t){t===void 0&&(t="kilometers");var e=mp[t];if(!e)throw new Error(t+" units is invalid");return r/e}function Zc(r){return!isNaN(r)&&r!==null&&!Array.isArray(r)}function wg(r){return!!r&&r.constructor===Object}var vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$e={},Eg={get exports(){return $e},set exports(r){$e=r}};/* @preserve
 * Leaflet 1.9.3, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(r,t){(function(e,n){n(t)})(vp,function(e){var n="1.9.3";function i(a){var f,m,y,w;for(m=1,y=arguments.length;m<y;m++){w=arguments[m];for(f in w)a[f]=w[f]}return a}var o=Object.create||function(){function a(){}return function(f){return a.prototype=f,new a}}();function s(a,f){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var y=m.call(arguments,2);return function(){return a.apply(f,y.length?y.concat(m.call(arguments)):arguments)}}var u=0;function l(a){return"_leaflet_id"in a||(a._leaflet_id=++u),a._leaflet_id}function p(a,f,m){var y,w,N,X;return X=function(){y=!1,w&&(N.apply(m,w),w=!1)},N=function(){y?w=arguments:(a.apply(m,arguments),setTimeout(X,f),y=!0)},N}function g(a,f,m){var y=f[1],w=f[0],N=y-w;return a===y&&m?a:((a-w)%N+N)%N+w}function c(){return!1}function _(a,f){if(f===!1)return a;var m=Math.pow(10,f===void 0?6:f);return Math.round(a*m)/m}function C(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function M(a){return C(a).split(/\s+/)}function S(a,f){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?o(a.options):{});for(var m in f)a.options[m]=f[m];return a.options}function P(a,f,m){var y=[];for(var w in a)y.push(encodeURIComponent(m?w.toUpperCase():w)+"="+encodeURIComponent(a[w]));return(!f||f.indexOf("?")===-1?"?":"&")+y.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function D(a,f){return a.replace(k,function(m,y){var w=f[y];if(w===void 0)throw new Error("No value provided for variable "+m);return typeof w=="function"&&(w=w(f)),w})}var O=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function x(a,f){for(var m=0;m<a.length;m++)if(a[m]===f)return m;return-1}var R="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function F(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var B=0;function Z(a){var f=+new Date,m=Math.max(0,16-(f-B));return B=f+m,window.setTimeout(a,m)}var Q=window.requestAnimationFrame||F("RequestAnimationFrame")||Z,nt=window.cancelAnimationFrame||F("CancelAnimationFrame")||F("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function rt(a,f,m){if(m&&Q===Z)a.call(f);else return Q.call(window,s(a,f))}function st(a){a&&nt.call(window,a)}var _t={__proto__:null,extend:i,create:o,bind:s,get lastId(){return u},stamp:l,throttle:p,wrapNum:g,falseFn:c,formatNum:_,trim:C,splitWords:M,setOptions:S,getParamString:P,template:D,isArray:O,indexOf:x,emptyImageUrl:R,requestFn:Q,cancelFn:nt,requestAnimFrame:rt,cancelAnimFrame:st};function ut(){}ut.extend=function(a){var f=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=f.__super__=this.prototype,y=o(m);y.constructor=f,f.prototype=y;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(f[w]=this[w]);return a.statics&&i(f,a.statics),a.includes&&(gt(a.includes),i.apply(null,[y].concat(a.includes))),i(y,a),delete y.statics,delete y.includes,y.options&&(y.options=m.options?o(m.options):{},i(y.options,a.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var N=0,X=y._initHooks.length;N<X;N++)y._initHooks[N].call(this)}},f},ut.include=function(a){var f=this.prototype.options;return i(this.prototype,a),a.options&&(this.prototype.options=f,this.mergeOptions(a.options)),this},ut.mergeOptions=function(a){return i(this.prototype.options,a),this},ut.addInitHook=function(a){var f=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function gt(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=O(a)?a:[a];for(var f=0;f<a.length;f++)a[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var kt={on:function(a,f,m){if(typeof a=="object")for(var y in a)this._on(y,a[y],f);else{a=M(a);for(var w=0,N=a.length;w<N;w++)this._on(a[w],f,m)}return this},off:function(a,f,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var y in a)this._off(y,a[y],f);else{a=M(a);for(var w=arguments.length===1,N=0,X=a.length;N<X;N++)w?this._off(a[N]):this._off(a[N],f,m)}return this},_on:function(a,f,m,y){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(a,f,m)===!1){m===this&&(m=void 0);var w={fn:f,ctx:m};y&&(w.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(w)}},_off:function(a,f,m){var y,w,N;if(this._events&&(y=this._events[a],!!y)){if(arguments.length===1){if(this._firingCount)for(w=0,N=y.length;w<N;w++)y[w].fn=c;delete this._events[a];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var X=this._listens(a,f,m);if(X!==!1){var et=y[X];this._firingCount&&(et.fn=c,this._events[a]=y=y.slice()),y.splice(X,1)}}},fire:function(a,f,m){if(!this.listens(a,m))return this;var y=i({},f,{type:a,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var w=this._events[a];if(w){this._firingCount=this._firingCount+1||1;for(var N=0,X=w.length;N<X;N++){var et=w[N],ot=et.fn;et.once&&this.off(a,ot,et.ctx),ot.call(et.ctx||this,y)}this._firingCount--}}return m&&this._propagateEvent(y),this},listens:function(a,f,m,y){typeof a!="string"&&console.warn('"string" type argument expected');var w=f;typeof f!="function"&&(y=!!f,w=void 0,m=void 0);var N=this._events&&this._events[a];if(N&&N.length&&this._listens(a,w,m)!==!1)return!0;if(y){for(var X in this._eventParents)if(this._eventParents[X].listens(a,f,m,y))return!0}return!1},_listens:function(a,f,m){if(!this._events)return!1;var y=this._events[a]||[];if(!f)return!!y.length;m===this&&(m=void 0);for(var w=0,N=y.length;w<N;w++)if(y[w].fn===f&&y[w].ctx===m)return w;return!1},once:function(a,f,m){if(typeof a=="object")for(var y in a)this._on(y,a[y],f,!0);else{a=M(a);for(var w=0,N=a.length;w<N;w++)this._on(a[w],f,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[l(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[l(a)],this},_propagateEvent:function(a){for(var f in this._eventParents)this._eventParents[f].fire(a.type,i({layer:a.target,propagatedFrom:a.target},a),!0)}};kt.addEventListener=kt.on,kt.removeEventListener=kt.clearAllEventListeners=kt.off,kt.addOneTimeEventListener=kt.once,kt.fireEvent=kt.fire,kt.hasEventListeners=kt.listens;var Vt=ut.extend(kt);function at(a,f,m){this.x=m?Math.round(a):a,this.y=m?Math.round(f):f}var Ut=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};at.prototype={clone:function(){return new at(this.x,this.y)},add:function(a){return this.clone()._add(Rt(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(Rt(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new at(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new at(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ut(this.x),this.y=Ut(this.y),this},distanceTo:function(a){a=Rt(a);var f=a.x-this.x,m=a.y-this.y;return Math.sqrt(f*f+m*m)},equals:function(a){return a=Rt(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=Rt(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function Rt(a,f,m){return a instanceof at?a:O(a)?new at(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new at(a.x,a.y):new at(a,f,m)}function Tt(a,f){if(a)for(var m=f?[a,f]:a,y=0,w=m.length;y<w;y++)this.extend(m[y])}Tt.prototype={extend:function(a){var f,m;if(!a)return this;if(a instanceof at||typeof a[0]=="number"||"x"in a)f=m=Rt(a);else if(a=jt(a),f=a.min,m=a.max,!f||!m)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=m.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return Rt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return Rt(this.min.x,this.max.y)},getTopRight:function(){return Rt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var f,m;return typeof a[0]=="number"||a instanceof at?a=Rt(a):a=jt(a),a instanceof Tt?(f=a.min,m=a.max):f=m=a,f.x>=this.min.x&&m.x<=this.max.x&&f.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=jt(a);var f=this.min,m=this.max,y=a.min,w=a.max,N=w.x>=f.x&&y.x<=m.x,X=w.y>=f.y&&y.y<=m.y;return N&&X},overlaps:function(a){a=jt(a);var f=this.min,m=this.max,y=a.min,w=a.max,N=w.x>f.x&&y.x<m.x,X=w.y>f.y&&y.y<m.y;return N&&X},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var f=this.min,m=this.max,y=Math.abs(f.x-m.x)*a,w=Math.abs(f.y-m.y)*a;return jt(Rt(f.x-y,f.y-w),Rt(m.x+y,m.y+w))},equals:function(a){return a?(a=jt(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function jt(a,f){return!a||a instanceof Tt?a:new Tt(a,f)}function Be(a,f){if(a)for(var m=f?[a,f]:a,y=0,w=m.length;y<w;y++)this.extend(m[y])}Be.prototype={extend:function(a){var f=this._southWest,m=this._northEast,y,w;if(a instanceof le)y=a,w=a;else if(a instanceof Be){if(y=a._southWest,w=a._northEast,!y||!w)return this}else return a?this.extend(Le(a)||Fe(a)):this;return!f&&!m?(this._southWest=new le(y.lat,y.lng),this._northEast=new le(w.lat,w.lng)):(f.lat=Math.min(y.lat,f.lat),f.lng=Math.min(y.lng,f.lng),m.lat=Math.max(w.lat,m.lat),m.lng=Math.max(w.lng,m.lng)),this},pad:function(a){var f=this._southWest,m=this._northEast,y=Math.abs(f.lat-m.lat)*a,w=Math.abs(f.lng-m.lng)*a;return new Be(new le(f.lat-y,f.lng-w),new le(m.lat+y,m.lng+w))},getCenter:function(){return new le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new le(this.getNorth(),this.getWest())},getSouthEast:function(){return new le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof le||"lat"in a?a=Le(a):a=Fe(a);var f=this._southWest,m=this._northEast,y,w;return a instanceof Be?(y=a.getSouthWest(),w=a.getNorthEast()):y=w=a,y.lat>=f.lat&&w.lat<=m.lat&&y.lng>=f.lng&&w.lng<=m.lng},intersects:function(a){a=Fe(a);var f=this._southWest,m=this._northEast,y=a.getSouthWest(),w=a.getNorthEast(),N=w.lat>=f.lat&&y.lat<=m.lat,X=w.lng>=f.lng&&y.lng<=m.lng;return N&&X},overlaps:function(a){a=Fe(a);var f=this._southWest,m=this._northEast,y=a.getSouthWest(),w=a.getNorthEast(),N=w.lat>f.lat&&y.lat<m.lat,X=w.lng>f.lng&&y.lng<m.lng;return N&&X},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,f){return a?(a=Fe(a),this._southWest.equals(a.getSouthWest(),f)&&this._northEast.equals(a.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Fe(a,f){return a instanceof Be?a:new Be(a,f)}function le(a,f,m){if(isNaN(a)||isNaN(f))throw new Error("Invalid LatLng object: ("+a+", "+f+")");this.lat=+a,this.lng=+f,m!==void 0&&(this.alt=+m)}le.prototype={equals:function(a,f){if(!a)return!1;a=Le(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(f===void 0?1e-9:f)},toString:function(a){return"LatLng("+_(this.lat,a)+", "+_(this.lng,a)+")"},distanceTo:function(a){return Mn.distance(this,Le(a))},wrap:function(){return Mn.wrapLatLng(this)},toBounds:function(a){var f=180*a/40075017,m=f/Math.cos(Math.PI/180*this.lat);return Fe([this.lat-f,this.lng-m],[this.lat+f,this.lng+m])},clone:function(){return new le(this.lat,this.lng,this.alt)}};function Le(a,f,m){return a instanceof le?a:O(a)&&typeof a[0]!="object"?a.length===3?new le(a[0],a[1],a[2]):a.length===2?new le(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new le(a.lat,"lng"in a?a.lng:a.lon,a.alt):f===void 0?null:new le(a,f,m)}var pr={latLngToPoint:function(a,f){var m=this.projection.project(a),y=this.scale(f);return this.transformation._transform(m,y)},pointToLatLng:function(a,f){var m=this.scale(f),y=this.transformation.untransform(a,m);return this.projection.unproject(y)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var f=this.projection.bounds,m=this.scale(a),y=this.transformation.transform(f.min,m),w=this.transformation.transform(f.max,m);return new Tt(y,w)},infinite:!1,wrapLatLng:function(a){var f=this.wrapLng?g(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?g(a.lat,this.wrapLat,!0):a.lat,y=a.alt;return new le(m,f,y)},wrapLatLngBounds:function(a){var f=a.getCenter(),m=this.wrapLatLng(f),y=f.lat-m.lat,w=f.lng-m.lng;if(y===0&&w===0)return a;var N=a.getSouthWest(),X=a.getNorthEast(),et=new le(N.lat-y,N.lng-w),ot=new le(X.lat-y,X.lng-w);return new Be(et,ot)}},Mn=i({},pr,{wrapLng:[-180,180],R:6371e3,distance:function(a,f){var m=Math.PI/180,y=a.lat*m,w=f.lat*m,N=Math.sin((f.lat-a.lat)*m/2),X=Math.sin((f.lng-a.lng)*m/2),et=N*N+Math.cos(y)*Math.cos(w)*X*X,ot=2*Math.atan2(Math.sqrt(et),Math.sqrt(1-et));return this.R*ot}}),Hi=6378137,kr={R:Hi,MAX_LATITUDE:85.0511287798,project:function(a){var f=Math.PI/180,m=this.MAX_LATITUDE,y=Math.max(Math.min(m,a.lat),-m),w=Math.sin(y*f);return new at(this.R*a.lng*f,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(a){var f=180/Math.PI;return new le((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*f,a.x*f/this.R)},bounds:function(){var a=Hi*Math.PI;return new Tt([-a,-a],[a,a])}()};function _o(a,f,m,y){if(O(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=f,this._c=m,this._d=y}_o.prototype={transform:function(a,f){return this._transform(a.clone(),f)},_transform:function(a,f){return f=f||1,a.x=f*(this._a*a.x+this._b),a.y=f*(this._c*a.y+this._d),a},untransform:function(a,f){return f=f||1,new at((a.x/f-this._b)/this._a,(a.y/f-this._d)/this._c)}};function $r(a,f,m,y){return new _o(a,f,m,y)}var Zi=i({},Mn,{code:"EPSG:3857",projection:kr,transformation:function(){var a=.5/(Math.PI*kr.R);return $r(a,.5,-a,.5)}()}),Xn=i({},Zi,{code:"EPSG:900913"});function Go(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function ji(a,f){var m="",y,w,N,X,et,ot;for(y=0,N=a.length;y<N;y++){for(et=a[y],w=0,X=et.length;w<X;w++)ot=et[w],m+=(w?"L":"M")+ot.x+" "+ot.y;m+=f?Ft.svg?"z":"x":""}return m||"M0 0"}var mo=document.documentElement.style,Mi="ActiveXObject"in window,j=Mi&&!document.addEventListener,I="msLaunchUri"in navigator&&!("documentMode"in document),T=xr("webkit"),z=xr("android"),q=xr("android 2")||xr("android 3"),W=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ct=z&&xr("Google")&&W<537&&!("AudioNode"in window),ft=!!window.opera,St=!I&&xr("chrome"),K=xr("gecko")&&!T&&!ft&&!Mi,ue=!St&&xr("safari"),Pe=xr("phantom"),be="OTransition"in mo,Je=navigator.platform.indexOf("Win")===0,he=Mi&&"transition"in mo,Xe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!q,gn="MozPerspective"in mo,Vn=!window.L_DISABLE_3D&&(he||Xe||gn)&&!be&&!Pe,Pn=typeof orientation<"u"||xr("mobile"),or=Pn&&T,sr=Pn&&Xe,ti=!window.PointerEvent&&window.MSPointerEvent,Gr=!!(window.PointerEvent||ti),dr="ontouchstart"in window||!!window.TouchEvent,Vr=!window.L_NO_TOUCH&&(dr||Gr),Pi=Pn&&ft,vo=Pn&&K,ar=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Un=function(){var a=!1;try{var f=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",c,f),window.removeEventListener("testPassiveEventSupport",c,f)}catch{}return a}(),qi=function(){return!!document.createElement("canvas").getContext}(),Xs=!!(document.createElementNS&&Go("svg").createSVGRect),Fa=!!Xs&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),_s=!Xs&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var f=a.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}}(),Xu=navigator.platform.indexOf("Mac")===0,Ga=navigator.platform.indexOf("Linux")===0;function xr(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Ft={ie:Mi,ielt9:j,edge:I,webkit:T,android:z,android23:q,androidStock:ct,opera:ft,chrome:St,gecko:K,safari:ue,phantom:Pe,opera12:be,win:Je,ie3d:he,webkit3d:Xe,gecko3d:gn,any3d:Vn,mobile:Pn,mobileWebkit:or,mobileWebkit3d:sr,msPointer:ti,pointer:Gr,touch:Vr,touchNative:dr,mobileOpera:Pi,mobileGecko:vo,retina:ar,passiveEvents:Un,canvas:qi,svg:Xs,vml:_s,inlineSvg:Fa,mac:Xu,linux:Ga},Va=Ft.msPointer?"MSPointerDown":"pointerdown",Xi=Ft.msPointer?"MSPointerMove":"pointermove",Yi=Ft.msPointer?"MSPointerUp":"pointerup",Dl=Ft.msPointer?"MSPointerCancel":"pointercancel",ms={touchstart:Va,touchmove:Xi,touchend:Yi,touchcancel:Dl},Vo={touchstart:Ws,touchmove:Ys,touchend:Ys,touchcancel:Ys},Uo={},Ua=!1;function Rl(a,f,m){return f==="touchstart"&&ja(),Vo[f]?(m=Vo[f].bind(this,m),a.addEventListener(ms[f],m,!1),m):(console.warn("wrong event specified:",f),c)}function Yu(a,f,m){if(!ms[f]){console.warn("wrong event specified:",f);return}a.removeEventListener(ms[f],m,!1)}function Al(a){Uo[a.pointerId]=a}function Ha(a){Uo[a.pointerId]&&(Uo[a.pointerId]=a)}function Za(a){delete Uo[a.pointerId]}function ja(){Ua||(document.addEventListener(Va,Al,!0),document.addEventListener(Xi,Ha,!0),document.addEventListener(Yi,Za,!0),document.addEventListener(Dl,Za,!0),Ua=!0)}function Ys(a,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var m in Uo)f.touches.push(Uo[m]);f.changedTouches=[f],a(f)}}function Ws(a,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&H(f),Ys(a,f)}function Bl(a){var f={},m,y;for(y in a)m=a[y],f[y]=m&&m.bind?m.bind(a):m;return a=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var Wu=200;function vs(a,f){a.addEventListener("dblclick",f);var m=0,y;function w(N){if(N.detail!==1){y=N.detail;return}if(!(N.pointerType==="mouse"||N.sourceCapabilities&&!N.sourceCapabilities.firesTouchEvents)){var X=ht(N);if(!(X.some(function(ot){return ot instanceof HTMLLabelElement&&ot.attributes.for})&&!X.some(function(ot){return ot instanceof HTMLInputElement||ot instanceof HTMLSelectElement}))){var et=Date.now();et-m<=Wu?(y++,y===2&&f(Bl(N))):y=1,m=et}}}return a.addEventListener("click",w),{dblclick:f,simDblclick:w}}function Ku(a,f){a.removeEventListener("dblclick",f.dblclick),a.removeEventListener("click",f.simDblclick)}var Ks=Qs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),yo=Qs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zl=yo==="webkitTransition"||yo==="OTransition"?yo+"End":"transitionend";function Fl(a){return typeof a=="string"?document.getElementById(a):a}function Ho(a,f){var m=a.style[f]||a.currentStyle&&a.currentStyle[f];if((!m||m==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(a,null);m=y?y[f]:null}return m==="auto"?null:m}function Se(a,f,m){var y=document.createElement(a);return y.className=f||"",m&&m.appendChild(y),y}function Ye(a){var f=a.parentNode;f&&f.removeChild(a)}function ys(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Lo(a){var f=a.parentNode;f&&f.lastChild!==a&&f.appendChild(a)}function bo(a){var f=a.parentNode;f&&f.firstChild!==a&&f.insertBefore(a,f.firstChild)}function Js(a,f){if(a.classList!==void 0)return a.classList.contains(f);var m=Ls(a);return m.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(m)}function ce(a,f){if(a.classList!==void 0)for(var m=M(f),y=0,w=m.length;y<w;y++)a.classList.add(m[y]);else if(!Js(a,f)){var N=Ls(a);qa(a,(N?N+" ":"")+f)}}function _n(a,f){a.classList!==void 0?a.classList.remove(f):qa(a,C((" "+Ls(a)+" ").replace(" "+f+" "," ")))}function qa(a,f){a.className.baseVal===void 0?a.className=f:a.className.baseVal=f}function Ls(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Tr(a,f){"opacity"in a.style?a.style.opacity=f:"filter"in a.style&&Xa(a,f)}function Xa(a,f){var m=!1,y="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(y)}catch{if(f===1)return}f=Math.round(f*100),m?(m.Enabled=f!==100,m.Opacity=f):a.style.filter+=" progid:"+y+"(opacity="+f+")"}function Qs(a){for(var f=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in f)return a[m];return!1}function Wi(a,f,m){var y=f||new at(0,0);a.style[Ks]=(Ft.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(m?" scale("+m+")":"")}function Qe(a,f){a._leaflet_pos=f,Ft.any3d?Wi(a,f):(a.style.left=f.x+"px",a.style.top=f.y+"px")}function ei(a){return a._leaflet_pos||new at(0,0)}var bs,Cs,En;if("onselectstart"in document)bs=function(){oe(window,"selectstart",H)},Cs=function(){d(window,"selectstart",H)};else{var Ki=Qs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);bs=function(){if(Ki){var a=document.documentElement.style;En=a[Ki],a[Ki]="none"}},Cs=function(){Ki&&(document.documentElement.style[Ki]=En,En=void 0)}}function ws(){oe(window,"dragstart",H)}function Ya(){d(window,"dragstart",H)}var $s,ta;function Wa(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Zo(),$s=a,ta=a.style.outline,a.style.outline="none",oe(window,"keydown",Zo))}function Zo(){$s&&($s.style.outline=ta,$s=void 0,ta=void 0,d(window,"keydown",Zo))}function ea(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Ka(a){var f=a.getBoundingClientRect();return{x:f.width/a.offsetWidth||1,y:f.height/a.offsetHeight||1,boundingClientRect:f}}var Ju={__proto__:null,TRANSFORM:Ks,TRANSITION:yo,TRANSITION_END:zl,get:Fl,getStyle:Ho,create:Se,remove:Ye,empty:ys,toFront:Lo,toBack:bo,hasClass:Js,addClass:ce,removeClass:_n,setClass:qa,getClass:Ls,setOpacity:Tr,testProp:Qs,setTransform:Wi,setPosition:Qe,getPosition:ei,get disableTextSelection(){return bs},get enableTextSelection(){return Cs},disableImageDrag:ws,enableImageDrag:Ya,preventOutline:Wa,restoreOutline:Zo,getSizedParentNode:ea,getScale:Ka};function oe(a,f,m,y){if(f&&typeof f=="object")for(var w in f)E(a,w,f[w],m);else{f=M(f);for(var N=0,X=f.length;N<X;N++)E(a,f[N],m,y)}return this}var h="_leaflet_events";function d(a,f,m,y){if(arguments.length===1)v(a),delete a[h];else if(f&&typeof f=="object")for(var w in f)A(a,w,f[w],m);else if(f=M(f),arguments.length===2)v(a,function(et){return x(f,et)!==-1});else for(var N=0,X=f.length;N<X;N++)A(a,f[N],m,y);return this}function v(a,f){for(var m in a[h]){var y=m.split(/\d/)[0];(!f||f(y))&&A(a,y,null,null,m)}}var b={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function E(a,f,m,y){var w=f+l(m)+(y?"_"+l(y):"");if(a[h]&&a[h][w])return this;var N=function(et){return m.call(y||a,et||window.event)},X=N;!Ft.touchNative&&Ft.pointer&&f.indexOf("touch")===0?N=Rl(a,f,N):Ft.touch&&f==="dblclick"?N=vs(a,N):"addEventListener"in a?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?a.addEventListener(b[f]||f,N,Ft.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(N=function(et){et=et||window.event,Wt(a,et)&&X(et)},a.addEventListener(b[f],N,!1)):a.addEventListener(f,X,!1):a.attachEvent("on"+f,N),a[h]=a[h]||{},a[h][w]=N}function A(a,f,m,y,w){w=w||f+l(m)+(y?"_"+l(y):"");var N=a[h]&&a[h][w];if(!N)return this;!Ft.touchNative&&Ft.pointer&&f.indexOf("touch")===0?Yu(a,f,N):Ft.touch&&f==="dblclick"?Ku(a,N):"removeEventListener"in a?a.removeEventListener(b[f]||f,N,!1):a.detachEvent("on"+f,N),a[h][w]=null}function G(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function U(a){return E(a,"wheel",G),this}function V(a){return oe(a,"mousedown touchstart dblclick contextmenu",G),a._leaflet_disable_click=!0,this}function H(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function $(a){return H(a),G(a),this}function ht(a){if(a.composedPath)return a.composedPath();for(var f=[],m=a.target;m;)f.push(m),m=m.parentNode;return f}function lt(a,f){if(!f)return new at(a.clientX,a.clientY);var m=Ka(f),y=m.boundingClientRect;return new at((a.clientX-y.left)/m.x-f.clientLeft,(a.clientY-y.top)/m.y-f.clientTop)}var Et=Ft.linux&&Ft.chrome?window.devicePixelRatio:Ft.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Dt(a){return Ft.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Et:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Wt(a,f){var m=f.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var fe={__proto__:null,on:oe,off:d,stopPropagation:G,disableScrollPropagation:U,disableClickPropagation:V,preventDefault:H,stop:$,getPropagationPath:ht,getMousePosition:lt,getWheelDelta:Dt,isExternalTarget:Wt,addListener:oe,removeListener:d},He=Vt.extend({run:function(a,f,m,y){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=ei(a),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=rt(this._animate,this),this._step()},_step:function(a){var f=+new Date-this._startTime,m=this._duration*1e3;f<m?this._runFrame(this._easeOut(f/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,f){var m=this._startPos.add(this._offset.multiplyBy(a));f&&m._round(),Qe(this._el,m),this.fire("step")},_complete:function(){st(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Zt=Vt.extend({options:{crs:Zi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,f){f=S(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(Le(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=yo&&Ft.any3d&&!Ft.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),oe(this._proxy,zl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,f,m){if(f=f===void 0?this._zoom:this._limitZoom(f),a=this._limitCenter(Le(a),f,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=i({animate:m.animate},m.zoom),m.pan=i({animate:m.animate,duration:m.duration},m.pan));var y=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,f,m.zoom):this._tryAnimatedPan(a,m.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(a,f,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,f){return this._loaded?this.setView(this.getCenter(),a,{zoom:f}):(this._zoom=a,this)},zoomIn:function(a,f){return a=a||(Ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,f)},zoomOut:function(a,f){return a=a||(Ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,f)},setZoomAround:function(a,f,m){var y=this.getZoomScale(f),w=this.getSize().divideBy(2),N=a instanceof at?a:this.latLngToContainerPoint(a),X=N.subtract(w).multiplyBy(1-1/y),et=this.containerPointToLatLng(w.add(X));return this.setView(et,f,{zoom:m})},_getBoundsCenterZoom:function(a,f){f=f||{},a=a.getBounds?a.getBounds():Fe(a);var m=Rt(f.paddingTopLeft||f.padding||[0,0]),y=Rt(f.paddingBottomRight||f.padding||[0,0]),w=this.getBoundsZoom(a,!1,m.add(y));if(w=typeof f.maxZoom=="number"?Math.min(f.maxZoom,w):w,w===1/0)return{center:a.getCenter(),zoom:w};var N=y.subtract(m).divideBy(2),X=this.project(a.getSouthWest(),w),et=this.project(a.getNorthEast(),w),ot=this.unproject(X.add(et).divideBy(2).add(N),w);return{center:ot,zoom:w}},fitBounds:function(a,f){if(a=Fe(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,f);return this.setView(m.center,m.zoom,f)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,f){return this.setView(a,this._zoom,{pan:f})},panBy:function(a,f){if(a=Rt(a).round(),f=f||{},!a.x&&!a.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new He,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){ce(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,f.duration||.25,f.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,f,m){if(m=m||{},m.animate===!1||!Ft.any3d)return this.setView(a,f,m);this._stop();var y=this.project(this.getCenter()),w=this.project(a),N=this.getSize(),X=this._zoom;a=Le(a),f=f===void 0?X:f;var et=Math.max(N.x,N.y),ot=et*this.getZoomScale(X,f),vt=w.distanceTo(y)||1,At=1.42,ne=At*At;function Ne(Nn){var tu=Nn?-1:1,sg=Nn?ot:et,ag=ot*ot-et*et+tu*ne*ne*vt*vt,lg=2*sg*ne*vt,lh=ag/lg,Fc=Math.sqrt(lh*lh+1)-lh,ug=Fc<1e-9?-18:Math.log(Fc);return ug}function ii(Nn){return(Math.exp(Nn)-Math.exp(-Nn))/2}function Ss(Nn){return(Math.exp(Nn)+Math.exp(-Nn))/2}function $l(Nn){return ii(Nn)/Ss(Nn)}var Xo=Ne(0);function ah(Nn){return et*(Ss(Xo)/Ss(Xo+At*Nn))}function ng(Nn){return et*(Ss(Xo)*$l(Xo+At*Nn)-ii(Xo))/ne}function rg(Nn){return 1-Math.pow(1-Nn,1.5)}var ig=Date.now(),Bc=(Ne(1)-Xo)/At,og=m.duration?1e3*m.duration:1e3*Bc*.8;function zc(){var Nn=(Date.now()-ig)/og,tu=rg(Nn)*Bc;Nn<=1?(this._flyToFrame=rt(zc,this),this._move(this.unproject(y.add(w.subtract(y).multiplyBy(ng(tu)/vt)),X),this.getScaleZoom(et/ah(tu),X),{flyTo:!0})):this._move(a,f)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),zc.call(this),this},flyToBounds:function(a,f){var m=this._getBoundsCenterZoom(a,f);return this.flyTo(m.center,m.zoom,f)},setMaxBounds:function(a){return a=Fe(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var f=this.options.minZoom;return this.options.minZoom=a,this._loaded&&f!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var f=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&f!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,f){this._enforcingBounds=!0;var m=this.getCenter(),y=this._limitCenter(m,this._zoom,Fe(a));return m.equals(y)||this.panTo(y,f),this._enforcingBounds=!1,this},panInside:function(a,f){f=f||{};var m=Rt(f.paddingTopLeft||f.padding||[0,0]),y=Rt(f.paddingBottomRight||f.padding||[0,0]),w=this.project(this.getCenter()),N=this.project(a),X=this.getPixelBounds(),et=jt([X.min.add(m),X.max.subtract(y)]),ot=et.getSize();if(!et.contains(N)){this._enforcingBounds=!0;var vt=N.subtract(et.getCenter()),At=et.extend(N).getSize().subtract(ot);w.x+=vt.x<0?-At.x:At.x,w.y+=vt.y<0?-At.y:At.y,this.panTo(this.unproject(w),f),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=i({animate:!1,pan:!0},a===!0?{animate:!0}:a);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),y=f.divideBy(2).round(),w=m.divideBy(2).round(),N=y.subtract(w);return!N.x&&!N.y?this:(a.animate&&a.pan?this.panBy(N):(a.pan&&this._rawPanBy(N),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=i({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=s(this._handleGeolocationResponse,this),m=s(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,m,a):navigator.geolocation.getCurrentPosition(f,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var f=a.code,m=a.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var f=a.coords.latitude,m=a.coords.longitude,y=new le(f,m),w=y.toBounds(a.coords.accuracy*2),N=this._locateOptions;if(N.setView){var X=this.getBoundsZoom(w);this.setView(y,N.maxZoom?Math.min(X,N.maxZoom):X)}var et={latlng:y,bounds:w,timestamp:a.timestamp};for(var ot in a.coords)typeof a.coords[ot]=="number"&&(et[ot]=a.coords[ot]);this.fire("locationfound",et)}},addHandler:function(a,f){if(!f)return this;var m=this[a]=new f(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ye(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(st(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)Ye(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,f){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),y=Se("div",m,f||this._mapPane);return a&&(this._panes[a]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),f=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new Be(f,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,f,m){a=Fe(a),m=Rt(m||[0,0]);var y=this.getZoom()||0,w=this.getMinZoom(),N=this.getMaxZoom(),X=a.getNorthWest(),et=a.getSouthEast(),ot=this.getSize().subtract(m),vt=jt(this.project(et,y),this.project(X,y)).getSize(),At=Ft.any3d?this.options.zoomSnap:1,ne=ot.x/vt.x,Ne=ot.y/vt.y,ii=f?Math.max(ne,Ne):Math.min(ne,Ne);return y=this.getScaleZoom(ii,y),At&&(y=Math.round(y/(At/100))*(At/100),y=f?Math.ceil(y/At)*At:Math.floor(y/At)*At),Math.max(w,Math.min(N,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new at(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,f){var m=this._getTopLeftPoint(a,f);return new Tt(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,f){var m=this.options.crs;return f=f===void 0?this._zoom:f,m.scale(a)/m.scale(f)},getScaleZoom:function(a,f){var m=this.options.crs;f=f===void 0?this._zoom:f;var y=m.zoom(a*m.scale(f));return isNaN(y)?1/0:y},project:function(a,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(Le(a),f)},unproject:function(a,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(Rt(a),f)},layerPointToLatLng:function(a){var f=Rt(a).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(a){var f=this.project(Le(a))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Le(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(Fe(a))},distance:function(a,f){return this.options.crs.distance(Le(a),Le(f))},containerPointToLayerPoint:function(a){return Rt(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return Rt(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var f=this.containerPointToLayerPoint(Rt(a));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Le(a)))},mouseEventToContainerPoint:function(a){return lt(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var f=this._container=Fl(a);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");oe(f,"scroll",this._onScroll,this),this._containerId=l(f)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ft.any3d,ce(a,"leaflet-container"+(Ft.touch?" leaflet-touch":"")+(Ft.retina?" leaflet-retina":"")+(Ft.ielt9?" leaflet-oldie":"")+(Ft.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=Ho(a,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Qe(this._mapPane,new at(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ce(a.markerPane,"leaflet-zoom-hide"),ce(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,f,m){Qe(this._mapPane,new at(0,0));var y=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var w=this._zoom!==f;this._moveStart(w,m)._move(a,f)._moveEnd(w),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(a,f){return a&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(a,f,m,y){f===void 0&&(f=this._zoom);var w=this._zoom!==f;return this._zoom=f,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),y?m&&m.pinch&&this.fire("zoom",m):((w||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return st(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Qe(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[l(this._container)]=this;var f=a?d:oe;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),Ft.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){st(this._resizeRequest),this._resizeRequest=rt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,f){for(var m=[],y,w=f==="mouseout"||f==="mouseover",N=a.target||a.srcElement,X=!1;N;){if(y=this._targets[l(N)],y&&(f==="click"||f==="preclick")&&this._draggableMoved(y)){X=!0;break}if(y&&y.listens(f,!0)&&(w&&!Wt(N,a)||(m.push(y),w))||N===this._container)break;N=N.parentNode}return!m.length&&!X&&!w&&this.listens(f,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var f=a.target||a.srcElement;if(!(!this._loaded||f._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(f))){var m=a.type;m==="mousedown"&&Wa(f),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,f,m){if(a.type==="click"){var y=i({},a);y.type="preclick",this._fireDOMEvent(y,y.type,m)}var w=this._findEventTargets(a,f);if(m){for(var N=[],X=0;X<m.length;X++)m[X].listens(f,!0)&&N.push(m[X]);w=N.concat(w)}if(w.length){f==="contextmenu"&&H(a);var et=w[0],ot={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var vt=et.getLatLng&&(!et._radius||et._radius<=10);ot.containerPoint=vt?this.latLngToContainerPoint(et.getLatLng()):this.mouseEventToContainerPoint(a),ot.layerPoint=this.containerPointToLayerPoint(ot.containerPoint),ot.latlng=vt?et.getLatLng():this.layerPointToLatLng(ot.layerPoint)}for(X=0;X<w.length;X++)if(w[X].fire(f,ot,!0),ot.originalEvent._stopped||w[X].options.bubblingMouseEvents===!1&&x(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,f=this._handlers.length;a<f;a++)this._handlers[a].disable()},whenReady:function(a,f){return this._loaded?a.call(f||this,{target:this}):this.on("load",a,f),this},_getMapPanePos:function(){return ei(this._mapPane)||new at(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,f){var m=a&&f!==void 0?this._getNewPixelOrigin(a,f):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,f){var m=this.getSize()._divideBy(2);return this.project(a,f)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,f,m){var y=this._getNewPixelOrigin(m,f);return this.project(a,f)._subtract(y)},_latLngBoundsToNewLayerBounds:function(a,f,m){var y=this._getNewPixelOrigin(m,f);return jt([this.project(a.getSouthWest(),f)._subtract(y),this.project(a.getNorthWest(),f)._subtract(y),this.project(a.getSouthEast(),f)._subtract(y),this.project(a.getNorthEast(),f)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,f,m){if(!m)return a;var y=this.project(a,f),w=this.getSize().divideBy(2),N=new Tt(y.subtract(w),y.add(w)),X=this._getBoundsOffset(N,m,f);return Math.abs(X.x)<=1&&Math.abs(X.y)<=1?a:this.unproject(y.add(X),f)},_limitOffset:function(a,f){if(!f)return a;var m=this.getPixelBounds(),y=new Tt(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(y,f))},_getBoundsOffset:function(a,f,m){var y=jt(this.project(f.getNorthEast(),m),this.project(f.getSouthWest(),m)),w=y.min.subtract(a.min),N=y.max.subtract(a.max),X=this._rebound(w.x,-N.x),et=this._rebound(w.y,-N.y);return new at(X,et)},_rebound:function(a,f){return a+f>0?Math.round(a-f)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(f))},_limitZoom:function(a){var f=this.getMinZoom(),m=this.getMaxZoom(),y=Ft.any3d?this.options.zoomSnap:1;return y&&(a=Math.round(a/y)*y),Math.max(f,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_n(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,f){var m=this._getCenterOffset(a)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,f),!0)},_createAnimProxy:function(){var a=this._proxy=Se("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(f){var m=Ks,y=this._proxy.style[m];Wi(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),y===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ye(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),f=this.getZoom();Wi(this._proxy,this.project(a,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,f,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(f),w=this._getCenterOffset(a)._divideBy(1-1/y);return m.animate!==!0&&!this.getSize().contains(w)?!1:(rt(function(){this._moveStart(!0,!1)._animateZoom(a,f,!0)},this),!0)},_animateZoom:function(a,f,m,y){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=f,ce(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:f,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_n(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ze(a,f){return new Zt(a,f)}var We=ut.extend({options:{position:"topright"},initialize:function(a){S(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var f=this._map;return f&&f.removeControl(this),this.options.position=a,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var f=this._container=this.onAdd(a),m=this.getPosition(),y=a._controlCorners[m];return ce(f,"leaflet-control"),m.indexOf("bottom")!==-1?y.insertBefore(f,y.firstChild):y.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ye(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Yn=function(a){return new We(a)};Zt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},f="leaflet-",m=this._controlContainer=Se("div",f+"control-container",this._container);function y(w,N){var X=f+w+" "+f+N;a[w+N]=Se("div",X,m)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Ye(this._controlCorners[a]);Ye(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Si=We.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,f,m,y){return m<y?-1:y<m?1:0}},initialize:function(a,f,m){S(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var y in a)this._addLayer(a[y],y);for(y in f)this._addLayer(f[y],y,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return We.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,f){return this._addLayer(a,f),this._map?this._update():this},addOverlay:function(a,f){return this._addLayer(a,f,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var f=this._getLayer(l(a));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){ce(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(ce(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):_n(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _n(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",f=this._container=Se("div",a),m=this.options.collapsed;f.setAttribute("aria-haspopup",!0),V(f),U(f);var y=this._section=Se("section",a+"-list");m&&(this._map.on("click",this.collapse,this),oe(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=Se("a",a+"-toggle",f);w.href="#",w.title="Layers",w.setAttribute("role","button"),oe(w,{keydown:function(N){N.keyCode===13&&this._expandSafely()},click:function(N){H(N),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Se("div",a+"-base",y),this._separator=Se("div",a+"-separator",y),this._overlaysList=Se("div",a+"-overlays",y),f.appendChild(y)},_getLayer:function(a){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&l(this._layers[f].layer)===a)return this._layers[f]},_addLayer:function(a,f,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:f,overlay:m}),this.options.sortLayers&&this._layers.sort(s(function(y,w){return this.options.sortFunction(y.layer,w.layer,y.name,w.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ys(this._baseLayersList),ys(this._overlaysList),this._layerControlInputs=[];var a,f,m,y,w=0;for(m=0;m<this._layers.length;m++)y=this._layers[m],this._addItem(y),f=f||y.overlay,a=a||!y.overlay,w+=y.overlay?0:1;return this.options.hideSingleBase&&(a=a&&w>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=f&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var f=this._getLayer(l(a.target)),m=f.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,f)},_createRadioElement:function(a,f){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(f?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=m,y.firstChild},_addItem:function(a){var f=document.createElement("label"),m=this._map.hasLayer(a.layer),y;a.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=m):y=this._createRadioElement("leaflet-base-layers_"+l(this),m),this._layerControlInputs.push(y),y.layerId=l(a.layer),oe(y,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+a.name;var N=document.createElement("span");f.appendChild(N),N.appendChild(y),N.appendChild(w);var X=a.overlay?this._overlaysList:this._baseLayersList;return X.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){var a=this._layerControlInputs,f,m,y=[],w=[];this._handlingClick=!0;for(var N=a.length-1;N>=0;N--)f=a[N],m=this._getLayer(f.layerId).layer,f.checked?y.push(m):f.checked||w.push(m);for(N=0;N<w.length;N++)this._map.hasLayer(w[N])&&this._map.removeLayer(w[N]);for(N=0;N<y.length;N++)this._map.hasLayer(y[N])||this._map.addLayer(y[N]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,f,m,y=this._map.getZoom(),w=a.length-1;w>=0;w--)f=a[w],m=this._getLayer(f.layerId).layer,f.disabled=m.options.minZoom!==void 0&&y<m.options.minZoom||m.options.maxZoom!==void 0&&y>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;oe(a,"click",H),this.expand(),setTimeout(function(){d(a,"click",H)})}}),Gl=function(a,f,m){return new Si(a,f,m)},Es=We.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var f="leaflet-control-zoom",m=Se("div",f+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,f+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,f+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,f,m,y,w){var N=Se("a",m,y);return N.innerHTML=a,N.href="#",N.title=f,N.setAttribute("role","button"),N.setAttribute("aria-label",f),V(N),oe(N,"click",$),oe(N,"click",w,this),oe(N,"click",this._refocusOnMap,this),N},_updateDisabled:function(){var a=this._map,f="leaflet-disabled";_n(this._zoomInButton,f),_n(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(ce(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(ce(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});Zt.mergeOptions({zoomControl:!0}),Zt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Es,this.addControl(this.zoomControl))});var Co=function(a){return new Es(a)},Ja=We.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var f="leaflet-control-scale",m=Se("div",f),y=this.options;return this._addScales(y,f+"-line",m),a.on(y.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,f,m){a.metric&&(this._mScale=Se("div",f,m)),a.imperial&&(this._iScale=Se("div",f,m))},_update:function(){var a=this._map,f=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,f]),a.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var f=this._getRoundNum(a),m=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,m,f/a)},_updateImperial:function(a){var f=a*3.2808399,m,y,w;f>5280?(m=f/5280,y=this._getRoundNum(m),this._updateScale(this._iScale,y+" mi",y/m)):(w=this._getRoundNum(f),this._updateScale(this._iScale,w+" ft",w/f))},_updateScale:function(a,f,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=f},_getRoundNum:function(a){var f=Math.pow(10,(Math.floor(a)+"").length-1),m=a/f;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,f*m}}),Vl=function(a){return new Ja(a)},Qu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ms=We.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ft.inlineSvg?Qu+" ":"")+"Leaflet</a>"},initialize:function(a){S(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Se("div","leaflet-control-attribution"),V(this._container);for(var f in a._layers)a._layers[f].getAttribution&&this.addAttribution(a._layers[f].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var f in this._attributions)this._attributions[f]&&a.push(f);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Zt.mergeOptions({attributionControl:!0}),Zt.addInitHook(function(){this.options.attributionControl&&new Ms().addTo(this)});var $u=function(a){return new Ms(a)};We.Layers=Si,We.Zoom=Es,We.Scale=Ja,We.Attribution=Ms,Yn.layers=Gl,Yn.zoom=Co,Yn.scale=Vl,Yn.attribution=$u;var ni=ut.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ni.addTo=function(a,f){return a.addHandler(f,this),this};var Md={Events:kt},lc=Ft.touch?"touchstart mousedown":"mousedown",jo=Vt.extend({options:{clickTolerance:3},initialize:function(a,f,m,y){S(this,y),this._element=a,this._dragStartTarget=f||a,this._preventOutline=m},enable:function(){this._enabled||(oe(this._dragStartTarget,lc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(jo._dragging===this&&this.finishDrag(!0),d(this._dragStartTarget,lc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Js(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){jo._dragging===this&&this.finishDrag();return}if(!(jo._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(jo._dragging=this,this._preventOutline&&Wa(this._element),ws(),bs(),!this._moving)){this.fire("down");var f=a.touches?a.touches[0]:a,m=ea(this._element);this._startPoint=new at(f.clientX,f.clientY),this._startPos=ei(this._element),this._parentScale=Ka(m);var y=a.type==="mousedown";oe(document,y?"mousemove":"touchmove",this._onMove,this),oe(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var f=a.touches&&a.touches.length===1?a.touches[0]:a,m=new at(f.clientX,f.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,H(a),this._moved||(this.fire("dragstart"),this._moved=!0,ce(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ce(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Qe(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){_n(document.body,"leaflet-dragging"),this._lastTarget&&(_n(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),d(document,"mousemove touchmove",this._onMove,this),d(document,"mouseup touchend touchcancel",this._onUp,this),Ya(),Cs(),this._moved&&this._moving&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,jo._dragging=!1}});function uc(a,f){if(!f||!a.length)return a.slice();var m=f*f;return a=Id(a,m),a=Sd(a,m),a}function hc(a,f,m){return Math.sqrt(Qa(a,f,m,!0))}function Pd(a,f,m){return Qa(a,f,m)}function Sd(a,f){var m=a.length,y=typeof Uint8Array!=void 0+""?Uint8Array:Array,w=new y(m);w[0]=w[m-1]=1,th(a,w,f,0,m-1);var N,X=[];for(N=0;N<m;N++)w[N]&&X.push(a[N]);return X}function th(a,f,m,y,w){var N=0,X,et,ot;for(et=y+1;et<=w-1;et++)ot=Qa(a[et],a[y],a[w],!0),ot>N&&(X=et,N=ot);N>m&&(f[X]=1,th(a,f,m,y,X),th(a,f,m,X,w))}function Id(a,f){for(var m=[a[0]],y=1,w=0,N=a.length;y<N;y++)kd(a[y],a[w])>f&&(m.push(a[y]),w=y);return w<N-1&&m.push(a[N-1]),m}var cc;function fc(a,f,m,y,w){var N=y?cc:Ps(a,m),X=Ps(f,m),et,ot,vt;for(cc=X;;){if(!(N|X))return[a,f];if(N&X)return!1;et=N||X,ot=Ul(a,f,et,m,w),vt=Ps(ot,m),et===N?(a=ot,N=vt):(f=ot,X=vt)}}function Ul(a,f,m,y,w){var N=f.x-a.x,X=f.y-a.y,et=y.min,ot=y.max,vt,At;return m&8?(vt=a.x+N*(ot.y-a.y)/X,At=ot.y):m&4?(vt=a.x+N*(et.y-a.y)/X,At=et.y):m&2?(vt=ot.x,At=a.y+X*(ot.x-a.x)/N):m&1&&(vt=et.x,At=a.y+X*(et.x-a.x)/N),new at(vt,At,w)}function Ps(a,f){var m=0;return a.x<f.min.x?m|=1:a.x>f.max.x&&(m|=2),a.y<f.min.y?m|=4:a.y>f.max.y&&(m|=8),m}function kd(a,f){var m=f.x-a.x,y=f.y-a.y;return m*m+y*y}function Qa(a,f,m,y){var w=f.x,N=f.y,X=m.x-w,et=m.y-N,ot=X*X+et*et,vt;return ot>0&&(vt=((a.x-w)*X+(a.y-N)*et)/ot,vt>1?(w=m.x,N=m.y):vt>0&&(w+=X*vt,N+=et*vt)),X=a.x-w,et=a.y-N,y?X*X+et*et:new at(w,N)}function ri(a){return!O(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function pc(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ri(a)}function dc(a,f){var m,y,w,N,X,et,ot,vt;if(!a||a.length===0)throw new Error("latlngs not passed");ri(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var At=[];for(var ne in a)At.push(f.project(Le(a[ne])));var Ne=At.length;for(m=0,y=0;m<Ne-1;m++)y+=At[m].distanceTo(At[m+1])/2;if(y===0)vt=At[0];else for(m=0,N=0;m<Ne-1;m++)if(X=At[m],et=At[m+1],w=X.distanceTo(et),N+=w,N>y){ot=(N-y)/w,vt=[et.x-ot*(et.x-X.x),et.y-ot*(et.y-X.y)];break}return f.unproject(Rt(vt))}var xd={__proto__:null,simplify:uc,pointToSegmentDistance:hc,closestPointOnSegment:Pd,clipSegment:fc,_getEdgeIntersection:Ul,_getBitCode:Ps,_sqClosestPointOnSegment:Qa,isFlat:ri,_flat:pc,polylineCenter:dc};function gc(a,f,m){var y,w=[1,4,2,8],N,X,et,ot,vt,At,ne,Ne;for(N=0,At=a.length;N<At;N++)a[N]._code=Ps(a[N],f);for(et=0;et<4;et++){for(ne=w[et],y=[],N=0,At=a.length,X=At-1;N<At;X=N++)ot=a[N],vt=a[X],ot._code&ne?vt._code&ne||(Ne=Ul(vt,ot,ne,f,m),Ne._code=Ps(Ne,f),y.push(Ne)):(vt._code&ne&&(Ne=Ul(vt,ot,ne,f,m),Ne._code=Ps(Ne,f),y.push(Ne)),y.push(ot));a=y}return a}function _c(a,f){var m,y,w,N,X,et,ot,vt,At;if(!a||a.length===0)throw new Error("latlngs not passed");ri(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var ne=[];for(var Ne in a)ne.push(f.project(Le(a[Ne])));var ii=ne.length;for(et=ot=vt=0,m=0,y=ii-1;m<ii;y=m++)w=ne[m],N=ne[y],X=w.y*N.x-N.y*w.x,ot+=(w.x+N.x)*X,vt+=(w.y+N.y)*X,et+=X*3;return et===0?At=ne[0]:At=[ot/et,vt/et],f.unproject(Rt(At))}var Td={__proto__:null,clipPolygon:gc,polygonCenter:_c},eh={project:function(a){return new at(a.lng,a.lat)},unproject:function(a){return new le(a.y,a.x)},bounds:new Tt([-180,-90],[180,90])},nh={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Tt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var f=Math.PI/180,m=this.R,y=a.lat*f,w=this.R_MINOR/m,N=Math.sqrt(1-w*w),X=N*Math.sin(y),et=Math.tan(Math.PI/4-y/2)/Math.pow((1-X)/(1+X),N/2);return y=-m*Math.log(Math.max(et,1e-10)),new at(a.lng*f*m,y)},unproject:function(a){for(var f=180/Math.PI,m=this.R,y=this.R_MINOR/m,w=Math.sqrt(1-y*y),N=Math.exp(-a.y/m),X=Math.PI/2-2*Math.atan(N),et=0,ot=.1,vt;et<15&&Math.abs(ot)>1e-7;et++)vt=w*Math.sin(X),vt=Math.pow((1-vt)/(1+vt),w/2),ot=Math.PI/2-2*Math.atan(N*vt)-X,X+=ot;return new le(X*f,a.x*f/m)}},Nd={__proto__:null,LonLat:eh,Mercator:nh,SphericalMercator:kr},Od=i({},Mn,{code:"EPSG:3395",projection:nh,transformation:function(){var a=.5/(Math.PI*nh.R);return $r(a,.5,-a,.5)}()}),mc=i({},Mn,{code:"EPSG:4326",projection:eh,transformation:$r(1/180,1,-1/180,.5)}),Dd=i({},pr,{projection:eh,transformation:$r(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,f){var m=f.lng-a.lng,y=f.lat-a.lat;return Math.sqrt(m*m+y*y)},infinite:!0});pr.Earth=Mn,pr.EPSG3395=Od,pr.EPSG3857=Zi,pr.EPSG900913=Xn,pr.EPSG4326=mc,pr.Simple=Dd;var Ii=Vt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[l(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[l(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var f=a.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var m=this.getEvents();f.on(m,this),this.once("remove",function(){f.off(m,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});Zt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var f=l(a);return this._layers[f]?this:(this._layers[f]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var f=l(a);return this._layers[f]?(this._loaded&&a.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return l(a)in this._layers},eachLayer:function(a,f){for(var m in this._layers)a.call(f,this._layers[m]);return this},_addLayers:function(a){a=a?O(a)?a:[a]:[];for(var f=0,m=a.length;f<m;f++)this.addLayer(a[f])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[l(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var f=l(a);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,f=-1/0,m=this._getZoomSpan();for(var y in this._zoomBoundLayers){var w=this._zoomBoundLayers[y].options;a=w.minZoom===void 0?a:Math.min(a,w.minZoom),f=w.maxZoom===void 0?f:Math.max(f,w.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var na=Ii.extend({initialize:function(a,f){S(this,f),this._layers={};var m,y;if(a)for(m=0,y=a.length;m<y;m++)this.addLayer(a[m])},addLayer:function(a){var f=this.getLayerId(a);return this._layers[f]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var f=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(a){var f=typeof a=="number"?a:this.getLayerId(a);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var f=Array.prototype.slice.call(arguments,1),m,y;for(m in this._layers)y=this._layers[m],y[a]&&y[a].apply(y,f);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,f){for(var m in this._layers)a.call(f,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return l(a)}}),Rd=function(a,f){return new na(a,f)},wo=na.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),na.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),na.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new Be;for(var f in this._layers){var m=this._layers[f];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),Ad=function(a,f){return new wo(a,f)},ra=ut.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){S(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,f){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(m,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(y,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(a,f){var m=this.options,y=m[f+"Size"];typeof y=="number"&&(y=[y,y]);var w=Rt(y),N=Rt(f==="shadow"&&m.shadowAnchor||m.iconAnchor||w&&w.divideBy(2,!0));a.className="leaflet-marker-"+f+" "+(m.className||""),N&&(a.style.marginLeft=-N.x+"px",a.style.marginTop=-N.y+"px"),w&&(a.style.width=w.x+"px",a.style.height=w.y+"px")},_createImg:function(a,f){return f=f||document.createElement("img"),f.src=a,f},_getIconUrl:function(a){return Ft.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Bd(a){return new ra(a)}var $a=ra.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof $a.imagePath!="string"&&($a.imagePath=this._detectIconPath()),(this.options.imagePath||$a.imagePath)+ra.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var f=function(m,y,w){var N=y.exec(m);return N&&N[w]};return a=f(a,/^url\((['"])?(.+)\1\)$/,2),a&&f(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Se("div","leaflet-default-icon-path",document.body),f=Ho(a,"background-image")||Ho(a,"backgroundImage");if(document.body.removeChild(a),f=this._stripUrl(f),f)return f;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),vc=ni.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new jo(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ce(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_n(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var f=this._marker,m=f._map,y=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,N=ei(f._icon),X=m.getPixelBounds(),et=m.getPixelOrigin(),ot=jt(X.min._subtract(et).add(w),X.max._subtract(et).subtract(w));if(!ot.contains(N)){var vt=Rt((Math.max(ot.max.x,N.x)-ot.max.x)/(X.max.x-ot.max.x)-(Math.min(ot.min.x,N.x)-ot.min.x)/(X.min.x-ot.min.x),(Math.max(ot.max.y,N.y)-ot.max.y)/(X.max.y-ot.max.y)-(Math.min(ot.min.y,N.y)-ot.min.y)/(X.min.y-ot.min.y)).multiplyBy(y);m.panBy(vt,{animate:!1}),this._draggable._newPos._add(vt),this._draggable._startPos._add(vt),Qe(f._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=rt(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(st(this._panRequest),this._panRequest=rt(this._adjustPan.bind(this,a)))},_onDrag:function(a){var f=this._marker,m=f._shadow,y=ei(f._icon),w=f._map.layerPointToLatLng(y);m&&Qe(m,y),f._latlng=w,a.latlng=w,a.oldLatLng=this._oldLatLng,f.fire("move",a).fire("drag",a)},_onDragEnd:function(a){st(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Hl=Ii.extend({options:{icon:new $a,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,f){S(this,f),this._latlng=Le(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var f=this._latlng;return this._latlng=Le(a),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),y=!1;m!==this._icon&&(this._icon&&this._removeIcon(),y=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),ce(m,f),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&oe(m,"focus",this._panOnFocus,this);var w=a.icon.createShadow(this._shadow),N=!1;w!==this._shadow&&(this._removeShadow(),N=!0),w&&(ce(w,f),w.alt=""),this._shadow=w,a.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&N&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&d(this._icon,"focus",this._panOnFocus,this),Ye(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ye(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Qe(this._icon,a),this._shadow&&Qe(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var f=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(ce(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),vc)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new vc(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Tr(this._icon,a),this._shadow&&Tr(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var f=this.options.icon.options,m=f.iconSize?Rt(f.iconSize):Rt(0,0),y=f.iconAnchor?Rt(f.iconAnchor):Rt(0,0);a.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:m.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function zd(a,f){return new Hl(a,f)}var qo=Ii.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return S(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Zl=qo.extend({options:{fill:!0,radius:10},initialize:function(a,f){S(this,f),this._latlng=Le(a),this._radius=this.options.radius},setLatLng:function(a){var f=this._latlng;return this._latlng=Le(a),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var f=a&&a.radius||this._radius;return qo.prototype.setStyle.call(this,a),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,f=this._radiusY||a,m=this._clickTolerance(),y=[a+m,f+m];this._pxBounds=new Tt(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Fd(a,f){return new Zl(a,f)}var rh=Zl.extend({initialize:function(a,f,m){if(typeof f=="number"&&(f=i({},m,{radius:f})),S(this,f),this._latlng=Le(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new Be(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:qo.prototype.setStyle,_project:function(){var a=this._latlng.lng,f=this._latlng.lat,m=this._map,y=m.options.crs;if(y.distance===Mn.distance){var w=Math.PI/180,N=this._mRadius/Mn.R/w,X=m.project([f+N,a]),et=m.project([f-N,a]),ot=X.add(et).divideBy(2),vt=m.unproject(ot).lat,At=Math.acos((Math.cos(N*w)-Math.sin(f*w)*Math.sin(vt*w))/(Math.cos(f*w)*Math.cos(vt*w)))/w;(isNaN(At)||At===0)&&(At=N/Math.cos(Math.PI/180*f)),this._point=ot.subtract(m.getPixelOrigin()),this._radius=isNaN(At)?0:ot.x-m.project([vt,a-At]).x,this._radiusY=ot.y-X.y}else{var ne=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(ne).x}this._updateBounds()}});function Gd(a,f,m){return new rh(a,f,m)}var Eo=qo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,f){S(this,f),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var f=1/0,m=null,y=Qa,w,N,X=0,et=this._parts.length;X<et;X++)for(var ot=this._parts[X],vt=1,At=ot.length;vt<At;vt++){w=ot[vt-1],N=ot[vt];var ne=y(a,w,N,!0);ne<f&&(f=ne,m=y(a,w,N))}return m&&(m.distance=Math.sqrt(f)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return dc(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,f){return f=f||this._defaultShape(),a=Le(a),f.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new Be,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return ri(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var f=[],m=ri(a),y=0,w=a.length;y<w;y++)m?(f[y]=Le(a[y]),this._bounds.extend(f[y])):f[y]=this._convertLatLngs(a[y]);return f},_project:function(){var a=new Tt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),f=new at(a,a);this._rawPxBounds&&(this._pxBounds=new Tt([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(a,f,m){var y=a[0]instanceof le,w=a.length,N,X;if(y){for(X=[],N=0;N<w;N++)X[N]=this._map.latLngToLayerPoint(a[N]),m.extend(X[N]);f.push(X)}else for(N=0;N<w;N++)this._projectLatlngs(a[N],f,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,m,y,w,N,X,et,ot;for(m=0,w=0,N=this._rings.length;m<N;m++)for(ot=this._rings[m],y=0,X=ot.length;y<X-1;y++)et=fc(ot[y],ot[y+1],a,y,!0),et&&(f[w]=f[w]||[],f[w].push(et[0]),(et[1]!==ot[y+1]||y===X-2)&&(f[w].push(et[1]),w++))}},_simplifyPoints:function(){for(var a=this._parts,f=this.options.smoothFactor,m=0,y=a.length;m<y;m++)a[m]=uc(a[m],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,f){var m,y,w,N,X,et,ot=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,N=this._parts.length;m<N;m++)for(et=this._parts[m],y=0,X=et.length,w=X-1;y<X;w=y++)if(!(!f&&y===0)&&hc(a,et[w],et[y])<=ot)return!0;return!1}});function Vd(a,f){return new Eo(a,f)}Eo._flat=pc;var ia=Eo.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _c(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var f=Eo.prototype._convertLatLngs.call(this,a),m=f.length;return m>=2&&f[0]instanceof le&&f[0].equals(f[m-1])&&f.pop(),f},_setLatLngs:function(a){Eo.prototype._setLatLngs.call(this,a),ri(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ri(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,f=this.options.weight,m=new at(f,f);if(a=new Tt(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,w=this._rings.length,N;y<w;y++)N=gc(this._rings[y],a,!0),N.length&&this._parts.push(N)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var f=!1,m,y,w,N,X,et,ot,vt;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(N=0,ot=this._parts.length;N<ot;N++)for(m=this._parts[N],X=0,vt=m.length,et=vt-1;X<vt;et=X++)y=m[X],w=m[et],y.y>a.y!=w.y>a.y&&a.x<(w.x-y.x)*(a.y-y.y)/(w.y-y.y)+y.x&&(f=!f);return f||Eo.prototype._containsPoint.call(this,a,!0)}});function Ud(a,f){return new ia(a,f)}var Mo=wo.extend({initialize:function(a,f){S(this,f),this._layers={},a&&this.addData(a)},addData:function(a){var f=O(a)?a:a.features,m,y,w;if(f){for(m=0,y=f.length;m<y;m++)w=f[m],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var N=this.options;if(N.filter&&!N.filter(a))return this;var X=jl(a,N);return X?(X.feature=Yl(a),X.defaultOptions=X.options,this.resetStyle(X),N.onEachFeature&&N.onEachFeature(a,X),this.addLayer(X)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=i({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(f){this._setLayerStyle(f,a)},this)},_setLayerStyle:function(a,f){a.setStyle&&(typeof f=="function"&&(f=f(a.feature)),a.setStyle(f))}});function jl(a,f){var m=a.type==="Feature"?a.geometry:a,y=m?m.coordinates:null,w=[],N=f&&f.pointToLayer,X=f&&f.coordsToLatLng||ih,et,ot,vt,At;if(!y&&!m)return null;switch(m.type){case"Point":return et=X(y),yc(N,a,et,f);case"MultiPoint":for(vt=0,At=y.length;vt<At;vt++)et=X(y[vt]),w.push(yc(N,a,et,f));return new wo(w);case"LineString":case"MultiLineString":return ot=ql(y,m.type==="LineString"?0:1,X),new Eo(ot,f);case"Polygon":case"MultiPolygon":return ot=ql(y,m.type==="Polygon"?1:2,X),new ia(ot,f);case"GeometryCollection":for(vt=0,At=m.geometries.length;vt<At;vt++){var ne=jl({geometry:m.geometries[vt],type:"Feature",properties:a.properties},f);ne&&w.push(ne)}return new wo(w);case"FeatureCollection":for(vt=0,At=m.features.length;vt<At;vt++){var Ne=jl(m.features[vt],f);Ne&&w.push(Ne)}return new wo(w);default:throw new Error("Invalid GeoJSON object.")}}function yc(a,f,m,y){return a?a(f,m):new Hl(m,y&&y.markersInheritOptions&&y)}function ih(a){return new le(a[1],a[0],a[2])}function ql(a,f,m){for(var y=[],w=0,N=a.length,X;w<N;w++)X=f?ql(a[w],f-1,m):(m||ih)(a[w]),y.push(X);return y}function oh(a,f){return a=Le(a),a.alt!==void 0?[_(a.lng,f),_(a.lat,f),_(a.alt,f)]:[_(a.lng,f),_(a.lat,f)]}function Xl(a,f,m,y){for(var w=[],N=0,X=a.length;N<X;N++)w.push(f?Xl(a[N],ri(a[N])?0:f-1,m,y):oh(a[N],y));return!f&&m&&w.push(w[0].slice()),w}function oa(a,f){return a.feature?i({},a.feature,{geometry:f}):Yl(f)}function Yl(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var sh={toGeoJSON:function(a){return oa(this,{type:"Point",coordinates:oh(this.getLatLng(),a)})}};Hl.include(sh),rh.include(sh),Zl.include(sh),Eo.include({toGeoJSON:function(a){var f=!ri(this._latlngs),m=Xl(this._latlngs,f?1:0,!1,a);return oa(this,{type:(f?"Multi":"")+"LineString",coordinates:m})}}),ia.include({toGeoJSON:function(a){var f=!ri(this._latlngs),m=f&&!ri(this._latlngs[0]),y=Xl(this._latlngs,m?2:f?1:0,!0,a);return f||(y=[y]),oa(this,{type:(m?"Multi":"")+"Polygon",coordinates:y})}}),na.include({toMultiPoint:function(a){var f=[];return this.eachLayer(function(m){f.push(m.toGeoJSON(a).geometry.coordinates)}),oa(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(a){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(a);var m=f==="GeometryCollection",y=[];return this.eachLayer(function(w){if(w.toGeoJSON){var N=w.toGeoJSON(a);if(m)y.push(N.geometry);else{var X=Yl(N);X.type==="FeatureCollection"?y.push.apply(y,X.features):y.push(X)}}}),m?oa(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function Lc(a,f){return new Mo(a,f)}var Hd=Lc,Wl=Ii.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,f,m){this._url=a,this._bounds=Fe(f),S(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ce(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ye(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Lo(this._image),this},bringToBack:function(){return this._map&&bo(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Fe(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",f=this._image=a?this._url:Se("img");if(ce(f,"leaflet-image-layer"),this._zoomAnimated&&ce(f,"leaflet-zoom-animated"),this.options.className&&ce(f,this.options.className),f.onselectstart=c,f.onmousemove=c,f.onload=s(this.fire,this,"load"),f.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(a){var f=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Wi(this._image,m,f)},_reset:function(){var a=this._image,f=new Tt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=f.getSize();Qe(a,f.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){Tr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Zd=function(a,f,m){return new Wl(a,f,m)},bc=Wl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",f=this._image=a?this._url:Se("video");if(ce(f,"leaflet-image-layer"),this._zoomAnimated&&ce(f,"leaflet-zoom-animated"),this.options.className&&ce(f,this.options.className),f.onselectstart=c,f.onmousemove=c,f.onloadeddata=s(this.fire,this,"load"),a){for(var m=f.getElementsByTagName("source"),y=[],w=0;w<m.length;w++)y.push(m[w].src);this._url=m.length>0?y:[f.src];return}O(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var N=0;N<this._url.length;N++){var X=Se("source");X.src=this._url[N],f.appendChild(X)}}});function jd(a,f,m){return new bc(a,f,m)}var Cc=Wl.extend({_initImage:function(){var a=this._image=this._url;ce(a,"leaflet-image-layer"),this._zoomAnimated&&ce(a,"leaflet-zoom-animated"),this.options.className&&ce(a,this.options.className),a.onselectstart=c,a.onmousemove=c}});function qd(a,f,m){return new Cc(a,f,m)}var Ji=Ii.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,f){a&&(a instanceof le||O(a))?(this._latlng=Le(a),S(this,f)):(S(this,a),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Tr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Tr(this._container,1),this.bringToFront(),this.options.interactive&&(ce(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Tr(this._container,0),this._removeTimeout=setTimeout(s(Ye,void 0,this._container),200)):Ye(this._container),this.options.interactive&&(_n(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Le(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Lo(this._container),this},bringToBack:function(){return this._map&&bo(this._container),this},_prepareOpen:function(a){var f=this._source;if(!f._map)return!1;if(f instanceof wo){f=null;var m=this._source._layers;for(var y in m)if(m[y]._map){f=m[y];break}if(!f)return!1;this._source=f}if(!a)if(f.getCenter)a=f.getCenter();else if(f.getLatLng)a=f.getLatLng();else if(f.getBounds)a=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")a.innerHTML=f;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),f=Rt(this.options.offset),m=this._getAnchor();this._zoomAnimated?Qe(this._container,a.add(m)):f=f.add(a).add(m);var y=this._containerBottom=-f.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=y+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Zt.include({_initOverlay:function(a,f,m,y){var w=f;return w instanceof a||(w=new a(y).setContent(f)),m&&w.setLatLng(m),w}}),Ii.include({_initOverlay:function(a,f,m,y){var w=m;return w instanceof a?(S(w,y),w._source=this):(w=f&&!y?f:new a(y,this),w.setContent(m)),w}});var Kl=Ji.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Ji.prototype.openOn.call(this,a)},onAdd:function(a){Ji.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof qo||this._source.on("preclick",G))},onRemove:function(a){Ji.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof qo||this._source.off("preclick",G))},getEvents:function(){var a=Ji.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",f=this._container=Se("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Se("div",a+"-content-wrapper",f);if(this._contentNode=Se("div",a+"-content",m),V(f),U(this._contentNode),oe(f,"contextmenu",G),this._tipContainer=Se("div",a+"-tip-container",f),this._tip=Se("div",a+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=Se("a",a+"-close-button",f);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',oe(y,"click",function(w){H(w),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,f=a.style;f.width="",f.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),f.width=m+1+"px",f.whiteSpace="",f.height="";var y=a.offsetHeight,w=this.options.maxHeight,N="leaflet-popup-scrolled";w&&y>w?(f.height=w+"px",ce(a,N)):_n(a,N),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var f=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();Qe(this._container,f.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,f=parseInt(Ho(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+f,y=this._containerWidth,w=new at(this._containerLeft,-m-this._containerBottom);w._add(ei(this._container));var N=a.layerPointToContainerPoint(w),X=Rt(this.options.autoPanPadding),et=Rt(this.options.autoPanPaddingTopLeft||X),ot=Rt(this.options.autoPanPaddingBottomRight||X),vt=a.getSize(),At=0,ne=0;N.x+y+ot.x>vt.x&&(At=N.x+y-vt.x+ot.x),N.x-At-et.x<0&&(At=N.x-et.x),N.y+m+ot.y>vt.y&&(ne=N.y+m-vt.y+ot.y),N.y-ne-et.y<0&&(ne=N.y-et.y),(At||ne)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([At,ne]))}},_getAnchor:function(){return Rt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Xd=function(a,f){return new Kl(a,f)};Zt.mergeOptions({closePopupOnClick:!0}),Zt.include({openPopup:function(a,f,m){return this._initOverlay(Kl,a,f,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Ii.include({bindPopup:function(a,f){return this._popup=this._initOverlay(Kl,this._popup,a,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof wo||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){$(a);var f=a.layer||a.target;if(this._popup._source===f&&!(f instanceof qo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=f,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Jl=Ji.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Ji.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Ji.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Ji.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",f=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Se("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var f,m,y=this._map,w=this._container,N=y.latLngToContainerPoint(y.getCenter()),X=y.layerPointToContainerPoint(a),et=this.options.direction,ot=w.offsetWidth,vt=w.offsetHeight,At=Rt(this.options.offset),ne=this._getAnchor();et==="top"?(f=ot/2,m=vt):et==="bottom"?(f=ot/2,m=0):et==="center"?(f=ot/2,m=vt/2):et==="right"?(f=0,m=vt/2):et==="left"?(f=ot,m=vt/2):X.x<N.x?(et="right",f=0,m=vt/2):(et="left",f=ot+(At.x+ne.x)*2,m=vt/2),a=a.subtract(Rt(f,m,!0)).add(At).add(ne),_n(w,"leaflet-tooltip-right"),_n(w,"leaflet-tooltip-left"),_n(w,"leaflet-tooltip-top"),_n(w,"leaflet-tooltip-bottom"),ce(w,"leaflet-tooltip-"+et),Qe(w,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Tr(this._container,a)},_animateZoom:function(a){var f=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(f)},_getAnchor:function(){return Rt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Yd=function(a,f){return new Jl(a,f)};Zt.include({openTooltip:function(a,f,m){return this._initOverlay(Jl,a,f,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Ii.include({bindTooltip:function(a,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Jl,this._tooltip,a,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var f=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[f](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof wo||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var f=a.getElement();f&&(oe(f,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),oe(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var f=a.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0))},_moveTooltip:function(a){var f=a.latlng,m,y;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),y=this._map.containerPointToLayerPoint(m),f=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(f)}});var wc=ra.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var f=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(ys(f),f.appendChild(m.html)):f.innerHTML=m.html!==!1?m.html:"",m.bgPos){var y=Rt(m.bgPos);f.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function Wd(a){return new wc(a)}ra.Default=$a;var tl=Ii.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ft.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){S(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),Ye(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Lo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(bo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof at?a:new at(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var f=this.getPane().children,m=-a(-1/0,1/0),y=0,w=f.length,N;y<w;y++)N=f[y].style.zIndex,f[y]!==this._container&&N&&(m=a(m,+N));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ft.ielt9){Tr(this._container,this.options.opacity);var a=+new Date,f=!1,m=!1;for(var y in this._tiles){var w=this._tiles[y];if(!(!w.current||!w.loaded)){var N=Math.min(1,(a-w.loaded)/200);Tr(w.el,N),N<1?f=!0:(w.active?m=!0:this._onOpaqueTile(w),w.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),f&&(st(this._fadeFrame),this._fadeFrame=rt(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=Se("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,f=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=f-Math.abs(a-m),this._onUpdateLevel(m)):(Ye(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var y=this._levels[a],w=this._map;return y||(y=this._levels[a]={},y.el=Se("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=f,y.origin=w.project(w.unproject(w.getPixelOrigin()),a).round(),y.zoom=a,this._setZoomTransform(y,w.getCenter(),w.getZoom()),c(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var a,f,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)f=this._tiles[a],f.retain=f.current;for(a in this._tiles)if(f=this._tiles[a],f.current&&!f.active){var y=f.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var f in this._tiles)this._tiles[f].coords.z===a&&this._removeTile(f)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Ye(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,f,m,y){var w=Math.floor(a/2),N=Math.floor(f/2),X=m-1,et=new at(+w,+N);et.z=+X;var ot=this._tileCoordsToKey(et),vt=this._tiles[ot];return vt&&vt.active?(vt.retain=!0,!0):(vt&&vt.loaded&&(vt.retain=!0),X>y?this._retainParent(w,N,X,y):!1)},_retainChildren:function(a,f,m,y){for(var w=2*a;w<2*a+2;w++)for(var N=2*f;N<2*f+2;N++){var X=new at(w,N);X.z=m+1;var et=this._tileCoordsToKey(X),ot=this._tiles[et];if(ot&&ot.active){ot.retain=!0;continue}else ot&&ot.loaded&&(ot.retain=!0);m+1<y&&this._retainChildren(w,N,m+1,y)}},_resetView:function(a){var f=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var f=this.options;return f.minNativeZoom!==void 0&&a<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<a?f.maxNativeZoom:a},_setView:function(a,f,m,y){var w=Math.round(f);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var N=this.options.updateWhenZooming&&w!==this._tileZoom;(!y||N)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,f)},_setZoomTransforms:function(a,f){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,f)},_setZoomTransform:function(a,f,m){var y=this._map.getZoomScale(m,a.zoom),w=a.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(f,m)).round();Ft.any3d?Wi(a.el,w,y):Qe(a.el,w)},_resetGrid:function(){var a=this._map,f=a.options.crs,m=this._tileSize=this.getTileSize(),y=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,f.wrapLng[0]],y).x/m.x),Math.ceil(a.project([0,f.wrapLng[1]],y).x/m.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([f.wrapLat[0],0],y).y/m.x),Math.ceil(a.project([f.wrapLat[1],0],y).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var f=this._map,m=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),y=f.getZoomScale(m,this._tileZoom),w=f.project(a,this._tileZoom).floor(),N=f.getSize().divideBy(y*2);return new Tt(w.subtract(N),w.add(N))},_update:function(a){var f=this._map;if(f){var m=this._clampZoom(f.getZoom());if(a===void 0&&(a=f.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(a),w=this._pxBoundsToTileRange(y),N=w.getCenter(),X=[],et=this.options.keepBuffer,ot=new Tt(w.getBottomLeft().subtract([et,-et]),w.getTopRight().add([et,-et]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var vt in this._tiles){var At=this._tiles[vt].coords;(At.z!==this._tileZoom||!ot.contains(new at(At.x,At.y)))&&(this._tiles[vt].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var ne=w.min.y;ne<=w.max.y;ne++)for(var Ne=w.min.x;Ne<=w.max.x;Ne++){var ii=new at(Ne,ne);if(ii.z=this._tileZoom,!!this._isValidTile(ii)){var Ss=this._tiles[this._tileCoordsToKey(ii)];Ss?Ss.current=!0:X.push(ii)}}if(X.sort(function(Xo,ah){return Xo.distanceTo(N)-ah.distanceTo(N)}),X.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var $l=document.createDocumentFragment();for(Ne=0;Ne<X.length;Ne++)this._addTile(X[Ne],$l);this._level.el.appendChild($l)}}}},_isValidTile:function(a){var f=this._map.options.crs;if(!f.infinite){var m=this._globalTileRange;if(!f.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!f.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(a);return Fe(this.options.bounds).overlaps(y)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var f=this._map,m=this.getTileSize(),y=a.scaleBy(m),w=y.add(m),N=f.unproject(y,a.z),X=f.unproject(w,a.z);return[N,X]},_tileCoordsToBounds:function(a){var f=this._tileCoordsToNwSe(a),m=new Be(f[0],f[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var f=a.split(":"),m=new at(+f[0],+f[1]);return m.z=+f[2],m},_removeTile:function(a){var f=this._tiles[a];f&&(Ye(f.el),delete this._tiles[a],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){ce(a,"leaflet-tile");var f=this.getTileSize();a.style.width=f.x+"px",a.style.height=f.y+"px",a.onselectstart=c,a.onmousemove=c,Ft.ielt9&&this.options.opacity<1&&Tr(a,this.options.opacity)},_addTile:function(a,f){var m=this._getTilePos(a),y=this._tileCoordsToKey(a),w=this.createTile(this._wrapCoords(a),s(this._tileReady,this,a));this._initTile(w),this.createTile.length<2&&rt(s(this._tileReady,this,a,null,w)),Qe(w,m),this._tiles[y]={el:w,coords:a,current:!0},f.appendChild(w),this.fire("tileloadstart",{tile:w,coords:a})},_tileReady:function(a,f,m){f&&this.fire("tileerror",{error:f,tile:m,coords:a});var y=this._tileCoordsToKey(a);m=this._tiles[y],m&&(m.loaded=+new Date,this._map._fadeAnimated?(Tr(m.el,0),st(this._fadeFrame),this._fadeFrame=rt(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),f||(ce(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ft.ielt9||!this._map._fadeAnimated?rt(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var f=new at(this._wrapX?g(a.x,this._wrapX):a.x,this._wrapY?g(a.y,this._wrapY):a.y);return f.z=a.z,f},_pxBoundsToTileRange:function(a){var f=this.getTileSize();return new Tt(a.min.unscaleBy(f).floor(),a.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Kd(a){return new tl(a)}var sa=tl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,f){this._url=a,f=S(this,f),f.detectRetina&&Ft.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,f){return this._url===a&&f===void 0&&(f=!0),this._url=a,f||this.redraw(),this},createTile:function(a,f){var m=document.createElement("img");return oe(m,"load",s(this._tileOnLoad,this,f,m)),oe(m,"error",s(this._tileOnError,this,f,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var f={r:Ft.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(f.y=m),f["-y"]=m}return D(this._url,i(f,this.options))},_tileOnLoad:function(a,f){Ft.ielt9?setTimeout(s(a,this,null,f),0):a(null,f)},_tileOnError:function(a,f,m){var y=this.options.errorTileUrl;y&&f.getAttribute("src")!==y&&(f.src=y),a(m,f)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,f=this.options.maxZoom,m=this.options.zoomReverse,y=this.options.zoomOffset;return m&&(a=f-a),a+y},_getSubdomain:function(a){var f=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var a,f;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(f=this._tiles[a].el,f.onload=c,f.onerror=c,!f.complete)){f.src=R;var m=this._tiles[a].coords;Ye(f),delete this._tiles[a],this.fire("tileabort",{tile:f,coords:m})}},_removeTile:function(a){var f=this._tiles[a];if(f)return f.el.setAttribute("src",R),tl.prototype._removeTile.call(this,a)},_tileReady:function(a,f,m){if(!(!this._map||m&&m.getAttribute("src")===R))return tl.prototype._tileReady.call(this,a,f,m)}});function Ec(a,f){return new sa(a,f)}var Mc=sa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,f){this._url=a;var m=i({},this.defaultWmsParams);for(var y in f)y in this.options||(m[y]=f[y]);f=S(this,f);var w=f.detectRetina&&Ft.retina?2:1,N=this.getTileSize();m.width=N.x*w,m.height=N.y*w,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,sa.prototype.onAdd.call(this,a)},getTileUrl:function(a){var f=this._tileCoordsToNwSe(a),m=this._crs,y=jt(m.project(f[0]),m.project(f[1])),w=y.min,N=y.max,X=(this._wmsVersion>=1.3&&this._crs===mc?[w.y,w.x,N.y,N.x]:[w.x,w.y,N.x,N.y]).join(","),et=sa.prototype.getTileUrl.call(this,a);return et+P(this.wmsParams,et,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+X},setParams:function(a,f){return i(this.wmsParams,a),f||this.redraw(),this}});function Jd(a,f){return new Mc(a,f)}sa.WMS=Mc,Ec.wms=Jd;var Po=Ii.extend({options:{padding:.1},initialize:function(a){S(this,a),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ce(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,f){var m=this._map.getZoomScale(f,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,f),N=y.multiplyBy(-m).add(w).subtract(this._map._getNewPixelOrigin(a,f));Ft.any3d?Wi(this._container,N,m):Qe(this._container,N)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,f=this._map.getSize(),m=this._map.containerPointToLayerPoint(f.multiplyBy(-a)).round();this._bounds=new Tt(m,m.add(f.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Pc=Po.extend({options:{tolerance:0},getEvents:function(){var a=Po.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Po.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");oe(a,"mousemove",this._onMouseMove,this),oe(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),oe(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){st(this._redrawRequest),delete this._ctx,Ye(this._container),d(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var f in this._layers)a=this._layers[f],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Po.prototype._update.call(this);var a=this._bounds,f=this._container,m=a.getSize(),y=Ft.retina?2:1;Qe(f,a.min),f.width=y*m.x,f.height=y*m.y,f.style.width=m.x+"px",f.style.height=m.y+"px",Ft.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Po.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[l(a)]=a;var f=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var f=a._order,m=f.next,y=f.prev;m?m.prev=y:this._drawLast=y,y?y.next=m:this._drawFirst=m,delete a._order,delete this._layers[l(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var f=a.options.dashArray.split(/[, ]+/),m=[],y,w;for(w=0;w<f.length;w++){if(y=Number(f[w]),isNaN(y))return;m.push(y)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||rt(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var f=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Tt,this._redrawBounds.extend(a._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(a._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var f=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,f=this._redrawBounds;if(this._ctx.save(),f){var m=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)a=y.layer,(!f||a._pxBounds&&a._pxBounds.intersects(f))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,f){if(this._drawing){var m,y,w,N,X=a._parts,et=X.length,ot=this._ctx;if(et){for(ot.beginPath(),m=0;m<et;m++){for(y=0,w=X[m].length;y<w;y++)N=X[m][y],ot[y?"lineTo":"moveTo"](N.x,N.y);f&&ot.closePath()}this._fillStroke(ot,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var f=a._point,m=this._ctx,y=Math.max(Math.round(a._radius),1),w=(Math.max(Math.round(a._radiusY),1)||y)/y;w!==1&&(m.save(),m.scale(1,w)),m.beginPath(),m.arc(f.x,f.y/w,y,0,Math.PI*2,!1),w!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,f){var m=f.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(f.options&&f.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var f=this._map.mouseEventToLayerPoint(a),m,y,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(f)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(y=m);this._fireEvent(y?[y]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,f)}},_handleMouseOut:function(a){var f=this._hoveredLayer;f&&(_n(this._container,"leaflet-interactive"),this._fireEvent([f],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,f){if(!this._mouseHoverThrottled){for(var m,y,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(f)&&(y=m);y!==this._hoveredLayer&&(this._handleMouseOut(a),y&&(ce(this._container,"leaflet-interactive"),this._fireEvent([y],a,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,f,m){this._map._fireDOMEvent(f,m||f.type,a)},_bringToFront:function(a){var f=a._order;if(f){var m=f.next,y=f.prev;if(m)m.prev=y;else return;y?y.next=m:m&&(this._drawFirst=m),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(a)}},_bringToBack:function(a){var f=a._order;if(f){var m=f.next,y=f.prev;if(y)y.next=m;else return;m?m.prev=y:y&&(this._drawLast=y),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(a)}}});function Sc(a){return Ft.canvas?new Pc(a):null}var el=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Qd={_initContainer:function(){this._container=Se("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Po.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var f=a._container=el("shape");ce(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",a._path=el("path"),f.appendChild(a._path),this._updateStyle(a),this._layers[l(a)]=a},_addPath:function(a){var f=a._container;this._container.appendChild(f),a.options.interactive&&a.addInteractiveTarget(f)},_removePath:function(a){var f=a._container;Ye(f),a.removeInteractiveTarget(f),delete this._layers[l(a)]},_updateStyle:function(a){var f=a._stroke,m=a._fill,y=a.options,w=a._container;w.stroked=!!y.stroke,w.filled=!!y.fill,y.stroke?(f||(f=a._stroke=el("stroke")),w.appendChild(f),f.weight=y.weight+"px",f.color=y.color,f.opacity=y.opacity,y.dashArray?f.dashStyle=O(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=y.lineCap.replace("butt","flat"),f.joinstyle=y.lineJoin):f&&(w.removeChild(f),a._stroke=null),y.fill?(m||(m=a._fill=el("fill")),w.appendChild(m),m.color=y.fillColor||y.color,m.opacity=y.fillOpacity):m&&(w.removeChild(m),a._fill=null)},_updateCircle:function(a){var f=a._point.round(),m=Math.round(a._radius),y=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+f.x+","+f.y+" "+m+","+y+" 0,"+65535*360)},_setPath:function(a,f){a._path.v=f},_bringToFront:function(a){Lo(a._container)},_bringToBack:function(a){bo(a._container)}},Ql=Ft.vml?el:Go,nl=Po.extend({_initContainer:function(){this._container=Ql("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ql("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ye(this._container),d(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Po.prototype._update.call(this);var a=this._bounds,f=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,m.setAttribute("width",f.x),m.setAttribute("height",f.y)),Qe(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(a){var f=a._path=Ql("path");a.options.className&&ce(f,a.options.className),a.options.interactive&&ce(f,"leaflet-interactive"),this._updateStyle(a),this._layers[l(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){Ye(a._path),a.removeInteractiveTarget(a._path),delete this._layers[l(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var f=a._path,m=a.options;f&&(m.stroke?(f.setAttribute("stroke",m.color),f.setAttribute("stroke-opacity",m.opacity),f.setAttribute("stroke-width",m.weight),f.setAttribute("stroke-linecap",m.lineCap),f.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?f.setAttribute("stroke-dasharray",m.dashArray):f.removeAttribute("stroke-dasharray"),m.dashOffset?f.setAttribute("stroke-dashoffset",m.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),m.fill?(f.setAttribute("fill",m.fillColor||m.color),f.setAttribute("fill-opacity",m.fillOpacity),f.setAttribute("fill-rule",m.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(a,f){this._setPath(a,ji(a._parts,f))},_updateCircle:function(a){var f=a._point,m=Math.max(Math.round(a._radius),1),y=Math.max(Math.round(a._radiusY),1)||m,w="a"+m+","+y+" 0 1,0 ",N=a._empty()?"M0 0":"M"+(f.x-m)+","+f.y+w+m*2+",0 "+w+-m*2+",0 ";this._setPath(a,N)},_setPath:function(a,f){a._path.setAttribute("d",f)},_bringToFront:function(a){Lo(a._path)},_bringToBack:function(a){bo(a._path)}});Ft.vml&&nl.include(Qd);function Ic(a){return Ft.svg||Ft.vml?new nl(a):null}Zt.include({getRenderer:function(a){var f=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var f=this._paneRenderers[a];return f===void 0&&(f=this._createRenderer({pane:a}),this._paneRenderers[a]=f),f},_createRenderer:function(a){return this.options.preferCanvas&&Sc(a)||Ic(a)}});var kc=ia.extend({initialize:function(a,f){ia.prototype.initialize.call(this,this._boundsToLatLngs(a),f)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=Fe(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function $d(a,f){return new kc(a,f)}nl.create=Ql,nl.pointsToPath=ji,Mo.geometryToLayer=jl,Mo.coordsToLatLng=ih,Mo.coordsToLatLngs=ql,Mo.latLngToCoords=oh,Mo.latLngsToCoords=Xl,Mo.getFeature=oa,Mo.asFeature=Yl,Zt.mergeOptions({boxZoom:!0});var xc=ni.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){oe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){d(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ye(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),bs(),ws(),this._startPoint=this._map.mouseEventToContainerPoint(a),oe(document,{contextmenu:$,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Se("div","leaflet-zoom-box",this._container),ce(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var f=new Tt(this._point,this._startPoint),m=f.getSize();Qe(this._box,f.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(Ye(this._box),_n(this._container,"leaflet-crosshair")),Cs(),Ya(),d(document,{contextmenu:$,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var f=new Be(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Zt.addInitHook("addHandler","boxZoom",xc),Zt.mergeOptions({doubleClickZoom:!0});var Tc=ni.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var f=this._map,m=f.getZoom(),y=f.options.zoomDelta,w=a.originalEvent.shiftKey?m-y:m+y;f.options.doubleClickZoom==="center"?f.setZoom(w):f.setZoomAround(a.containerPoint,w)}});Zt.addInitHook("addHandler","doubleClickZoom",Tc),Zt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Nc=ni.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new jo(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}ce(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_n(this._map._container,"leaflet-grab"),_n(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=Fe(this._map.options.maxBounds);this._offsetLimit=jt(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var f=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(f),this._prunePositions(f)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,f){return a-(a-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;a.x<f.min.x&&(a.x=this._viscousLimit(a.x,f.min.x)),a.y<f.min.y&&(a.y=this._viscousLimit(a.y,f.min.y)),a.x>f.max.x&&(a.x=this._viscousLimit(a.x,f.max.x)),a.y>f.max.y&&(a.y=this._viscousLimit(a.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,f=Math.round(a/2),m=this._initialWorldOffset,y=this._draggable._newPos.x,w=(y-f+m)%a+f-m,N=(y+f+m)%a-f-m,X=Math.abs(w+m)<Math.abs(N+m)?w:N;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=X},_onDragEnd:function(a){var f=this._map,m=f.options,y=!m.inertia||a.noInertia||this._times.length<2;if(f.fire("dragend",a),y)f.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),N=(this._lastTime-this._times[0])/1e3,X=m.easeLinearity,et=w.multiplyBy(X/N),ot=et.distanceTo([0,0]),vt=Math.min(m.inertiaMaxSpeed,ot),At=et.multiplyBy(vt/ot),ne=vt/(m.inertiaDeceleration*X),Ne=At.multiplyBy(-ne/2).round();!Ne.x&&!Ne.y?f.fire("moveend"):(Ne=f._limitOffset(Ne,f.options.maxBounds),rt(function(){f.panBy(Ne,{duration:ne,easeLinearity:X,noMoveStart:!0,animate:!0})}))}}});Zt.addInitHook("addHandler","dragging",Nc),Zt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Oc=ni.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),oe(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),d(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,f=document.documentElement,m=a.scrollTop||f.scrollTop,y=a.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(y,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var f=this._panKeys={},m=this.keyCodes,y,w;for(y=0,w=m.left.length;y<w;y++)f[m.left[y]]=[-1*a,0];for(y=0,w=m.right.length;y<w;y++)f[m.right[y]]=[a,0];for(y=0,w=m.down.length;y<w;y++)f[m.down[y]]=[0,a];for(y=0,w=m.up.length;y<w;y++)f[m.up[y]]=[0,-1*a]},_setZoomDelta:function(a){var f=this._zoomKeys={},m=this.keyCodes,y,w;for(y=0,w=m.zoomIn.length;y<w;y++)f[m.zoomIn[y]]=a;for(y=0,w=m.zoomOut.length;y<w;y++)f[m.zoomOut[y]]=-a},_addHooks:function(){oe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){d(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var f=a.keyCode,m=this._map,y;if(f in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(y=this._panKeys[f],a.shiftKey&&(y=Rt(y).multiplyBy(3)),m.options.maxBounds&&(y=m._limitOffset(Rt(y),m.options.maxBounds)),m.options.worldCopyJump){var w=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(y)));m.panTo(w)}else m.panBy(y)}else if(f in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;$(a)}}});Zt.addInitHook("addHandler","keyboard",Oc),Zt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Dc=ni.extend({addHooks:function(){oe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){d(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var f=Dt(a),m=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var y=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),y),$(a)},_performZoom:function(){var a=this._map,f=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,N=m?Math.ceil(w/m)*m:w,X=a._limitZoom(f+(this._delta>0?N:-N))-f;this._delta=0,this._startTime=null,X&&(a.options.scrollWheelZoom==="center"?a.setZoom(f+X):a.setZoomAround(this._lastMousePos,f+X))}});Zt.addInitHook("addHandler","scrollWheelZoom",Dc);var tg=600;Zt.mergeOptions({tapHold:Ft.touchNative&&Ft.safari&&Ft.mobile,tapTolerance:15});var Rc=ni.extend({addHooks:function(){oe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){d(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var f=a.touches[0];this._startPos=this._newPos=new at(f.clientX,f.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(oe(document,"touchend",H),oe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),tg),oe(document,"touchend touchcancel contextmenu",this._cancel,this),oe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){d(document,"touchend",H),d(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),d(document,"touchend touchcancel contextmenu",this._cancel,this),d(document,"touchmove",this._onMove,this)},_onMove:function(a){var f=a.touches[0];this._newPos=new at(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,f){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});m._simulated=!0,f.target.dispatchEvent(m)}});Zt.addInitHook("addHandler","tapHold",Rc),Zt.mergeOptions({touchZoom:Ft.touch,bounceAtZoomLimits:!0});var Ac=ni.extend({addHooks:function(){ce(this._map._container,"leaflet-touch-zoom"),oe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_n(this._map._container,"leaflet-touch-zoom"),d(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var f=this._map;if(!(!a.touches||a.touches.length!==2||f._animatingZoom||this._zooming)){var m=f.mouseEventToContainerPoint(a.touches[0]),y=f.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(m.add(y)._divideBy(2))),this._startDist=m.distanceTo(y),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),oe(document,"touchmove",this._onTouchMove,this),oe(document,"touchend touchcancel",this._onTouchEnd,this),H(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var f=this._map,m=f.mouseEventToContainerPoint(a.touches[0]),y=f.mouseEventToContainerPoint(a.touches[1]),w=m.distanceTo(y)/this._startDist;if(this._zoom=f.getScaleZoom(w,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&w<1||this._zoom>f.getMaxZoom()&&w>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var N=m._add(y)._divideBy(2)._subtract(this._centerPoint);if(w===1&&N.x===0&&N.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(N),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),st(this._animRequest);var X=s(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=rt(X,this,!0),H(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,st(this._animRequest),d(document,"touchmove",this._onTouchMove,this),d(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Zt.addInitHook("addHandler","touchZoom",Ac),Zt.BoxZoom=xc,Zt.DoubleClickZoom=Tc,Zt.Drag=Nc,Zt.Keyboard=Oc,Zt.ScrollWheelZoom=Dc,Zt.TapHold=Rc,Zt.TouchZoom=Ac,e.Bounds=Tt,e.Browser=Ft,e.CRS=pr,e.Canvas=Pc,e.Circle=rh,e.CircleMarker=Zl,e.Class=ut,e.Control=We,e.DivIcon=wc,e.DivOverlay=Ji,e.DomEvent=fe,e.DomUtil=Ju,e.Draggable=jo,e.Evented=Vt,e.FeatureGroup=wo,e.GeoJSON=Mo,e.GridLayer=tl,e.Handler=ni,e.Icon=ra,e.ImageOverlay=Wl,e.LatLng=le,e.LatLngBounds=Be,e.Layer=Ii,e.LayerGroup=na,e.LineUtil=xd,e.Map=Zt,e.Marker=Hl,e.Mixin=Md,e.Path=qo,e.Point=at,e.PolyUtil=Td,e.Polygon=ia,e.Polyline=Eo,e.Popup=Kl,e.PosAnimation=He,e.Projection=Nd,e.Rectangle=kc,e.Renderer=Po,e.SVG=nl,e.SVGOverlay=Cc,e.TileLayer=sa,e.Tooltip=Jl,e.Transformation=_o,e.Util=_t,e.VideoOverlay=bc,e.bind=s,e.bounds=jt,e.canvas=Sc,e.circle=Gd,e.circleMarker=Fd,e.control=Yn,e.divIcon=Wd,e.extend=i,e.featureGroup=Ad,e.geoJSON=Lc,e.geoJson=Hd,e.gridLayer=Kd,e.icon=Bd,e.imageOverlay=Zd,e.latLng=Le,e.latLngBounds=Fe,e.layerGroup=Rd,e.map=Ze,e.marker=zd,e.point=Rt,e.polygon=Ud,e.polyline=Vd,e.popup=Xd,e.rectangle=$d,e.setOptions=S,e.stamp=l,e.svg=Ic,e.svgOverlay=qd,e.tileLayer=Ec,e.tooltip=Yd,e.transformation=$r,e.version=n,e.videoOverlay=jd;var eg=window.L;e.noConflict=function(){return window.L=eg,this},window.L=e})})(Eg,$e);const Wn=$e,lu=Ci([]),Mg=Ci([]),ul=Ci(!1),yh=Ci(!1),_u=Ci(!1),Lh=Ci(!1);function Pg(){const{subscribe:r,set:t,update:e}=Ci(new Map([]));return{subscribe:r,add:(n,i)=>e(o=>new Map(o.set(n,i))),remove:n=>e(i=>(i.delete(n),new Map(i)))}}const eu=Pg();function Sg(){const{subscribe:r,set:t,update:e}=Ci(new Map([]));return{subscribe:r,reset:()=>t(new Map([])),set:(n,i)=>t(new Map([[n,i]])),add:(n,i)=>e(o=>o.get(n)?(o.delete(n),new Map(o)):new Map(o.set(n,i))),remove:n=>e(i=>(i.delete(n),new Map(i)))}}const Is=Sg();function yp(r,t,e){if(r!==null)for(var n,i,o,s,u,l,p,g=0,c=0,_,C=r.type,M=C==="FeatureCollection",S=C==="Feature",P=M?r.features.length:1,k=0;k<P;k++){p=M?r.features[k].geometry:S?r.geometry:r,_=p?p.type==="GeometryCollection":!1,u=_?p.geometries.length:1;for(var D=0;D<u;D++){var O=0,x=0;if(s=_?p.geometries[D]:p,s!==null){l=s.coordinates;var R=s.type;switch(g=e&&(R==="Polygon"||R==="MultiPolygon")?1:0,R){case null:break;case"Point":if(t(l,c,k,O,x)===!1)return!1;c++,O++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(t(l[n],c,k,O,x)===!1)return!1;c++,R==="MultiPoint"&&O++}R==="LineString"&&O++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(i=0;i<l[n].length-g;i++){if(t(l[n][i],c,k,O,x)===!1)return!1;c++}R==="MultiLineString"&&O++,R==="Polygon"&&x++}R==="Polygon"&&O++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(x=0,i=0;i<l[n].length;i++){for(o=0;o<l[n][i].length-g;o++){if(t(l[n][i][o],c,k,O,x)===!1)return!1;c++}x++}O++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(yp(s.geometries[n],t,e)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function jc(r,t){if(r.type==="Feature")t(r,0);else if(r.type==="FeatureCollection")for(var e=0;e<r.features.length&&t(r.features[e],e)!==!1;e++);}function Gh(r,t){var e,n,i,o,s,u,l,p,g,c,_=0,C=r.type==="FeatureCollection",M=r.type==="Feature",S=C?r.features.length:1;for(e=0;e<S;e++){for(u=C?r.features[e].geometry:M?r.geometry:r,p=C?r.features[e].properties:M?r.properties:{},g=C?r.features[e].bbox:M?r.bbox:void 0,c=C?r.features[e].id:M?r.id:void 0,l=u?u.type==="GeometryCollection":!1,s=l?u.geometries.length:1,i=0;i<s;i++){if(o=l?u.geometries[i]:u,o===null){if(t(null,_,p,g,c)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(o,_,p,g,c)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<o.geometries.length;n++)if(t(o.geometries[n],_,p,g,c)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function bh(r){var t=[1/0,1/0,-1/0,-1/0];return yp(r,function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])}),t}bh.default=bh;function Ig(r,t){t===void 0&&(t={});var e=bh(r),n=(e[0]+e[2])/2,i=(e[1]+e[3])/2;return gu([n,i],t.properties,t)}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(this===void 0||this===null)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,i=1 in arguments&&parseInt(Number(arguments[1]),10)||0;i=i<0?Math.max(n+i,0):Math.min(i,n);var o=2 in arguments&&arguments[2]!==void 0?parseInt(Number(arguments[2]),10)||0:n;for(o=o<0?Math.max(n+arguments[2],0):Math.min(o,n);i<o;)e[i]=t,++i;return e},writable:!0});Number.isFinite=Number.isFinite||function(r){return typeof r=="number"&&isFinite(r)};Number.isInteger=Number.isInteger||function(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r};Number.parseFloat=Number.parseFloat||parseFloat;Number.isNaN=Number.isNaN||function(r){return r!==r};Math.trunc=Math.trunc||function(r){return r<0?Math.ceil(r):Math.floor(r)};var ks=function(){};ks.prototype.interfaces_=function(){return[]};ks.prototype.getClass=function(){return ks};ks.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var Ke=function(r){function t(e){r.call(this,e),this.name="IllegalArgumentException",this.message=e,this.stack=new r().stack}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t}(Error),Yt=function(){},Lp={MAX_VALUE:{configurable:!0}};Yt.isNaN=function(t){return Number.isNaN(t)};Yt.doubleToLongBits=function(t){return t};Yt.longBitsToDouble=function(t){return t};Yt.isInfinite=function(t){return!Number.isFinite(t)};Lp.MAX_VALUE.get=function(){return Number.MAX_VALUE};Object.defineProperties(Yt,Lp);var zr=function(){},Ou=function(){},ca=function(){};function Fr(){}var J=function r(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)this.x=0,this.y=0,this.z=r.NULL_ORDINATE;else if(arguments.length===1){var t=arguments[0];this.x=t.x,this.y=t.y,this.z=t.z}else arguments.length===2?(this.x=arguments[0],this.y=arguments[1],this.z=r.NULL_ORDINATE):arguments.length===3&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Us={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};J.prototype.setOrdinate=function(t,e){switch(t){case J.X:this.x=e;break;case J.Y:this.y=e;break;case J.Z:this.z=e;break;default:throw new Ke("Invalid ordinate index: "+t)}};J.prototype.equals2D=function(){if(arguments.length===1){var t=arguments[0];return!(this.x!==t.x||this.y!==t.y)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];return!(!ks.equalsWithTolerance(this.x,e.x,n)||!ks.equalsWithTolerance(this.y,e.y,n))}};J.prototype.getOrdinate=function(t){switch(t){case J.X:return this.x;case J.Y:return this.y;case J.Z:return this.z}throw new Ke("Invalid ordinate index: "+t)};J.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||Yt.isNaN(this.z))&&Yt.isNaN(t.z)};J.prototype.equals=function(t){return t instanceof J?this.equals2D(t):!1};J.prototype.equalInZ=function(t,e){return ks.equalsWithTolerance(this.z,t.z,e)};J.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0};J.prototype.clone=function(){};J.prototype.copy=function(){return new J(this)};J.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"};J.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return Math.sqrt(e*e+n*n+i*i)};J.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)};J.prototype.hashCode=function(){var t=17;return t=37*t+J.hashCode(this.x),t=37*t+J.hashCode(this.y),t};J.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z};J.prototype.interfaces_=function(){return[zr,Ou,Fr]};J.prototype.getClass=function(){return J};J.hashCode=function(){if(arguments.length===1){var t=arguments[0],e=Yt.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}};Us.DimensionalComparator.get=function(){return So};Us.serialVersionUID.get=function(){return 6683108902428367e3};Us.NULL_ORDINATE.get=function(){return Yt.NaN};Us.X.get=function(){return 0};Us.Y.get=function(){return 1};Us.Z.get=function(){return 2};Object.defineProperties(J,Us);var So=function(t){if(this._dimensionsToTest=2,arguments.length!==0){if(arguments.length===1){var e=arguments[0];if(e!==2&&e!==3)throw new Ke("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}}};So.prototype.compare=function(t,e){var n=t,i=e,o=So.compare(n.x,i.x);if(o!==0)return o;var s=So.compare(n.y,i.y);if(s!==0)return s;if(this._dimensionsToTest<=2)return 0;var u=So.compare(n.z,i.z);return u};So.prototype.interfaces_=function(){return[ca]};So.prototype.getClass=function(){return So};So.compare=function(t,e){return t<e?-1:t>e?1:Yt.isNaN(t)?Yt.isNaN(e)?0:-1:Yt.isNaN(e)?1:0};var fa=function(){};fa.prototype.create=function(){};fa.prototype.interfaces_=function(){return[]};fa.prototype.getClass=function(){return fa};var tt=function(){},Sl={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};tt.prototype.interfaces_=function(){return[]};tt.prototype.getClass=function(){return tt};tt.toLocationSymbol=function(t){switch(t){case tt.EXTERIOR:return"e";case tt.BOUNDARY:return"b";case tt.INTERIOR:return"i";case tt.NONE:return"-"}throw new Ke("Unknown location value: "+t)};Sl.INTERIOR.get=function(){return 0};Sl.BOUNDARY.get=function(){return 1};Sl.EXTERIOR.get=function(){return 2};Sl.NONE.get=function(){return-1};Object.defineProperties(tt,Sl);var Ht=function(r,t){return r.interfaces_&&r.interfaces_().indexOf(t)>-1},Er=function(){},bp={LOG_10:{configurable:!0}};Er.prototype.interfaces_=function(){return[]};Er.prototype.getClass=function(){return Er};Er.log10=function(t){var e=Math.log(t);return Yt.isInfinite(e)||Yt.isNaN(e)?e:e/Er.LOG_10};Er.min=function(t,e,n,i){var o=t;return e<o&&(o=e),n<o&&(o=n),i<o&&(o=i),o};Er.clamp=function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1],s=arguments[2];return i<o?o:i>s?s:i}};Er.wrap=function(t,e){return t<0?e- -t%e:t%e};Er.max=function(){if(arguments.length===3){var t=arguments[0],e=arguments[1],n=arguments[2],i=t;return e>i&&(i=e),n>i&&(i=n),i}else if(arguments.length===4){var o=arguments[0],s=arguments[1],u=arguments[2],l=arguments[3],p=o;return s>p&&(p=s),u>p&&(p=u),l>p&&(p=l),p}};Er.average=function(t,e){return(t+e)/2};bp.LOG_10.get=function(){return Math.log(10)};Object.defineProperties(Er,bp);var wi=function(t){this.str=t};wi.prototype.append=function(t){this.str+=t};wi.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)};wi.prototype.toString=function(t){return this.str};var fi=function(t){this.value=t};fi.prototype.intValue=function(){return this.value};fi.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0};fi.isNaN=function(t){return Number.isNaN(t)};var cl=function(){};cl.isWhitespace=function(t){return t<=32&&t>=0||t===127};cl.toUpperCase=function(t){return t.toUpperCase()};var it=function r(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof r){var e=arguments[0];this.init(e)}else if(typeof arguments[0]=="string"){var n=arguments[0];r.call(this,r.parse(n))}}else if(arguments.length===2){var i=arguments[0],o=arguments[1];this.init(i,o)}},Jr={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};it.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo};it.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),i=it.magnitude(n._hi),o=it.TEN.pow(i);n=n.divide(o),n.gt(it.TEN)?(n=n.divide(it.TEN),i+=1):n.lt(it.ONE)&&(n=n.multiply(it.TEN),i-=1);for(var s=i+1,u=new wi,l=it.MAX_PRINT_DIGITS-1,p=0;p<=l;p++){t&&p===s&&u.append(".");var g=Math.trunc(n._hi);if(g<0)break;var c=!1,_=0;g>9?(c=!0,_="9"):_="0"+g,u.append(_),n=n.subtract(it.valueOf(g)).multiply(it.TEN),c&&n.selfAdd(it.TEN);var C=!0,M=it.magnitude(n._hi);if(M<0&&Math.abs(M)>=l-p&&(C=!1),!C)break}return e[0]=i,u.toString()};it.prototype.sqr=function(){return this.multiply(this)};it.prototype.doubleValue=function(){return this._hi+this._lo};it.prototype.subtract=function(){if(arguments[0]instanceof it){var t=arguments[0];return this.add(t.negate())}else if(typeof arguments[0]=="number"){var e=arguments[0];return this.add(-e)}};it.prototype.equals=function(){if(arguments.length===1){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}};it.prototype.isZero=function(){return this._hi===0&&this._lo===0};it.prototype.selfSubtract=function(){if(arguments[0]instanceof it){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}else if(typeof arguments[0]=="number"){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}};it.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null};it.prototype.min=function(t){return this.le(t)?this:t};it.prototype.selfDivide=function(){if(arguments.length===1){if(arguments[0]instanceof it){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}else if(typeof arguments[0]=="number"){var e=arguments[0];return this.selfDivide(e,0)}}else if(arguments.length===2){var n=arguments[0],i=arguments[1],o=null,s=null,u=null,l=null,p=null,g=null,c=null,_=null;return p=this._hi/n,g=it.SPLIT*p,o=g-p,_=it.SPLIT*n,o=g-o,s=p-o,u=_-n,c=p*n,u=_-u,l=n-u,_=o*u-c+o*l+s*u+s*l,g=(this._hi-c-_+this._lo-p*i)/n,_=p+g,this._hi=_,this._lo=p-_+g,this}};it.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"};it.prototype.divide=function(){if(arguments[0]instanceof it){var t=arguments[0],e=null,n=null,i=null,o=null,s=null,u=null,l=null,p=null;s=this._hi/t._hi,u=it.SPLIT*s,e=u-s,p=it.SPLIT*t._hi,e=u-e,n=s-e,i=p-t._hi,l=s*t._hi,i=p-i,o=t._hi-i,p=e*i-l+e*o+n*i+n*o,u=(this._hi-l-p+this._lo-s*t._lo)/t._hi,p=s+u;var g=p,c=s-p+u;return new it(g,c)}else if(typeof arguments[0]=="number"){var _=arguments[0];return Yt.isNaN(_)?it.createNaN():it.copy(this).selfDivide(_,0)}};it.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo};it.prototype.pow=function(t){if(t===0)return it.valueOf(1);var e=new it(this),n=it.valueOf(1),i=Math.abs(t);if(i>1)for(;i>0;)i%2===1&&n.selfMultiply(e),i/=2,i>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n};it.prototype.ceil=function(){if(this.isNaN())return it.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new it(t,e)};it.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0};it.prototype.rint=function(){if(this.isNaN())return this;var t=this.add(.5);return t.floor()};it.prototype.setValue=function(){if(arguments[0]instanceof it){var t=arguments[0];return this.init(t),this}else if(typeof arguments[0]=="number"){var e=arguments[0];return this.init(e),this}};it.prototype.max=function(t){return this.ge(t)?this:t};it.prototype.sqrt=function(){if(this.isZero())return it.valueOf(0);if(this.isNegative())return it.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=it.valueOf(e),i=this.subtract(n.sqr()),o=i._hi*(t*.5);return n.add(o)};it.prototype.selfAdd=function(){if(arguments.length===1){if(arguments[0]instanceof it){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}else if(typeof arguments[0]=="number"){var e=arguments[0],n=null,i=null,o=null,s=null,u=null,l=null;return o=this._hi+e,u=o-this._hi,s=o-u,s=e-u+(this._hi-s),l=s+this._lo,n=o+l,i=l+(o-n),this._hi=n+i,this._lo=i+(n-this._hi),this}}else if(arguments.length===2){var p=arguments[0],g=arguments[1],c=null,_=null,C=null,M=null,S=null,P=null,k=null,D=null;S=this._hi+p,C=this._lo+g,k=S-this._hi,D=C-this._lo,P=S-k,M=C-D,P=p-k+(this._hi-P),M=g-D+(this._lo-M),k=P+C,c=S+k,_=k+(S-c),k=M+_;var O=c+k,x=k+(c-O);return this._hi=O,this._lo=x,this}};it.prototype.selfMultiply=function(){if(arguments.length===1){if(arguments[0]instanceof it){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}else if(typeof arguments[0]=="number"){var e=arguments[0];return this.selfMultiply(e,0)}}else if(arguments.length===2){var n=arguments[0],i=arguments[1],o=null,s=null,u=null,l=null,p=null,g=null;p=it.SPLIT*this._hi,o=p-this._hi,g=it.SPLIT*n,o=p-o,s=this._hi-o,u=g-n,p=this._hi*n,u=g-u,l=n-u,g=o*u-p+o*l+s*u+s*l+(this._hi*i+this._lo*n);var c=p+g;o=p-c;var _=g+o;return this._hi=c,this._lo=_,this}};it.prototype.selfSqr=function(){return this.selfMultiply(this)};it.prototype.floor=function(){if(this.isNaN())return it.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new it(t,e)};it.prototype.negate=function(){return this.isNaN()?this:new it(-this._hi,-this._lo)};it.prototype.clone=function(){};it.prototype.multiply=function(){if(arguments[0]instanceof it){var t=arguments[0];return t.isNaN()?it.createNaN():it.copy(this).selfMultiply(t)}else if(typeof arguments[0]=="number"){var e=arguments[0];return Yt.isNaN(e)?it.createNaN():it.copy(this).selfMultiply(e,0)}};it.prototype.isNaN=function(){return Yt.isNaN(this._hi)};it.prototype.intValue=function(){return Math.trunc(this._hi)};it.prototype.toString=function(){var t=it.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()};it.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(t!==null)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),i=e[0]+1,o=n;if(n.charAt(0)===".")o="0"+n;else if(i<0)o="0."+it.stringOfChar("0",-i)+n;else if(n.indexOf(".")===-1){var s=i-n.length,u=it.stringOfChar("0",s);o=n+u+".0"}return this.isNegative()?"-"+o:o};it.prototype.reciprocal=function(){var t=null,e=null,n=null,i=null,o=null,s=null,u=null,l=null;o=1/this._hi,s=it.SPLIT*o,t=s-o,l=it.SPLIT*this._hi,t=s-t,e=o-t,n=l-this._hi,u=o*this._hi,n=l-n,i=this._hi-n,l=t*n-u+t*i+e*n+e*i,s=(1-u-l-o*this._lo)/this._hi;var p=o+s,g=o-p+s;return new it(p,g)};it.prototype.toSciNotation=function(){if(this.isZero())return it.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(t!==null)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),i=it.SCI_NOT_EXPONENT_CHAR+e[0];if(n.charAt(0)==="0")throw new Error("Found leading zero: "+n);var o="";n.length>1&&(o=n.substring(1));var s=n.charAt(0)+"."+o;return this.isNegative()?"-"+s+i:s+i};it.prototype.abs=function(){return this.isNaN()?it.NaN:this.isNegative()?this.negate():new it(this)};it.prototype.isPositive=function(){return(this._hi>0||this._hi===0)&&this._lo>0};it.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo};it.prototype.add=function(){if(arguments[0]instanceof it){var t=arguments[0];return it.copy(this).selfAdd(t)}else if(typeof arguments[0]=="number"){var e=arguments[0];return it.copy(this).selfAdd(e)}};it.prototype.init=function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof it){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(arguments.length===2){var n=arguments[0],i=arguments[1];this._hi=n,this._lo=i}};it.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo};it.prototype.isNegative=function(){return(this._hi<0||this._hi===0)&&this._lo<0};it.prototype.trunc=function(){return this.isNaN()?it.NaN:this.isPositive()?this.floor():this.ceil()};it.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0};it.prototype.interfaces_=function(){return[Fr,zr,Ou]};it.prototype.getClass=function(){return it};it.sqr=function(t){return it.valueOf(t).selfMultiply(t)};it.valueOf=function(){if(typeof arguments[0]=="string"){var t=arguments[0];return it.parse(t)}else if(typeof arguments[0]=="number"){var e=arguments[0];return new it(e)}};it.sqrt=function(t){return it.valueOf(t).sqrt()};it.parse=function(t){for(var e=0,n=t.length;cl.isWhitespace(t.charAt(e));)e++;var i=!1;if(e<n){var o=t.charAt(e);(o==="-"||o==="+")&&(e++,o==="-"&&(i=!0))}for(var s=new it,u=0,l=0,p=0;!(e>=n);){var g=t.charAt(e);if(e++,cl.isDigit(g)){var c=g-"0";s.selfMultiply(it.TEN),s.selfAdd(c),u++;continue}if(g==="."){l=u;continue}if(g==="e"||g==="E"){var _=t.substring(e);try{p=fi.parseInt(_)}catch(k){throw k instanceof Error?new Error("Invalid exponent "+_+" in string "+t):k}finally{}break}throw new Error("Unexpected character '"+g+"' at position "+e+" in string "+t)}var C=s,M=u-l-p;if(M===0)C=s;else if(M>0){var S=it.TEN.pow(M);C=s.divide(S)}else if(M<0){var P=it.TEN.pow(-M);C=s.multiply(P)}return i?C.negate():C};it.createNaN=function(){return new it(Yt.NaN,Yt.NaN)};it.copy=function(t){return new it(t)};it.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),i=Math.trunc(Math.floor(n)),o=Math.pow(10,i);return o*10<=e&&(i+=1),i};it.stringOfChar=function(t,e){for(var n=new wi,i=0;i<e;i++)n.append(t);return n.toString()};Jr.PI.get=function(){return new it(3.141592653589793,12246467991473532e-32)};Jr.TWO_PI.get=function(){return new it(6.283185307179586,24492935982947064e-32)};Jr.PI_2.get=function(){return new it(1.5707963267948966,6123233995736766e-32)};Jr.E.get=function(){return new it(2.718281828459045,14456468917292502e-32)};Jr.NaN.get=function(){return new it(Yt.NaN,Yt.NaN)};Jr.EPS.get=function(){return 123259516440783e-46};Jr.SPLIT.get=function(){return 134217729};Jr.MAX_PRINT_DIGITS.get=function(){return 32};Jr.TEN.get=function(){return it.valueOf(10)};Jr.ONE.get=function(){return it.valueOf(1)};Jr.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"};Jr.SCI_NOT_ZERO.get=function(){return"0.0E0"};Object.defineProperties(it,Jr);var ur=function(){},Cp={DP_SAFE_EPSILON:{configurable:!0}};ur.prototype.interfaces_=function(){return[]};ur.prototype.getClass=function(){return ur};ur.orientationIndex=function(t,e,n){var i=ur.orientationIndexFilter(t,e,n);if(i<=1)return i;var o=it.valueOf(e.x).selfAdd(-t.x),s=it.valueOf(e.y).selfAdd(-t.y),u=it.valueOf(n.x).selfAdd(-e.x),l=it.valueOf(n.y).selfAdd(-e.y);return o.selfMultiply(l).selfSubtract(s.selfMultiply(u)).signum()};ur.signOfDet2x2=function(t,e,n,i){var o=t.multiply(i).selfSubtract(e.multiply(n));return o.signum()};ur.intersection=function(t,e,n,i){var o=it.valueOf(i.y).selfSubtract(n.y).selfMultiply(it.valueOf(e.x).selfSubtract(t.x)),s=it.valueOf(i.x).selfSubtract(n.x).selfMultiply(it.valueOf(e.y).selfSubtract(t.y)),u=o.subtract(s),l=it.valueOf(i.x).selfSubtract(n.x).selfMultiply(it.valueOf(t.y).selfSubtract(n.y)),p=it.valueOf(i.y).selfSubtract(n.y).selfMultiply(it.valueOf(t.x).selfSubtract(n.x)),g=l.subtract(p),c=g.selfDivide(u).doubleValue(),_=it.valueOf(t.x).selfAdd(it.valueOf(e.x).selfSubtract(t.x).selfMultiply(c)).doubleValue(),C=it.valueOf(e.x).selfSubtract(t.x).selfMultiply(it.valueOf(t.y).selfSubtract(n.y)),M=it.valueOf(e.y).selfSubtract(t.y).selfMultiply(it.valueOf(t.x).selfSubtract(n.x)),S=C.subtract(M),P=S.selfDivide(u).doubleValue(),k=it.valueOf(n.y).selfAdd(it.valueOf(i.y).selfSubtract(n.y).selfMultiply(P)).doubleValue();return new J(_,k)};ur.orientationIndexFilter=function(t,e,n){var i=null,o=(t.x-n.x)*(e.y-n.y),s=(t.y-n.y)*(e.x-n.x),u=o-s;if(o>0){if(s<=0)return ur.signum(u);i=o+s}else if(o<0){if(s>=0)return ur.signum(u);i=-o-s}else return ur.signum(u);var l=ur.DP_SAFE_EPSILON*i;return u>=l||-u>=l?ur.signum(u):2};ur.signum=function(t){return t>0?1:t<0?-1:0};Cp.DP_SAFE_EPSILON.get=function(){return 1e-15};Object.defineProperties(ur,Cp);var ve=function(){},Il={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Il.X.get=function(){return 0};Il.Y.get=function(){return 1};Il.Z.get=function(){return 2};Il.M.get=function(){return 3};ve.prototype.setOrdinate=function(t,e,n){};ve.prototype.size=function(){};ve.prototype.getOrdinate=function(t,e){};ve.prototype.getCoordinate=function(){};ve.prototype.getCoordinateCopy=function(t){};ve.prototype.getDimension=function(){};ve.prototype.getX=function(t){};ve.prototype.clone=function(){};ve.prototype.expandEnvelope=function(t){};ve.prototype.copy=function(){};ve.prototype.getY=function(t){};ve.prototype.toCoordinateArray=function(){};ve.prototype.interfaces_=function(){return[Ou]};ve.prototype.getClass=function(){return ve};Object.defineProperties(ve,Il);var wp=function(){},Da=function(r){function t(){r.call(this,"Projective point not representable on the Cartesian plane.")}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(wp),Bn=function(){};Bn.arraycopy=function(t,e,n,i,o){for(var s=0,u=e;u<e+o;u++)n[i+s]=t[u],s++};Bn.getProperty=function(t){return{"line.separator":`
`}[t]};var Ur=function r(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],n=arguments[1];this.x=e,this.y=n,this.w=1}else if(arguments[0]instanceof r&&arguments[1]instanceof r){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof J&&arguments[1]instanceof J){var s=arguments[0],u=arguments[1];this.x=s.y-u.y,this.y=u.x-s.x,this.w=s.x*u.y-u.x*s.y}}else if(arguments.length===3){var l=arguments[0],p=arguments[1],g=arguments[2];this.x=l,this.y=p,this.w=g}else if(arguments.length===4){var c=arguments[0],_=arguments[1],C=arguments[2],M=arguments[3],S=c.y-_.y,P=_.x-c.x,k=c.x*_.y-_.x*c.y,D=C.y-M.y,O=M.x-C.x,x=C.x*M.y-M.x*C.y;this.x=P*x-O*k,this.y=D*k-S*x,this.w=S*O-D*P}};Ur.prototype.getY=function(){var t=this.y/this.w;if(Yt.isNaN(t)||Yt.isInfinite(t))throw new Da;return t};Ur.prototype.getX=function(){var t=this.x/this.w;if(Yt.isNaN(t)||Yt.isInfinite(t))throw new Da;return t};Ur.prototype.getCoordinate=function(){var t=new J;return t.x=this.getX(),t.y=this.getY(),t};Ur.prototype.interfaces_=function(){return[]};Ur.prototype.getClass=function(){return Ur};Ur.intersection=function(t,e,n,i){var o=t.y-e.y,s=e.x-t.x,u=t.x*e.y-e.x*t.y,l=n.y-i.y,p=i.x-n.x,g=n.x*i.y-i.x*n.y,c=s*g-p*u,_=l*u-o*g,C=o*p-l*s,M=c/C,S=_/C;if(Yt.isNaN(M)||Yt.isInfinite(M)||Yt.isNaN(S)||Yt.isInfinite(S))throw new Da;return new J(M,S)};var Bt=function r(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof J){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof r){var e=arguments[0];this.init(e)}}else if(arguments.length===2){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(arguments.length===4){var o=arguments[0],s=arguments[1],u=arguments[2],l=arguments[3];this.init(o,s,u,l)}},Ep={serialVersionUID:{configurable:!0}};Bt.prototype.getArea=function(){return this.getWidth()*this.getHeight()};Bt.prototype.equals=function(t){if(!(t instanceof Bt))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()};Bt.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new Bt;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,i=this._maxx<t._maxx?this._maxx:t._maxx,o=this._maxy<t._maxy?this._maxy:t._maxy;return new Bt(e,i,n,o)};Bt.prototype.isNull=function(){return this._maxx<this._minx};Bt.prototype.getMaxX=function(){return this._maxx};Bt.prototype.covers=function(){if(arguments.length===1){if(arguments[0]instanceof J){var t=arguments[0];return this.covers(t.x,t.y)}else if(arguments[0]instanceof Bt){var e=arguments[0];return this.isNull()||e.isNull()?!1:e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(arguments.length===2){var n=arguments[0],i=arguments[1];return this.isNull()?!1:n>=this._minx&&n<=this._maxx&&i>=this._miny&&i<=this._maxy}};Bt.prototype.intersects=function(){if(arguments.length===1){if(arguments[0]instanceof Bt){var t=arguments[0];return this.isNull()||t.isNull()?!1:!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}else if(arguments[0]instanceof J){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(arguments.length===2){var n=arguments[0],i=arguments[1];return this.isNull()?!1:!(n>this._maxx||n<this._minx||i>this._maxy||i<this._miny)}};Bt.prototype.getMinY=function(){return this._miny};Bt.prototype.getMinX=function(){return this._minx};Bt.prototype.expandToInclude=function(){if(arguments.length===1){if(arguments[0]instanceof J){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof Bt){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(arguments.length===2){var n=arguments[0],i=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=i,this._maxy=i):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),i<this._miny&&(this._miny=i),i>this._maxy&&(this._maxy=i))}};Bt.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e};Bt.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx};Bt.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0};Bt.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)};Bt.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"};Bt.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1};Bt.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny};Bt.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e};Bt.prototype.expandBy=function(){if(arguments.length===1){var t=arguments[0];this.expandBy(t,t)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}};Bt.prototype.contains=function(){if(arguments.length===1){if(arguments[0]instanceof Bt){var t=arguments[0];return this.covers(t)}else if(arguments[0]instanceof J){var e=arguments[0];return this.covers(e)}}else if(arguments.length===2){var n=arguments[0],i=arguments[1];return this.covers(n,i)}};Bt.prototype.centre=function(){return this.isNull()?null:new J((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)};Bt.prototype.init=function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof J){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof Bt){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(arguments.length===2){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(arguments.length===4){var o=arguments[0],s=arguments[1],u=arguments[2],l=arguments[3];o<s?(this._minx=o,this._maxx=s):(this._minx=s,this._maxx=o),u<l?(this._miny=u,this._maxy=l):(this._miny=l,this._maxy=u)}};Bt.prototype.getMaxY=function(){return this._maxy};Bt.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),e===0?n:n===0?e:Math.sqrt(e*e+n*n)};Bt.prototype.hashCode=function(){var t=17;return t=37*t+J.hashCode(this._minx),t=37*t+J.hashCode(this._maxx),t=37*t+J.hashCode(this._miny),t=37*t+J.hashCode(this._maxy),t};Bt.prototype.interfaces_=function(){return[zr,Fr]};Bt.prototype.getClass=function(){return Bt};Bt.intersects=function(){if(arguments.length===3){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}else if(arguments.length===4){var i=arguments[0],o=arguments[1],s=arguments[2],u=arguments[3],l=Math.min(s.x,u.x),p=Math.max(s.x,u.x),g=Math.min(i.x,o.x),c=Math.max(i.x,o.x);return!(g>p||c<l||(l=Math.min(s.y,u.y),p=Math.max(s.y,u.y),g=Math.min(i.y,o.y),c=Math.max(i.y,o.y),g>p)||c<l)}};Ep.serialVersionUID.get=function(){return 5873921885273102e3};Object.defineProperties(Bt,Ep);var oi={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Du=function(t){this.geometryFactory=t||new se};Du.prototype.read=function(t){var e,n,i;t=t.replace(/[\n\r]/g," ");var o=oi.typeStr.exec(t);if(t.search("EMPTY")!==-1&&(o=oi.emptyTypeStr.exec(t),o[2]=void 0),o&&(n=o[1].toLowerCase(),i=o[2],la[n]&&(e=la[n].apply(this,[i]))),e===void 0)throw new Error("Could not parse WKT "+t);return e};Du.prototype.write=function(t){return this.extractGeometry(t)};Du.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!$i[e])return null;var n=e.toUpperCase(),i;return t.isEmpty()?i=n+" EMPTY":i=n+"("+$i[e].apply(this,[t])+")",i};var $i={coordinate:function(t){return t.x+" "+t.y},point:function(t){return $i.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=this,n=[],i=0,o=t._geometries.length;i<o;++i)n.push("("+$i.point.apply(e,[t._geometries[i]])+")");return n.join(",")},linestring:function(t){for(var e=this,n=[],i=0,o=t._points._coordinates.length;i<o;++i)n.push($i.coordinate.apply(e,[t._points._coordinates[i]]));return n.join(",")},linearring:function(t){for(var e=this,n=[],i=0,o=t._points._coordinates.length;i<o;++i)n.push($i.coordinate.apply(e,[t._points._coordinates[i]]));return n.join(",")},multilinestring:function(t){for(var e=this,n=[],i=0,o=t._geometries.length;i<o;++i)n.push("("+$i.linestring.apply(e,[t._geometries[i]])+")");return n.join(",")},polygon:function(t){var e=this,n=[];n.push("("+$i.linestring.apply(this,[t._shell])+")");for(var i=0,o=t._holes.length;i<o;++i)n.push("("+$i.linestring.apply(e,[t._holes[i]])+")");return n.join(",")},multipolygon:function(t){for(var e=this,n=[],i=0,o=t._geometries.length;i<o;++i)n.push("("+$i.polygon.apply(e,[t._geometries[i]])+")");return n.join(",")},geometrycollection:function(t){for(var e=this,n=[],i=0,o=t._geometries.length;i<o;++i)n.push(e.extractGeometry(t._geometries[i]));return n.join(",")}},la={point:function(t){if(t===void 0)return this.geometryFactory.createPoint();var e=t.trim().split(oi.spaces);return this.geometryFactory.createPoint(new J(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){var e=this;if(t===void 0)return this.geometryFactory.createMultiPoint();for(var n,i=t.trim().split(","),o=[],s=0,u=i.length;s<u;++s)n=i[s].replace(oi.trimParens,"$1"),o.push(la.point.apply(e,[n]));return this.geometryFactory.createMultiPoint(o)},linestring:function(t){if(t===void 0)return this.geometryFactory.createLineString();for(var e=t.trim().split(","),n=[],i,o=0,s=e.length;o<s;++o)i=e[o].trim().split(oi.spaces),n.push(new J(Number.parseFloat(i[0]),Number.parseFloat(i[1])));return this.geometryFactory.createLineString(n)},linearring:function(t){if(t===void 0)return this.geometryFactory.createLinearRing();for(var e=t.trim().split(","),n=[],i,o=0,s=e.length;o<s;++o)i=e[o].trim().split(oi.spaces),n.push(new J(Number.parseFloat(i[0]),Number.parseFloat(i[1])));return this.geometryFactory.createLinearRing(n)},multilinestring:function(t){var e=this;if(t===void 0)return this.geometryFactory.createMultiLineString();for(var n,i=t.trim().split(oi.parenComma),o=[],s=0,u=i.length;s<u;++s)n=i[s].replace(oi.trimParens,"$1"),o.push(la.linestring.apply(e,[n]));return this.geometryFactory.createMultiLineString(o)},polygon:function(t){var e=this;if(t===void 0)return this.geometryFactory.createPolygon();for(var n,i,o,s=t.trim().split(oi.parenComma),u,l=[],p=0,g=s.length;p<g;++p)n=s[p].replace(oi.trimParens,"$1"),i=la.linestring.apply(e,[n]),o=e.geometryFactory.createLinearRing(i._points),p===0?u=o:l.push(o);return this.geometryFactory.createPolygon(u,l)},multipolygon:function(t){var e=this;if(t===void 0)return this.geometryFactory.createMultiPolygon();for(var n,i=t.trim().split(oi.doubleParenComma),o=[],s=0,u=i.length;s<u;++s)n=i[s].replace(oi.trimParens,"$1"),o.push(la.polygon.apply(e,[n]));return this.geometryFactory.createMultiPolygon(o)},geometrycollection:function(t){var e=this;if(t===void 0)return this.geometryFactory.createGeometryCollection();t=t.replace(/,\s*([A-Za-z])/g,"|$1");for(var n=t.trim().split("|"),i=[],o=0,s=n.length;o<s;++o)i.push(e.read(n[o]));return this.geometryFactory.createGeometryCollection(i)}},Zr=function(t){this.parser=new Du(t)};Zr.prototype.write=function(t){return this.parser.write(t)};Zr.toLineString=function(t,e){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var ao=function(r){function t(e){r.call(this,e),this.name="RuntimeException",this.message=e,this.stack=new r().stack}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t}(Error),mu=function(r){function t(){if(r.call(this),arguments.length===0)r.call(this);else if(arguments.length===1){var e=arguments[0];r.call(this,e)}}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(ao),Jt=function(){};Jt.prototype.interfaces_=function(){return[]};Jt.prototype.getClass=function(){return Jt};Jt.shouldNeverReachHere=function(){if(arguments.length===0)Jt.shouldNeverReachHere(null);else if(arguments.length===1){var t=arguments[0];throw new mu("Should never reach here"+(t!==null?": "+t:""))}};Jt.isTrue=function(){var t,e;if(arguments.length===1)t=arguments[0],Jt.isTrue(t,null);else if(arguments.length===2&&(t=arguments[0],e=arguments[1],!t))throw e===null?new mu:new mu(e)};Jt.equals=function(){var t,e,n;if(arguments.length===2)t=arguments[0],e=arguments[1],Jt.equals(t,e,null);else if(arguments.length===3&&(t=arguments[0],e=arguments[1],n=arguments[2],!e.equals(t)))throw new mu("Expected "+t+" but encountered "+e+(n!==null?": "+n:""))};var tn=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new J,this._intPt[1]=new J,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Hs={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};tn.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]};tn.prototype.getTopologySummary=function(){var t=new wi;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()};tn.prototype.computeIntersection=function(t,e,n,i){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=i,this._result=this.computeIntersect(t,e,n,i)};tn.prototype.getIntersectionNum=function(){return this._result};tn.prototype.computeIntLineIndex=function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var t=arguments[0],e=this.getEdgeDistance(t,0),n=this.getEdgeDistance(t,1);e>n?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}};tn.prototype.isProper=function(){return this.hasIntersection()&&this._isProper};tn.prototype.setPrecisionModel=function(t){this._precisionModel=t};tn.prototype.isInteriorIntersection=function(){var t=this;if(arguments.length===0)return!!(this.isInteriorIntersection(0)||this.isInteriorIntersection(1));if(arguments.length===1){for(var e=arguments[0],n=0;n<this._result;n++)if(!(t._intPt[n].equals2D(t._inputLines[e][0])||t._intPt[n].equals2D(t._inputLines[e][1])))return!0;return!1}};tn.prototype.getIntersection=function(t){return this._intPt[t]};tn.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper};tn.prototype.hasIntersection=function(){return this._result!==tn.NO_INTERSECTION};tn.prototype.getEdgeDistance=function(t,e){var n=tn.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1]);return n};tn.prototype.isCollinear=function(){return this._result===tn.COLLINEAR_INTERSECTION};tn.prototype.toString=function(){return Zr.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Zr.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()};tn.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]};tn.prototype.isIntersection=function(t){for(var e=this,n=0;n<this._result;n++)if(e._intPt[n].equals2D(t))return!0;return!1};tn.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]};tn.prototype.interfaces_=function(){return[]};tn.prototype.getClass=function(){return tn};tn.computeEdgeDistance=function(t,e,n){var i=Math.abs(n.x-e.x),o=Math.abs(n.y-e.y),s=-1;if(t.equals(e))s=0;else if(t.equals(n))i>o?s=i:s=o;else{var u=Math.abs(t.x-e.x),l=Math.abs(t.y-e.y);i>o?s=u:s=l,s===0&&!t.equals(e)&&(s=Math.max(u,l))}return Jt.isTrue(!(s===0&&!t.equals(e)),"Bad distance calculation"),s};tn.nonRobustComputeEdgeDistance=function(t,e,n){var i=t.x-e.x,o=t.y-e.y,s=Math.sqrt(i*i+o*o);return Jt.isTrue(!(s===0&&!t.equals(e)),"Invalid distance calculation"),s};Hs.DONT_INTERSECT.get=function(){return 0};Hs.DO_INTERSECT.get=function(){return 1};Hs.COLLINEAR.get=function(){return 2};Hs.NO_INTERSECTION.get=function(){return 0};Hs.POINT_INTERSECTION.get=function(){return 1};Hs.COLLINEAR_INTERSECTION.get=function(){return 2};Object.defineProperties(tn,Hs);var ps=function(r){function t(){r.apply(this,arguments)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.isInSegmentEnvelopes=function(n){var i=new Bt(this._inputLines[0][0],this._inputLines[0][1]),o=new Bt(this._inputLines[1][0],this._inputLines[1][1]);return i.contains(n)&&o.contains(n)},t.prototype.computeIntersection=function(){if(arguments.length===3){var n=arguments[0],i=arguments[1],o=arguments[2];if(this._isProper=!1,Bt.intersects(i,o,n)&&xt.orientationIndex(i,o,n)===0&&xt.orientationIndex(o,i,n)===0)return this._isProper=!0,(n.equals(i)||n.equals(o))&&(this._isProper=!1),this._result=r.POINT_INTERSECTION,null;this._result=r.NO_INTERSECTION}else return r.prototype.computeIntersection.apply(this,arguments)},t.prototype.normalizeToMinimum=function(n,i,o,s,u){u.x=this.smallestInAbsValue(n.x,i.x,o.x,s.x),u.y=this.smallestInAbsValue(n.y,i.y,o.y,s.y),n.x-=u.x,n.y-=u.y,i.x-=u.x,i.y-=u.y,o.x-=u.x,o.y-=u.y,s.x-=u.x,s.y-=u.y},t.prototype.safeHCoordinateIntersection=function(n,i,o,s){var u=null;try{u=Ur.intersection(n,i,o,s)}catch(l){if(l instanceof Da)u=t.nearestEndpoint(n,i,o,s);else throw l}finally{}return u},t.prototype.intersection=function(n,i,o,s){var u=this.intersectionWithNormalization(n,i,o,s);return this.isInSegmentEnvelopes(u)||(u=new J(t.nearestEndpoint(n,i,o,s))),this._precisionModel!==null&&this._precisionModel.makePrecise(u),u},t.prototype.smallestInAbsValue=function(n,i,o,s){var u=n,l=Math.abs(u);return Math.abs(i)<l&&(u=i,l=Math.abs(i)),Math.abs(o)<l&&(u=o,l=Math.abs(o)),Math.abs(s)<l&&(u=s),u},t.prototype.checkDD=function(n,i,o,s,u){var l=ur.intersection(n,i,o,s),p=this.isInSegmentEnvelopes(l);Bn.out.println("DD in env = "+p+"  --------------------- "+l),u.distance(l)>1e-4&&Bn.out.println("Distance = "+u.distance(l))},t.prototype.intersectionWithNormalization=function(n,i,o,s){var u=new J(n),l=new J(i),p=new J(o),g=new J(s),c=new J;this.normalizeToEnvCentre(u,l,p,g,c);var _=this.safeHCoordinateIntersection(u,l,p,g);return _.x+=c.x,_.y+=c.y,_},t.prototype.computeCollinearIntersection=function(n,i,o,s){var u=Bt.intersects(n,i,o),l=Bt.intersects(n,i,s),p=Bt.intersects(o,s,n),g=Bt.intersects(o,s,i);return u&&l?(this._intPt[0]=o,this._intPt[1]=s,r.COLLINEAR_INTERSECTION):p&&g?(this._intPt[0]=n,this._intPt[1]=i,r.COLLINEAR_INTERSECTION):u&&p?(this._intPt[0]=o,this._intPt[1]=n,o.equals(n)&&!l&&!g?r.POINT_INTERSECTION:r.COLLINEAR_INTERSECTION):u&&g?(this._intPt[0]=o,this._intPt[1]=i,o.equals(i)&&!l&&!p?r.POINT_INTERSECTION:r.COLLINEAR_INTERSECTION):l&&p?(this._intPt[0]=s,this._intPt[1]=n,s.equals(n)&&!u&&!g?r.POINT_INTERSECTION:r.COLLINEAR_INTERSECTION):l&&g?(this._intPt[0]=s,this._intPt[1]=i,s.equals(i)&&!u&&!p?r.POINT_INTERSECTION:r.COLLINEAR_INTERSECTION):r.NO_INTERSECTION},t.prototype.normalizeToEnvCentre=function(n,i,o,s,u){var l=n.x<i.x?n.x:i.x,p=n.y<i.y?n.y:i.y,g=n.x>i.x?n.x:i.x,c=n.y>i.y?n.y:i.y,_=o.x<s.x?o.x:s.x,C=o.y<s.y?o.y:s.y,M=o.x>s.x?o.x:s.x,S=o.y>s.y?o.y:s.y,P=l>_?l:_,k=g<M?g:M,D=p>C?p:C,O=c<S?c:S,x=(P+k)/2,R=(D+O)/2;u.x=x,u.y=R,n.x-=u.x,n.y-=u.y,i.x-=u.x,i.y-=u.y,o.x-=u.x,o.y-=u.y,s.x-=u.x,s.y-=u.y},t.prototype.computeIntersect=function(n,i,o,s){if(this._isProper=!1,!Bt.intersects(n,i,o,s))return r.NO_INTERSECTION;var u=xt.orientationIndex(n,i,o),l=xt.orientationIndex(n,i,s);if(u>0&&l>0||u<0&&l<0)return r.NO_INTERSECTION;var p=xt.orientationIndex(o,s,n),g=xt.orientationIndex(o,s,i);if(p>0&&g>0||p<0&&g<0)return r.NO_INTERSECTION;var c=u===0&&l===0&&p===0&&g===0;return c?this.computeCollinearIntersection(n,i,o,s):(u===0||l===0||p===0||g===0?(this._isProper=!1,n.equals2D(o)||n.equals2D(s)?this._intPt[0]=n:i.equals2D(o)||i.equals2D(s)?this._intPt[0]=i:u===0?this._intPt[0]=new J(o):l===0?this._intPt[0]=new J(s):p===0?this._intPt[0]=new J(n):g===0&&(this._intPt[0]=new J(i))):(this._isProper=!0,this._intPt[0]=this.intersection(n,i,o,s)),r.POINT_INTERSECTION)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.nearestEndpoint=function(n,i,o,s){var u=n,l=xt.distancePointLine(n,o,s),p=xt.distancePointLine(i,o,s);return p<l&&(l=p,u=i),p=xt.distancePointLine(o,n,i),p<l&&(l=p,u=o),p=xt.distancePointLine(s,n,i),p<l&&(l=p,u=s),u},t}(tn),xs=function(){};xs.prototype.interfaces_=function(){return[]};xs.prototype.getClass=function(){return xs};xs.orientationIndex=function(t,e,n){var i=e.x-t.x,o=e.y-t.y,s=n.x-e.x,u=n.y-e.y;return xs.signOfDet2x2(i,o,s,u)};xs.signOfDet2x2=function(t,e,n,i){var o=null,s=null,u=null;if(o=1,t===0||i===0)return e===0||n===0?0:e>0?n>0?-o:o:n>0?o:-o;if(e===0||n===0)return i>0?t>0?o:-o:t>0?-o:o;if(e>0?i>0?e<=i||(o=-o,s=t,t=n,n=s,s=e,e=i,i=s):e<=-i?(o=-o,n=-n,i=-i):(s=t,t=-n,n=s,s=e,e=-i,i=s):i>0?-e<=i?(o=-o,t=-t,e=-e):(s=-t,t=n,n=s,s=-e,e=i,i=s):e>=i?(t=-t,e=-e,n=-n,i=-i):(o=-o,s=-t,t=-n,n=s,s=-e,e=-i,i=s),t>0)if(n>0){if(!(t<=n))return o}else return o;else{if(n>0)return-o;if(t>=n)o=-o,t=-t,n=-n;else return-o}for(;;){if(u=Math.floor(n/t),n=n-u*t,i=i-u*e,i<0)return-o;if(i>e)return o;if(t>n+n){if(e<i+i)return o}else{if(e>i+i)return-o;n=t-n,i=e-i,o=-o}if(i===0)return n===0?0:-o;if(n===0||(u=Math.floor(t/n),t=t-u*n,e=e-u*i,e<0))return o;if(e>i)return-o;if(n>t+t){if(i<e+e)return-o}else{if(i>e+e)return o;t=n-t,e=i-e,o=-o}if(e===0)return t===0?0:o;if(t===0)return-o}};var hi=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};hi.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,i=e.x;return n>i&&(n=e.x,i=t.x),this._p.x>=n&&this._p.x<=i&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var o=t.x-this._p.x,s=t.y-this._p.y,u=e.x-this._p.x,l=e.y-this._p.y,p=xs.signOfDet2x2(o,s,u,l);if(p===0)return this._isPointOnSegment=!0,null;l<s&&(p=-p),p>0&&this._crossingCount++}};hi.prototype.isPointInPolygon=function(){return this.getLocation()!==tt.EXTERIOR};hi.prototype.getLocation=function(){return this._isPointOnSegment?tt.BOUNDARY:this._crossingCount%2===1?tt.INTERIOR:tt.EXTERIOR};hi.prototype.isOnSegment=function(){return this._isPointOnSegment};hi.prototype.interfaces_=function(){return[]};hi.prototype.getClass=function(){return hi};hi.locatePointInRing=function(){if(arguments[0]instanceof J&&Ht(arguments[1],ve)){for(var t=arguments[0],e=arguments[1],n=new hi(t),i=new J,o=new J,s=1;s<e.size();s++)if(e.getCoordinate(s,i),e.getCoordinate(s-1,o),n.countSegment(i,o),n.isOnSegment())return n.getLocation();return n.getLocation()}else if(arguments[0]instanceof J&&arguments[1]instanceof Array){for(var u=arguments[0],l=arguments[1],p=new hi(u),g=1;g<l.length;g++){var c=l[g],_=l[g-1];if(p.countSegment(c,_),p.isOnSegment())return p.getLocation()}return p.getLocation()}};var xt=function(){},Zs={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};xt.prototype.interfaces_=function(){return[]};xt.prototype.getClass=function(){return xt};xt.orientationIndex=function(t,e,n){return ur.orientationIndex(t,e,n)};xt.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,i=1;i<t.length-1;i++){var o=t[i].x-n,s=t[i+1].y,u=t[i-1].y;e+=o*(u-s)}return e/2}else if(Ht(arguments[0],ve)){var l=arguments[0],p=l.size();if(p<3)return 0;var g=new J,c=new J,_=new J;l.getCoordinate(0,c),l.getCoordinate(1,_);var C=c.x;_.x-=C;for(var M=0,S=1;S<p-1;S++)g.y=c.y,c.x=_.x,c.y=_.y,l.getCoordinate(S+1,_),_.x-=C,M+=c.x*(g.y-_.y);return M/2}};xt.distanceLineLine=function(t,e,n,i){if(t.equals(e))return xt.distancePointLine(t,n,i);if(n.equals(i))return xt.distancePointLine(i,t,e);var o=!1;if(!Bt.intersects(t,e,n,i))o=!0;else{var s=(e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x);if(s===0)o=!0;else{var u=(t.y-n.y)*(i.x-n.x)-(t.x-n.x)*(i.y-n.y),l=(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y),p=l/s,g=u/s;(g<0||g>1||p<0||p>1)&&(o=!0)}}return o?Er.min(xt.distancePointLine(t,n,i),xt.distancePointLine(e,n,i),xt.distancePointLine(n,t,e),xt.distancePointLine(i,t,e)):0};xt.isPointInRing=function(t,e){return xt.locatePointInRing(t,e)!==tt.EXTERIOR};xt.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,i=new J;t.getCoordinate(0,i);for(var o=i.x,s=i.y,u=1;u<e;u++){t.getCoordinate(u,i);var l=i.x,p=i.y,g=l-o,c=p-s;n+=Math.sqrt(g*g+c*c),o=l,s=p}return n};xt.isCCW=function(t){var e=t.length-1;if(e<3)throw new Ke("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],i=0,o=1;o<=e;o++){var s=t[o];s.y>n.y&&(n=s,i=o)}var u=i;do u=u-1,u<0&&(u=e);while(t[u].equals2D(n)&&u!==i);var l=i;do l=(l+1)%e;while(t[l].equals2D(n)&&l!==i);var p=t[u],g=t[l];if(p.equals2D(n)||g.equals2D(n)||p.equals2D(g))return!1;var c=xt.computeOrientation(p,n,g),_=!1;return c===0?_=p.x>g.x:_=c>0,_};xt.locatePointInRing=function(t,e){return hi.locatePointInRing(t,e)};xt.distancePointLinePerpendicular=function(t,e,n){var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),o=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i;return Math.abs(o)*Math.sqrt(i)};xt.computeOrientation=function(t,e,n){return xt.orientationIndex(t,e,n)};xt.distancePointLine=function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];if(e.length===0)throw new Ke("Line array must contain at least one vertex");for(var n=t.distance(e[0]),i=0;i<e.length-1;i++){var o=xt.distancePointLine(t,e[i],e[i+1]);o<n&&(n=o)}return n}else if(arguments.length===3){var s=arguments[0],u=arguments[1],l=arguments[2];if(u.x===l.x&&u.y===l.y)return s.distance(u);var p=(l.x-u.x)*(l.x-u.x)+(l.y-u.y)*(l.y-u.y),g=((s.x-u.x)*(l.x-u.x)+(s.y-u.y)*(l.y-u.y))/p;if(g<=0)return s.distance(u);if(g>=1)return s.distance(l);var c=((u.y-s.y)*(l.x-u.x)-(u.x-s.x)*(l.y-u.y))/p;return Math.abs(c)*Math.sqrt(p)}};xt.isOnLine=function(t,e){for(var n=new ps,i=1;i<e.length;i++){var o=e[i-1],s=e[i];if(n.computeIntersection(t,o,s),n.hasIntersection())return!0}return!1};Zs.CLOCKWISE.get=function(){return-1};Zs.RIGHT.get=function(){return xt.CLOCKWISE};Zs.COUNTERCLOCKWISE.get=function(){return 1};Zs.LEFT.get=function(){return xt.COUNTERCLOCKWISE};Zs.COLLINEAR.get=function(){return 0};Zs.STRAIGHT.get=function(){return xt.COLLINEAR};Object.defineProperties(xt,Zs);var lo=function(){};lo.prototype.filter=function(t){};lo.prototype.interfaces_=function(){return[]};lo.prototype.getClass=function(){return lo};var Gt=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},Ui={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Gt.prototype.isGeometryCollection=function(){return this.getSortIndex()===Gt.SORTINDEX_GEOMETRYCOLLECTION};Gt.prototype.getFactory=function(){return this._factory};Gt.prototype.getGeometryN=function(t){return this};Gt.prototype.getArea=function(){return 0};Gt.prototype.isRectangle=function(){return!1};Gt.prototype.equals=function(){if(arguments[0]instanceof Gt){var t=arguments[0];return t===null?!1:this.equalsTopo(t)}else if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof Gt))return!1;var n=e;return this.equalsExact(n)}};Gt.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)};Gt.prototype.geometryChanged=function(){this.apply(Gt.geometryChangedFilter)};Gt.prototype.geometryChangedAction=function(){this._envelope=null};Gt.prototype.equalsNorm=function(t){return t===null?!1:this.norm().equalsExact(t.norm())};Gt.prototype.getLength=function(){return 0};Gt.prototype.getNumGeometries=function(){return 1};Gt.prototype.compareTo=function(){if(arguments.length===1){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}else if(arguments.length===2){var n=arguments[0],i=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,i)}};Gt.prototype.getUserData=function(){return this._userData};Gt.prototype.getSRID=function(){return this._SRID};Gt.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())};Gt.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===Gt.SORTINDEX_GEOMETRYCOLLECTION)throw new Ke("This method does not support GeometryCollection arguments")};Gt.prototype.equal=function(t,e,n){return n===0?t.equals(e):t.distance(e)<=n};Gt.prototype.norm=function(){var t=this.copy();return t.normalize(),t};Gt.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()};Gt.prototype.getEnvelopeInternal=function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new Bt(this._envelope)};Gt.prototype.setSRID=function(t){this._SRID=t};Gt.prototype.setUserData=function(t){this._userData=t};Gt.prototype.compare=function(t,e){for(var n=t.iterator(),i=e.iterator();n.hasNext()&&i.hasNext();){var o=n.next(),s=i.next(),u=o.compareTo(s);if(u!==0)return u}return n.hasNext()?1:i.hasNext()?-1:0};Gt.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()};Gt.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Gt.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Gt.SORTINDEX_MULTIPOINT||this.getSortIndex()===Gt.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Gt.SORTINDEX_MULTIPOLYGON};Gt.prototype.interfaces_=function(){return[Ou,zr,Fr]};Gt.prototype.getClass=function(){return Gt};Gt.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1};Gt.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(t[e]===null)return!0;return!1};Ui.serialVersionUID.get=function(){return 8763622679187377e3};Ui.SORTINDEX_POINT.get=function(){return 0};Ui.SORTINDEX_MULTIPOINT.get=function(){return 1};Ui.SORTINDEX_LINESTRING.get=function(){return 2};Ui.SORTINDEX_LINEARRING.get=function(){return 3};Ui.SORTINDEX_MULTILINESTRING.get=function(){return 4};Ui.SORTINDEX_POLYGON.get=function(){return 5};Ui.SORTINDEX_MULTIPOLYGON.get=function(){return 6};Ui.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7};Ui.geometryChangedFilter.get=function(){return Vh};Object.defineProperties(Gt,Ui);var Vh=function(){};Vh.interfaces_=function(){return[lo]};Vh.filter=function(t){t.geometryChangedAction()};var Oi=function(){};Oi.prototype.filter=function(t){};Oi.prototype.interfaces_=function(){return[]};Oi.prototype.getClass=function(){return Oi};var Rr=function(){},po={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Rr.prototype.isInBoundary=function(t){};Rr.prototype.interfaces_=function(){return[]};Rr.prototype.getClass=function(){return Rr};po.Mod2BoundaryNodeRule.get=function(){return pa};po.EndPointBoundaryNodeRule.get=function(){return da};po.MultiValentEndPointBoundaryNodeRule.get=function(){return ga};po.MonoValentEndPointBoundaryNodeRule.get=function(){return _a};po.MOD2_BOUNDARY_RULE.get=function(){return new pa};po.ENDPOINT_BOUNDARY_RULE.get=function(){return new da};po.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new ga};po.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new _a};po.OGC_SFS_BOUNDARY_RULE.get=function(){return Rr.MOD2_BOUNDARY_RULE};Object.defineProperties(Rr,po);var pa=function(){};pa.prototype.isInBoundary=function(t){return t%2===1};pa.prototype.interfaces_=function(){return[Rr]};pa.prototype.getClass=function(){return pa};var da=function(){};da.prototype.isInBoundary=function(t){return t>0};da.prototype.interfaces_=function(){return[Rr]};da.prototype.getClass=function(){return da};var ga=function(){};ga.prototype.isInBoundary=function(t){return t>1};ga.prototype.interfaces_=function(){return[Rr]};ga.prototype.getClass=function(){return ga};var _a=function(){};_a.prototype.isInBoundary=function(t){return t===1};_a.prototype.interfaces_=function(){return[Rr]};_a.prototype.getClass=function(){return _a};var yn=function(){};yn.prototype.add=function(){};yn.prototype.addAll=function(){};yn.prototype.isEmpty=function(){};yn.prototype.iterator=function(){};yn.prototype.size=function(){};yn.prototype.toArray=function(){};yn.prototype.remove=function(){};function Uh(r){this.message=r||""}Uh.prototype=new Error;Uh.prototype.name="IndexOutOfBoundsException";var Ra=function(){};Ra.prototype.hasNext=function(){};Ra.prototype.next=function(){};Ra.prototype.remove=function(){};var Hr=function(r){function t(){r.apply(this,arguments)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.get=function(){},t.prototype.set=function(){},t.prototype.isEmpty=function(){},t}(yn);function Aa(r){this.message=r||""}Aa.prototype=new Error;Aa.prototype.name="NoSuchElementException";var Mt=function(r){function t(){r.call(this),this.array_=[],arguments[0]instanceof yn&&this.addAll(arguments[0])}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.ensureCapacity=function(){},t.prototype.interfaces_=function(){return[r,yn]},t.prototype.add=function(n){return arguments.length===1?this.array_.push(n):this.array_.splice(arguments[0],arguments[1]),!0},t.prototype.clear=function(){this.array_=[]},t.prototype.addAll=function(n){for(var i=this,o=n.iterator();o.hasNext();)i.add(o.next());return!0},t.prototype.set=function(n,i){var o=this.array_[n];return this.array_[n]=i,o},t.prototype.iterator=function(){return new kg(this)},t.prototype.get=function(n){if(n<0||n>=this.size())throw new Uh;return this.array_[n]},t.prototype.isEmpty=function(){return this.array_.length===0},t.prototype.size=function(){return this.array_.length},t.prototype.toArray=function(){for(var n=this,i=[],o=0,s=this.array_.length;o<s;o++)i.push(n.array_[o]);return i},t.prototype.remove=function(n){for(var i=this,o=!1,s=0,u=this.array_.length;s<u;s++)if(i.array_[s]===n){i.array_.splice(s,1),o=!0;break}return o},t}(Hr),kg=function(r){function t(e){r.call(this),this.arrayList_=e,this.position_=0}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new Aa;return this.arrayList_.get(this.position_++)},t.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},t.prototype.set=function(n){return this.arrayList_.set(this.position_-1,n)},t.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},t}(Ra),kl=function(r){function t(){if(r.call(this),arguments.length!==0){if(arguments.length===1){var n=arguments[0];this.ensureCapacity(n.length),this.add(n,!0)}else if(arguments.length===2){var i=arguments[0],o=arguments[1];this.ensureCapacity(i.length),this.add(i,o)}}}r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t;var e={coordArrayType:{configurable:!0}};return e.coordArrayType.get=function(){return new Array(0).fill(null)},t.prototype.getCoordinate=function(i){return this.get(i)},t.prototype.addAll=function(){var i=this;if(arguments.length===2){for(var o=arguments[0],s=arguments[1],u=!1,l=o.iterator();l.hasNext();)i.add(l.next(),s),u=!0;return u}else return r.prototype.addAll.apply(this,arguments)},t.prototype.clone=function(){for(var i=this,o=r.prototype.clone.call(this),s=0;s<this.size();s++)o.add(s,i.get(s).copy());return o},t.prototype.toCoordinateArray=function(){return this.toArray(t.coordArrayType)},t.prototype.add=function(){var i=this;if(arguments.length===1){var o=arguments[0];r.prototype.add.call(this,o)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var s=arguments[0],u=arguments[1];return this.add(s,u,!0),!0}else if(arguments[0]instanceof J&&typeof arguments[1]=="boolean"){var l=arguments[0],p=arguments[1];if(!p&&this.size()>=1){var g=this.get(this.size()-1);if(g.equals2D(l))return null}r.prototype.add.call(this,l)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var c=arguments[0],_=arguments[1];return this.add(c,_),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var C=arguments[0],M=arguments[1],S=arguments[2];if(S)for(var P=0;P<C.length;P++)i.add(C[P],M);else for(var k=C.length-1;k>=0;k--)i.add(C[k],M);return!0}else if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof J){var D=arguments[0],O=arguments[1],x=arguments[2];if(!x){var R=this.size();if(R>0){if(D>0){var F=this.get(D-1);if(F.equals2D(O))return null}if(D<R){var B=this.get(D);if(B.equals2D(O))return null}}}r.prototype.add.call(this,D,O)}}else if(arguments.length===4){var Z=arguments[0],Q=arguments[1],nt=arguments[2],rt=arguments[3],st=1;nt>rt&&(st=-1);for(var _t=nt;_t!==rt;_t+=st)i.add(Z[_t],Q);return!0}},t.prototype.closeRing=function(){this.size()>0&&this.add(new J(this.get(0)),!1)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},Object.defineProperties(t,e),t}(Mt),ae=function(){},Ru={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Ru.ForwardComparator.get=function(){return fl};Ru.BidirectionalComparator.get=function(){return ma};Ru.coordArrayType.get=function(){return new Array(0).fill(null)};ae.prototype.interfaces_=function(){return[]};ae.prototype.getClass=function(){return ae};ae.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))};ae.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(ae.indexOf(i,e)<0)return i}return null};ae.scroll=function(t,e){var n=ae.indexOf(e,t);if(n<0)return null;var i=new Array(t.length).fill(null);Bn.arraycopy(t,n,i,0,t.length-n),Bn.arraycopy(t,0,i,t.length-n,n),Bn.arraycopy(i,0,t,0,t.length)};ae.equals=function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(t===null||e===null||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}else if(arguments.length===3){var i=arguments[0],o=arguments[1],s=arguments[2];if(i===o)return!0;if(i===null||o===null||i.length!==o.length)return!1;for(var u=0;u<i.length;u++)if(s.compare(i[u],o[u])!==0)return!1;return!0}};ae.intersection=function(t,e){for(var n=new kl,i=0;i<t.length;i++)e.intersects(t[i])&&n.add(t[i],!0);return n.toCoordinateArray()};ae.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1};ae.removeRepeatedPoints=function(t){if(!ae.hasRepeatedPoints(t))return t;var e=new kl(t,!1);return e.toCoordinateArray()};ae.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),i=0;i<=n;i++){var o=t[i];t[i]=t[e-i],t[e-i]=o}};ae.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)t[n]!==null&&e++;var i=new Array(e).fill(null);if(e===0)return i;for(var o=0,s=0;s<t.length;s++)t[s]!==null&&(i[o++]=t[s]);return i};ae.copyDeep=function(){if(arguments.length===1){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new J(t[n]);return e}else if(arguments.length===5)for(var i=arguments[0],o=arguments[1],s=arguments[2],u=arguments[3],l=arguments[4],p=0;p<l;p++)s[u+p]=new J(i[o+p])};ae.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=e[t.length-n-1];if(i.compareTo(o)!==0)return!1}return!0};ae.envelope=function(t){for(var e=new Bt,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e};ae.toCoordinateArray=function(t){return t.toArray(ae.coordArrayType)};ae.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]};ae.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1};ae.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,i=t[e].compareTo(t[n]);if(i!==0)return i}return 1};ae.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var i=t[n].compareTo(e[n]);if(i!==0)return i;n++}return n<e.length?-1:n<t.length?1:0};ae.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(e===null||e.compareTo(t[n])>0)&&(e=t[n]);return e};ae.extract=function(t,e,n){e=Er.clamp(e,0,t.length),n=Er.clamp(n,-1,t.length);var i=n-e+1;n<0&&(i=0),e>=t.length&&(i=0),n<e&&(i=0);var o=new Array(i).fill(null);if(i===0)return o;for(var s=0,u=e;u<=n;u++)o[s++]=t[u];return o};Object.defineProperties(ae,Ru);var fl=function(){};fl.prototype.compare=function(t,e){var n=t,i=e;return ae.compare(n,i)};fl.prototype.interfaces_=function(){return[ca]};fl.prototype.getClass=function(){return fl};var ma=function(){};ma.prototype.compare=function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(n.length===0)return 0;var o=ae.compare(n,i),s=ae.isEqualReversed(n,i);return s?0:o};ma.prototype.OLDcompare=function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(n.length===0)return 0;for(var o=ae.increasingDirection(n),s=ae.increasingDirection(i),u=o>0?0:n.length-1,l=s>0?0:n.length-1,p=0;p<n.length;p++){var g=n[u].compareTo(i[l]);if(g!==0)return g;u+=o,l+=s}return 0};ma.prototype.interfaces_=function(){return[ca]};ma.prototype.getClass=function(){return ma};var js=function(){};js.prototype.get=function(){};js.prototype.put=function(){};js.prototype.size=function(){};js.prototype.values=function(){};js.prototype.entrySet=function(){};var xg=function(r){function t(){r.apply(this,arguments)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t}(js);function xl(r){this.message=r||""}xl.prototype=new Error;xl.prototype.name="OperationNotSupported";function Au(){}Au.prototype=new yn;Au.prototype.contains=function(){};var Hh=function(r){function t(){r.call(this),this.array_=[],arguments[0]instanceof yn&&this.addAll(arguments[0])}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.contains=function(n){for(var i=this,o=0,s=this.array_.length;o<s;o++){var u=i.array_[o];if(u===n)return!0}return!1},t.prototype.add=function(n){return this.contains(n)?!1:(this.array_.push(n),!0)},t.prototype.addAll=function(n){for(var i=this,o=n.iterator();o.hasNext();)i.add(o.next());return!0},t.prototype.remove=function(n){throw new Error},t.prototype.size=function(){return this.array_.length},t.prototype.isEmpty=function(){return this.array_.length===0},t.prototype.toArray=function(){for(var n=this,i=[],o=0,s=this.array_.length;o<s;o++)i.push(n.array_[o]);return i},t.prototype.iterator=function(){return new Tg(this)},t}(Au),Tg=function(r){function t(e){r.call(this),this.hashSet_=e,this.position_=0}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new Aa;return this.hashSet_.array_[this.position_++]},t.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},t.prototype.remove=function(){throw new xl},t}(Ra),eo=0,Yo=1;function qc(r){return r===null?eo:r.color}function Ve(r){return r===null?null:r.parent}function Qi(r,t){r!==null&&(r.color=t)}function uh(r){return r===null?null:r.left}function Xc(r){return r===null?null:r.right}function Zn(){this.root_=null,this.size_=0}Zn.prototype=new xg;Zn.prototype.get=function(r){for(var t=this.root_;t!==null;){var e=r.compareTo(t.key);if(e<0)t=t.left;else if(e>0)t=t.right;else return t.value}return null};Zn.prototype.put=function(r,t){if(this.root_===null)return this.root_={key:r,value:t,left:null,right:null,parent:null,color:eo,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var e=this.root_,n,i;do if(n=e,i=r.compareTo(e.key),i<0)e=e.left;else if(i>0)e=e.right;else{var o=e.value;return e.value=t,o}while(e!==null);var s={key:r,left:null,right:null,value:t,parent:n,color:eo,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null};Zn.prototype.fixAfterInsertion=function(r){var t=this;for(r.color=Yo;r!=null&&r!==this.root_&&r.parent.color===Yo;)if(Ve(r)===uh(Ve(Ve(r)))){var e=Xc(Ve(Ve(r)));qc(e)===Yo?(Qi(Ve(r),eo),Qi(e,eo),Qi(Ve(Ve(r)),Yo),r=Ve(Ve(r))):(r===Xc(Ve(r))&&(r=Ve(r),t.rotateLeft(r)),Qi(Ve(r),eo),Qi(Ve(Ve(r)),Yo),t.rotateRight(Ve(Ve(r))))}else{var n=uh(Ve(Ve(r)));qc(n)===Yo?(Qi(Ve(r),eo),Qi(n,eo),Qi(Ve(Ve(r)),Yo),r=Ve(Ve(r))):(r===uh(Ve(r))&&(r=Ve(r),t.rotateRight(r)),Qi(Ve(r),eo),Qi(Ve(Ve(r)),Yo),t.rotateLeft(Ve(Ve(r))))}this.root_.color=eo};Zn.prototype.values=function(){var r=new Mt,t=this.getFirstEntry();if(t!==null)for(r.add(t.value);(t=Zn.successor(t))!==null;)r.add(t.value);return r};Zn.prototype.entrySet=function(){var r=new Hh,t=this.getFirstEntry();if(t!==null)for(r.add(t);(t=Zn.successor(t))!==null;)r.add(t);return r};Zn.prototype.rotateLeft=function(r){if(r!=null){var t=r.right;r.right=t.left,t.left!=null&&(t.left.parent=r),t.parent=r.parent,r.parent===null?this.root_=t:r.parent.left===r?r.parent.left=t:r.parent.right=t,t.left=r,r.parent=t}};Zn.prototype.rotateRight=function(r){if(r!=null){var t=r.left;r.left=t.right,t.right!=null&&(t.right.parent=r),t.parent=r.parent,r.parent===null?this.root_=t:r.parent.right===r?r.parent.right=t:r.parent.left=t,t.right=r,r.parent=t}};Zn.prototype.getFirstEntry=function(){var r=this.root_;if(r!=null)for(;r.left!=null;)r=r.left;return r};Zn.successor=function(r){if(r===null)return null;if(r.right!==null){for(var t=r.right;t.left!==null;)t=t.left;return t}else{for(var e=r.parent,n=r;e!==null&&n===e.right;)n=e,e=e.parent;return e}};Zn.prototype.size=function(){return this.size_};var pl=function(){};pl.prototype.interfaces_=function(){return[]};pl.prototype.getClass=function(){return pl};function Mp(){}Mp.prototype=new Au;function pi(){this.array_=[],arguments[0]instanceof yn&&this.addAll(arguments[0])}pi.prototype=new Mp;pi.prototype.contains=function(r){for(var t=this,e=0,n=this.array_.length;e<n;e++){var i=t.array_[e];if(i.compareTo(r)===0)return!0}return!1};pi.prototype.add=function(r){var t=this;if(this.contains(r))return!1;for(var e=0,n=this.array_.length;e<n;e++){var i=t.array_[e];if(i.compareTo(r)===1)return t.array_.splice(e,0,r),!0}return this.array_.push(r),!0};pi.prototype.addAll=function(r){for(var t=this,e=r.iterator();e.hasNext();)t.add(e.next());return!0};pi.prototype.remove=function(r){throw new xl};pi.prototype.size=function(){return this.array_.length};pi.prototype.isEmpty=function(){return this.array_.length===0};pi.prototype.toArray=function(){for(var r=this,t=[],e=0,n=this.array_.length;e<n;e++)t.push(r.array_[e]);return t};pi.prototype.iterator=function(){return new Bu(this)};var Bu=function(r){this.treeSet_=r,this.position_=0};Bu.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new Aa;return this.treeSet_.array_[this.position_++]};Bu.prototype.hasNext=function(){return this.position_<this.treeSet_.size()};Bu.prototype.remove=function(){throw new xl};var ts=function(){};ts.sort=function(){var t=arguments[0],e,n,i,o;if(arguments.length===1)o=function(u,l){return u.compareTo(l)},t.sort(o);else if(arguments.length===2)i=arguments[1],o=function(u,l){return i.compare(u,l)},t.sort(o);else if(arguments.length===3){n=t.slice(arguments[1],arguments[2]),n.sort();var s=t.slice(0,arguments[1]).concat(n,t.slice(arguments[2],t.length));for(t.splice(0,t.length),e=0;e<s.length;e++)t.push(s[e])}else if(arguments.length===4)for(n=t.slice(arguments[1],arguments[2]),i=arguments[3],o=function(u,l){return i.compare(u,l)},n.sort(o),s=t.slice(0,arguments[1]).concat(n,t.slice(arguments[2],t.length)),t.splice(0,t.length),e=0;e<s.length;e++)t.push(s[e])};ts.asList=function(t){for(var e=new Mt,n=0,i=t.length;n<i;n++)e.add(t[n]);return e};var Ie=function(){},Qr={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Qr.P.get=function(){return 0};Qr.L.get=function(){return 1};Qr.A.get=function(){return 2};Qr.FALSE.get=function(){return-1};Qr.TRUE.get=function(){return-2};Qr.DONTCARE.get=function(){return-3};Qr.SYM_FALSE.get=function(){return"F"};Qr.SYM_TRUE.get=function(){return"T"};Qr.SYM_DONTCARE.get=function(){return"*"};Qr.SYM_P.get=function(){return"0"};Qr.SYM_L.get=function(){return"1"};Qr.SYM_A.get=function(){return"2"};Ie.prototype.interfaces_=function(){return[]};Ie.prototype.getClass=function(){return Ie};Ie.toDimensionSymbol=function(t){switch(t){case Ie.FALSE:return Ie.SYM_FALSE;case Ie.TRUE:return Ie.SYM_TRUE;case Ie.DONTCARE:return Ie.SYM_DONTCARE;case Ie.P:return Ie.SYM_P;case Ie.L:return Ie.SYM_L;case Ie.A:return Ie.SYM_A}throw new Ke("Unknown dimension value: "+t)};Ie.toDimensionValue=function(t){switch(cl.toUpperCase(t)){case Ie.SYM_FALSE:return Ie.FALSE;case Ie.SYM_TRUE:return Ie.TRUE;case Ie.SYM_DONTCARE:return Ie.DONTCARE;case Ie.SYM_P:return Ie.P;case Ie.SYM_L:return Ie.L;case Ie.SYM_A:return Ie.A}throw new Ke("Unknown dimension symbol: "+t)};Object.defineProperties(Ie,Qr);var di=function(){};di.prototype.filter=function(t){};di.prototype.interfaces_=function(){return[]};di.prototype.getClass=function(){return di};var jr=function(){};jr.prototype.filter=function(t,e){};jr.prototype.isDone=function(){};jr.prototype.isGeometryChanged=function(){};jr.prototype.interfaces_=function(){return[]};jr.prototype.getClass=function(){return jr};var er=function(r){function t(n,i){if(r.call(this,i),this._geometries=n||[],r.hasNullElements(this._geometries))throw new Ke("geometries must not contain null elements")}r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t;var e={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){for(var i=this,o=new Bt,s=0;s<this._geometries.length;s++)o.expandToInclude(i._geometries[s].getEnvelopeInternal());return o},t.prototype.getGeometryN=function(i){return this._geometries[i]},t.prototype.getSortIndex=function(){return r.SORTINDEX_GEOMETRYCOLLECTION},t.prototype.getCoordinates=function(){for(var i=this,o=new Array(this.getNumPoints()).fill(null),s=-1,u=0;u<this._geometries.length;u++)for(var l=i._geometries[u].getCoordinates(),p=0;p<l.length;p++)s++,o[s]=l[p];return o},t.prototype.getArea=function(){for(var i=this,o=0,s=0;s<this._geometries.length;s++)o+=i._geometries[s].getArea();return o},t.prototype.equalsExact=function(){var i=this;if(arguments.length===2){var o=arguments[0],s=arguments[1];if(!this.isEquivalentClass(o))return!1;var u=o;if(this._geometries.length!==u._geometries.length)return!1;for(var l=0;l<this._geometries.length;l++)if(!i._geometries[l].equalsExact(u._geometries[l],s))return!1;return!0}else return r.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var i=this,o=0;o<this._geometries.length;o++)i._geometries[o].normalize();ts.sort(this._geometries)},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},t.prototype.getBoundaryDimension=function(){for(var i=this,o=Ie.FALSE,s=0;s<this._geometries.length;s++)o=Math.max(o,i._geometries[s].getBoundaryDimension());return o},t.prototype.getDimension=function(){for(var i=this,o=Ie.FALSE,s=0;s<this._geometries.length;s++)o=Math.max(o,i._geometries[s].getDimension());return o},t.prototype.getLength=function(){for(var i=this,o=0,s=0;s<this._geometries.length;s++)o+=i._geometries[s].getLength();return o},t.prototype.getNumPoints=function(){for(var i=this,o=0,s=0;s<this._geometries.length;s++)o+=i._geometries[s].getNumPoints();return o},t.prototype.getNumGeometries=function(){return this._geometries.length},t.prototype.reverse=function(){for(var i=this,o=this._geometries.length,s=new Array(o).fill(null),u=0;u<this._geometries.length;u++)s[u]=i._geometries[u].reverse();return this.getFactory().createGeometryCollection(s)},t.prototype.compareToSameClass=function(){var i=this;if(arguments.length===1){var o=arguments[0],s=new pi(ts.asList(this._geometries)),u=new pi(ts.asList(o._geometries));return this.compare(s,u)}else if(arguments.length===2){for(var l=arguments[0],p=arguments[1],g=l,c=this.getNumGeometries(),_=g.getNumGeometries(),C=0;C<c&&C<_;){var M=i.getGeometryN(C),S=g.getGeometryN(C),P=M.compareToSameClass(S,p);if(P!==0)return P;C++}return C<c?1:C<_?-1:0}},t.prototype.apply=function(){var i=this;if(Ht(arguments[0],Oi))for(var o=arguments[0],s=0;s<this._geometries.length;s++)i._geometries[s].apply(o);else if(Ht(arguments[0],jr)){var u=arguments[0];if(this._geometries.length===0)return null;for(var l=0;l<this._geometries.length&&(i._geometries[l].apply(u),!u.isDone());l++);u.isGeometryChanged()&&this.geometryChanged()}else if(Ht(arguments[0],di)){var p=arguments[0];p.filter(this);for(var g=0;g<this._geometries.length;g++)i._geometries[g].apply(p)}else if(Ht(arguments[0],lo)){var c=arguments[0];c.filter(this);for(var _=0;_<this._geometries.length;_++)i._geometries[_].apply(c)}},t.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),Jt.shouldNeverReachHere(),null},t.prototype.clone=function(){var i=this,o=r.prototype.clone.call(this);o._geometries=new Array(this._geometries.length).fill(null);for(var s=0;s<this._geometries.length;s++)o._geometries[s]=i._geometries[s].clone();return o},t.prototype.getGeometryType=function(){return"GeometryCollection"},t.prototype.copy=function(){for(var i=this,o=new Array(this._geometries.length).fill(null),s=0;s<o.length;s++)o[s]=i._geometries[s].copy();return new t(o,this._factory)},t.prototype.isEmpty=function(){for(var i=this,o=0;o<this._geometries.length;o++)if(!i._geometries[o].isEmpty())return!1;return!0},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},e.serialVersionUID.get=function(){return-5694727726395021e3},Object.defineProperties(t,e),t}(Gt),ns=function(r){function t(){r.apply(this,arguments)}r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t;var e={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Gt.SORTINDEX_MULTILINESTRING},t.prototype.equalsExact=function(){if(arguments.length===2){var i=arguments[0],o=arguments[1];return this.isEquivalentClass(i)?r.prototype.equalsExact.call(this,i,o):!1}else return r.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?Ie.FALSE:0},t.prototype.isClosed=function(){var i=this;if(this.isEmpty())return!1;for(var o=0;o<this._geometries.length;o++)if(!i._geometries[o].isClosed())return!1;return!0},t.prototype.getDimension=function(){return 1},t.prototype.reverse=function(){for(var i=this,o=this._geometries.length,s=new Array(o).fill(null),u=0;u<this._geometries.length;u++)s[o-1-u]=i._geometries[u].reverse();return this.getFactory().createMultiLineString(s)},t.prototype.getBoundary=function(){return new Nr(this).getBoundary()},t.prototype.getGeometryType=function(){return"MultiLineString"},t.prototype.copy=function(){for(var i=this,o=new Array(this._geometries.length).fill(null),s=0;s<o.length;s++)o[s]=i._geometries[s].copy();return new t(o,this._factory)},t.prototype.interfaces_=function(){return[pl]},t.prototype.getClass=function(){return t},e.serialVersionUID.get=function(){return 8166665132445434e3},Object.defineProperties(t,e),t}(er),Nr=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,arguments.length===1){var t=arguments[0],e=Rr.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(arguments.length===2){var n=arguments[0],i=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=i}};Nr.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return e.length===1?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)};Nr.prototype.getBoundary=function(){return this._geom instanceof rn?this.boundaryLineString(this._geom):this._geom instanceof ns?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()};Nr.prototype.boundaryLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();if(t.isClosed()){var e=this._bnRule.isInBoundary(2);return e?t.getStartPoint():this._geomFact.createMultiPoint()}return this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])};Nr.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()};Nr.prototype.computeBoundaryCoordinates=function(t){var e=this,n=new Mt;this._endpointMap=new Zn;for(var i=0;i<t.getNumGeometries();i++){var o=t.getGeometryN(i);o.getNumPoints()!==0&&(e.addEndpoint(o.getCoordinateN(0)),e.addEndpoint(o.getCoordinateN(o.getNumPoints()-1)))}for(var s=this._endpointMap.entrySet().iterator();s.hasNext();){var u=s.next(),l=u.getValue(),p=l.count;e._bnRule.isInBoundary(p)&&n.add(u.getKey())}return ae.toCoordinateArray(n)};Nr.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);e===null&&(e=new vu,this._endpointMap.put(t,e)),e.count++};Nr.prototype.interfaces_=function(){return[]};Nr.prototype.getClass=function(){return Nr};Nr.getBoundary=function(){if(arguments.length===1){var t=arguments[0],e=new Nr(t);return e.getBoundary()}else if(arguments.length===2){var n=arguments[0],i=arguments[1],o=new Nr(n,i);return o.getBoundary()}};var vu=function(){this.count=null};vu.prototype.interfaces_=function(){return[]};vu.prototype.getClass=function(){return vu};function Ng(){}function Og(){}var Dg=function(){};function Rg(){}function Ag(){}function Bg(){}var Or=function(){},Zh={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Or.prototype.interfaces_=function(){return[]};Or.prototype.getClass=function(){return Or};Or.chars=function(t,e){for(var n=new Array(e).fill(null),i=0;i<e;i++)n[i]=t;return String(n)};Or.getStackTrace=function(){if(arguments.length===1){var t=arguments[0],e=new Rg,n=new Ng;return t.printStackTrace(n),e.toString()}else if(arguments.length===2){var i=arguments[0],o=arguments[1],s="";new Og(Or.getStackTrace(i));for(var u=new Bg,l=0;l<o;l++)try{s+=u.readLine()+Or.NEWLINE}catch(p){if(p instanceof Ag)Jt.shouldNeverReachHere();else throw p}finally{}return s}};Or.split=function(t,e){for(var n=e.length,i=new Mt,o=""+t,s=o.indexOf(e);s>=0;){var u=o.substring(0,s);i.add(u),o=o.substring(s+n),s=o.indexOf(e)}o.length>0&&i.add(o);for(var l=new Array(i.size()).fill(null),p=0;p<l.length;p++)l[p]=i.get(p);return l};Or.toString=function(){if(arguments.length===1){var t=arguments[0];return Or.SIMPLE_ORDINATE_FORMAT.format(t)}};Or.spaces=function(t){return Or.chars(" ",t)};Zh.NEWLINE.get=function(){return Bn.getProperty("line.separator")};Zh.SIMPLE_ORDINATE_FORMAT.get=function(){return new Dg};Object.defineProperties(Or,Zh);var hn=function(){};hn.prototype.interfaces_=function(){return[]};hn.prototype.getClass=function(){return hn};hn.copyCoord=function(t,e,n,i){for(var o=Math.min(t.getDimension(),n.getDimension()),s=0;s<o;s++)n.setOrdinate(i,s,t.getOrdinate(e,s))};hn.isRing=function(t){var e=t.size();return e===0?!0:e<=3?!1:t.getOrdinate(0,ve.X)===t.getOrdinate(e-1,ve.X)&&t.getOrdinate(0,ve.Y)===t.getOrdinate(e-1,ve.Y)};hn.isEqual=function(t,e){var n=t.size(),i=e.size();if(n!==i)return!1;for(var o=Math.min(t.getDimension(),e.getDimension()),s=0;s<n;s++)for(var u=0;u<o;u++){var l=t.getOrdinate(s,u),p=e.getOrdinate(s,u);if(t.getOrdinate(s,u)!==e.getOrdinate(s,u)&&!(Yt.isNaN(l)&&Yt.isNaN(p)))return!1}return!0};hn.extend=function(t,e,n){var i=t.create(n,e.getDimension()),o=e.size();if(hn.copy(e,0,i,0,o),o>0)for(var s=o;s<n;s++)hn.copy(e,o-1,i,s,1);return i};hn.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),i=0;i<=n;i++)hn.swap(t,i,e-i)};hn.swap=function(t,e,n){if(e===n)return null;for(var i=0;i<t.getDimension();i++){var o=t.getOrdinate(e,i);t.setOrdinate(e,i,t.getOrdinate(n,i)),t.setOrdinate(n,i,o)}};hn.copy=function(t,e,n,i,o){for(var s=0;s<o;s++)hn.copyCoord(t,e+s,n,i+s)};hn.toString=function(){if(arguments.length===1){var t=arguments[0],e=t.size();if(e===0)return"()";var n=t.getDimension(),i=new wi;i.append("(");for(var o=0;o<e;o++){o>0&&i.append(" ");for(var s=0;s<n;s++)s>0&&i.append(","),i.append(Or.toString(t.getOrdinate(o,s)))}return i.append(")"),i.toString()}};hn.ensureValidRing=function(t,e){var n=e.size();if(n===0)return e;if(n<=3)return hn.createClosedRing(t,e,4);var i=e.getOrdinate(0,ve.X)===e.getOrdinate(n-1,ve.X)&&e.getOrdinate(0,ve.Y)===e.getOrdinate(n-1,ve.Y);return i?e:hn.createClosedRing(t,e,n+1)};hn.createClosedRing=function(t,e,n){var i=t.create(n,e.getDimension()),o=e.size();hn.copy(e,0,i,0,o);for(var s=o;s<n;s++)hn.copy(e,0,i,s,1);return i};var rn=function(r){function t(n,i){r.call(this,i),this._points=null,this.init(n)}r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t;var e={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Bt:this._points.expandEnvelope(new Bt)},t.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},t.prototype.getSortIndex=function(){return r.SORTINDEX_LINESTRING},t.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},t.prototype.equalsExact=function(){var i=this;if(arguments.length===2){var o=arguments[0],s=arguments[1];if(!this.isEquivalentClass(o))return!1;var u=o;if(this._points.size()!==u._points.size())return!1;for(var l=0;l<this._points.size();l++)if(!i.equal(i._points.getCoordinate(l),u._points.getCoordinate(l),s))return!1;return!0}else return r.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var i=this,o=0;o<Math.trunc(this._points.size()/2);o++){var s=i._points.size()-1-o;if(!i._points.getCoordinate(o).equals(i._points.getCoordinate(s)))return i._points.getCoordinate(o).compareTo(i._points.getCoordinate(s))>0&&hn.reverse(i._points),null}},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?Ie.FALSE:0},t.prototype.isClosed=function(){return this.isEmpty()?!1:this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},t.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},t.prototype.getDimension=function(){return 1},t.prototype.getLength=function(){return xt.computeLength(this._points)},t.prototype.getNumPoints=function(){return this._points.size()},t.prototype.reverse=function(){var i=this._points.copy();hn.reverse(i);var o=this.getFactory().createLineString(i);return o},t.prototype.compareToSameClass=function(){var i=this;if(arguments.length===1){for(var o=arguments[0],s=o,u=0,l=0;u<this._points.size()&&l<s._points.size();){var p=i._points.getCoordinate(u).compareTo(s._points.getCoordinate(l));if(p!==0)return p;u++,l++}return u<this._points.size()?1:l<s._points.size()?-1:0}else if(arguments.length===2){var g=arguments[0],c=arguments[1],_=g;return c.compare(this._points,_._points)}},t.prototype.apply=function(){var i=this;if(Ht(arguments[0],Oi))for(var o=arguments[0],s=0;s<this._points.size();s++)o.filter(i._points.getCoordinate(s));else if(Ht(arguments[0],jr)){var u=arguments[0];if(this._points.size()===0)return null;for(var l=0;l<this._points.size()&&(u.filter(i._points,l),!u.isDone());l++);u.isGeometryChanged()&&this.geometryChanged()}else if(Ht(arguments[0],di)){var p=arguments[0];p.filter(this)}else if(Ht(arguments[0],lo)){var g=arguments[0];g.filter(this)}},t.prototype.getBoundary=function(){return new Nr(this).getBoundary()},t.prototype.isEquivalentClass=function(i){return i instanceof t},t.prototype.clone=function(){var i=r.prototype.clone.call(this);return i._points=this._points.clone(),i},t.prototype.getCoordinateN=function(i){return this._points.getCoordinate(i)},t.prototype.getGeometryType=function(){return"LineString"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._points},t.prototype.isEmpty=function(){return this._points.size()===0},t.prototype.init=function(i){if(i===null&&(i=this.getFactory().getCoordinateSequenceFactory().create([])),i.size()===1)throw new Ke("Invalid number of points in LineString (found "+i.size()+" - must be 0 or >= 2)");this._points=i},t.prototype.isCoordinate=function(i){for(var o=this,s=0;s<this._points.size();s++)if(o._points.getCoordinate(s).equals(i))return!0;return!1},t.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},t.prototype.getPointN=function(i){return this.getFactory().createPoint(this._points.getCoordinate(i))},t.prototype.interfaces_=function(){return[pl]},t.prototype.getClass=function(){return t},e.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(t,e),t}(Gt),dl=function(){};dl.prototype.interfaces_=function(){return[]};dl.prototype.getClass=function(){return dl};var mr=function(r){function t(n,i){r.call(this,i),this._coordinates=n||null,this.init(this._coordinates)}r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t;var e={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Bt;var i=new Bt;return i.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),i},t.prototype.getSortIndex=function(){return r.SORTINDEX_POINT},t.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},t.prototype.equalsExact=function(){if(arguments.length===2){var i=arguments[0],o=arguments[1];return this.isEquivalentClass(i)?this.isEmpty()&&i.isEmpty()?!0:this.isEmpty()!==i.isEmpty()?!1:this.equal(i.getCoordinate(),this.getCoordinate(),o):!1}else return r.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){},t.prototype.getCoordinate=function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null},t.prototype.getBoundaryDimension=function(){return Ie.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getNumPoints=function(){return this.isEmpty()?0:1},t.prototype.reverse=function(){return this.copy()},t.prototype.getX=function(){if(this.getCoordinate()===null)throw new Error("getX called on empty Point");return this.getCoordinate().x},t.prototype.compareToSameClass=function(){if(arguments.length===1){var i=arguments[0],o=i;return this.getCoordinate().compareTo(o.getCoordinate())}else if(arguments.length===2){var s=arguments[0],u=arguments[1],l=s;return u.compare(this._coordinates,l._coordinates)}},t.prototype.apply=function(){if(Ht(arguments[0],Oi)){var i=arguments[0];if(this.isEmpty())return null;i.filter(this.getCoordinate())}else if(Ht(arguments[0],jr)){var o=arguments[0];if(this.isEmpty())return null;o.filter(this._coordinates,0),o.isGeometryChanged()&&this.geometryChanged()}else if(Ht(arguments[0],di)){var s=arguments[0];s.filter(this)}else if(Ht(arguments[0],lo)){var u=arguments[0];u.filter(this)}},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.clone=function(){var i=r.prototype.clone.call(this);return i._coordinates=this._coordinates.clone(),i},t.prototype.getGeometryType=function(){return"Point"},t.prototype.copy=function(){return new t(this._coordinates.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._coordinates},t.prototype.getY=function(){if(this.getCoordinate()===null)throw new Error("getY called on empty Point");return this.getCoordinate().y},t.prototype.isEmpty=function(){return this._coordinates.size()===0},t.prototype.init=function(i){i===null&&(i=this.getFactory().getCoordinateSequenceFactory().create([])),Jt.isTrue(i.size()<=1),this._coordinates=i},t.prototype.isSimple=function(){return!0},t.prototype.interfaces_=function(){return[dl]},t.prototype.getClass=function(){return t},e.serialVersionUID.get=function(){return 4902022702746615e3},Object.defineProperties(t,e),t}(Gt),xo=function(){};xo.prototype.interfaces_=function(){return[]};xo.prototype.getClass=function(){return xo};var wn=function(r){function t(n,i,o){if(r.call(this,o),this._shell=null,this._holes=null,n===null&&(n=this.getFactory().createLinearRing()),i===null&&(i=[]),r.hasNullElements(i))throw new Ke("holes must not contain null elements");if(n.isEmpty()&&r.hasNonEmptyElements(i))throw new Ke("shell is empty but holes are not");this._shell=n,this._holes=i}r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t;var e={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},t.prototype.getSortIndex=function(){return r.SORTINDEX_POLYGON},t.prototype.getCoordinates=function(){var i=this;if(this.isEmpty())return[];for(var o=new Array(this.getNumPoints()).fill(null),s=-1,u=this._shell.getCoordinates(),l=0;l<u.length;l++)s++,o[s]=u[l];for(var p=0;p<this._holes.length;p++)for(var g=i._holes[p].getCoordinates(),c=0;c<g.length;c++)s++,o[s]=g[c];return o},t.prototype.getArea=function(){var i=this,o=0;o+=Math.abs(xt.signedArea(this._shell.getCoordinateSequence()));for(var s=0;s<this._holes.length;s++)o-=Math.abs(xt.signedArea(i._holes[s].getCoordinateSequence()));return o},t.prototype.isRectangle=function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var i=this._shell.getCoordinateSequence(),o=this.getEnvelopeInternal(),s=0;s<5;s++){var u=i.getX(s);if(!(u===o.getMinX()||u===o.getMaxX()))return!1;var l=i.getY(s);if(!(l===o.getMinY()||l===o.getMaxY()))return!1}for(var p=i.getX(0),g=i.getY(0),c=1;c<=4;c++){var _=i.getX(c),C=i.getY(c),M=_!==p,S=C!==g;if(M===S)return!1;p=_,g=C}return!0},t.prototype.equalsExact=function(){var i=this;if(arguments.length===2){var o=arguments[0],s=arguments[1];if(!this.isEquivalentClass(o))return!1;var u=o,l=this._shell,p=u._shell;if(!l.equalsExact(p,s)||this._holes.length!==u._holes.length)return!1;for(var g=0;g<this._holes.length;g++)if(!i._holes[g].equalsExact(u._holes[g],s))return!1;return!0}else return r.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){var i=this;if(arguments.length===0){this.normalize(this._shell,!0);for(var o=0;o<this._holes.length;o++)i.normalize(i._holes[o],!1);ts.sort(this._holes)}else if(arguments.length===2){var s=arguments[0],u=arguments[1];if(s.isEmpty())return null;var l=new Array(s.getCoordinates().length-1).fill(null);Bn.arraycopy(s.getCoordinates(),0,l,0,l.length);var p=ae.minCoordinate(s.getCoordinates());ae.scroll(l,p),Bn.arraycopy(l,0,s.getCoordinates(),0,l.length),s.getCoordinates()[l.length]=l[0],xt.isCCW(s.getCoordinates())===u&&ae.reverse(s.getCoordinates())}},t.prototype.getCoordinate=function(){return this._shell.getCoordinate()},t.prototype.getNumInteriorRing=function(){return this._holes.length},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.getLength=function(){var i=this,o=0;o+=this._shell.getLength();for(var s=0;s<this._holes.length;s++)o+=i._holes[s].getLength();return o},t.prototype.getNumPoints=function(){for(var i=this,o=this._shell.getNumPoints(),s=0;s<this._holes.length;s++)o+=i._holes[s].getNumPoints();return o},t.prototype.reverse=function(){var i=this,o=this.copy();o._shell=this._shell.copy().reverse(),o._holes=new Array(this._holes.length).fill(null);for(var s=0;s<this._holes.length;s++)o._holes[s]=i._holes[s].copy().reverse();return o},t.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},t.prototype.compareToSameClass=function(){var i=this;if(arguments.length===1){var o=arguments[0],s=this._shell,u=o._shell;return s.compareToSameClass(u)}else if(arguments.length===2){var l=arguments[0],p=arguments[1],g=l,c=this._shell,_=g._shell,C=c.compareToSameClass(_,p);if(C!==0)return C;for(var M=this.getNumInteriorRing(),S=g.getNumInteriorRing(),P=0;P<M&&P<S;){var k=i.getInteriorRingN(P),D=g.getInteriorRingN(P),O=k.compareToSameClass(D,p);if(O!==0)return O;P++}return P<M?1:P<S?-1:0}},t.prototype.apply=function(i){var o=this;if(Ht(i,Oi)){this._shell.apply(i);for(var s=0;s<this._holes.length;s++)o._holes[s].apply(i)}else if(Ht(i,jr)){if(this._shell.apply(i),!i.isDone())for(var u=0;u<this._holes.length&&(o._holes[u].apply(i),!i.isDone());u++);i.isGeometryChanged()&&this.geometryChanged()}else if(Ht(i,di))i.filter(this);else if(Ht(i,lo)){i.filter(this),this._shell.apply(i);for(var l=0;l<this._holes.length;l++)o._holes[l].apply(i)}},t.prototype.getBoundary=function(){var i=this;if(this.isEmpty())return this.getFactory().createMultiLineString();var o=new Array(this._holes.length+1).fill(null);o[0]=this._shell;for(var s=0;s<this._holes.length;s++)o[s+1]=i._holes[s];return o.length<=1?this.getFactory().createLinearRing(o[0].getCoordinateSequence()):this.getFactory().createMultiLineString(o)},t.prototype.clone=function(){var i=this,o=r.prototype.clone.call(this);o._shell=this._shell.clone(),o._holes=new Array(this._holes.length).fill(null);for(var s=0;s<this._holes.length;s++)o._holes[s]=i._holes[s].clone();return o},t.prototype.getGeometryType=function(){return"Polygon"},t.prototype.copy=function(){for(var i=this,o=this._shell.copy(),s=new Array(this._holes.length).fill(null),u=0;u<s.length;u++)s[u]=i._holes[u].copy();return new t(o,s,this._factory)},t.prototype.getExteriorRing=function(){return this._shell},t.prototype.isEmpty=function(){return this._shell.isEmpty()},t.prototype.getInteriorRingN=function(i){return this._holes[i]},t.prototype.interfaces_=function(){return[xo]},t.prototype.getClass=function(){return t},e.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(t,e),t}(Gt),va=function(r){function t(){r.apply(this,arguments)}r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t;var e={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Gt.SORTINDEX_MULTIPOINT},t.prototype.isValid=function(){return!0},t.prototype.equalsExact=function(){if(arguments.length===2){var i=arguments[0],o=arguments[1];return this.isEquivalentClass(i)?r.prototype.equalsExact.call(this,i,o):!1}else return r.prototype.equalsExact.apply(this,arguments)},t.prototype.getCoordinate=function(){if(arguments.length===1){var i=arguments[0];return this._geometries[i].getCoordinate()}else return r.prototype.getCoordinate.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return Ie.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.getGeometryType=function(){return"MultiPoint"},t.prototype.copy=function(){for(var i=this,o=new Array(this._geometries.length).fill(null),s=0;s<o.length;s++)o[s]=i._geometries[s].copy();return new t(o,this._factory)},t.prototype.interfaces_=function(){return[dl]},t.prototype.getClass=function(){return t},e.serialVersionUID.get=function(){return-8048474874175356e3},Object.defineProperties(t,e),t}(er),Di=function(r){function t(n,i){n instanceof J&&i instanceof se&&(n=i.getCoordinateSequenceFactory().create(n)),r.call(this,n,i),this.validateConstruction()}r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t;var e={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Gt.SORTINDEX_LINEARRING},t.prototype.getBoundaryDimension=function(){return Ie.FALSE},t.prototype.isClosed=function(){return this.isEmpty()?!0:r.prototype.isClosed.call(this)},t.prototype.reverse=function(){var i=this._points.copy();hn.reverse(i);var o=this.getFactory().createLinearRing(i);return o},t.prototype.validateConstruction=function(){if(!this.isEmpty()&&!r.prototype.isClosed.call(this))throw new Ke("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<t.MINIMUM_VALID_SIZE)throw new Ke("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},t.prototype.getGeometryType=function(){return"LinearRing"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},e.MINIMUM_VALID_SIZE.get=function(){return 4},e.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(t,e),t}(rn),Ti=function(r){function t(){r.apply(this,arguments)}r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t;var e={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Gt.SORTINDEX_MULTIPOLYGON},t.prototype.equalsExact=function(){if(arguments.length===2){var i=arguments[0],o=arguments[1];return this.isEquivalentClass(i)?r.prototype.equalsExact.call(this,i,o):!1}else return r.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.reverse=function(){for(var i=this,o=this._geometries.length,s=new Array(o).fill(null),u=0;u<this._geometries.length;u++)s[u]=i._geometries[u].reverse();return this.getFactory().createMultiPolygon(s)},t.prototype.getBoundary=function(){var i=this;if(this.isEmpty())return this.getFactory().createMultiLineString();for(var o=new Mt,s=0;s<this._geometries.length;s++)for(var u=i._geometries[s],l=u.getBoundary(),p=0;p<l.getNumGeometries();p++)o.add(l.getGeometryN(p));var g=new Array(o.size()).fill(null);return this.getFactory().createMultiLineString(o.toArray(g))},t.prototype.getGeometryType=function(){return"MultiPolygon"},t.prototype.copy=function(){for(var i=this,o=new Array(this._geometries.length).fill(null),s=0;s<o.length;s++)o[s]=i._geometries[s].copy();return new t(o,this._factory)},t.prototype.interfaces_=function(){return[xo]},t.prototype.getClass=function(){return t},e.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(t,e),t}(er),Ar=function(t){this._factory=t||null,this._isUserDataCopied=!1},zu={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Ar.prototype.setCopyUserData=function(t){this._isUserDataCopied=t};Ar.prototype.edit=function(t,e){if(t===null)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n};Ar.prototype.editInternal=function(t,e){return this._factory===null&&(this._factory=t.getFactory()),t instanceof er?this.editGeometryCollection(t,e):t instanceof wn?this.editPolygon(t,e):t instanceof mr?e.edit(t,this._factory):t instanceof rn?e.edit(t,this._factory):(Jt.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)};Ar.prototype.editGeometryCollection=function(t,e){for(var n=this,i=e.edit(t,this._factory),o=new Mt,s=0;s<i.getNumGeometries();s++){var u=n.edit(i.getGeometryN(s),e);u===null||u.isEmpty()||o.add(u)}return i.getClass()===va?this._factory.createMultiPoint(o.toArray([])):i.getClass()===ns?this._factory.createMultiLineString(o.toArray([])):i.getClass()===Ti?this._factory.createMultiPolygon(o.toArray([])):this._factory.createGeometryCollection(o.toArray([]))};Ar.prototype.editPolygon=function(t,e){var n=this,i=e.edit(t,this._factory);if(i===null&&(i=this._factory.createPolygon(null)),i.isEmpty())return i;var o=this.edit(i.getExteriorRing(),e);if(o===null||o.isEmpty())return this._factory.createPolygon();for(var s=new Mt,u=0;u<i.getNumInteriorRing();u++){var l=n.edit(i.getInteriorRingN(u),e);l===null||l.isEmpty()||s.add(l)}return this._factory.createPolygon(o,s.toArray([]))};Ar.prototype.interfaces_=function(){return[]};Ar.prototype.getClass=function(){return Ar};Ar.GeometryEditorOperation=function(){};zu.NoOpGeometryOperation.get=function(){return gl};zu.CoordinateOperation.get=function(){return _l};zu.CoordinateSequenceOperation.get=function(){return ml};Object.defineProperties(Ar,zu);var gl=function(){};gl.prototype.edit=function(t,e){return t};gl.prototype.interfaces_=function(){return[Ar.GeometryEditorOperation]};gl.prototype.getClass=function(){return gl};var _l=function(){};_l.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return n===null?t:t instanceof Di?e.createLinearRing(n):t instanceof rn?e.createLineString(n):t instanceof mr?n.length>0?e.createPoint(n[0]):e.createPoint():t};_l.prototype.interfaces_=function(){return[Ar.GeometryEditorOperation]};_l.prototype.getClass=function(){return _l};var ml=function(){};ml.prototype.edit=function(t,e){return t instanceof Di?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof rn?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof mr?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t};ml.prototype.interfaces_=function(){return[Ar.GeometryEditorOperation]};ml.prototype.getClass=function(){return ml};var an=function(){var t=this;if(this._dimension=3,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var e=arguments[0];this._coordinates=new Array(e).fill(null);for(var n=0;n<e;n++)t._coordinates[n]=new J}else if(Ht(arguments[0],ve)){var i=arguments[0];if(i===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=i.getDimension(),this._coordinates=new Array(i.size()).fill(null);for(var o=0;o<this._coordinates.length;o++)t._coordinates[o]=i.getCoordinateCopy(o)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var s=arguments[0],u=arguments[1];this._coordinates=s,this._dimension=u,s===null&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var l=arguments[0],p=arguments[1];this._coordinates=new Array(l).fill(null),this._dimension=p;for(var g=0;g<l;g++)t._coordinates[g]=new J}}},Pp={serialVersionUID:{configurable:!0}};an.prototype.setOrdinate=function(t,e,n){switch(e){case ve.X:this._coordinates[t].x=n;break;case ve.Y:this._coordinates[t].y=n;break;case ve.Z:this._coordinates[t].z=n;break;default:throw new Ke("invalid ordinateIndex")}};an.prototype.size=function(){return this._coordinates.length};an.prototype.getOrdinate=function(t,e){switch(e){case ve.X:return this._coordinates[t].x;case ve.Y:return this._coordinates[t].y;case ve.Z:return this._coordinates[t].z}return Yt.NaN};an.prototype.getCoordinate=function(){if(arguments.length===1){var t=arguments[0];return this._coordinates[t]}else if(arguments.length===2){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}};an.prototype.getCoordinateCopy=function(t){return new J(this._coordinates[t])};an.prototype.getDimension=function(){return this._dimension};an.prototype.getX=function(t){return this._coordinates[t].x};an.prototype.clone=function(){for(var t=this,e=new Array(this.size()).fill(null),n=0;n<this._coordinates.length;n++)e[n]=t._coordinates[n].clone();return new an(e,this._dimension)};an.prototype.expandEnvelope=function(t){for(var e=this,n=0;n<this._coordinates.length;n++)t.expandToInclude(e._coordinates[n]);return t};an.prototype.copy=function(){for(var t=this,e=new Array(this.size()).fill(null),n=0;n<this._coordinates.length;n++)e[n]=t._coordinates[n].copy();return new an(e,this._dimension)};an.prototype.toString=function(){var t=this;if(this._coordinates.length>0){var e=new wi(17*this._coordinates.length);e.append("("),e.append(this._coordinates[0]);for(var n=1;n<this._coordinates.length;n++)e.append(", "),e.append(t._coordinates[n]);return e.append(")"),e.toString()}else return"()"};an.prototype.getY=function(t){return this._coordinates[t].y};an.prototype.toCoordinateArray=function(){return this._coordinates};an.prototype.interfaces_=function(){return[ve,Fr]};an.prototype.getClass=function(){return an};Pp.serialVersionUID.get=function(){return-0xcb44a778db18e00};Object.defineProperties(an,Pp);var Ri=function(){},jh={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Ri.prototype.readResolve=function(){return Ri.instance()};Ri.prototype.create=function(){if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return new an(t)}else if(Ht(arguments[0],ve)){var e=arguments[0];return new an(e)}}else if(arguments.length===2){var n=arguments[0],i=arguments[1];return i>3&&(i=3),i<2?new an(n):new an(n,i)}};Ri.prototype.interfaces_=function(){return[fa,Fr]};Ri.prototype.getClass=function(){return Ri};Ri.instance=function(){return Ri.instanceObject};jh.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00};jh.instanceObject.get=function(){return new Ri};Object.defineProperties(Ri,jh);var Sp=function(r){function t(){r.call(this),this.map_=new Map}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.get=function(n){return this.map_.get(n)||null},t.prototype.put=function(n,i){return this.map_.set(n,i),i},t.prototype.values=function(){for(var n=new Mt,i=this.map_.values(),o=i.next();!o.done;)n.add(o.value),o=i.next();return n},t.prototype.entrySet=function(){var n=new Hh;return this.map_.entries().forEach(function(i){return n.add(i)}),n},t.prototype.size=function(){return this.map_.size()},t}(js),xe=function r(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=r.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof gi){var t=arguments[0];this._modelType=t,t===r.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var e=arguments[0];this._modelType=r.FIXED,this.setScale(e)}else if(arguments[0]instanceof r){var n=arguments[0];this._modelType=n._modelType,this._scale=n._scale}}},qh={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};xe.prototype.equals=function(t){if(!(t instanceof xe))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale};xe.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),i=e.getMaximumSignificantDigits();return new fi(n).compareTo(new fi(i))};xe.prototype.getScale=function(){return this._scale};xe.prototype.isFloating=function(){return this._modelType===xe.FLOATING||this._modelType===xe.FLOATING_SINGLE};xe.prototype.getType=function(){return this._modelType};xe.prototype.toString=function(){var t="UNKNOWN";return this._modelType===xe.FLOATING?t="Floating":this._modelType===xe.FLOATING_SINGLE?t="Floating-Single":this._modelType===xe.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t};xe.prototype.makePrecise=function(){if(typeof arguments[0]=="number"){var t=arguments[0];if(Yt.isNaN(t))return t;if(this._modelType===xe.FLOATING_SINGLE){var e=t;return e}return this._modelType===xe.FIXED?Math.round(t*this._scale)/this._scale:t}else if(arguments[0]instanceof J){var n=arguments[0];if(this._modelType===xe.FLOATING)return null;n.x=this.makePrecise(n.x),n.y=this.makePrecise(n.y)}};xe.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===xe.FLOATING?t=16:this._modelType===xe.FLOATING_SINGLE?t=6:this._modelType===xe.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t};xe.prototype.setScale=function(t){this._scale=Math.abs(t)};xe.prototype.interfaces_=function(){return[Fr,zr]};xe.prototype.getClass=function(){return xe};xe.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e};qh.serialVersionUID.get=function(){return 7777263578777804e3};qh.maximumPreciseValue.get=function(){return 9007199254740992};Object.defineProperties(xe,qh);var gi=function r(t){this._name=t||null,r.nameToTypeMap.put(t,this)},Xh={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};gi.prototype.readResolve=function(){return gi.nameToTypeMap.get(this._name)};gi.prototype.toString=function(){return this._name};gi.prototype.interfaces_=function(){return[Fr]};gi.prototype.getClass=function(){return gi};Xh.serialVersionUID.get=function(){return-552860263173159e4};Xh.nameToTypeMap.get=function(){return new Sp};Object.defineProperties(gi,Xh);xe.Type=gi;xe.FIXED=new gi("FIXED");xe.FLOATING=new gi("FLOATING");xe.FLOATING_SINGLE=new gi("FLOATING SINGLE");var se=function r(){this._precisionModel=new xe,this._SRID=0,this._coordinateSequenceFactory=r.getDefaultCoordinateSequenceFactory(),arguments.length===0||(arguments.length===1?Ht(arguments[0],fa)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof xe&&(this._precisionModel=arguments[0]):arguments.length===2?(this._precisionModel=arguments[0],this._SRID=arguments[1]):arguments.length===3&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Ip={serialVersionUID:{configurable:!0}};se.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new J(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new J(t.getMinX(),t.getMinY()),new J(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new J(t.getMinX(),t.getMinY()),new J(t.getMinX(),t.getMaxY()),new J(t.getMaxX(),t.getMaxY()),new J(t.getMaxX(),t.getMinY()),new J(t.getMinX(),t.getMinY())]),null)};se.prototype.createLineString=function(t){if(t){if(t instanceof Array)return new rn(this.getCoordinateSequenceFactory().create(t),this);if(Ht(t,ve))return new rn(t,this)}else return new rn(this.getCoordinateSequenceFactory().create([]),this)};se.prototype.createMultiLineString=function(){if(arguments.length===0)return new ns(null,this);if(arguments.length===1){var t=arguments[0];return new ns(t,this)}};se.prototype.buildGeometry=function(t){for(var e=null,n=!1,i=!1,o=t.iterator();o.hasNext();){var s=o.next(),u=s.getClass();e===null&&(e=u),u!==e&&(n=!0),s.isGeometryCollectionOrDerived()&&(i=!0)}if(e===null)return this.createGeometryCollection();if(n||i)return this.createGeometryCollection(se.toGeometryArray(t));var l=t.iterator().next(),p=t.size()>1;if(p){if(l instanceof wn)return this.createMultiPolygon(se.toPolygonArray(t));if(l instanceof rn)return this.createMultiLineString(se.toLineStringArray(t));if(l instanceof mr)return this.createMultiPoint(se.toPointArray(t));Jt.shouldNeverReachHere("Unhandled class: "+l.getClass().getName())}return l};se.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(t!==null?this.getCoordinateSequenceFactory().create(t):null)};se.prototype.createPoint=function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof J){var t=arguments[0];return this.createPoint(t!==null?this.getCoordinateSequenceFactory().create([t]):null)}else if(Ht(arguments[0],ve)){var e=arguments[0];return new mr(e,this)}}};se.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory};se.prototype.createPolygon=function(){if(arguments.length===0)return new wn(null,null,this);if(arguments.length===1){if(Ht(arguments[0],ve)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}else if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}else if(arguments[0]instanceof Di){var n=arguments[0];return this.createPolygon(n,null)}}else if(arguments.length===2){var i=arguments[0],o=arguments[1];return new wn(i,o,this)}};se.prototype.getSRID=function(){return this._SRID};se.prototype.createGeometryCollection=function(){if(arguments.length===0)return new er(null,this);if(arguments.length===1){var t=arguments[0];return new er(t,this)}};se.prototype.createGeometry=function(t){var e=new Ar(this);return e.edit(t,{edit:function(){if(arguments.length===2){var n=arguments[0];return this._coordinateSequenceFactory.create(n)}}})};se.prototype.getPrecisionModel=function(){return this._precisionModel};se.prototype.createLinearRing=function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(t!==null?this.getCoordinateSequenceFactory().create(t):null)}else if(Ht(arguments[0],ve)){var e=arguments[0];return new Di(e,this)}}};se.prototype.createMultiPolygon=function(){if(arguments.length===0)return new Ti(null,this);if(arguments.length===1){var t=arguments[0];return new Ti(t,this)}};se.prototype.createMultiPoint=function(){var t=this;if(arguments.length===0)return new va(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];return new va(e,this)}else if(arguments[0]instanceof Array){var n=arguments[0];return this.createMultiPoint(n!==null?this.getCoordinateSequenceFactory().create(n):null)}else if(Ht(arguments[0],ve)){var i=arguments[0];if(i===null)return this.createMultiPoint(new Array(0).fill(null));for(var o=new Array(i.size()).fill(null),s=0;s<i.size();s++){var u=t.getCoordinateSequenceFactory().create(1,i.getDimension());hn.copy(i,s,u,0,1),o[s]=t.createPoint(u)}return this.createMultiPoint(o)}}};se.prototype.interfaces_=function(){return[Fr]};se.prototype.getClass=function(){return se};se.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)};se.toGeometryArray=function(t){if(t===null)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)};se.getDefaultCoordinateSequenceFactory=function(){return Ri.instance()};se.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)};se.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)};se.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)};se.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)};se.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)};se.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)};se.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)};Ip.serialVersionUID.get=function(){return-6820524753094096e3};Object.defineProperties(se,Ip);var zg=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Fu=function(t){this.geometryFactory=t||new se};Fu.prototype.read=function(t){var e;typeof t=="string"?e=JSON.parse(t):e=t;var n=e.type;if(!li[n])throw new Error("Unknown GeoJSON type: "+e.type);return zg.indexOf(n)!==-1?li[n].apply(this,[e.coordinates]):n==="GeometryCollection"?li[n].apply(this,[e.geometries]):li[n].apply(this,[e])};Fu.prototype.write=function(t){var e=t.getGeometryType();if(!to[e])throw new Error("Geometry is not supported");return to[e].apply(this,[t])};var li={Feature:function(r){var t={};for(var e in r)t[e]=r[e];if(r.geometry){var n=r.geometry.type;if(!li[n])throw new Error("Unknown GeoJSON type: "+r.type);t.geometry=this.read(r.geometry)}return r.bbox&&(t.bbox=li.bbox.apply(this,[r.bbox])),t},FeatureCollection:function(r){var t=this,e={};if(r.features){e.features=[];for(var n=0;n<r.features.length;++n)e.features.push(t.read(r.features[n]))}return r.bbox&&(e.bbox=this.parse.bbox.apply(this,[r.bbox])),e},coordinates:function(r){for(var t=[],e=0;e<r.length;++e){var n=r[e];t.push(new J(n[0],n[1]))}return t},bbox:function(r){return this.geometryFactory.createLinearRing([new J(r[0],r[1]),new J(r[2],r[1]),new J(r[2],r[3]),new J(r[0],r[3]),new J(r[0],r[1])])},Point:function(r){var t=new J(r[0],r[1]);return this.geometryFactory.createPoint(t)},MultiPoint:function(r){for(var t=this,e=[],n=0;n<r.length;++n)e.push(li.Point.apply(t,[r[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(r){var t=li.coordinates.apply(this,[r]);return this.geometryFactory.createLineString(t)},MultiLineString:function(r){for(var t=this,e=[],n=0;n<r.length;++n)e.push(li.LineString.apply(t,[r[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(r){for(var t=this,e=li.coordinates.apply(this,[r[0]]),n=this.geometryFactory.createLinearRing(e),i=[],o=1;o<r.length;++o){var s=r[o],u=li.coordinates.apply(t,[s]),l=t.geometryFactory.createLinearRing(u);i.push(l)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(r){for(var t=this,e=[],n=0;n<r.length;++n){var i=r[n];e.push(li.Polygon.apply(t,[i]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(r){for(var t=this,e=[],n=0;n<r.length;++n){var i=r[n];e.push(t.read(i))}return this.geometryFactory.createGeometryCollection(e)}},to={coordinate:function(r){return[r.x,r.y]},Point:function(r){var t=to.coordinate.apply(this,[r.getCoordinate()]);return{type:"Point",coordinates:t}},MultiPoint:function(r){for(var t=this,e=[],n=0;n<r._geometries.length;++n){var i=r._geometries[n],o=to.Point.apply(t,[i]);e.push(o.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(r){for(var t=this,e=[],n=r.getCoordinates(),i=0;i<n.length;++i){var o=n[i];e.push(to.coordinate.apply(t,[o]))}return{type:"LineString",coordinates:e}},MultiLineString:function(r){for(var t=this,e=[],n=0;n<r._geometries.length;++n){var i=r._geometries[n],o=to.LineString.apply(t,[i]);e.push(o.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(r){var t=this,e=[],n=to.LineString.apply(this,[r._shell]);e.push(n.coordinates);for(var i=0;i<r._holes.length;++i){var o=r._holes[i],s=to.LineString.apply(t,[o]);e.push(s.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(r){for(var t=this,e=[],n=0;n<r._geometries.length;++n){var i=r._geometries[n],o=to.Polygon.apply(t,[i]);e.push(o.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(r){for(var t=this,e=[],n=0;n<r._geometries.length;++n){var i=r._geometries[n],o=i.getGeometryType();e.push(to[o].apply(t,[i]))}return{type:"GeometryCollection",geometries:e}}},Yh=function(t){this.geometryFactory=t||new se,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Fu(this.geometryFactory)};Yh.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===xe.FIXED&&this.reducePrecision(e),e};Yh.prototype.reducePrecision=function(t){var e=this,n,i;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(n=0,i=t.points.length;n<i;n++)e.precisionModel.makePrecise(t.points[n]);else if(t.geometries)for(n=0,i=t.geometries.length;n<i;n++)e.reducePrecision(t.geometries[n])};var kp=function(){this.parser=new Fu(this.geometryFactory)};kp.prototype.write=function(t){return this.parser.write(t)};var Lt=function(){},Gu={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Lt.prototype.interfaces_=function(){return[]};Lt.prototype.getClass=function(){return Lt};Lt.opposite=function(t){return t===Lt.LEFT?Lt.RIGHT:t===Lt.RIGHT?Lt.LEFT:t};Gu.ON.get=function(){return 0};Gu.LEFT.get=function(){return 1};Gu.RIGHT.get=function(){return 2};Object.defineProperties(Lt,Gu);function Vu(r){this.message=r||""}Vu.prototype=new Error;Vu.prototype.name="EmptyStackException";function Ei(){this.array_=[]}Ei.prototype=new Hr;Ei.prototype.add=function(r){return this.array_.push(r),!0};Ei.prototype.get=function(r){if(r<0||r>=this.size())throw new Error;return this.array_[r]};Ei.prototype.push=function(r){return this.array_.push(r),r};Ei.prototype.pop=function(r){if(this.array_.length===0)throw new Vu;return this.array_.pop()};Ei.prototype.peek=function(){if(this.array_.length===0)throw new Vu;return this.array_[this.array_.length-1]};Ei.prototype.empty=function(){return this.array_.length===0};Ei.prototype.isEmpty=function(){return this.empty()};Ei.prototype.search=function(r){return this.array_.indexOf(r)};Ei.prototype.size=function(){return this.array_.length};Ei.prototype.toArray=function(){for(var r=this,t=[],e=0,n=this.array_.length;e<n;e++)t.push(r.array_[e]);return t};var _i=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};_i.prototype.getCoordinate=function(){return this._minCoord};_i.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n};_i.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();Jt.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],i=xt.computeOrientation(this._minCoord,n,e),o=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&i===xt.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&i===xt.CLOCKWISE)&&(o=!0),o&&(this._minIndex=this._minIndex-1)};_i.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge(),i=n.getCoordinates();if(e<0||e+1>=i.length||i[e].y===i[e+1].y)return-1;var o=Lt.LEFT;return i[e].y<i[e+1].y&&(o=Lt.RIGHT),o};_i.prototype.getEdge=function(){return this._orientedDe};_i.prototype.checkForRightmostCoordinate=function(t){for(var e=this,n=t.getEdge().getCoordinates(),i=0;i<n.length-1;i++)(e._minCoord===null||n[i].x>e._minCoord.x)&&(e._minDe=t,e._minIndex=i,e._minCoord=n[i])};_i.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode(),e=t.getEdges();this._minDe=e.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)};_i.prototype.findEdge=function(t){for(var e=this,n=t.iterator();n.hasNext();){var i=n.next();i.isForward()&&e.checkForRightmostCoordinate(i)}Jt.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe;var o=this.getRightmostSide(this._minDe,this._minIndex);o===Lt.LEFT&&(this._orientedDe=this._minDe.getSym())};_i.prototype.interfaces_=function(){return[]};_i.prototype.getClass=function(){return _i};var uo=function(r){function t(e,n){r.call(this,t.msgWithCoord(e,n)),this.pt=n?new J(n):null,this.name="TopologyException"}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.getCoordinate=function(){return this.pt},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.msgWithCoord=function(n,i){return i?n:n+" [ "+i+" ]"},t}(ao),Uu=function(){this.array_=[]};Uu.prototype.addLast=function(t){this.array_.push(t)};Uu.prototype.removeFirst=function(){return this.array_.shift()};Uu.prototype.isEmpty=function(){return this.array_.length===0};var nr=function(){this._finder=null,this._dirEdgeList=new Mt,this._nodes=new Mt,this._rightMostCoord=null,this._env=null,this._finder=new _i};nr.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.setVisited(!1)}};nr.prototype.getRightmostCoordinate=function(){return this._rightMostCoord};nr.prototype.computeNodeDepth=function(t){for(var e=this,n=null,i=t.getEdges().iterator();i.hasNext();){var o=i.next();if(o.isVisited()||o.getSym().isVisited()){n=o;break}}if(n===null)throw new uo("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(n);for(var s=t.getEdges().iterator();s.hasNext();){var u=s.next();u.setVisited(!0),e.copySymDepths(u)}};nr.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(Lt.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)};nr.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()};nr.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Lt.RIGHT)>=1&&e.getDepth(Lt.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}};nr.prototype.computeDepths=function(t){var e=this,n=new Hh,i=new Uu,o=t.getNode();for(i.addLast(o),n.add(o),t.setVisited(!0);!i.isEmpty();){var s=i.removeFirst();n.add(s),e.computeNodeDepth(s);for(var u=s.getEdges().iterator();u.hasNext();){var l=u.next(),p=l.getSym();if(!p.isVisited()){var g=p.getNode();n.contains(g)||(i.addLast(g),n.add(g))}}}};nr.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0};nr.prototype.getEnvelope=function(){if(this._env===null){for(var t=new Bt,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next(),i=n.getEdge().getCoordinates(),o=0;o<i.length-1;o++)t.expandToInclude(i[o]);this._env=t}return this._env};nr.prototype.addReachable=function(t){var e=this,n=new Ei;for(n.add(t);!n.empty();){var i=n.pop();e.add(i,n)}};nr.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(Lt.LEFT,t.getDepth(Lt.RIGHT)),e.setDepth(Lt.RIGHT,t.getDepth(Lt.LEFT))};nr.prototype.add=function(t,e){var n=this;t.setVisited(!0),this._nodes.add(t);for(var i=t.getEdges().iterator();i.hasNext();){var o=i.next();n._dirEdgeList.add(o);var s=o.getSym(),u=s.getNode();u.isVisited()||e.push(u)}};nr.prototype.getNodes=function(){return this._nodes};nr.prototype.getDirectedEdges=function(){return this._dirEdgeList};nr.prototype.interfaces_=function(){return[zr]};nr.prototype.getClass=function(){return nr};var Ue=function r(){var t=this;if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[Lt.ON]=n}else if(arguments[0]instanceof r){var i=arguments[0];if(this.init(i.location.length),i!==null)for(var o=0;o<this.location.length;o++)t.location[o]=i.location[o]}}else if(arguments.length===3){var s=arguments[0],u=arguments[1],l=arguments[2];this.init(3),this.location[Lt.ON]=s,this.location[Lt.LEFT]=u,this.location[Lt.RIGHT]=l}};Ue.prototype.setAllLocations=function(t){for(var e=this,n=0;n<this.location.length;n++)e.location[n]=t};Ue.prototype.isNull=function(){for(var t=this,e=0;e<this.location.length;e++)if(t.location[e]!==tt.NONE)return!1;return!0};Ue.prototype.setAllLocationsIfNull=function(t){for(var e=this,n=0;n<this.location.length;n++)e.location[n]===tt.NONE&&(e.location[n]=t)};Ue.prototype.isLine=function(){return this.location.length===1};Ue.prototype.merge=function(t){var e=this;if(t.location.length>this.location.length){var n=new Array(3).fill(null);n[Lt.ON]=this.location[Lt.ON],n[Lt.LEFT]=tt.NONE,n[Lt.RIGHT]=tt.NONE,this.location=n}for(var i=0;i<this.location.length;i++)e.location[i]===tt.NONE&&i<t.location.length&&(e.location[i]=t.location[i])};Ue.prototype.getLocations=function(){return this.location};Ue.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Lt.LEFT];this.location[Lt.LEFT]=this.location[Lt.RIGHT],this.location[Lt.RIGHT]=t};Ue.prototype.toString=function(){var t=new wi;return this.location.length>1&&t.append(tt.toLocationSymbol(this.location[Lt.LEFT])),t.append(tt.toLocationSymbol(this.location[Lt.ON])),this.location.length>1&&t.append(tt.toLocationSymbol(this.location[Lt.RIGHT])),t.toString()};Ue.prototype.setLocations=function(t,e,n){this.location[Lt.ON]=t,this.location[Lt.LEFT]=e,this.location[Lt.RIGHT]=n};Ue.prototype.get=function(t){return t<this.location.length?this.location[t]:tt.NONE};Ue.prototype.isArea=function(){return this.location.length>1};Ue.prototype.isAnyNull=function(){for(var t=this,e=0;e<this.location.length;e++)if(t.location[e]===tt.NONE)return!0;return!1};Ue.prototype.setLocation=function(){if(arguments.length===1){var t=arguments[0];this.setLocation(Lt.ON,t)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this.location[e]=n}};Ue.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(tt.NONE)};Ue.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]};Ue.prototype.allPositionsEqual=function(t){for(var e=this,n=0;n<this.location.length;n++)if(e.location[n]!==t)return!1;return!0};Ue.prototype.interfaces_=function(){return[]};Ue.prototype.getClass=function(){return Ue};var Oe=function r(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new Ue(t),this.elt[1]=new Ue(t)}else if(arguments[0]instanceof r){var e=arguments[0];this.elt[0]=new Ue(e.elt[0]),this.elt[1]=new Ue(e.elt[1])}}else if(arguments.length===2){var n=arguments[0],i=arguments[1];this.elt[0]=new Ue(tt.NONE),this.elt[1]=new Ue(tt.NONE),this.elt[n].setLocation(i)}else if(arguments.length===3){var o=arguments[0],s=arguments[1],u=arguments[2];this.elt[0]=new Ue(o,s,u),this.elt[1]=new Ue(o,s,u)}else if(arguments.length===4){var l=arguments[0],p=arguments[1],g=arguments[2],c=arguments[3];this.elt[0]=new Ue(tt.NONE,tt.NONE,tt.NONE),this.elt[1]=new Ue(tt.NONE,tt.NONE,tt.NONE),this.elt[l].setLocations(p,g,c)}};Oe.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t};Oe.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)};Oe.prototype.isNull=function(t){return this.elt[t].isNull()};Oe.prototype.setAllLocationsIfNull=function(){if(arguments.length===1){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}};Oe.prototype.isLine=function(t){return this.elt[t].isLine()};Oe.prototype.merge=function(t){for(var e=this,n=0;n<2;n++)e.elt[n]===null&&t.elt[n]!==null?e.elt[n]=new Ue(t.elt[n]):e.elt[n].merge(t.elt[n])};Oe.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()};Oe.prototype.getLocation=function(){if(arguments.length===1){var t=arguments[0];return this.elt[t].get(Lt.ON)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}};Oe.prototype.toString=function(){var t=new wi;return this.elt[0]!==null&&(t.append("A:"),t.append(this.elt[0].toString())),this.elt[1]!==null&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()};Oe.prototype.isArea=function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var t=arguments[0];return this.elt[t].isArea()}};Oe.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()};Oe.prototype.setLocation=function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(Lt.ON,e)}else if(arguments.length===3){var n=arguments[0],i=arguments[1],o=arguments[2];this.elt[n].setLocation(i,o)}};Oe.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)};Oe.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)};Oe.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new Ue(this.elt[t].location[0]))};Oe.prototype.interfaces_=function(){return[]};Oe.prototype.getClass=function(){return Oe};Oe.toLineLabel=function(t){for(var e=new Oe(tt.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var dn=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Mt,this._pts=new Mt,this._label=new Oe(tt.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Mt,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};dn.prototype.computeRing=function(){var t=this;if(this._ring!==null)return null;for(var e=new Array(this._pts.size()).fill(null),n=0;n<this._pts.size();n++)e[n]=t._pts.get(n);this._ring=this._geometryFactory.createLinearRing(e),this._isHole=xt.isCCW(this._ring.getCoordinates())};dn.prototype.isIsolated=function(){return this._label.getGeometryCount()===1};dn.prototype.computePoints=function(t){var e=this;this._startDe=t;var n=t,i=!0;do{if(n===null)throw new uo("Found null DirectedEdge");if(n.getEdgeRing()===e)throw new uo("Directed Edge visited twice during ring-building at "+n.getCoordinate());e._edges.add(n);var o=n.getLabel();Jt.isTrue(o.isArea()),e.mergeLabel(o),e.addPoints(n.getEdge(),n.isForward(),i),i=!1,e.setEdgeRing(n,e),n=e.getNext(n)}while(n!==this._startDe)};dn.prototype.getLinearRing=function(){return this._ring};dn.prototype.getCoordinate=function(t){return this._pts.get(t)};dn.prototype.computeMaxNodeDegree=function(){var t=this;this._maxNodeDegree=0;var e=this._startDe;do{var n=e.getNode(),i=n.getEdges().getOutgoingDegree(t);i>t._maxNodeDegree&&(t._maxNodeDegree=i),e=t.getNext(e)}while(e!==this._startDe);this._maxNodeDegree*=2};dn.prototype.addPoints=function(t,e,n){var i=this,o=t.getCoordinates();if(e){var s=1;n&&(s=0);for(var u=s;u<o.length;u++)i._pts.add(o[u])}else{var l=o.length-2;n&&(l=o.length-1);for(var p=l;p>=0;p--)i._pts.add(o[p])}};dn.prototype.isHole=function(){return this._isHole};dn.prototype.setInResult=function(){var t=this._startDe;do t.getEdge().setInResult(!0),t=t.getNext();while(t!==this._startDe)};dn.prototype.containsPoint=function(t){var e=this.getLinearRing(),n=e.getEnvelopeInternal();if(!n.contains(t)||!xt.isPointInRing(t,e.getCoordinates()))return!1;for(var i=this._holes.iterator();i.hasNext();){var o=i.next();if(o.containsPoint(t))return!1}return!0};dn.prototype.addHole=function(t){this._holes.add(t)};dn.prototype.isShell=function(){return this._shell===null};dn.prototype.getLabel=function(){return this._label};dn.prototype.getEdges=function(){return this._edges};dn.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree};dn.prototype.getShell=function(){return this._shell};dn.prototype.mergeLabel=function(){if(arguments.length===1){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(arguments.length===2){var e=arguments[0],n=arguments[1],i=e.getLocation(n,Lt.RIGHT);if(i===tt.NONE)return null;if(this._label.getLocation(n)===tt.NONE)return this._label.setLocation(n,i),null}};dn.prototype.setShell=function(t){this._shell=t,t!==null&&t.addHole(this)};dn.prototype.toPolygon=function(t){for(var e=this,n=new Array(this._holes.size()).fill(null),i=0;i<this._holes.size();i++)n[i]=e._holes.get(i).getLinearRing();var o=t.createPolygon(this.getLinearRing(),n);return o};dn.prototype.interfaces_=function(){return[]};dn.prototype.getClass=function(){return dn};var Fg=function(r){function t(){var e=arguments[0],n=arguments[1];r.call(this,e,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.setEdgeRing=function(n,i){n.setMinEdgeRing(i)},t.prototype.getNext=function(n){return n.getNextMin()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(dn),Gg=function(r){function t(){var e=arguments[0],n=arguments[1];r.call(this,e,n)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.buildMinimalRings=function(){var n=this,i=new Mt,o=this._startDe;do{if(o.getMinEdgeRing()===null){var s=new Fg(o,n._geometryFactory);i.add(s)}o=o.getNext()}while(o!==this._startDe);return i},t.prototype.setEdgeRing=function(n,i){n.setEdgeRing(i)},t.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var n=this,i=this._startDe;do{var o=i.getNode();o.getEdges().linkMinimalDirectedEdges(n),i=i.getNext()}while(i!==this._startDe)},t.prototype.getNext=function(n){return n.getNext()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(dn),Mr=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this._label=t}}};Mr.prototype.setVisited=function(t){this._isVisited=t};Mr.prototype.setInResult=function(t){this._isInResult=t};Mr.prototype.isCovered=function(){return this._isCovered};Mr.prototype.isCoveredSet=function(){return this._isCoveredSet};Mr.prototype.setLabel=function(t){this._label=t};Mr.prototype.getLabel=function(){return this._label};Mr.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0};Mr.prototype.updateIM=function(t){Jt.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)};Mr.prototype.isInResult=function(){return this._isInResult};Mr.prototype.isVisited=function(){return this._isVisited};Mr.prototype.interfaces_=function(){return[]};Mr.prototype.getClass=function(){return Mr};var Hu=function(r){function t(){r.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new Oe(0,tt.NONE)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.isIncidentEdgeInResult=function(){for(var n=this.getEdges().getEdges().iterator();n.hasNext();){var i=n.next();if(i.getEdge().isInResult())return!0}return!1},t.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},t.prototype.getCoordinate=function(){return this._coord},t.prototype.print=function(n){n.println("node "+this._coord+" lbl: "+this._label)},t.prototype.computeIM=function(n){},t.prototype.computeMergedLocation=function(n,i){var o=tt.NONE;if(o=this._label.getLocation(i),!n.isNull(i)){var s=n.getLocation(i);o!==tt.BOUNDARY&&(o=s)}return o},t.prototype.setLabel=function(){if(arguments.length===2){var n=arguments[0],i=arguments[1];this._label===null?this._label=new Oe(n,i):this._label.setLocation(n,i)}else return r.prototype.setLabel.apply(this,arguments)},t.prototype.getEdges=function(){return this._edges},t.prototype.mergeLabel=function(){var n=this;if(arguments[0]instanceof t){var i=arguments[0];this.mergeLabel(i._label)}else if(arguments[0]instanceof Oe)for(var o=arguments[0],s=0;s<2;s++){var u=n.computeMergedLocation(o,s),l=n._label.getLocation(s);l===tt.NONE&&n._label.setLocation(s,u)}},t.prototype.add=function(n){this._edges.insert(n),n.setNode(this)},t.prototype.setLabelBoundary=function(n){if(this._label===null)return null;var i=tt.NONE;this._label!==null&&(i=this._label.getLocation(n));var o=null;switch(i){case tt.BOUNDARY:o=tt.INTERIOR;break;case tt.INTERIOR:o=tt.BOUNDARY;break;default:o=tt.BOUNDARY;break}this._label.setLocation(n,o)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Mr),mi=function(){this.nodeMap=new Zn,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};mi.prototype.find=function(t){return this.nodeMap.get(t)};mi.prototype.addNode=function(){if(arguments[0]instanceof J){var t=arguments[0],e=this.nodeMap.get(t);return e===null&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}else if(arguments[0]instanceof Hu){var n=arguments[0],i=this.nodeMap.get(n.getCoordinate());return i===null?(this.nodeMap.put(n.getCoordinate(),n),n):(i.mergeLabel(n),i)}};mi.prototype.print=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next();n.print(t)}};mi.prototype.iterator=function(){return this.nodeMap.values().iterator()};mi.prototype.values=function(){return this.nodeMap.values()};mi.prototype.getBoundaryNodes=function(t){for(var e=new Mt,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(t)===tt.BOUNDARY&&e.add(i)}return e};mi.prototype.add=function(t){var e=t.getCoordinate(),n=this.addNode(e);n.add(t)};mi.prototype.interfaces_=function(){return[]};mi.prototype.getClass=function(){return mi};var ze=function(){},Tl={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};ze.prototype.interfaces_=function(){return[]};ze.prototype.getClass=function(){return ze};ze.isNorthern=function(t){return t===ze.NE||t===ze.NW};ze.isOpposite=function(t,e){if(t===e)return!1;var n=(t-e+4)%4;return n===2};ze.commonHalfPlane=function(t,e){if(t===e)return t;var n=(t-e+4)%4;if(n===2)return-1;var i=t<e?t:e,o=t>e?t:e;return i===0&&o===3?3:i};ze.isInHalfPlane=function(t,e){return e===ze.SE?t===ze.SE||t===ze.SW:t===e||t===e+1};ze.quadrant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],e=arguments[1];if(t===0&&e===0)throw new Ke("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?ze.NE:ze.SE:e>=0?ze.NW:ze.SW}else if(arguments[0]instanceof J&&arguments[1]instanceof J){var n=arguments[0],i=arguments[1];if(i.x===n.x&&i.y===n.y)throw new Ke("Cannot compute the quadrant for two identical points "+n);return i.x>=n.x?i.y>=n.y?ze.NE:ze.SE:i.y>=n.y?ze.NW:ze.SW}};Tl.NE.get=function(){return 0};Tl.NW.get=function(){return 1};Tl.SW.get=function(){return 2};Tl.SE.get=function(){return 3};Object.defineProperties(ze,Tl);var jn=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var t=arguments[0];this._edge=t}else if(arguments.length===3){var e=arguments[0],n=arguments[1],i=arguments[2],o=null;this._edge=e,this.init(n,i),this._label=o}else if(arguments.length===4){var s=arguments[0],u=arguments[1],l=arguments[2],p=arguments[3];this._edge=s,this.init(u,l),this._label=p}};jn.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:xt.computeOrientation(t._p0,t._p1,this._p1)};jn.prototype.getDy=function(){return this._dy};jn.prototype.getCoordinate=function(){return this._p0};jn.prototype.setNode=function(t){this._node=t};jn.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),i=n.lastIndexOf("."),o=n.substring(i+1);t.print("  "+o+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)};jn.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)};jn.prototype.getDirectedCoordinate=function(){return this._p1};jn.prototype.getDx=function(){return this._dx};jn.prototype.getLabel=function(){return this._label};jn.prototype.getEdge=function(){return this._edge};jn.prototype.getQuadrant=function(){return this._quadrant};jn.prototype.getNode=function(){return this._node};jn.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf("."),i=e.substring(n+1);return"  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label};jn.prototype.computeLabel=function(t){};jn.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=ze.quadrant(this._dx,this._dy),Jt.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")};jn.prototype.interfaces_=function(){return[zr]};jn.prototype.getClass=function(){return jn};var Ch=function(r){function t(){var e=arguments[0],n=arguments[1];if(r.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var i=e.getNumPoints()-1;this.init(e.getCoordinate(i),e.getCoordinate(i-1))}this.computeDirectedLabel()}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.getNextMin=function(){return this._nextMin},t.prototype.getDepth=function(n){return this._depth[n]},t.prototype.setVisited=function(n){this._isVisited=n},t.prototype.computeDirectedLabel=function(){this._label=new Oe(this._edge.getLabel()),this._isForward||this._label.flip()},t.prototype.getNext=function(){return this._next},t.prototype.setDepth=function(n,i){if(this._depth[n]!==-999&&this._depth[n]!==i)throw new uo("assigned depths do not match",this.getCoordinate());this._depth[n]=i},t.prototype.isInteriorAreaEdge=function(){for(var n=this,i=!0,o=0;o<2;o++)n._label.isArea(o)&&n._label.getLocation(o,Lt.LEFT)===tt.INTERIOR&&n._label.getLocation(o,Lt.RIGHT)===tt.INTERIOR||(i=!1);return i},t.prototype.setNextMin=function(n){this._nextMin=n},t.prototype.print=function(n){r.prototype.print.call(this,n),n.print(" "+this._depth[Lt.LEFT]+"/"+this._depth[Lt.RIGHT]),n.print(" ("+this.getDepthDelta()+")"),this._isInResult&&n.print(" inResult")},t.prototype.setMinEdgeRing=function(n){this._minEdgeRing=n},t.prototype.isLineEdge=function(){var n=this._label.isLine(0)||this._label.isLine(1),i=!this._label.isArea(0)||this._label.allPositionsEqual(0,tt.EXTERIOR),o=!this._label.isArea(1)||this._label.allPositionsEqual(1,tt.EXTERIOR);return n&&i&&o},t.prototype.setEdgeRing=function(n){this._edgeRing=n},t.prototype.getMinEdgeRing=function(){return this._minEdgeRing},t.prototype.getDepthDelta=function(){var n=this._edge.getDepthDelta();return this._isForward||(n=-n),n},t.prototype.setInResult=function(n){this._isInResult=n},t.prototype.getSym=function(){return this._sym},t.prototype.isForward=function(){return this._isForward},t.prototype.getEdge=function(){return this._edge},t.prototype.printEdge=function(n){this.print(n),n.print(" "),this._isForward?this._edge.print(n):this._edge.printReverse(n)},t.prototype.setSym=function(n){this._sym=n},t.prototype.setVisitedEdge=function(n){this.setVisited(n),this._sym.setVisited(n)},t.prototype.setEdgeDepths=function(n,i){var o=this.getEdge().getDepthDelta();this._isForward||(o=-o);var s=1;n===Lt.LEFT&&(s=-1);var u=Lt.opposite(n),l=o*s,p=i+l;this.setDepth(n,i),this.setDepth(u,p)},t.prototype.getEdgeRing=function(){return this._edgeRing},t.prototype.isInResult=function(){return this._isInResult},t.prototype.setNext=function(n){this._next=n},t.prototype.isVisited=function(){return this._isVisited},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.depthFactor=function(n,i){return n===tt.EXTERIOR&&i===tt.INTERIOR?1:n===tt.INTERIOR&&i===tt.EXTERIOR?-1:0},t}(jn),ya=function(){};ya.prototype.createNode=function(t){return new Hu(t,null)};ya.prototype.interfaces_=function(){return[]};ya.prototype.getClass=function(){return ya};var en=function(){if(this._edges=new Mt,this._nodes=null,this._edgeEndList=new Mt,arguments.length===0)this._nodes=new mi(new ya);else if(arguments.length===1){var t=arguments[0];this._nodes=new mi(t)}};en.prototype.printEdges=function(t){var e=this;t.println("Edges:");for(var n=0;n<this._edges.size();n++){t.println("edge "+n+":");var i=e._edges.get(n);i.print(t),i.eiList.print(t)}};en.prototype.find=function(t){return this._nodes.find(t)};en.prototype.addNode=function(){if(arguments[0]instanceof Hu){var t=arguments[0];return this._nodes.addNode(t)}else if(arguments[0]instanceof J){var e=arguments[0];return this._nodes.addNode(e)}};en.prototype.getNodeIterator=function(){return this._nodes.iterator()};en.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();){var e=t.next();e.getEdges().linkResultDirectedEdges()}};en.prototype.debugPrintln=function(t){Bn.out.println(t)};en.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(n===null)return!1;var i=n.getLabel();return i!==null&&i.getLocation(t)===tt.BOUNDARY};en.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();){var e=t.next();e.getEdges().linkAllDirectedEdges()}};en.prototype.matchInSameDirection=function(t,e,n,i){return t.equals(n)?xt.computeOrientation(t,e,i)===xt.COLLINEAR&&ze.quadrant(t,e)===ze.quadrant(n,i):!1};en.prototype.getEdgeEnds=function(){return this._edgeEndList};en.prototype.debugPrint=function(t){Bn.out.print(t)};en.prototype.getEdgeIterator=function(){return this._edges.iterator()};en.prototype.findEdgeInSameDirection=function(t,e){for(var n=this,i=0;i<this._edges.size();i++){var o=n._edges.get(i),s=o.getCoordinates();if(n.matchInSameDirection(t,e,s[0],s[1])||n.matchInSameDirection(t,e,s[s.length-1],s[s.length-2]))return o}return null};en.prototype.insertEdge=function(t){this._edges.add(t)};en.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null};en.prototype.addEdges=function(t){for(var e=this,n=t.iterator();n.hasNext();){var i=n.next();e._edges.add(i);var o=new Ch(i,!0),s=new Ch(i,!1);o.setSym(s),s.setSym(o),e.add(o),e.add(s)}};en.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)};en.prototype.getNodes=function(){return this._nodes.values()};en.prototype.findEdge=function(t,e){for(var n=this,i=0;i<this._edges.size();i++){var o=n._edges.get(i),s=o.getCoordinates();if(t.equals(s[0])&&e.equals(s[1]))return o}return null};en.prototype.interfaces_=function(){return[]};en.prototype.getClass=function(){return en};en.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.getEdges().linkResultDirectedEdges()}};var vr=function(){this._geometryFactory=null,this._shellList=new Mt;var t=arguments[0];this._geometryFactory=t};vr.prototype.sortShellsAndHoles=function(t,e,n){for(var i=t.iterator();i.hasNext();){var o=i.next();o.isHole()?n.add(o):e.add(o)}};vr.prototype.computePolygons=function(t){for(var e=this,n=new Mt,i=t.iterator();i.hasNext();){var o=i.next(),s=o.toPolygon(e._geometryFactory);n.add(s)}return n};vr.prototype.placeFreeHoles=function(t,e){for(var n=this,i=e.iterator();i.hasNext();){var o=i.next();if(o.getShell()===null){var s=n.findEdgeRingContaining(o,t);if(s===null)throw new uo("unable to assign hole to a shell",o.getCoordinate(0));o.setShell(s)}}};vr.prototype.buildMinimalEdgeRings=function(t,e,n){for(var i=this,o=new Mt,s=t.iterator();s.hasNext();){var u=s.next();if(u.getMaxNodeDegree()>2){u.linkDirectedEdgesForMinimalEdgeRings();var l=u.buildMinimalRings(),p=i.findShell(l);p!==null?(i.placePolygonHoles(p,l),e.add(p)):n.addAll(l)}else o.add(u)}return o};vr.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();){var n=e.next();if(n.containsPoint(t))return!0}return!1};vr.prototype.buildMaximalEdgeRings=function(t){for(var e=this,n=new Mt,i=t.iterator();i.hasNext();){var o=i.next();if(o.isInResult()&&o.getLabel().isArea()&&o.getEdgeRing()===null){var s=new Gg(o,e._geometryFactory);n.add(s),s.setInResult()}}return n};vr.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(t)}};vr.prototype.getPolygons=function(){var t=this.computePolygons(this._shellList);return t};vr.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),i=n.getEnvelopeInternal(),o=n.getCoordinateN(0),s=null,u=null,l=e.iterator();l.hasNext();){var p=l.next(),g=p.getLinearRing(),c=g.getEnvelopeInternal();s!==null&&(u=s.getLinearRing().getEnvelopeInternal());var _=!1;c.contains(i)&&xt.isPointInRing(o,g.getCoordinates())&&(_=!0),_&&(s===null||u.contains(c))&&(s=p)}return s};vr.prototype.findShell=function(t){for(var e=0,n=null,i=t.iterator();i.hasNext();){var o=i.next();o.isHole()||(n=o,e++)}return Jt.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n};vr.prototype.add=function(){if(arguments.length===1){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(arguments.length===2){var e=arguments[0],n=arguments[1];en.linkResultDirectedEdges(n);var i=this.buildMaximalEdgeRings(e),o=new Mt,s=this.buildMinimalEdgeRings(i,this._shellList,o);this.sortShellsAndHoles(s,this._shellList,o),this.placeFreeHoles(this._shellList,o)}};vr.prototype.interfaces_=function(){return[]};vr.prototype.getClass=function(){return vr};var La=function(){};La.prototype.getBounds=function(){};La.prototype.interfaces_=function(){return[]};La.prototype.getClass=function(){return La};var qr=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};qr.prototype.getItem=function(){return this._item};qr.prototype.getBounds=function(){return this._bounds};qr.prototype.interfaces_=function(){return[La,Fr]};qr.prototype.getClass=function(){return qr};var ho=function(){this._size=null,this._items=null,this._size=0,this._items=new Mt,this._items.add(null)};ho.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t};ho.prototype.size=function(){return this._size};ho.prototype.reorder=function(t){for(var e=this,n=null,i=this._items.get(t);t*2<=this._size&&(n=t*2,n!==e._size&&e._items.get(n+1).compareTo(e._items.get(n))<0&&n++,e._items.get(n).compareTo(i)<0);t=n)e._items.set(t,e._items.get(n));this._items.set(t,i)};ho.prototype.clear=function(){this._size=0,this._items.clear()};ho.prototype.isEmpty=function(){return this._size===0};ho.prototype.add=function(t){var e=this;this._items.add(null),this._size+=1;var n=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(n/2)))<0;n/=2)e._items.set(n,e._items.get(Math.trunc(n/2)));this._items.set(n,t)};ho.prototype.interfaces_=function(){return[]};ho.prototype.getClass=function(){return ho};var To=function(){};To.prototype.visitItem=function(t){};To.prototype.interfaces_=function(){return[]};To.prototype.getClass=function(){return To};var Ts=function(){};Ts.prototype.insert=function(t,e){};Ts.prototype.remove=function(t,e){};Ts.prototype.query=function(){};Ts.prototype.interfaces_=function(){return[]};Ts.prototype.getClass=function(){return Ts};var Cn=function(){if(this._childBoundables=new Mt,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this._level=t}}},xp={serialVersionUID:{configurable:!0}};Cn.prototype.getLevel=function(){return this._level};Cn.prototype.size=function(){return this._childBoundables.size()};Cn.prototype.getChildBoundables=function(){return this._childBoundables};Cn.prototype.addChildBoundable=function(t){Jt.isTrue(this._bounds===null),this._childBoundables.add(t)};Cn.prototype.isEmpty=function(){return this._childBoundables.isEmpty()};Cn.prototype.getBounds=function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds};Cn.prototype.interfaces_=function(){return[La,Fr]};Cn.prototype.getClass=function(){return Cn};xp.serialVersionUID.get=function(){return 6493722185909574e3};Object.defineProperties(Cn,xp);var Xr=function(){};Xr.reverseOrder=function(){return{compare:function(e,n){return n.compareTo(e)}}};Xr.min=function(t){return Xr.sort(t),t.get(0)};Xr.sort=function(t,e){var n=t.toArray();e?ts.sort(n,e):ts.sort(n);for(var i=t.iterator(),o=0,s=n.length;o<s;o++)i.next(),i.set(n[o])};Xr.singletonList=function(t){var e=new Mt;return e.add(t),e};var fn=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};fn.prototype.expandToQueue=function(t,e){var n=fn.isComposite(this._boundable1),i=fn.isComposite(this._boundable2);if(n&&i)return fn.area(this._boundable1)>fn.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(i)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new Ke("neither boundable is composite")};fn.prototype.isLeaves=function(){return!(fn.isComposite(this._boundable1)||fn.isComposite(this._boundable2))};fn.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0};fn.prototype.expand=function(t,e,n,i){for(var o=this,s=t.getChildBoundables(),u=s.iterator();u.hasNext();){var l=u.next(),p=new fn(l,e,o._itemDistance);p.getDistance()<i&&n.add(p)}};fn.prototype.getBoundable=function(t){return t===0?this._boundable1:this._boundable2};fn.prototype.getDistance=function(){return this._distance};fn.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())};fn.prototype.interfaces_=function(){return[zr]};fn.prototype.getClass=function(){return fn};fn.area=function(t){return t.getBounds().getArea()};fn.isComposite=function(t){return t instanceof Cn};var kn=function r(){if(this._root=null,this._built=!1,this._itemBoundables=new Mt,this._nodeCapacity=null,arguments.length===0){var t=r.DEFAULT_NODE_CAPACITY;this._nodeCapacity=t}else if(arguments.length===1){var e=arguments[0];Jt.isTrue(e>1,"Node capacity must be greater than 1"),this._nodeCapacity=e}},Zu={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};kn.prototype.getNodeCapacity=function(){return this._nodeCapacity};kn.prototype.lastNode=function(t){return t.get(t.size()-1)};kn.prototype.size=function(){var t=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var e=arguments[0],n=0,i=e.getChildBoundables().iterator();i.hasNext();){var o=i.next();o instanceof Cn?n+=t.size(o):o instanceof qr&&(n+=1)}return n}};kn.prototype.removeItem=function(t,e){for(var n=null,i=t.getChildBoundables().iterator();i.hasNext();){var o=i.next();o instanceof qr&&o.getItem()===e&&(n=o)}return n!==null?(t.getChildBoundables().remove(n),!0):!1};kn.prototype.itemsTree=function(){var t=this;if(arguments.length===0){this.build();var e=this.itemsTree(this._root);return e===null?new Mt:e}else if(arguments.length===1){for(var n=arguments[0],i=new Mt,o=n.getChildBoundables().iterator();o.hasNext();){var s=o.next();if(s instanceof Cn){var u=t.itemsTree(s);u!==null&&i.add(u)}else s instanceof qr?i.add(s.getItem()):Jt.shouldNeverReachHere()}return i.size()<=0?null:i}};kn.prototype.insert=function(t,e){Jt.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new qr(t,e))};kn.prototype.boundablesAtLevel=function(){var t=this;if(arguments.length===1){var e=arguments[0],n=new Mt;return this.boundablesAtLevel(e,this._root,n),n}else if(arguments.length===3){var i=arguments[0],o=arguments[1],s=arguments[2];if(Jt.isTrue(i>-2),o.getLevel()===i)return s.add(o),null;for(var u=o.getChildBoundables().iterator();u.hasNext();){var l=u.next();l instanceof Cn?t.boundablesAtLevel(i,l,s):(Jt.isTrue(l instanceof qr),i===-1&&s.add(l))}return null}};kn.prototype.query=function(){var t=this;if(arguments.length===1){var e=arguments[0];this.build();var n=new Mt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.query(e,this._root,n),n}else if(arguments.length===2){var i=arguments[0],o=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),i)&&this.query(i,this._root,o)}else if(arguments.length===3){if(Ht(arguments[2],To)&&arguments[0]instanceof Object&&arguments[1]instanceof Cn)for(var s=arguments[0],u=arguments[1],l=arguments[2],p=u.getChildBoundables(),g=0;g<p.size();g++){var c=p.get(g);t.getIntersectsOp().intersects(c.getBounds(),s)&&(c instanceof Cn?t.query(s,c,l):c instanceof qr?l.visitItem(c.getItem()):Jt.shouldNeverReachHere())}else if(Ht(arguments[2],Hr)&&arguments[0]instanceof Object&&arguments[1]instanceof Cn)for(var _=arguments[0],C=arguments[1],M=arguments[2],S=C.getChildBoundables(),P=0;P<S.size();P++){var k=S.get(P);t.getIntersectsOp().intersects(k.getBounds(),_)&&(k instanceof Cn?t.query(_,k,M):k instanceof qr?M.add(k.getItem()):Jt.shouldNeverReachHere())}}};kn.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0};kn.prototype.getRoot=function(){return this.build(),this._root};kn.prototype.remove=function(){var t=this;if(arguments.length===2){var e=arguments[0],n=arguments[1];return this.build(),this.getIntersectsOp().intersects(this._root.getBounds(),e)?this.remove(e,this._root,n):!1}else if(arguments.length===3){var i=arguments[0],o=arguments[1],s=arguments[2],u=this.removeItem(o,s);if(u)return!0;for(var l=null,p=o.getChildBoundables().iterator();p.hasNext();){var g=p.next();if(t.getIntersectsOp().intersects(g.getBounds(),i)&&g instanceof Cn&&(u=t.remove(i,g,s),u)){l=g;break}}return l!==null&&l.getChildBoundables().isEmpty()&&o.getChildBoundables().remove(l),u}};kn.prototype.createHigherLevels=function(t,e){Jt.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return n.size()===1?n.get(0):this.createHigherLevels(n,e+1)};kn.prototype.depth=function(){var t=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var e=arguments[0],n=0,i=e.getChildBoundables().iterator();i.hasNext();){var o=i.next();if(o instanceof Cn){var s=t.depth(o);s>n&&(n=s)}}return n+1}};kn.prototype.createParentBoundables=function(t,e){var n=this;Jt.isTrue(!t.isEmpty());var i=new Mt;i.add(this.createNode(e));var o=new Mt(t);Xr.sort(o,this.getComparator());for(var s=o.iterator();s.hasNext();){var u=s.next();n.lastNode(i).getChildBoundables().size()===n.getNodeCapacity()&&i.add(n.createNode(e)),n.lastNode(i).addChildBoundable(u)}return i};kn.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()};kn.prototype.interfaces_=function(){return[Fr]};kn.prototype.getClass=function(){return kn};kn.compareDoubles=function(t,e){return t>e?1:t<e?-1:0};Zu.IntersectsOp.get=function(){return Vg};Zu.serialVersionUID.get=function(){return-3886435814360241e3};Zu.DEFAULT_NODE_CAPACITY.get=function(){return 10};Object.defineProperties(kn,Zu);var Vg=function(){},ba=function(){};ba.prototype.distance=function(t,e){};ba.prototype.interfaces_=function(){return[]};ba.prototype.getClass=function(){return ba};var Tp=function(r){function t(n){n=n||t.DEFAULT_NODE_CAPACITY,r.call(this,n)}r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t;var e={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return t.prototype.createParentBoundablesFromVerticalSlices=function(i,o){var s=this;Jt.isTrue(i.length>0);for(var u=new Mt,l=0;l<i.length;l++)u.addAll(s.createParentBoundablesFromVerticalSlice(i[l],o));return u},t.prototype.createNode=function(i){return new Yc(i)},t.prototype.size=function(){return arguments.length===0?r.prototype.size.call(this):r.prototype.size.apply(this,arguments)},t.prototype.insert=function(){if(arguments.length===2){var i=arguments[0],o=arguments[1];if(i.isNull())return null;r.prototype.insert.call(this,i,o)}else return r.prototype.insert.apply(this,arguments)},t.prototype.getIntersectsOp=function(){return t.intersectsOp},t.prototype.verticalSlices=function(i,o){for(var s=Math.trunc(Math.ceil(i.size()/o)),u=new Array(o).fill(null),l=i.iterator(),p=0;p<o;p++){u[p]=new Mt;for(var g=0;l.hasNext()&&g<s;){var c=l.next();u[p].add(c),g++}}return u},t.prototype.query=function(){if(arguments.length===1){var i=arguments[0];return r.prototype.query.call(this,i)}else if(arguments.length===2){var o=arguments[0],s=arguments[1];r.prototype.query.call(this,o,s)}else if(arguments.length===3){if(Ht(arguments[2],To)&&arguments[0]instanceof Object&&arguments[1]instanceof Cn){var u=arguments[0],l=arguments[1],p=arguments[2];r.prototype.query.call(this,u,l,p)}else if(Ht(arguments[2],Hr)&&arguments[0]instanceof Object&&arguments[1]instanceof Cn){var g=arguments[0],c=arguments[1],_=arguments[2];r.prototype.query.call(this,g,c,_)}}},t.prototype.getComparator=function(){return t.yComparator},t.prototype.createParentBoundablesFromVerticalSlice=function(i,o){return r.prototype.createParentBoundables.call(this,i,o)},t.prototype.remove=function(){if(arguments.length===2){var i=arguments[0],o=arguments[1];return r.prototype.remove.call(this,i,o)}else return r.prototype.remove.apply(this,arguments)},t.prototype.depth=function(){return arguments.length===0?r.prototype.depth.call(this):r.prototype.depth.apply(this,arguments)},t.prototype.createParentBoundables=function(i,o){Jt.isTrue(!i.isEmpty());var s=Math.trunc(Math.ceil(i.size()/this.getNodeCapacity())),u=new Mt(i);Xr.sort(u,t.xComparator);var l=this.verticalSlices(u,Math.trunc(Math.ceil(Math.sqrt(s))));return this.createParentBoundablesFromVerticalSlices(l,o)},t.prototype.nearestNeighbour=function(){if(arguments.length===1){if(Ht(arguments[0],ba)){var i=arguments[0],o=new fn(this.getRoot(),this.getRoot(),i);return this.nearestNeighbour(o)}else if(arguments[0]instanceof fn){var s=arguments[0];return this.nearestNeighbour(s,Yt.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof t&&Ht(arguments[1],ba)){var u=arguments[0],l=arguments[1],p=new fn(this.getRoot(),u.getRoot(),l);return this.nearestNeighbour(p)}else if(arguments[0]instanceof fn&&typeof arguments[1]=="number"){var g=arguments[0],c=arguments[1],_=c,C=null,M=new ho;for(M.add(g);!M.isEmpty()&&_>0;){var S=M.poll(),P=S.getDistance();if(P>=_)break;S.isLeaves()?(_=P,C=S):S.expandToQueue(M,_)}return[C.getBoundable(0).getItem(),C.getBoundable(1).getItem()]}}else if(arguments.length===3){var k=arguments[0],D=arguments[1],O=arguments[2],x=new qr(k,D),R=new fn(this.getRoot(),x,O);return this.nearestNeighbour(R)[0]}},t.prototype.interfaces_=function(){return[Ts,Fr]},t.prototype.getClass=function(){return t},t.centreX=function(i){return t.avg(i.getMinX(),i.getMaxX())},t.avg=function(i,o){return(i+o)/2},t.centreY=function(i){return t.avg(i.getMinY(),i.getMaxY())},e.STRtreeNode.get=function(){return Yc},e.serialVersionUID.get=function(){return 0x39920f7d5f261e0},e.xComparator.get=function(){return{interfaces_:function(){return[ca]},compare:function(n,i){return r.compareDoubles(t.centreX(n.getBounds()),t.centreX(i.getBounds()))}}},e.yComparator.get=function(){return{interfaces_:function(){return[ca]},compare:function(n,i){return r.compareDoubles(t.centreY(n.getBounds()),t.centreY(i.getBounds()))}}},e.intersectsOp.get=function(){return{interfaces_:function(){return[r.IntersectsOp]},intersects:function(n,i){return n.intersects(i)}}},e.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(t,e),t}(kn),Yc=function(r){function t(){var e=arguments[0];r.call(this,e)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.computeBounds=function(){for(var n=null,i=this.getChildBoundables().iterator();i.hasNext();){var o=i.next();n===null?n=new Bt(o.getBounds()):n.expandToInclude(o.getBounds())}return n},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Cn),lr=function(){};lr.prototype.interfaces_=function(){return[]};lr.prototype.getClass=function(){return lr};lr.relativeSign=function(t,e){return t<e?-1:t>e?1:0};lr.compare=function(t,e,n){if(e.equals2D(n))return 0;var i=lr.relativeSign(e.x,n.x),o=lr.relativeSign(e.y,n.y);switch(t){case 0:return lr.compareValue(i,o);case 1:return lr.compareValue(o,i);case 2:return lr.compareValue(o,-i);case 3:return lr.compareValue(-i,o);case 4:return lr.compareValue(-i,-o);case 5:return lr.compareValue(-o,-i);case 6:return lr.compareValue(-o,i);case 7:return lr.compareValue(i,-o)}return Jt.shouldNeverReachHere("invalid octant value"),0};lr.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var No=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._segString=t,this.coord=new J(e),this.segmentIndex=n,this._segmentOctant=i,this._isInterior=!e.equals2D(t.getCoordinate(n))};No.prototype.getCoordinate=function(){return this.coord};No.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)};No.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:lr.compare(this._segmentOctant,this.coord,e.coord)};No.prototype.isEndPoint=function(t){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===t};No.prototype.isInterior=function(){return this._isInterior};No.prototype.interfaces_=function(){return[zr]};No.prototype.getClass=function(){return No};var rr=function(){this._nodeMap=new Zn,this._edge=null;var t=arguments[0];this._edge=t};rr.prototype.getSplitCoordinates=function(){var t=this,e=new kl;this.addEndpoints();for(var n=this.iterator(),i=n.next();n.hasNext();){var o=n.next();t.addEdgeCoordinates(i,o,e),i=o}return e.toCoordinateArray()};rr.prototype.addCollapsedNodes=function(){var t=this,e=new Mt;this.findCollapsesFromInsertedNodes(e),this.findCollapsesFromExistingVertices(e);for(var n=e.iterator();n.hasNext();){var i=n.next().intValue();t.add(t._edge.getCoordinate(i),i)}};rr.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();){var n=e.next();n.print(t)}};rr.prototype.findCollapsesFromExistingVertices=function(t){for(var e=this,n=0;n<this._edge.size()-2;n++){var i=e._edge.getCoordinate(n),o=e._edge.getCoordinate(n+2);i.equals2D(o)&&t.add(new fi(n+1))}};rr.prototype.addEdgeCoordinates=function(t,e,n){var i=this,o=this._edge.getCoordinate(e.segmentIndex),s=e.isInterior()||!e.coord.equals2D(o);n.add(new J(t.coord),!1);for(var u=t.segmentIndex+1;u<=e.segmentIndex;u++)n.add(i._edge.getCoordinate(u));s&&n.add(new J(e.coord))};rr.prototype.iterator=function(){return this._nodeMap.values().iterator()};rr.prototype.addSplitEdges=function(t){var e=this;this.addEndpoints(),this.addCollapsedNodes();for(var n=this.iterator(),i=n.next();n.hasNext();){var o=n.next(),s=e.createSplitEdge(i,o);t.add(s),i=o}};rr.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var i=e.segmentIndex-t.segmentIndex;return e.isInterior()||i--,i===1?(n[0]=t.segmentIndex+1,!0):!1};rr.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=this,n=new Array(1).fill(null),i=this.iterator(),o=i.next();i.hasNext();){var s=i.next(),u=e.findCollapseIndex(o,s,n);u&&t.add(new fi(n[0])),o=s}};rr.prototype.getEdge=function(){return this._edge};rr.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)};rr.prototype.createSplitEdge=function(t,e){var n=this,i=e.segmentIndex-t.segmentIndex+2,o=this._edge.getCoordinate(e.segmentIndex),s=e.isInterior()||!e.coord.equals2D(o);s||i--;var u=new Array(i).fill(null),l=0;u[l++]=new J(t.coord);for(var p=t.segmentIndex+1;p<=e.segmentIndex;p++)u[l++]=n._edge.getCoordinate(p);return s&&(u[l]=new J(e.coord)),new cn(u,this._edge.getData())};rr.prototype.add=function(t,e){var n=new No(this._edge,t,e,this._edge.getSegmentOctant(e)),i=this._nodeMap.get(n);return i!==null?(Jt.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this._nodeMap.put(n,n),n)};rr.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0),i=n.getCoordinate(0);if(!i.equals2D(e[0]))throw new ao("bad split edge start point at "+i);var o=t.get(t.size()-1),s=o.getCoordinates(),u=s[s.length-1];if(!u.equals2D(e[e.length-1]))throw new ao("bad split edge end point at "+u)};rr.prototype.interfaces_=function(){return[]};rr.prototype.getClass=function(){return rr};var Ns=function(){};Ns.prototype.interfaces_=function(){return[]};Ns.prototype.getClass=function(){return Ns};Ns.octant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],e=arguments[1];if(t===0&&e===0)throw new Ke("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),i=Math.abs(e);return t>=0?e>=0?n>=i?0:1:n>=i?7:6:e>=0?n>=i?3:2:n>=i?4:5}else if(arguments[0]instanceof J&&arguments[1]instanceof J){var o=arguments[0],s=arguments[1],u=s.x-o.x,l=s.y-o.y;if(u===0&&l===0)throw new Ke("Cannot compute the octant for two identical points "+o);return Ns.octant(u,l)}};var Ai=function(){};Ai.prototype.getCoordinates=function(){};Ai.prototype.size=function(){};Ai.prototype.getCoordinate=function(t){};Ai.prototype.isClosed=function(){};Ai.prototype.setData=function(t){};Ai.prototype.getData=function(){};Ai.prototype.interfaces_=function(){return[]};Ai.prototype.getClass=function(){return Ai};var vl=function(){};vl.prototype.addIntersection=function(t,e){};vl.prototype.interfaces_=function(){return[Ai]};vl.prototype.getClass=function(){return vl};var cn=function(){this._nodeList=new rr(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};cn.prototype.getCoordinates=function(){return this._pts};cn.prototype.size=function(){return this._pts.length};cn.prototype.getCoordinate=function(t){return this._pts[t]};cn.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])};cn.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))};cn.prototype.setData=function(t){this._data=t};cn.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:Ns.octant(t,e)};cn.prototype.getData=function(){return this._data};cn.prototype.addIntersection=function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(arguments.length===4){var n=arguments[0],i=arguments[1],o=arguments[3],s=new J(n.getIntersection(o));this.addIntersection(s,i)}};cn.prototype.toString=function(){return Zr.toLineString(new an(this._pts))};cn.prototype.getNodeList=function(){return this._nodeList};cn.prototype.addIntersectionNode=function(t,e){var n=e,i=n+1;if(i<this._pts.length){var o=this._pts[i];t.equals2D(o)&&(n=i)}var s=this._nodeList.add(t,n);return s};cn.prototype.addIntersections=function(t,e,n){for(var i=this,o=0;o<t.getIntersectionNum();o++)i.addIntersection(t,e,n,o)};cn.prototype.interfaces_=function(){return[vl]};cn.prototype.getClass=function(){return cn};cn.getNodedSubstrings=function(){if(arguments.length===1){var t=arguments[0],e=new Mt;return cn.getNodedSubstrings(t,e),e}else if(arguments.length===2)for(var n=arguments[0],i=arguments[1],o=n.iterator();o.hasNext();){var s=o.next();s.getNodeList().addSplitEdges(i)}};var zt=function(){if(this.p0=null,this.p1=null,arguments.length===0)this.p0=new J,this.p1=new J;else if(arguments.length===1){var t=arguments[0];this.p0=new J(t.p0),this.p1=new J(t.p1)}else if(arguments.length===2)this.p0=arguments[0],this.p1=arguments[1];else if(arguments.length===4){var e=arguments[0],n=arguments[1],i=arguments[2],o=arguments[3];this.p0=new J(e,n),this.p1=new J(i,o)}},Np={serialVersionUID:{configurable:!0}};zt.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)};zt.prototype.orientationIndex=function(){if(arguments[0]instanceof zt){var t=arguments[0],e=xt.orientationIndex(this.p0,this.p1,t.p0),n=xt.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0||e<=0&&n<=0?Math.max(e,n):0}else if(arguments[0]instanceof J){var i=arguments[0];return xt.orientationIndex(this.p0,this.p1,i)}};zt.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])};zt.prototype.isVertical=function(){return this.p0.x===this.p1.x};zt.prototype.equals=function(t){if(!(t instanceof zt))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)};zt.prototype.intersection=function(t){var e=new ps;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null};zt.prototype.project=function(){if(arguments[0]instanceof J){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new J(t);var e=this.projectionFactor(t),n=new J;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}else if(arguments[0]instanceof zt){var i=arguments[0],o=this.projectionFactor(i.p0),s=this.projectionFactor(i.p1);if(o>=1&&s>=1||o<=0&&s<=0)return null;var u=this.project(i.p0);o<0&&(u=this.p0),o>1&&(u=this.p1);var l=this.project(i.p1);return s<0&&(l=this.p0),s>1&&(l=this.p1),new zt(u,l)}};zt.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()};zt.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)};zt.prototype.getCoordinate=function(t){return t===0?this.p0:this.p1};zt.prototype.distancePerpendicular=function(t){return xt.distancePointLinePerpendicular(t,this.p0,this.p1)};zt.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)};zt.prototype.midPoint=function(){return zt.midPoint(this.p0,this.p1)};zt.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;if(i<=0)return Yt.NaN;var o=((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i;return o};zt.prototype.closestPoints=function(t){var e=this.intersection(t);if(e!==null)return[e,e];var n=new Array(2).fill(null),i=Yt.MAX_VALUE,o=null,s=this.closestPoint(t.p0);i=s.distance(t.p0),n[0]=s,n[1]=t.p0;var u=this.closestPoint(t.p1);o=u.distance(t.p1),o<i&&(i=o,n[0]=u,n[1]=t.p1);var l=t.closestPoint(this.p0);o=l.distance(this.p0),o<i&&(i=o,n[0]=this.p0,n[1]=l);var p=t.closestPoint(this.p1);return o=p.distance(this.p1),o<i&&(i=o,n[0]=this.p1,n[1]=p),n};zt.prototype.closestPoint=function(t){var e=this.projectionFactor(t);if(e>0&&e<1)return this.project(t);var n=this.p0.distance(t),i=this.p1.distance(t);return n<i?this.p0:this.p1};zt.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)};zt.prototype.getLength=function(){return this.p0.distance(this.p1)};zt.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return n!==0?n:this.p1.compareTo(e.p1)};zt.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t};zt.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)};zt.prototype.lineIntersection=function(t){try{var e=Ur.intersection(this.p0,this.p1,t.p0,t.p1);return e}catch(n){if(!(n instanceof Da))throw n}finally{}return null};zt.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)};zt.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),o=this.p1.x-this.p0.x,s=this.p1.y-this.p0.y,u=Math.sqrt(o*o+s*s),l=0,p=0;if(e!==0){if(u<=0)throw new Error("Cannot compute offset from zero-length line segment");l=e*o/u,p=e*s/u}var g=n-p,c=i+l,_=new J(g,c);return _};zt.prototype.setCoordinates=function(){if(arguments.length===1){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}};zt.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||Yt.isNaN(e))&&(e=1),e};zt.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"};zt.prototype.isHorizontal=function(){return this.p0.y===this.p1.y};zt.prototype.distance=function(){if(arguments[0]instanceof zt){var t=arguments[0];return xt.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}else if(arguments[0]instanceof J){var e=arguments[0];return xt.distancePointLine(e,this.p0,this.p1)}};zt.prototype.pointAlong=function(t){var e=new J;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e};zt.prototype.hashCode=function(){var t=Yt.doubleToLongBits(this.p0.x);t^=Yt.doubleToLongBits(this.p0.y)*31;var e=Math.trunc(t)^Math.trunc(t>>32),n=Yt.doubleToLongBits(this.p1.x);n^=Yt.doubleToLongBits(this.p1.y)*31;var i=Math.trunc(n)^Math.trunc(n>>32);return e^i};zt.prototype.interfaces_=function(){return[zr,Fr]};zt.prototype.getClass=function(){return zt};zt.midPoint=function(t,e){return new J((t.x+e.x)/2,(t.y+e.y)/2)};Np.serialVersionUID.get=function(){return 0x2d2172135f411c00};Object.defineProperties(zt,Np);var yl=function(){this.tempEnv1=new Bt,this.tempEnv2=new Bt,this._overlapSeg1=new zt,this._overlapSeg2=new zt};yl.prototype.overlap=function(){if(arguments.length!==2){if(arguments.length===4){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];t.getLineSegment(e,this._overlapSeg1),n.getLineSegment(i,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}};yl.prototype.interfaces_=function(){return[]};yl.prototype.getClass=function(){return yl};var yr=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=i};yr.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]};yr.prototype.computeSelect=function(t,e,n,i){var o=this._pts[e],s=this._pts[n];if(i.tempEnv1.init(o,s),n-e===1)return i.select(this,e),null;if(!t.intersects(i.tempEnv1))return null;var u=Math.trunc((e+n)/2);e<u&&this.computeSelect(t,e,u,i),u<n&&this.computeSelect(t,u,n,i)};yr.prototype.getCoordinates=function(){for(var t=this,e=new Array(this._end-this._start+1).fill(null),n=0,i=this._start;i<=this._end;i++)e[n++]=t._pts[i];return e};yr.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)};yr.prototype.setId=function(t){this._id=t};yr.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)};yr.prototype.getEnvelope=function(){if(this._env===null){var t=this._pts[this._start],e=this._pts[this._end];this._env=new Bt(t,e)}return this._env};yr.prototype.getEndIndex=function(){return this._end};yr.prototype.getStartIndex=function(){return this._start};yr.prototype.getContext=function(){return this._context};yr.prototype.getId=function(){return this._id};yr.prototype.computeOverlapsInternal=function(t,e,n,i,o,s){var u=this._pts[t],l=this._pts[e],p=n._pts[i],g=n._pts[o];if(e-t===1&&o-i===1)return s.overlap(this,t,n,i),null;if(s.tempEnv1.init(u,l),s.tempEnv2.init(p,g),!s.tempEnv1.intersects(s.tempEnv2))return null;var c=Math.trunc((t+e)/2),_=Math.trunc((i+o)/2);t<c&&(i<_&&this.computeOverlapsInternal(t,c,n,i,_,s),_<o&&this.computeOverlapsInternal(t,c,n,_,o,s)),c<e&&(i<_&&this.computeOverlapsInternal(c,e,n,i,_,s),_<o&&this.computeOverlapsInternal(c,e,n,_,o,s))};yr.prototype.interfaces_=function(){return[]};yr.prototype.getClass=function(){return yr};var ci=function(){};ci.prototype.interfaces_=function(){return[]};ci.prototype.getClass=function(){return ci};ci.getChainStartIndices=function(t){var e=0,n=new Mt;n.add(new fi(e));do{var i=ci.findChainEnd(t,e);n.add(new fi(i)),e=i}while(e<t.length-1);var o=ci.toIntArray(n);return o};ci.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var i=ze.quadrant(t[n],t[n+1]),o=e+1;o<t.length;){if(!t[o-1].equals2D(t[o])){var s=ze.quadrant(t[o-1],t[o]);if(s!==i)break}o++}return o-1};ci.getChains=function(){if(arguments.length===1){var t=arguments[0];return ci.getChains(t,null)}else if(arguments.length===2){for(var e=arguments[0],n=arguments[1],i=new Mt,o=ci.getChainStartIndices(e),s=0;s<o.length-1;s++){var u=new yr(e,o[s],o[s+1],n);i.add(u)}return i}};ci.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var rs=function(){};rs.prototype.computeNodes=function(t){};rs.prototype.getNodedSubstrings=function(){};rs.prototype.interfaces_=function(){return[]};rs.prototype.getClass=function(){return rs};var Ll=function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this.setSegmentIntersector(t)}}};Ll.prototype.setSegmentIntersector=function(t){this._segInt=t};Ll.prototype.interfaces_=function(){return[rs]};Ll.prototype.getClass=function(){return Ll};var Wh=function(r){function t(n){n?r.call(this,n):r.call(this),this._monoChains=new Mt,this._index=new Tp,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t;var e={SegmentOverlapAction:{configurable:!0}};return t.prototype.getMonotoneChains=function(){return this._monoChains},t.prototype.getNodedSubstrings=function(){return cn.getNodedSubstrings(this._nodedSegStrings)},t.prototype.getIndex=function(){return this._index},t.prototype.add=function(i){for(var o=this,s=ci.getChains(i.getCoordinates(),i),u=s.iterator();u.hasNext();){var l=u.next();l.setId(o._idCounter++),o._index.insert(l.getEnvelope(),l),o._monoChains.add(l)}},t.prototype.computeNodes=function(i){var o=this;this._nodedSegStrings=i;for(var s=i.iterator();s.hasNext();)o.add(s.next());this.intersectChains()},t.prototype.intersectChains=function(){for(var i=this,o=new Wc(this._segInt),s=this._monoChains.iterator();s.hasNext();)for(var u=s.next(),l=i._index.query(u.getEnvelope()),p=l.iterator();p.hasNext();){var g=p.next();if(g.getId()>u.getId()&&(u.computeOverlaps(g,o),i._nOverlaps++),i._segInt.isDone())return null}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},e.SegmentOverlapAction.get=function(){return Wc},Object.defineProperties(t,e),t}(Ll),Wc=function(r){function t(){r.call(this),this._si=null;var e=arguments[0];this._si=e}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.overlap=function(){if(arguments.length===4){var n=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],u=n.getContext(),l=o.getContext();this._si.processIntersections(u,i,l,s)}else return r.prototype.overlap.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(yl),ke=function r(){if(this._quadrantSegments=r.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=r.CAP_ROUND,this._joinStyle=r.JOIN_ROUND,this._mitreLimit=r.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=r.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this.setQuadrantSegments(t)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this.setQuadrantSegments(e),this.setEndCapStyle(n)}else if(arguments.length===4){var i=arguments[0],o=arguments[1],s=arguments[2],u=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(u)}}},go={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};ke.prototype.getEndCapStyle=function(){return this._endCapStyle};ke.prototype.isSingleSided=function(){return this._isSingleSided};ke.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,this._quadrantSegments===0&&(this._joinStyle=ke.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=ke.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==ke.JOIN_ROUND&&(this._quadrantSegments=ke.DEFAULT_QUADRANT_SEGMENTS)};ke.prototype.getJoinStyle=function(){return this._joinStyle};ke.prototype.setJoinStyle=function(t){this._joinStyle=t};ke.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t};ke.prototype.getSimplifyFactor=function(){return this._simplifyFactor};ke.prototype.getQuadrantSegments=function(){return this._quadrantSegments};ke.prototype.setEndCapStyle=function(t){this._endCapStyle=t};ke.prototype.getMitreLimit=function(){return this._mitreLimit};ke.prototype.setMitreLimit=function(t){this._mitreLimit=t};ke.prototype.setSingleSided=function(t){this._isSingleSided=t};ke.prototype.interfaces_=function(){return[]};ke.prototype.getClass=function(){return ke};ke.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)};go.CAP_ROUND.get=function(){return 1};go.CAP_FLAT.get=function(){return 2};go.CAP_SQUARE.get=function(){return 3};go.JOIN_ROUND.get=function(){return 1};go.JOIN_MITRE.get=function(){return 2};go.JOIN_BEVEL.get=function(){return 3};go.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8};go.DEFAULT_MITRE_LIMIT.get=function(){return 5};go.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01};Object.defineProperties(ke,go);var sn=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=xt.COUNTERCLOCKWISE,this._inputLine=t||null},Nl={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};sn.prototype.isDeletable=function(t,e,n,i){var o=this._inputLine[t],s=this._inputLine[e],u=this._inputLine[n];return!this.isConcave(o,s,u)||!this.isShallow(o,s,u,i)?!1:this.isShallowSampled(o,s,t,n,i)};sn.prototype.deleteShallowConcavities=function(){for(var t=this,e=1,n=this.findNextNonDeletedIndex(e),i=this.findNextNonDeletedIndex(n),o=!1;i<this._inputLine.length;){var s=!1;t.isDeletable(e,n,i,t._distanceTol)&&(t._isDeleted[n]=sn.DELETE,s=!0,o=!0),s?e=i:e=n,n=t.findNextNonDeletedIndex(e),i=t.findNextNonDeletedIndex(n)}return o};sn.prototype.isShallowConcavity=function(t,e,n,i){var o=xt.computeOrientation(t,e,n),s=o===this._angleOrientation;if(!s)return!1;var u=xt.distancePointLine(e,t,n);return u<i};sn.prototype.isShallowSampled=function(t,e,n,i,o){var s=this,u=Math.trunc((i-n)/sn.NUM_PTS_TO_CHECK);u<=0&&(u=1);for(var l=n;l<i;l+=u)if(!s.isShallow(t,e,s._inputLine[l],o))return!1;return!0};sn.prototype.isConcave=function(t,e,n){var i=xt.computeOrientation(t,e,n),o=i===this._angleOrientation;return o};sn.prototype.simplify=function(t){var e=this;this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=xt.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var n=!1;do n=e.deleteShallowConcavities();while(n);return this.collapseLine()};sn.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===sn.DELETE;)e++;return e};sn.prototype.isShallow=function(t,e,n,i){var o=xt.distancePointLine(e,t,n);return o<i};sn.prototype.collapseLine=function(){for(var t=this,e=new kl,n=0;n<this._inputLine.length;n++)t._isDeleted[n]!==sn.DELETE&&e.add(t._inputLine[n]);return e.toCoordinateArray()};sn.prototype.interfaces_=function(){return[]};sn.prototype.getClass=function(){return sn};sn.simplify=function(t,e){var n=new sn(t);return n.simplify(e)};Nl.INIT.get=function(){return 0};Nl.DELETE.get=function(){return 1};Nl.KEEP.get=function(){return 1};Nl.NUM_PTS_TO_CHECK.get=function(){return 10};Object.defineProperties(sn,Nl);var Pr=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Mt},Op={COORDINATE_ARRAY_TYPE:{configurable:!0}};Pr.prototype.getCoordinates=function(){var t=this._ptList.toArray(Pr.COORDINATE_ARRAY_TYPE);return t};Pr.prototype.setPrecisionModel=function(t){this._precisionModel=t};Pr.prototype.addPt=function(t){var e=new J(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)};Pr.prototype.revere=function(){};Pr.prototype.addPts=function(t,e){var n=this;if(e)for(var i=0;i<t.length;i++)n.addPt(t[i]);else for(var o=t.length-1;o>=0;o--)n.addPt(t[o])};Pr.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1),n=t.distance(e);return n<this._minimimVertexDistance};Pr.prototype.toString=function(){var t=new se,e=t.createLineString(this.getCoordinates());return e.toString()};Pr.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new J(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)};Pr.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t};Pr.prototype.interfaces_=function(){return[]};Pr.prototype.getClass=function(){return Pr};Op.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)};Object.defineProperties(Pr,Op);var _e=function(){},qs={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};_e.prototype.interfaces_=function(){return[]};_e.prototype.getClass=function(){return _e};_e.toDegrees=function(t){return t*180/Math.PI};_e.normalize=function(t){for(;t>Math.PI;)t-=_e.PI_TIMES_2;for(;t<=-Math.PI;)t+=_e.PI_TIMES_2;return t};_e.angle=function(){if(arguments.length===1){var t=arguments[0];return Math.atan2(t.y,t.x)}else if(arguments.length===2){var e=arguments[0],n=arguments[1],i=n.x-e.x,o=n.y-e.y;return Math.atan2(o,i)}};_e.isAcute=function(t,e,n){var i=t.x-e.x,o=t.y-e.y,s=n.x-e.x,u=n.y-e.y,l=i*s+o*u;return l>0};_e.isObtuse=function(t,e,n){var i=t.x-e.x,o=t.y-e.y,s=n.x-e.x,u=n.y-e.y,l=i*s+o*u;return l<0};_e.interiorAngle=function(t,e,n){var i=_e.angle(e,t),o=_e.angle(e,n);return Math.abs(o-i)};_e.normalizePositive=function(t){if(t<0){for(;t<0;)t+=_e.PI_TIMES_2;t>=_e.PI_TIMES_2&&(t=0)}else{for(;t>=_e.PI_TIMES_2;)t-=_e.PI_TIMES_2;t<0&&(t=0)}return t};_e.angleBetween=function(t,e,n){var i=_e.angle(e,t),o=_e.angle(e,n);return _e.diff(i,o)};_e.diff=function(t,e){var n=null;return t<e?n=e-t:n=t-e,n>Math.PI&&(n=2*Math.PI-n),n};_e.toRadians=function(t){return t*Math.PI/180};_e.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?_e.COUNTERCLOCKWISE:n<0?_e.CLOCKWISE:_e.NONE};_e.angleBetweenOriented=function(t,e,n){var i=_e.angle(e,t),o=_e.angle(e,n),s=o-i;return s<=-Math.PI?s+_e.PI_TIMES_2:s>Math.PI?s-_e.PI_TIMES_2:s};qs.PI_TIMES_2.get=function(){return 2*Math.PI};qs.PI_OVER_2.get=function(){return Math.PI/2};qs.PI_OVER_4.get=function(){return Math.PI/4};qs.COUNTERCLOCKWISE.get=function(){return xt.COUNTERCLOCKWISE};qs.CLOCKWISE.get=function(){return xt.CLOCKWISE};qs.NONE.get=function(){return xt.COLLINEAR};Object.defineProperties(_e,qs);var qe=function r(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new zt,this._seg1=new zt,this._offset0=new zt,this._offset1=new zt,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._precisionModel=t,this._bufParams=e,this._li=new ps,this._filletAngleQuantum=Math.PI/2/e.getQuadrantSegments(),e.getQuadrantSegments()>=8&&e.getJoinStyle()===ke.JOIN_ROUND&&(this._closingSegLengthFactor=r.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)},Ol={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};qe.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=xt.computeOrientation(this._s0,this._s1,this._s2),i=n===xt.CLOCKWISE&&this._side===Lt.LEFT||n===xt.COUNTERCLOCKWISE&&this._side===Lt.RIGHT;n===0?this.addCollinear(e):i?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)};qe.prototype.addLineEndCap=function(t,e){var n=new zt(t,e),i=new zt;this.computeOffsetSegment(n,Lt.LEFT,this._distance,i);var o=new zt;this.computeOffsetSegment(n,Lt.RIGHT,this._distance,o);var s=e.x-t.x,u=e.y-t.y,l=Math.atan2(u,s);switch(this._bufParams.getEndCapStyle()){case ke.CAP_ROUND:this._segList.addPt(i.p1),this.addFilletArc(e,l+Math.PI/2,l-Math.PI/2,xt.CLOCKWISE,this._distance),this._segList.addPt(o.p1);break;case ke.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(o.p1);break;case ke.CAP_SQUARE:var p=new J;p.x=Math.abs(this._distance)*Math.cos(l),p.y=Math.abs(this._distance)*Math.sin(l);var g=new J(i.p1.x+p.x,i.p1.y+p.y),c=new J(o.p1.x+p.x,o.p1.y+p.y);this._segList.addPt(g),this._segList.addPt(c);break}};qe.prototype.getCoordinates=function(){var t=this._segList.getCoordinates();return t};qe.prototype.addMitreJoin=function(t,e,n,i){var o=!0,s=null;try{s=Ur.intersection(e.p0,e.p1,n.p0,n.p1);var u=i<=0?1:s.distance(t)/Math.abs(i);u>this._bufParams.getMitreLimit()&&(o=!1)}catch(l){if(l instanceof Da)s=new J(0,0),o=!1;else throw l}finally{}o?this._segList.addPt(s):this.addLimitedMitreJoin(e,n,i,this._bufParams.getMitreLimit())};qe.prototype.addFilletCorner=function(t,e,n,i,o){var s=e.x-t.x,u=e.y-t.y,l=Math.atan2(u,s),p=n.x-t.x,g=n.y-t.y,c=Math.atan2(g,p);i===xt.CLOCKWISE?l<=c&&(l+=2*Math.PI):l>=c&&(l-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,l,c,i,o),this._segList.addPt(n)};qe.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*qe.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===ke.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===ke.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))};qe.prototype.createSquare=function(t){this._segList.addPt(new J(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new J(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new J(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new J(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()};qe.prototype.addSegments=function(t,e){this._segList.addPts(t,e)};qe.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)};qe.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)};qe.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)};qe.prototype.addLimitedMitreJoin=function(t,e,n,i){var o=this._seg0.p1,s=_e.angle(o,this._seg0.p0),u=_e.angleBetweenOriented(this._seg0.p0,o,this._seg1.p1),l=u/2,p=_e.normalize(s+l),g=_e.normalize(p+Math.PI),c=i*n,_=c*Math.abs(Math.sin(l)),C=n-_,M=o.x+c*Math.cos(g),S=o.y+c*Math.sin(g),P=new J(M,S),k=new zt(o,P),D=k.pointAlongOffset(1,C),O=k.pointAlongOffset(1,-C);this._side===Lt.LEFT?(this._segList.addPt(D),this._segList.addPt(O)):(this._segList.addPt(O),this._segList.addPt(D))};qe.prototype.computeOffsetSegment=function(t,e,n,i){var o=e===Lt.LEFT?1:-1,s=t.p1.x-t.p0.x,u=t.p1.y-t.p0.y,l=Math.sqrt(s*s+u*u),p=o*n*s/l,g=o*n*u/l;i.p0.x=t.p0.x-g,i.p0.y=t.p0.y+p,i.p1.x=t.p1.x-g,i.p1.y=t.p1.y+p};qe.prototype.addFilletArc=function(t,e,n,i,o){var s=this,u=i===xt.CLOCKWISE?-1:1,l=Math.abs(e-n),p=Math.trunc(l/this._filletAngleQuantum+.5);if(p<1)return null;for(var g=0,c=l/p,_=g,C=new J;_<l;){var M=e+u*_;C.x=t.x+o*Math.cos(M),C.y=t.y+o*Math.sin(M),s._segList.addPt(C),_+=c}};qe.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*qe.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new J((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var i=new J((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}};qe.prototype.createCircle=function(t){var e=new J(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()};qe.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)};qe.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Pr,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*qe.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)};qe.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2);var e=this._li.getIntersectionNum();e>=2&&(this._bufParams.getJoinStyle()===ke.JOIN_BEVEL||this._bufParams.getJoinStyle()===ke.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,xt.CLOCKWISE,this._distance))};qe.prototype.closeRing=function(){this._segList.closeRing()};qe.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle};qe.prototype.interfaces_=function(){return[]};qe.prototype.getClass=function(){return qe};Ol.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001};Ol.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001};Ol.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6};Ol.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80};Object.defineProperties(qe,Ol);var hr=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};hr.prototype.getOffsetCurve=function(t,e){if(this._distance=e,e===0)return null;var n=e<0,i=Math.abs(e),o=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],o):this.computeOffsetCurve(t,n,o);var s=o.getCoordinates();return n&&ae.reverse(s),s};hr.prototype.computeSingleSidedBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var o=sn.simplify(t,-i),s=o.length-1;n.initSideSegments(o[s],o[s-1],Lt.LEFT),n.addFirstSegment();for(var u=s-2;u>=0;u--)n.addNextSegment(o[u],!0)}else{n.addSegments(t,!1);var l=sn.simplify(t,i),p=l.length-1;n.initSideSegments(l[0],l[1],Lt.LEFT),n.addFirstSegment();for(var g=2;g<=p;g++)n.addNextSegment(l[g],!0)}n.addLastSegment(),n.closeRing()};hr.prototype.computeRingBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);e===Lt.RIGHT&&(i=-i);var o=sn.simplify(t,i),s=o.length-1;n.initSideSegments(o[s-1],o[0],e);for(var u=1;u<=s;u++){var l=u!==1;n.addNextSegment(o[u],l)}n.closeRing()};hr.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),i=sn.simplify(t,n),o=i.length-1;e.initSideSegments(i[0],i[1],Lt.LEFT);for(var s=2;s<=o;s++)e.addNextSegment(i[s],!0);e.addLastSegment(),e.addLineEndCap(i[o-1],i[o]);var u=sn.simplify(t,-n),l=u.length-1;e.initSideSegments(u[l],u[l-1],Lt.LEFT);for(var p=l-2;p>=0;p--)e.addNextSegment(u[p],!0);e.addLastSegment(),e.addLineEndCap(u[1],u[0]),e.closeRing()};hr.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case ke.CAP_ROUND:e.createCircle(t);break;case ke.CAP_SQUARE:e.createSquare(t);break}};hr.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided()||e===0)return null;var n=Math.abs(e),i=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],i);else if(this._bufParams.isSingleSided()){var o=e<0;this.computeSingleSidedBufferCurve(t,o,i)}else this.computeLineBufferCurve(t,i);var s=i.getCoordinates();return s};hr.prototype.getBufferParameters=function(){return this._bufParams};hr.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()};hr.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(n===0)return hr.copyCoordinates(t);var i=this.getSegGen(n);return this.computeRingBufferCurve(t,e,i),i.getCoordinates()};hr.prototype.computeOffsetCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){var o=sn.simplify(t,-i),s=o.length-1;n.initSideSegments(o[s],o[s-1],Lt.LEFT),n.addFirstSegment();for(var u=s-2;u>=0;u--)n.addNextSegment(o[u],!0)}else{var l=sn.simplify(t,i),p=l.length-1;n.initSideSegments(l[0],l[1],Lt.LEFT),n.addFirstSegment();for(var g=2;g<=p;g++)n.addNextSegment(l[g],!0)}n.addLastSegment()};hr.prototype.getSegGen=function(t){return new qe(this._precisionModel,this._bufParams,t)};hr.prototype.interfaces_=function(){return[]};hr.prototype.getClass=function(){return hr};hr.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new J(t[n]);return e};var Os=function(){this._subgraphs=null,this._seg=new zt,this._cga=new xt;var t=arguments[0];this._subgraphs=t},Dp={DepthSegment:{configurable:!0}};Os.prototype.findStabbedSegments=function(){var t=this;if(arguments.length===1){for(var e=arguments[0],n=new Mt,i=this._subgraphs.iterator();i.hasNext();){var o=i.next(),s=o.getEnvelope();e.y<s.getMinY()||e.y>s.getMaxY()||t.findStabbedSegments(e,o.getDirectedEdges(),n)}return n}else if(arguments.length===3){if(Ht(arguments[2],Hr)&&arguments[0]instanceof J&&arguments[1]instanceof Ch)for(var u=arguments[0],l=arguments[1],p=arguments[2],g=l.getEdge().getCoordinates(),c=0;c<g.length-1;c++){t._seg.p0=g[c],t._seg.p1=g[c+1],t._seg.p0.y>t._seg.p1.y&&t._seg.reverse();var _=Math.max(t._seg.p0.x,t._seg.p1.x);if(!(_<u.x)&&!t._seg.isHorizontal()&&!(u.y<t._seg.p0.y||u.y>t._seg.p1.y)&&xt.computeOrientation(t._seg.p0,t._seg.p1,u)!==xt.RIGHT){var C=l.getDepth(Lt.LEFT);t._seg.p0.equals(g[c])||(C=l.getDepth(Lt.RIGHT));var M=new is(t._seg,C);p.add(M)}}else if(Ht(arguments[2],Hr)&&arguments[0]instanceof J&&Ht(arguments[1],Hr))for(var S=arguments[0],P=arguments[1],k=arguments[2],D=P.iterator();D.hasNext();){var O=D.next();O.isForward()&&t.findStabbedSegments(S,O,k)}}};Os.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);if(e.size()===0)return 0;var n=Xr.min(e);return n._leftDepth};Os.prototype.interfaces_=function(){return[]};Os.prototype.getClass=function(){return Os};Dp.DepthSegment.get=function(){return is};Object.defineProperties(Os,Dp);var is=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new zt(t),this._leftDepth=e};is.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return n!==0||(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg),n!==0)?n:this._upwardSeg.compareTo(e._upwardSeg)};is.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return n!==0?n:t.p1.compareTo(e.p1)};is.prototype.toString=function(){return this._upwardSeg.toString()};is.prototype.interfaces_=function(){return[zr]};is.prototype.getClass=function(){return is};var Te=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};Te.prototype.area=function(){return Te.area(this.p0,this.p1,this.p2)};Te.prototype.signedArea=function(){return Te.signedArea(this.p0,this.p1,this.p2)};Te.prototype.interpolateZ=function(t){if(t===null)throw new Ke("Supplied point is null.");return Te.interpolateZ(t,this.p0,this.p1,this.p2)};Te.prototype.longestSideLength=function(){return Te.longestSideLength(this.p0,this.p1,this.p2)};Te.prototype.isAcute=function(){return Te.isAcute(this.p0,this.p1,this.p2)};Te.prototype.circumcentre=function(){return Te.circumcentre(this.p0,this.p1,this.p2)};Te.prototype.area3D=function(){return Te.area3D(this.p0,this.p1,this.p2)};Te.prototype.centroid=function(){return Te.centroid(this.p0,this.p1,this.p2)};Te.prototype.inCentre=function(){return Te.inCentre(this.p0,this.p1,this.p2)};Te.prototype.interfaces_=function(){return[]};Te.prototype.getClass=function(){return Te};Te.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)};Te.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2};Te.det=function(t,e,n,i){return t*i-e*n};Te.interpolateZ=function(t,e,n,i){var o=e.x,s=e.y,u=n.x-o,l=i.x-o,p=n.y-s,g=i.y-s,c=u*g-l*p,_=t.x-o,C=t.y-s,M=(g*_-l*C)/c,S=(-p*_+u*C)/c,P=e.z+M*(n.z-e.z)+S*(i.z-e.z);return P};Te.longestSideLength=function(t,e,n){var i=t.distance(e),o=e.distance(n),s=n.distance(t),u=i;return o>u&&(u=o),s>u&&(u=s),u};Te.isAcute=function(t,e,n){return!(!_e.isAcute(t,e,n)||!_e.isAcute(e,n,t)||!_e.isAcute(n,t,e))};Te.circumcentre=function(t,e,n){var i=n.x,o=n.y,s=t.x-i,u=t.y-o,l=e.x-i,p=e.y-o,g=2*Te.det(s,u,l,p),c=Te.det(u,s*s+u*u,p,l*l+p*p),_=Te.det(s,s*s+u*u,l,l*l+p*p),C=i-c/g,M=o+_/g;return new J(C,M)};Te.perpendicularBisector=function(t,e){var n=e.x-t.x,i=e.y-t.y,o=new Ur(t.x+n/2,t.y+i/2,1),s=new Ur(t.x-i+n/2,t.y+n+i/2,1);return new Ur(o,s)};Te.angleBisector=function(t,e,n){var i=e.distance(t),o=e.distance(n),s=i/(i+o),u=n.x-t.x,l=n.y-t.y,p=new J(t.x+s*u,t.y+s*l);return p};Te.area3D=function(t,e,n){var i=e.x-t.x,o=e.y-t.y,s=e.z-t.z,u=n.x-t.x,l=n.y-t.y,p=n.z-t.z,g=o*p-s*l,c=s*u-i*p,_=i*l-o*u,C=g*g+c*c+_*_,M=Math.sqrt(C)/2;return M};Te.centroid=function(t,e,n){var i=(t.x+e.x+n.x)/3,o=(t.y+e.y+n.y)/3;return new J(i,o)};Te.inCentre=function(t,e,n){var i=e.distance(n),o=t.distance(n),s=t.distance(e),u=i+o+s,l=(i*t.x+o*e.x+s*n.x)/u,p=(i*t.y+o*e.y+s*n.y)/u;return new J(l,p)};var Br=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Mt;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};Br.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,tt.EXTERIOR,tt.INTERIOR)};Br.prototype.addPolygon=function(t){var e=this,n=this._distance,i=Lt.LEFT;this._distance<0&&(n=-this._distance,i=Lt.RIGHT);var o=t.getExteriorRing(),s=ae.removeRepeatedPoints(o.getCoordinates());if(this._distance<0&&this.isErodedCompletely(o,this._distance)||this._distance<=0&&s.length<3)return null;this.addPolygonRing(s,n,i,tt.EXTERIOR,tt.INTERIOR);for(var u=0;u<t.getNumInteriorRing();u++){var l=t.getInteriorRingN(u),p=ae.removeRepeatedPoints(l.getCoordinates());e._distance>0&&e.isErodedCompletely(l,-e._distance)||e.addPolygonRing(p,n,Lt.opposite(i),tt.INTERIOR,tt.EXTERIOR)}};Br.prototype.isTriangleErodedCompletely=function(t,e){var n=new Te(t[0],t[1],t[2]),i=n.inCentre(),o=xt.distancePointLine(i,n.p0,n.p1);return o<Math.abs(e)};Br.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=ae.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,tt.EXTERIOR,tt.INTERIOR)};Br.prototype.addCurve=function(t,e,n){if(t===null||t.length<2)return null;var i=new cn(t,new Oe(0,tt.BOUNDARY,e,n));this._curveList.add(i)};Br.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList};Br.prototype.addPolygonRing=function(t,e,n,i,o){if(e===0&&t.length<Di.MINIMUM_VALID_SIZE)return null;var s=i,u=o;t.length>=Di.MINIMUM_VALID_SIZE&&xt.isCCW(t)&&(s=o,u=i,n=Lt.opposite(n));var l=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(l,s,u)};Br.prototype.add=function(t){if(t.isEmpty())return null;t instanceof wn?this.addPolygon(t):t instanceof rn?this.addLineString(t):t instanceof mr?this.addPoint(t):t instanceof va?this.addCollection(t):t instanceof ns?this.addCollection(t):t instanceof Ti?this.addCollection(t):t instanceof er&&this.addCollection(t)};Br.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(n.length===4)return this.isTriangleErodedCompletely(n,e);var i=t.getEnvelopeInternal(),o=Math.min(i.getHeight(),i.getWidth());return e<0&&2*Math.abs(e)>o};Br.prototype.addCollection=function(t){for(var e=this,n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);e.add(i)}};Br.prototype.interfaces_=function(){return[]};Br.prototype.getClass=function(){return Br};var Ca=function(){};Ca.prototype.locate=function(t){};Ca.prototype.interfaces_=function(){return[]};Ca.prototype.getClass=function(){return Ca};var Ni=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};Ni.prototype.next=function(){if(this._atStart)return this._atStart=!1,Ni.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Aa;var t=this._parent.getGeometryN(this._index++);return t instanceof er?(this._subcollectionIterator=new Ni(t),this._subcollectionIterator.next()):t};Ni.prototype.remove=function(){throw new Error(this.getClass().getName())};Ni.prototype.hasNext=function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)};Ni.prototype.interfaces_=function(){return[Ra]};Ni.prototype.getClass=function(){return Ni};Ni.isAtomic=function(t){return!(t instanceof er)};var wr=function(){this._geom=null;var t=arguments[0];this._geom=t};wr.prototype.locate=function(t){return wr.locate(t,this._geom)};wr.prototype.interfaces_=function(){return[Ca]};wr.prototype.getClass=function(){return wr};wr.isPointInRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?xt.isPointInRing(t,e.getCoordinates()):!1};wr.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!wr.isPointInRing(t,n))return!1;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i);if(wr.isPointInRing(t,o))return!1}return!0};wr.containsPoint=function(t,e){if(e instanceof wn)return wr.containsPointInPolygon(t,e);if(e instanceof er)for(var n=new Ni(e);n.hasNext();){var i=n.next();if(i!==e&&wr.containsPoint(t,i))return!0}return!1};wr.locate=function(t,e){return e.isEmpty()?tt.EXTERIOR:wr.containsPoint(t,e)?tt.INTERIOR:tt.EXTERIOR};var qn=function(){this._edgeMap=new Zn,this._edgeList=null,this._ptInAreaLocation=[tt.NONE,tt.NONE]};qn.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return e===0&&(n=this._edgeList.size()-1),this._edgeList.get(n)};qn.prototype.propagateSideLabels=function(t){for(var e=tt.NONE,n=this.iterator();n.hasNext();){var i=n.next(),o=i.getLabel();o.isArea(t)&&o.getLocation(t,Lt.LEFT)!==tt.NONE&&(e=o.getLocation(t,Lt.LEFT))}if(e===tt.NONE)return null;for(var s=e,u=this.iterator();u.hasNext();){var l=u.next(),p=l.getLabel();if(p.getLocation(t,Lt.ON)===tt.NONE&&p.setLocation(t,Lt.ON,s),p.isArea(t)){var g=p.getLocation(t,Lt.LEFT),c=p.getLocation(t,Lt.RIGHT);if(c!==tt.NONE){if(c!==s)throw new uo("side location conflict",l.getCoordinate());g===tt.NONE&&Jt.shouldNeverReachHere("found single null side (at "+l.getCoordinate()+")"),s=g}else Jt.isTrue(p.getLocation(t,Lt.LEFT)===tt.NONE,"found single null side"),p.setLocation(t,Lt.RIGHT,s),p.setLocation(t,Lt.LEFT,s)}}};qn.prototype.getCoordinate=function(){var t=this.iterator();if(!t.hasNext())return null;var e=t.next();return e.getCoordinate()};qn.prototype.print=function(t){Bn.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();n.print(t)}};qn.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)};qn.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,i=e.get(n).getLabel(),o=i.getLocation(t,Lt.LEFT);Jt.isTrue(o!==tt.NONE,"Found unlabelled area edge");for(var s=o,u=this.iterator();u.hasNext();){var l=u.next(),p=l.getLabel();Jt.isTrue(p.isArea(t),"Found non-area edge");var g=p.getLocation(t,Lt.LEFT),c=p.getLocation(t,Lt.RIGHT);if(g===c||c!==s)return!1;s=g}return!0};qn.prototype.findIndex=function(t){var e=this;this.iterator();for(var n=0;n<this._edgeList.size();n++){var i=e._edgeList.get(n);if(i===t)return n}return-1};qn.prototype.iterator=function(){return this.getEdges().iterator()};qn.prototype.getEdges=function(){return this._edgeList===null&&(this._edgeList=new Mt(this._edgeMap.values())),this._edgeList};qn.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===tt.NONE&&(this._ptInAreaLocation[t]=wr.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]};qn.prototype.toString=function(){var t=new wi;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append(`
`);for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append(`
`)}return t.toString()};qn.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next();n.computeLabel(t)}};qn.prototype.computeLabelling=function(t){var e=this;this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var n=[!1,!1],i=this.iterator();i.hasNext();)for(var o=i.next(),s=o.getLabel(),u=0;u<2;u++)s.isLine(u)&&s.getLocation(u)===tt.BOUNDARY&&(n[u]=!0);for(var l=this.iterator();l.hasNext();)for(var p=l.next(),g=p.getLabel(),c=0;c<2;c++)if(g.isAnyNull(c)){var _=tt.NONE;if(n[c])_=tt.EXTERIOR;else{var C=p.getCoordinate();_=e.getLocation(c,C,t)}g.setAllLocationsIfNull(c,_)}};qn.prototype.getDegree=function(){return this._edgeMap.size()};qn.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null};qn.prototype.interfaces_=function(){return[]};qn.prototype.getClass=function(){return qn};var Ug=function(r){function t(){r.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.linkResultDirectedEdges=function(){var n=this;this.getResultAreaEdges();for(var i=null,o=null,s=this._SCANNING_FOR_INCOMING,u=0;u<this._resultAreaEdgeList.size();u++){var l=n._resultAreaEdgeList.get(u),p=l.getSym();if(l.getLabel().isArea())switch(i===null&&l.isInResult()&&(i=l),s){case n._SCANNING_FOR_INCOMING:if(!p.isInResult())continue;o=p,s=n._LINKING_TO_OUTGOING;break;case n._LINKING_TO_OUTGOING:if(!l.isInResult())continue;o.setNext(l),s=n._SCANNING_FOR_INCOMING;break}}if(s===this._LINKING_TO_OUTGOING){if(i===null)throw new uo("no outgoing dirEdge found",this.getCoordinate());Jt.isTrue(i.isInResult(),"unable to link last incoming dirEdge"),o.setNext(i)}},t.prototype.insert=function(n){var i=n;this.insertEdgeEnd(i,i)},t.prototype.getRightmostEdge=function(){var n=this.getEdges(),i=n.size();if(i<1)return null;var o=n.get(0);if(i===1)return o;var s=n.get(i-1),u=o.getQuadrant(),l=s.getQuadrant();return ze.isNorthern(u)&&ze.isNorthern(l)?o:!ze.isNorthern(u)&&!ze.isNorthern(l)?s:o.getDy()!==0?o:s.getDy()!==0?s:(Jt.shouldNeverReachHere("found two horizontal edges incident on node"),null)},t.prototype.print=function(n){Bn.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var i=this.iterator();i.hasNext();){var o=i.next();n.print("out "),o.print(n),n.println(),n.print("in "),o.getSym().print(n),n.println()}},t.prototype.getResultAreaEdges=function(){var n=this;if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Mt;for(var i=this.iterator();i.hasNext();){var o=i.next();(o.isInResult()||o.getSym().isInResult())&&n._resultAreaEdgeList.add(o)}return this._resultAreaEdgeList},t.prototype.updateLabelling=function(n){for(var i=this.iterator();i.hasNext();){var o=i.next(),s=o.getLabel();s.setAllLocationsIfNull(0,n.getLocation(0)),s.setAllLocationsIfNull(1,n.getLocation(1))}},t.prototype.linkAllDirectedEdges=function(){var n=this;this.getEdges();for(var i=null,o=null,s=this._edgeList.size()-1;s>=0;s--){var u=n._edgeList.get(s),l=u.getSym();o===null&&(o=l),i!==null&&l.setNext(i),i=u}o.setNext(i)},t.prototype.computeDepths=function(){var n=this;if(arguments.length===1){var i=arguments[0],o=this.findIndex(i),s=i.getDepth(Lt.LEFT),u=i.getDepth(Lt.RIGHT),l=this.computeDepths(o+1,this._edgeList.size(),s),p=this.computeDepths(0,o,l);if(p!==u)throw new uo("depth mismatch at "+i.getCoordinate())}else if(arguments.length===3){for(var g=arguments[0],c=arguments[1],_=arguments[2],C=_,M=g;M<c;M++){var S=n._edgeList.get(M);S.setEdgeDepths(Lt.RIGHT,C),C=S.getDepth(Lt.LEFT)}return C}},t.prototype.mergeSymLabels=function(){for(var n=this.iterator();n.hasNext();){var i=n.next(),o=i.getLabel();o.merge(i.getSym().getLabel())}},t.prototype.linkMinimalDirectedEdges=function(n){for(var i=this,o=null,s=null,u=this._SCANNING_FOR_INCOMING,l=this._resultAreaEdgeList.size()-1;l>=0;l--){var p=i._resultAreaEdgeList.get(l),g=p.getSym();switch(o===null&&p.getEdgeRing()===n&&(o=p),u){case i._SCANNING_FOR_INCOMING:if(g.getEdgeRing()!==n)continue;s=g,u=i._LINKING_TO_OUTGOING;break;case i._LINKING_TO_OUTGOING:if(p.getEdgeRing()!==n)continue;s.setNextMin(p),u=i._SCANNING_FOR_INCOMING;break}}u===this._LINKING_TO_OUTGOING&&(Jt.isTrue(o!==null,"found null for first outgoing dirEdge"),Jt.isTrue(o.getEdgeRing()===n,"unable to link last incoming dirEdge"),s.setNextMin(o))},t.prototype.getOutgoingDegree=function(){if(arguments.length===0){for(var n=0,i=this.iterator();i.hasNext();){var o=i.next();o.isInResult()&&n++}return n}else if(arguments.length===1){for(var s=arguments[0],u=0,l=this.iterator();l.hasNext();){var p=l.next();p.getEdgeRing()===s&&u++}return u}},t.prototype.getLabel=function(){return this._label},t.prototype.findCoveredLineEdges=function(){for(var n=tt.NONE,i=this.iterator();i.hasNext();){var o=i.next(),s=o.getSym();if(!o.isLineEdge()){if(o.isInResult()){n=tt.INTERIOR;break}if(s.isInResult()){n=tt.EXTERIOR;break}}}if(n===tt.NONE)return null;for(var u=n,l=this.iterator();l.hasNext();){var p=l.next(),g=p.getSym();p.isLineEdge()?p.getEdge().setCovered(u===tt.INTERIOR):(p.isInResult()&&(u=tt.EXTERIOR),g.isInResult()&&(u=tt.INTERIOR))}},t.prototype.computeLabelling=function(n){var i=this;r.prototype.computeLabelling.call(this,n),this._label=new Oe(tt.NONE);for(var o=this.iterator();o.hasNext();)for(var s=o.next(),u=s.getEdge(),l=u.getLabel(),p=0;p<2;p++){var g=l.getLocation(p);(g===tt.INTERIOR||g===tt.BOUNDARY)&&i._label.setLocation(p,tt.INTERIOR)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(qn),Rp=function(r){function t(){r.apply(this,arguments)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.createNode=function(n){return new Hu(n,new Ug)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(ya),Oo=function r(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=r.orientation(t)};Oo.prototype.compareTo=function(t){var e=t,n=Oo.compareOriented(this._pts,this._orientation,e._pts,e._orientation);return n};Oo.prototype.interfaces_=function(){return[zr]};Oo.prototype.getClass=function(){return Oo};Oo.orientation=function(t){return ae.increasingDirection(t)===1};Oo.compareOriented=function(t,e,n,i){for(var o=e?1:-1,s=i?1:-1,u=e?t.length:-1,l=i?n.length:-1,p=e?0:t.length-1,g=i?0:n.length-1;;){var c=t[p].compareTo(n[g]);if(c!==0)return c;p+=o,g+=s;var _=p===u,C=g===l;if(_&&!C)return-1;if(!_&&C)return 1;if(_&&C)return 0}};var Yr=function(){this._edges=new Mt,this._ocaMap=new Zn};Yr.prototype.print=function(t){var e=this;t.print("MULTILINESTRING ( ");for(var n=0;n<this._edges.size();n++){var i=e._edges.get(n);n>0&&t.print(","),t.print("(");for(var o=i.getCoordinates(),s=0;s<o.length;s++)s>0&&t.print(","),t.print(o[s].x+" "+o[s].y);t.println(")")}t.print(")  ")};Yr.prototype.addAll=function(t){for(var e=this,n=t.iterator();n.hasNext();)e.add(n.next())};Yr.prototype.findEdgeIndex=function(t){for(var e=this,n=0;n<this._edges.size();n++)if(e._edges.get(n).equals(t))return n;return-1};Yr.prototype.iterator=function(){return this._edges.iterator()};Yr.prototype.getEdges=function(){return this._edges};Yr.prototype.get=function(t){return this._edges.get(t)};Yr.prototype.findEqualEdge=function(t){var e=new Oo(t.getCoordinates()),n=this._ocaMap.get(e);return n};Yr.prototype.add=function(t){this._edges.add(t);var e=new Oo(t.getCoordinates());this._ocaMap.put(e,t)};Yr.prototype.interfaces_=function(){return[]};Yr.prototype.getClass=function(){return Yr};var os=function(){};os.prototype.processIntersections=function(t,e,n,i){};os.prototype.isDone=function(){};os.prototype.interfaces_=function(){return[]};os.prototype.getClass=function(){return os};var Sr=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Sr.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&this._li.getIntersectionNum()===1){if(Sr.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var o=t.size()-1;if(e===0&&i===o||i===0&&e===o)return!0}}return!1};Sr.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint};Sr.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior};Sr.prototype.getLineIntersector=function(){return this._li};Sr.prototype.hasProperIntersection=function(){return this._hasProper};Sr.prototype.processIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var o=t.getCoordinates()[e],s=t.getCoordinates()[e+1],u=n.getCoordinates()[i],l=n.getCoordinates()[i+1];this._li.computeIntersection(o,s,u,l),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))};Sr.prototype.hasIntersection=function(){return this._hasIntersection};Sr.prototype.isDone=function(){return!1};Sr.prototype.hasInteriorIntersection=function(){return this._hasInterior};Sr.prototype.interfaces_=function(){return[os]};Sr.prototype.getClass=function(){return Sr};Sr.isAdjacentSegments=function(t,e){return Math.abs(t-e)===1};var vi=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new J(t),this.segmentIndex=e,this.dist=n};vi.prototype.getSegmentIndex=function(){return this.segmentIndex};vi.prototype.getCoordinate=function(){return this.coord};vi.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)};vi.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)};vi.prototype.isEndPoint=function(t){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===t};vi.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist};vi.prototype.getDistance=function(){return this.dist};vi.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0};vi.prototype.interfaces_=function(){return[zr]};vi.prototype.getClass=function(){return vi};var Bi=function(){this._nodeMap=new Zn,this.edge=null;var t=arguments[0];this.edge=t};Bi.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();){var n=e.next();n.print(t)}};Bi.prototype.iterator=function(){return this._nodeMap.values().iterator()};Bi.prototype.addSplitEdges=function(t){var e=this;this.addEndpoints();for(var n=this.iterator(),i=n.next();n.hasNext();){var o=n.next(),s=e.createSplitEdge(i,o);t.add(s),i=o}};Bi.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)};Bi.prototype.createSplitEdge=function(t,e){var n=this,i=e.segmentIndex-t.segmentIndex+2,o=this.edge.pts[e.segmentIndex],s=e.dist>0||!e.coord.equals2D(o);s||i--;var u=new Array(i).fill(null),l=0;u[l++]=new J(t.coord);for(var p=t.segmentIndex+1;p<=e.segmentIndex;p++)u[l++]=n.edge.pts[p];return s&&(u[l]=e.coord),new yu(u,new Oe(this.edge._label))};Bi.prototype.add=function(t,e,n){var i=new vi(t,e,n),o=this._nodeMap.get(i);return o!==null?o:(this._nodeMap.put(i,i),i)};Bi.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next();if(n.coord.equals(t))return!0}return!1};Bi.prototype.interfaces_=function(){return[]};Bi.prototype.getClass=function(){return Bi};var ss=function(){};ss.prototype.getChainStartIndices=function(t){var e=this,n=0,i=new Mt;i.add(new fi(n));do{var o=e.findChainEnd(t,n);i.add(new fi(o)),n=o}while(n<t.length-1);var s=ss.toIntArray(i);return s};ss.prototype.findChainEnd=function(t,e){for(var n=ze.quadrant(t[e],t[e+1]),i=e+1;i<t.length;){var o=ze.quadrant(t[i-1],t[i]);if(o!==n)break;i++}return i-1};ss.prototype.interfaces_=function(){return[]};ss.prototype.getClass=function(){return ss};ss.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var co=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Bt,this.env2=new Bt;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new ss;this.startIndex=e.getChainStartIndices(this.pts)};co.prototype.getCoordinates=function(){return this.pts};co.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n};co.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n};co.prototype.computeIntersectsForChain=function(){if(arguments.length===4){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],i)}else if(arguments.length===6){var o=arguments[0],s=arguments[1],u=arguments[2],l=arguments[3],p=arguments[4],g=arguments[5],c=this.pts[o],_=this.pts[s],C=u.pts[l],M=u.pts[p];if(s-o===1&&p-l===1)return g.addIntersections(this.e,o,u.e,l),null;if(this.env1.init(c,_),this.env2.init(C,M),!this.env1.intersects(this.env2))return null;var S=Math.trunc((o+s)/2),P=Math.trunc((l+p)/2);o<S&&(l<P&&this.computeIntersectsForChain(o,S,u,l,P,g),P<p&&this.computeIntersectsForChain(o,S,u,P,p,g)),S<s&&(l<P&&this.computeIntersectsForChain(S,s,u,l,P,g),P<p&&this.computeIntersectsForChain(S,s,u,P,p,g))}};co.prototype.getStartIndexes=function(){return this.startIndex};co.prototype.computeIntersects=function(t,e){for(var n=this,i=0;i<this.startIndex.length-1;i++)for(var o=0;o<t.startIndex.length-1;o++)n.computeIntersectsForChain(i,t,o,e)};co.prototype.interfaces_=function(){return[]};co.prototype.getClass=function(){return co};var An=function r(){var t=this;this._depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var n=0;n<3;n++)t._depth[e][n]=r.NULL_VALUE},Ap={NULL_VALUE:{configurable:!0}};An.prototype.getDepth=function(t,e){return this._depth[t][e]};An.prototype.setDepth=function(t,e,n){this._depth[t][e]=n};An.prototype.isNull=function(){var t=this;if(arguments.length===0){for(var e=0;e<2;e++)for(var n=0;n<3;n++)if(t._depth[e][n]!==An.NULL_VALUE)return!1;return!0}else if(arguments.length===1){var i=arguments[0];return this._depth[i][1]===An.NULL_VALUE}else if(arguments.length===2){var o=arguments[0],s=arguments[1];return this._depth[o][s]===An.NULL_VALUE}};An.prototype.normalize=function(){for(var t=this,e=0;e<2;e++)if(!t.isNull(e)){var n=t._depth[e][1];t._depth[e][2]<n&&(n=t._depth[e][2]),n<0&&(n=0);for(var i=1;i<3;i++){var o=0;t._depth[e][i]>n&&(o=1),t._depth[e][i]=o}}};An.prototype.getDelta=function(t){return this._depth[t][Lt.RIGHT]-this._depth[t][Lt.LEFT]};An.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?tt.EXTERIOR:tt.INTERIOR};An.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]};An.prototype.add=function(){var t=this;if(arguments.length===1)for(var e=arguments[0],n=0;n<2;n++)for(var i=1;i<3;i++){var o=e.getLocation(n,i);(o===tt.EXTERIOR||o===tt.INTERIOR)&&(t.isNull(n,i)?t._depth[n][i]=An.depthAtLocation(o):t._depth[n][i]+=An.depthAtLocation(o))}else if(arguments.length===3){var s=arguments[0],u=arguments[1],l=arguments[2];l===tt.INTERIOR&&this._depth[s][u]++}};An.prototype.interfaces_=function(){return[]};An.prototype.getClass=function(){return An};An.depthAtLocation=function(t){return t===tt.EXTERIOR?0:t===tt.INTERIOR?1:An.NULL_VALUE};Ap.NULL_VALUE.get=function(){return-1};Object.defineProperties(An,Ap);var yu=function(r){function t(){if(r.call(this),this.pts=null,this._env=null,this.eiList=new Bi(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new An,this._depthDelta=0,arguments.length===1){var e=arguments[0];t.call(this,e,null)}else if(arguments.length===2){var n=arguments[0],i=arguments[1];this.pts=n,this._label=i}}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.getDepth=function(){return this._depth},t.prototype.getCollapsedEdge=function(){var n=new Array(2).fill(null);n[0]=this.pts[0],n[1]=this.pts[1];var i=new t(n,Oe.toLineLabel(this._label));return i},t.prototype.isIsolated=function(){return this._isIsolated},t.prototype.getCoordinates=function(){return this.pts},t.prototype.setIsolated=function(n){this._isIsolated=n},t.prototype.setName=function(n){this._name=n},t.prototype.equals=function(n){var i=this;if(!(n instanceof t))return!1;var o=n;if(this.pts.length!==o.pts.length)return!1;for(var s=!0,u=!0,l=this.pts.length,p=0;p<this.pts.length;p++)if(i.pts[p].equals2D(o.pts[p])||(s=!1),i.pts[p].equals2D(o.pts[--l])||(u=!1),!s&&!u)return!1;return!0},t.prototype.getCoordinate=function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var n=arguments[0];return this.pts[n]}},t.prototype.print=function(n){var i=this;n.print("edge "+this._name+": "),n.print("LINESTRING (");for(var o=0;o<this.pts.length;o++)o>0&&n.print(","),n.print(i.pts[o].x+" "+i.pts[o].y);n.print(")  "+this._label+" "+this._depthDelta)},t.prototype.computeIM=function(n){t.updateIM(this._label,n)},t.prototype.isCollapsed=function(){return!this._label.isArea()||this.pts.length!==3?!1:!!this.pts[0].equals(this.pts[2])},t.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},t.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},t.prototype.getDepthDelta=function(){return this._depthDelta},t.prototype.getNumPoints=function(){return this.pts.length},t.prototype.printReverse=function(n){var i=this;n.print("edge "+this._name+": ");for(var o=this.pts.length-1;o>=0;o--)n.print(i.pts[o]+" ");n.println("")},t.prototype.getMonotoneChainEdge=function(){return this._mce===null&&(this._mce=new co(this)),this._mce},t.prototype.getEnvelope=function(){var n=this;if(this._env===null){this._env=new Bt;for(var i=0;i<this.pts.length;i++)n._env.expandToInclude(n.pts[i])}return this._env},t.prototype.addIntersection=function(n,i,o,s){var u=new J(n.getIntersection(s)),l=i,p=n.getEdgeDistance(o,s),g=l+1;if(g<this.pts.length){var c=this.pts[g];u.equals2D(c)&&(l=g,p=0)}this.eiList.add(u,l,p)},t.prototype.toString=function(){var n=this,i=new wi;i.append("edge "+this._name+": "),i.append("LINESTRING (");for(var o=0;o<this.pts.length;o++)o>0&&i.append(","),i.append(n.pts[o].x+" "+n.pts[o].y);return i.append(")  "+this._label+" "+this._depthDelta),i.toString()},t.prototype.isPointwiseEqual=function(n){var i=this;if(this.pts.length!==n.pts.length)return!1;for(var o=0;o<this.pts.length;o++)if(!i.pts[o].equals2D(n.pts[o]))return!1;return!0},t.prototype.setDepthDelta=function(n){this._depthDelta=n},t.prototype.getEdgeIntersectionList=function(){return this.eiList},t.prototype.addIntersections=function(n,i,o){for(var s=this,u=0;u<n.getIntersectionNum();u++)s.addIntersection(n,i,o,u)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.updateIM=function(){if(arguments.length===2){var n=arguments[0],i=arguments[1];i.setAtLeastIfValid(n.getLocation(0,Lt.ON),n.getLocation(1,Lt.ON),1),n.isArea()&&(i.setAtLeastIfValid(n.getLocation(0,Lt.LEFT),n.getLocation(1,Lt.LEFT),2),i.setAtLeastIfValid(n.getLocation(0,Lt.RIGHT),n.getLocation(1,Lt.RIGHT),2))}else return r.prototype.updateIM.apply(this,arguments)},t}(Mr),tr=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Yr,this._bufParams=t||null};tr.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t};tr.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(e!==null){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new Oe(t.getLabel()),i.flip()),n.merge(i);var o=tr.depthDelta(i),s=e.getDepthDelta(),u=s+o;e.setDepthDelta(u)}else this._edgeList.add(t),t.setDepthDelta(tr.depthDelta(t.getLabel()))};tr.prototype.buildSubgraphs=function(t,e){for(var n=new Mt,i=t.iterator();i.hasNext();){var o=i.next(),s=o.getRightmostCoordinate(),u=new Os(n),l=u.getDepth(s);o.computeDepth(l),o.findResultEdges(),n.add(o),e.add(o.getDirectedEdges(),o.getNodes())}};tr.prototype.createSubgraphs=function(t){for(var e=new Mt,n=t.getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isVisited()){var o=new nr;o.create(i),e.add(o)}}return Xr.sort(e,Xr.reverseOrder()),e};tr.prototype.createEmptyResultGeometry=function(){var t=this._geomFact.createPolygon();return t};tr.prototype.getNoder=function(t){if(this._workingNoder!==null)return this._workingNoder;var e=new Wh,n=new ps;return n.setPrecisionModel(t),e.setSegmentIntersector(new Sr(n)),e};tr.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;n===null&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var i=new hr(n,this._bufParams),o=new Br(t,e,i),s=o.getCurves();if(s.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(s,n),this._graph=new en(new Rp),this._graph.addEdges(this._edgeList.getEdges());var u=this.createSubgraphs(this._graph),l=new vr(this._geomFact);this.buildSubgraphs(u,l);var p=l.getPolygons();if(p.size()<=0)return this.createEmptyResultGeometry();var g=this._geomFact.buildGeometry(p);return g};tr.prototype.computeNodedEdges=function(t,e){var n=this,i=this.getNoder(e);i.computeNodes(t);for(var o=i.getNodedSubstrings(),s=o.iterator();s.hasNext();){var u=s.next(),l=u.getCoordinates();if(!(l.length===2&&l[0].equals2D(l[1]))){var p=u.getData(),g=new yu(u.getCoordinates(),new Oe(p));n.insertUniqueEdge(g)}}};tr.prototype.setNoder=function(t){this._workingNoder=t};tr.prototype.interfaces_=function(){return[]};tr.prototype.getClass=function(){return tr};tr.depthDelta=function(t){var e=t.getLocation(0,Lt.LEFT),n=t.getLocation(0,Lt.RIGHT);return e===tt.INTERIOR&&n===tt.EXTERIOR?1:e===tt.EXTERIOR&&n===tt.INTERIOR?-1:0};tr.convertSegStrings=function(t){for(var e=new se,n=new Mt;t.hasNext();){var i=t.next(),o=e.createLineString(i.getCoordinates());n.add(o)}return e.buildGeometry(n)};var Do=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(arguments.length===4){var n=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3];this._noder=n,this._scaleFactor=i,this._offsetX=o,this._offsetY=s,this._isScaled=!this.isIntegerPrecision()}};Do.prototype.rescale=function(){var t=this;if(Ht(arguments[0],yn))for(var e=arguments[0],n=e.iterator();n.hasNext();){var i=n.next();t.rescale(i.getCoordinates())}else if(arguments[0]instanceof Array){for(var o=arguments[0],s=0;s<o.length;s++)o[s].x=o[s].x/t._scaleFactor+t._offsetX,o[s].y=o[s].y/t._scaleFactor+t._offsetY;o.length===2&&o[0].equals2D(o[1])&&Bn.out.println(o)}};Do.prototype.scale=function(){var t=this;if(Ht(arguments[0],yn)){for(var e=arguments[0],n=new Mt,i=e.iterator();i.hasNext();){var o=i.next();n.add(new cn(t.scale(o.getCoordinates()),o.getData()))}return n}else if(arguments[0]instanceof Array){for(var s=arguments[0],u=new Array(s.length).fill(null),l=0;l<s.length;l++)u[l]=new J(Math.round((s[l].x-t._offsetX)*t._scaleFactor),Math.round((s[l].y-t._offsetY)*t._scaleFactor),s[l].z);var p=ae.removeRepeatedPoints(u);return p}};Do.prototype.isIntegerPrecision=function(){return this._scaleFactor===1};Do.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t};Do.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)};Do.prototype.interfaces_=function(){return[rs]};Do.prototype.getClass=function(){return Do};var yi=function(){this._li=new ps,this._segStrings=null;var t=arguments[0];this._segStrings=t},Bp={fact:{configurable:!0}};yi.prototype.checkEndPtVertexIntersections=function(){var t=this;if(arguments.length===0)for(var e=this._segStrings.iterator();e.hasNext();){var n=e.next(),i=n.getCoordinates();t.checkEndPtVertexIntersections(i[0],t._segStrings),t.checkEndPtVertexIntersections(i[i.length-1],t._segStrings)}else if(arguments.length===2){for(var o=arguments[0],s=arguments[1],u=s.iterator();u.hasNext();)for(var l=u.next(),p=l.getCoordinates(),g=1;g<p.length-1;g++)if(p[g].equals(o))throw new ao("found endpt/interior pt intersection at index "+g+" :pt "+o)}};yi.prototype.checkInteriorIntersections=function(){var t=this;if(arguments.length===0)for(var e=this._segStrings.iterator();e.hasNext();)for(var n=e.next(),i=this._segStrings.iterator();i.hasNext();){var o=i.next();t.checkInteriorIntersections(n,o)}else if(arguments.length===2)for(var s=arguments[0],u=arguments[1],l=s.getCoordinates(),p=u.getCoordinates(),g=0;g<l.length-1;g++)for(var c=0;c<p.length-1;c++)t.checkInteriorIntersections(s,g,u,c);else if(arguments.length===4){var _=arguments[0],C=arguments[1],M=arguments[2],S=arguments[3];if(_===M&&C===S)return null;var P=_.getCoordinates()[C],k=_.getCoordinates()[C+1],D=M.getCoordinates()[S],O=M.getCoordinates()[S+1];if(this._li.computeIntersection(P,k,D,O),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,P,k)||this.hasInteriorIntersection(this._li,D,O)))throw new ao("found non-noded intersection at "+P+"-"+k+" and "+D+"-"+O)}};yi.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()};yi.prototype.checkCollapses=function(){var t=this;if(arguments.length===0)for(var e=this._segStrings.iterator();e.hasNext();){var n=e.next();t.checkCollapses(n)}else if(arguments.length===1)for(var i=arguments[0],o=i.getCoordinates(),s=0;s<o.length-2;s++)t.checkCollapse(o[s],o[s+1],o[s+2])};yi.prototype.hasInteriorIntersection=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++){var o=t.getIntersection(i);if(!(o.equals(e)||o.equals(n)))return!0}return!1};yi.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new ao("found non-noded collapse at "+yi.fact.createLineString([t,e,n]))};yi.prototype.interfaces_=function(){return[]};yi.prototype.getClass=function(){return yi};Bp.fact.get=function(){return new se};Object.defineProperties(yi,Bp);var cr=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new Ke("Scale factor must be non-zero");e!==1&&(this._pt=new J(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new J,this._p1Scaled=new J),this.initCorners(this._pt)},zp={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};cr.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),o=Math.min(t.y,e.y),s=Math.max(t.y,e.y),u=this._maxx<n||this._minx>i||this._maxy<o||this._miny>s;if(u)return!1;var l=this.intersectsToleranceSquare(t,e);return Jt.isTrue(!(u&&l),"Found bad envelope test"),l};cr.prototype.initCorners=function(t){var e=.5;this._minx=t.x-e,this._maxx=t.x+e,this._miny=t.y-e,this._maxy=t.y+e,this._corner[0]=new J(this._maxx,this._maxy),this._corner[1]=new J(this._minx,this._maxy),this._corner[2]=new J(this._minx,this._miny),this._corner[3]=new J(this._maxx,this._miny)};cr.prototype.intersects=function(t,e){return this._scaleFactor===1?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))};cr.prototype.scale=function(t){return Math.round(t*this._scaleFactor)};cr.prototype.getCoordinate=function(){return this._originalPt};cr.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)};cr.prototype.getSafeEnvelope=function(){if(this._safeEnv===null){var t=cr.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Bt(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv};cr.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection())||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection())||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))};cr.prototype.intersectsToleranceSquare=function(t,e){var n=!1,i=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper())||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper())||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper())||n&&i||t.equals(this._pt)||e.equals(this._pt))};cr.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),i=t.getCoordinate(e+1);return this.intersects(n,i)?(t.addIntersection(this.getCoordinate(),e),!0):!1};cr.prototype.interfaces_=function(){return[]};cr.prototype.getClass=function(){return cr};zp.SAFE_ENV_EXPANSION_FACTOR.get=function(){return .75};Object.defineProperties(cr,zp);var bl=function(){this.tempEnv1=new Bt,this.selectedSegment=new zt};bl.prototype.select=function(){if(arguments.length!==1){if(arguments.length===2){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}}};bl.prototype.interfaces_=function(){return[]};bl.prototype.getClass=function(){return bl};var wa=function(){this._index=null;var t=arguments[0];this._index=t},Fp={HotPixelSnapAction:{configurable:!0}};wa.prototype.snap=function(){if(arguments.length===1){var t=arguments[0];return this.snap(t,null,-1)}else if(arguments.length===3){var e=arguments[0],n=arguments[1],i=arguments[2],o=e.getSafeEnvelope(),s=new Gp(e,n,i);return this._index.query(o,{interfaces_:function(){return[To]},visitItem:function(u){var l=u;l.select(o,s)}}),s.isNodeAdded()}};wa.prototype.interfaces_=function(){return[]};wa.prototype.getClass=function(){return wa};Fp.HotPixelSnapAction.get=function(){return Gp};Object.defineProperties(wa,Fp);var Gp=function(r){function t(){r.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],i=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=i}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.isNodeAdded=function(){return this._isNodeAdded},t.prototype.select=function(){if(arguments.length===2){var n=arguments[0],i=arguments[1],o=n.getContext();if(this._parentEdge!==null&&o===this._parentEdge&&i===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(o,i)}else return r.prototype.select.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(bl),Ds=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new Mt};Ds.prototype.processIntersections=function(t,e,n,i){var o=this;if(t===n&&e===i)return null;var s=t.getCoordinates()[e],u=t.getCoordinates()[e+1],l=n.getCoordinates()[i],p=n.getCoordinates()[i+1];if(this._li.computeIntersection(s,u,l,p),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var g=0;g<this._li.getIntersectionNum();g++)o._interiorIntersections.add(o._li.getIntersection(g));t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)}};Ds.prototype.isDone=function(){return!1};Ds.prototype.getInteriorIntersections=function(){return this._interiorIntersections};Ds.prototype.interfaces_=function(){return[os]};Ds.prototype.getClass=function(){return Ds};var zi=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new ps,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};zi.prototype.checkCorrectness=function(t){var e=cn.getNodedSubstrings(t),n=new yi(e);try{n.checkValid()}catch(i){if(i instanceof wp)i.printStackTrace();else throw i}finally{}};zi.prototype.getNodedSubstrings=function(){return cn.getNodedSubstrings(this._nodedSegStrings)};zi.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)};zi.prototype.findInteriorIntersections=function(t,e){var n=new Ds(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()};zi.prototype.computeVertexSnaps=function(){var t=this;if(Ht(arguments[0],yn))for(var e=arguments[0],n=e.iterator();n.hasNext();){var i=n.next();t.computeVertexSnaps(i)}else if(arguments[0]instanceof cn)for(var o=arguments[0],s=o.getCoordinates(),u=0;u<s.length;u++){var l=new cr(s[u],t._scaleFactor,t._li),p=t._pointSnapper.snap(l,o,u);p&&o.addIntersection(s[u],u)}};zi.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new Wh,this._pointSnapper=new wa(this._noder.getIndex()),this.snapRound(t,this._li)};zi.prototype.computeIntersectionSnaps=function(t){for(var e=this,n=t.iterator();n.hasNext();){var i=n.next(),o=new cr(i,e._scaleFactor,e._li);e._pointSnapper.snap(o)}};zi.prototype.interfaces_=function(){return[rs]};zi.prototype.getClass=function(){return zi};var Rn=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new ke,this._resultGeometry=null,this._saveException=null,arguments.length===1){var t=arguments[0];this._argGeom=t}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},Ba={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Rn.prototype.bufferFixedPrecision=function(t){var e=new Do(new zi(new xe(1)),t.getScale()),n=new tr(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)};Rn.prototype.bufferReducedPrecision=function(){var t=this;if(arguments.length===0){for(var e=Rn.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(s){if(s instanceof uo)t._saveException=s;else throw s}finally{}if(t._resultGeometry!==null)return null}throw this._saveException}else if(arguments.length===1){var n=arguments[0],i=Rn.precisionScaleFactor(this._argGeom,this._distance,n),o=new xe(i);this.bufferFixedPrecision(o)}};Rn.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===xe.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()};Rn.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)};Rn.prototype.bufferOriginalPrecision=function(){try{var t=new tr(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(e){if(e instanceof ao)this._saveException=e;else throw e}finally{}};Rn.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry};Rn.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)};Rn.prototype.interfaces_=function(){return[]};Rn.prototype.getClass=function(){return Rn};Rn.bufferOp=function(){if(arguments.length===2){var t=arguments[0],e=arguments[1],n=new Rn(t),i=n.getResultGeometry(e);return i}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Gt&&typeof arguments[1]=="number"){var o=arguments[0],s=arguments[1],u=arguments[2],l=new Rn(o);l.setQuadrantSegments(u);var p=l.getResultGeometry(s);return p}else if(arguments[2]instanceof ke&&arguments[0]instanceof Gt&&typeof arguments[1]=="number"){var g=arguments[0],c=arguments[1],_=arguments[2],C=new Rn(g,_),M=C.getResultGeometry(c);return M}}else if(arguments.length===4){var S=arguments[0],P=arguments[1],k=arguments[2],D=arguments[3],O=new Rn(S);O.setQuadrantSegments(k),O.setEndCapStyle(D);var x=O.getResultGeometry(P);return x}};Rn.precisionScaleFactor=function(t,e,n){var i=t.getEnvelopeInternal(),o=Er.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY())),s=e>0?e:0,u=o+2*s,l=Math.trunc(Math.log(u)/Math.log(10)+1),p=n-l,g=Math.pow(10,p);return g};Ba.CAP_ROUND.get=function(){return ke.CAP_ROUND};Ba.CAP_BUTT.get=function(){return ke.CAP_FLAT};Ba.CAP_FLAT.get=function(){return ke.CAP_FLAT};Ba.CAP_SQUARE.get=function(){return ke.CAP_SQUARE};Ba.MAX_PRECISION_DIGITS.get=function(){return 12};Object.defineProperties(Rn,Ba);var Jn=function(){this._pt=[new J,new J],this._distance=Yt.NaN,this._isNull=!0};Jn.prototype.getCoordinates=function(){return this._pt};Jn.prototype.getCoordinate=function(t){return this._pt[t]};Jn.prototype.setMinimum=function(){if(arguments.length===1){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(arguments.length===2){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i<this._distance&&this.initialize(e,n,i)}};Jn.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(arguments.length===3){var n=arguments[0],i=arguments[1],o=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(i),this._distance=o,this._isNull=!1}};Jn.prototype.getDistance=function(){return this._distance};Jn.prototype.setMaximum=function(){if(arguments.length===1){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(arguments.length===2){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i>this._distance&&this.initialize(e,n,i)}};Jn.prototype.interfaces_=function(){return[]};Jn.prototype.getClass=function(){return Jn};var ki=function(){};ki.prototype.interfaces_=function(){return[]};ki.prototype.getClass=function(){return ki};ki.computeDistance=function(){if(arguments[2]instanceof Jn&&arguments[0]instanceof rn&&arguments[1]instanceof J)for(var t=arguments[0],e=arguments[1],n=arguments[2],i=t.getCoordinates(),o=new zt,s=0;s<i.length-1;s++){o.setCoordinates(i[s],i[s+1]);var u=o.closestPoint(e);n.setMinimum(u,e)}else if(arguments[2]instanceof Jn&&arguments[0]instanceof wn&&arguments[1]instanceof J){var l=arguments[0],p=arguments[1],g=arguments[2];ki.computeDistance(l.getExteriorRing(),p,g);for(var c=0;c<l.getNumInteriorRing();c++)ki.computeDistance(l.getInteriorRingN(c),p,g)}else if(arguments[2]instanceof Jn&&arguments[0]instanceof Gt&&arguments[1]instanceof J){var _=arguments[0],C=arguments[1],M=arguments[2];if(_ instanceof rn)ki.computeDistance(_,C,M);else if(_ instanceof wn)ki.computeDistance(_,C,M);else if(_ instanceof er)for(var S=_,P=0;P<S.getNumGeometries();P++){var k=S.getGeometryN(P);ki.computeDistance(k,C,M)}else M.setMinimum(_.getCoordinate(),C)}else if(arguments[2]instanceof Jn&&arguments[0]instanceof zt&&arguments[1]instanceof J){var D=arguments[0],O=arguments[1],x=arguments[2],R=D.closestPoint(O);x.setMinimum(R,O)}};var as=function(t){this._maxPtDist=new Jn,this._inputGeom=t||null},Kh={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};as.prototype.computeMaxMidpointDistance=function(t){var e=new Ro(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())};as.prototype.computeMaxVertexDistance=function(t){var e=new Rs(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())};as.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()};as.prototype.getDistancePoints=function(){return this._maxPtDist};as.prototype.interfaces_=function(){return[]};as.prototype.getClass=function(){return as};Kh.MaxPointDistanceFilter.get=function(){return Rs};Kh.MaxMidpointDistanceFilter.get=function(){return Ro};Object.defineProperties(as,Kh);var Rs=function(t){this._maxPtDist=new Jn,this._minPtDist=new Jn,this._geom=t||null};Rs.prototype.filter=function(t){this._minPtDist.initialize(),ki.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)};Rs.prototype.getMaxPointDistance=function(){return this._maxPtDist};Rs.prototype.interfaces_=function(){return[Oi]};Rs.prototype.getClass=function(){return Rs};var Ro=function(t){this._maxPtDist=new Jn,this._minPtDist=new Jn,this._geom=t||null};Ro.prototype.filter=function(t,e){if(e===0)return null;var n=t.getCoordinate(e-1),i=t.getCoordinate(e),o=new J((n.x+i.x)/2,(n.y+i.y)/2);this._minPtDist.initialize(),ki.computeDistance(this._geom,o,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)};Ro.prototype.isDone=function(){return!1};Ro.prototype.isGeometryChanged=function(){return!1};Ro.prototype.getMaxPointDistance=function(){return this._maxPtDist};Ro.prototype.interfaces_=function(){return[jr]};Ro.prototype.getClass=function(){return Ro};var oo=function(t){this._comps=t||null};oo.prototype.filter=function(t){t instanceof wn&&this._comps.add(t)};oo.prototype.interfaces_=function(){return[di]};oo.prototype.getClass=function(){return oo};oo.getPolygons=function(){if(arguments.length===1){var t=arguments[0];return oo.getPolygons(t,new Mt)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];return e instanceof wn?n.add(e):e instanceof er&&e.apply(new oo(n)),n}};var On=function(){if(this._lines=null,this._isForcedToLineString=!1,arguments.length===1){var t=arguments[0];this._lines=t}else if(arguments.length===2){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};On.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof Di){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof rn&&this._lines.add(t)};On.prototype.setForceToLineString=function(t){this._isForcedToLineString=t};On.prototype.interfaces_=function(){return[lo]};On.prototype.getClass=function(){return On};On.getGeometry=function(){if(arguments.length===1){var t=arguments[0];return t.getFactory().buildGeometry(On.getLines(t))}else if(arguments.length===2){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(On.getLines(e,n))}};On.getLines=function(){if(arguments.length===1){var t=arguments[0];return On.getLines(t,!1)}else if(arguments.length===2){if(Ht(arguments[0],yn)&&Ht(arguments[1],yn)){for(var e=arguments[0],n=arguments[1],i=e.iterator();i.hasNext();){var o=i.next();On.getLines(o,n)}return n}else if(arguments[0]instanceof Gt&&typeof arguments[1]=="boolean"){var s=arguments[0],u=arguments[1],l=new Mt;return s.apply(new On(l,u)),l}else if(arguments[0]instanceof Gt&&Ht(arguments[1],yn)){var p=arguments[0],g=arguments[1];return p instanceof rn?g.add(p):p.apply(new On(g)),g}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&Ht(arguments[0],yn)&&Ht(arguments[1],yn)){for(var c=arguments[0],_=arguments[1],C=arguments[2],M=c.iterator();M.hasNext();){var S=M.next();On.getLines(S,_,C)}return _}else if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Gt&&Ht(arguments[1],yn)){var P=arguments[0],k=arguments[1],D=arguments[2];return P.apply(new On(k,D)),k}}};var Wr=function(){if(this._boundaryRule=Rr.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];if(t===null)throw new Ke("Rule must be non-null");this._boundaryRule=t}}};Wr.prototype.locateInternal=function(){var t=this;if(arguments[0]instanceof J&&arguments[1]instanceof wn){var e=arguments[0],n=arguments[1];if(n.isEmpty())return tt.EXTERIOR;var i=n.getExteriorRing(),o=this.locateInPolygonRing(e,i);if(o===tt.EXTERIOR)return tt.EXTERIOR;if(o===tt.BOUNDARY)return tt.BOUNDARY;for(var s=0;s<n.getNumInteriorRing();s++){var u=n.getInteriorRingN(s),l=t.locateInPolygonRing(e,u);if(l===tt.INTERIOR)return tt.EXTERIOR;if(l===tt.BOUNDARY)return tt.BOUNDARY}return tt.INTERIOR}else if(arguments[0]instanceof J&&arguments[1]instanceof rn){var p=arguments[0],g=arguments[1];if(!g.getEnvelopeInternal().intersects(p))return tt.EXTERIOR;var c=g.getCoordinates();return!g.isClosed()&&(p.equals(c[0])||p.equals(c[c.length-1]))?tt.BOUNDARY:xt.isOnLine(p,c)?tt.INTERIOR:tt.EXTERIOR}else if(arguments[0]instanceof J&&arguments[1]instanceof mr){var _=arguments[0],C=arguments[1],M=C.getCoordinate();return M.equals2D(_)?tt.INTERIOR:tt.EXTERIOR}};Wr.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?xt.locatePointInRing(t,e.getCoordinates()):tt.EXTERIOR};Wr.prototype.intersects=function(t,e){return this.locate(t,e)!==tt.EXTERIOR};Wr.prototype.updateLocationInfo=function(t){t===tt.INTERIOR&&(this._isIn=!0),t===tt.BOUNDARY&&this._numBoundaries++};Wr.prototype.computeLocation=function(t,e){var n=this;if(e instanceof mr&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof rn)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof wn)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof ns)for(var i=e,o=0;o<i.getNumGeometries();o++){var s=i.getGeometryN(o);n.updateLocationInfo(n.locateInternal(t,s))}else if(e instanceof Ti)for(var u=e,l=0;l<u.getNumGeometries();l++){var p=u.getGeometryN(l);n.updateLocationInfo(n.locateInternal(t,p))}else if(e instanceof er)for(var g=new Ni(e);g.hasNext();){var c=g.next();c!==e&&n.computeLocation(t,c)}};Wr.prototype.locate=function(t,e){return e.isEmpty()?tt.EXTERIOR:e instanceof rn?this.locateInternal(t,e):e instanceof wn?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?tt.BOUNDARY:this._numBoundaries>0||this._isIn?tt.INTERIOR:tt.EXTERIOR)};Wr.prototype.interfaces_=function(){return[]};Wr.prototype.getClass=function(){return Wr};var Qn=function r(){if(this._component=null,this._segIndex=null,this._pt=null,arguments.length===2){var t=arguments[0],e=arguments[1];r.call(this,t,r.INSIDE_AREA,e)}else if(arguments.length===3){var n=arguments[0],i=arguments[1],o=arguments[2];this._component=n,this._segIndex=i,this._pt=o}},Vp={INSIDE_AREA:{configurable:!0}};Qn.prototype.isInsideArea=function(){return this._segIndex===Qn.INSIDE_AREA};Qn.prototype.getCoordinate=function(){return this._pt};Qn.prototype.getGeometryComponent=function(){return this._component};Qn.prototype.getSegmentIndex=function(){return this._segIndex};Qn.prototype.interfaces_=function(){return[]};Qn.prototype.getClass=function(){return Qn};Vp.INSIDE_AREA.get=function(){return-1};Object.defineProperties(Qn,Vp);var Io=function(t){this._pts=t||null};Io.prototype.filter=function(t){t instanceof mr&&this._pts.add(t)};Io.prototype.interfaces_=function(){return[di]};Io.prototype.getClass=function(){return Io};Io.getPoints=function(){if(arguments.length===1){var t=arguments[0];return t instanceof mr?Xr.singletonList(t):Io.getPoints(t,new Mt)}else if(arguments.length===2){var e=arguments[0],n=arguments[1];return e instanceof mr?n.add(e):e instanceof er&&e.apply(new Io(n)),n}};var As=function(){this._locations=null;var t=arguments[0];this._locations=t};As.prototype.filter=function(t){(t instanceof mr||t instanceof rn||t instanceof wn)&&this._locations.add(new Qn(t,0,t.getCoordinate()))};As.prototype.interfaces_=function(){return[di]};As.prototype.getClass=function(){return As};As.getLocations=function(t){var e=new Mt;return t.apply(new As(e)),e};var zn=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Wr,this._minDistanceLocation=null,this._minDistance=Yt.MAX_VALUE,arguments.length===2){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(arguments.length===3){var n=arguments[0],i=arguments[1],o=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=i,this._terminateDistance=o}};zn.prototype.computeContainmentDistance=function(){var t=this;if(arguments.length===0){var e=new Array(2).fill(null);if(this.computeContainmentDistance(0,e),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,e)}else if(arguments.length===2){var n=arguments[0],i=arguments[1],o=1-n,s=oo.getPolygons(this._geom[n]);if(s.size()>0){var u=As.getLocations(this._geom[o]);if(this.computeContainmentDistance(u,s,i),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[o]=i[0],this._minDistanceLocation[n]=i[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&Ht(arguments[0],Hr)&&Ht(arguments[1],Hr)){for(var l=arguments[0],p=arguments[1],g=arguments[2],c=0;c<l.size();c++)for(var _=l.get(c),C=0;C<p.size();C++)if(t.computeContainmentDistance(_,p.get(C),g),t._minDistance<=t._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Qn&&arguments[1]instanceof wn){var M=arguments[0],S=arguments[1],P=arguments[2],k=M.getCoordinate();if(tt.EXTERIOR!==this._ptLocator.locate(k,S))return this._minDistance=0,P[0]=M,P[1]=new Qn(S,k),null}}};zn.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var i=this,o=0;o<t.size();o++)for(var s=t.get(o),u=0;u<e.size();u++){var l=e.get(u);if(i.computeMinDistance(s,l,n),i._minDistance<=i._terminateDistance)return null}};zn.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=On.getLines(this._geom[0]),n=On.getLines(this._geom[1]),i=Io.getPoints(this._geom[0]),o=Io.getPoints(this._geom[1]);if(this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance||(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,o,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance)||(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,i,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance))return null;t[0]=null,t[1]=null,this.computeMinDistancePoints(i,o,t),this.updateMinDistance(t,!1)};zn.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation};zn.prototype.updateMinDistance=function(t,e){if(t[0]===null)return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])};zn.prototype.nearestPoints=function(){this.computeMinDistance();var t=[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()];return t};zn.prototype.computeMinDistance=function(){var t=this;if(arguments.length===0){if(this._minDistanceLocation!==null||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof rn&&arguments[1]instanceof mr){var e=arguments[0],n=arguments[1],i=arguments[2];if(e.getEnvelopeInternal().distance(n.getEnvelopeInternal())>this._minDistance)return null;for(var o=e.getCoordinates(),s=n.getCoordinate(),u=0;u<o.length-1;u++){var l=xt.distancePointLine(s,o[u],o[u+1]);if(l<t._minDistance){t._minDistance=l;var p=new zt(o[u],o[u+1]),g=p.closestPoint(s);i[0]=new Qn(e,u,g),i[1]=new Qn(n,0,s)}if(t._minDistance<=t._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof rn&&arguments[1]instanceof rn){var c=arguments[0],_=arguments[1],C=arguments[2];if(c.getEnvelopeInternal().distance(_.getEnvelopeInternal())>this._minDistance)return null;for(var M=c.getCoordinates(),S=_.getCoordinates(),P=0;P<M.length-1;P++)for(var k=0;k<S.length-1;k++){var D=xt.distanceLineLine(M[P],M[P+1],S[k],S[k+1]);if(D<t._minDistance){t._minDistance=D;var O=new zt(M[P],M[P+1]),x=new zt(S[k],S[k+1]),R=O.closestPoints(x);C[0]=new Qn(c,P,R[0]),C[1]=new Qn(_,k,R[1])}if(t._minDistance<=t._terminateDistance)return null}}}};zn.prototype.computeMinDistancePoints=function(t,e,n){for(var i=this,o=0;o<t.size();o++)for(var s=t.get(o),u=0;u<e.size();u++){var l=e.get(u),p=s.getCoordinate().distance(l.getCoordinate());if(p<i._minDistance&&(i._minDistance=p,n[0]=new Qn(s,0,s.getCoordinate()),n[1]=new Qn(l,0,l.getCoordinate())),i._minDistance<=i._terminateDistance)return null}};zn.prototype.distance=function(){if(this._geom[0]===null||this._geom[1]===null)throw new Ke("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)};zn.prototype.computeMinDistanceLines=function(t,e,n){for(var i=this,o=0;o<t.size();o++)for(var s=t.get(o),u=0;u<e.size();u++){var l=e.get(u);if(i.computeMinDistance(s,l,n),i._minDistance<=i._terminateDistance)return null}};zn.prototype.interfaces_=function(){return[]};zn.prototype.getClass=function(){return zn};zn.distance=function(t,e){var n=new zn(t,e);return n.distance()};zn.isWithinDistance=function(t,e,n){var i=new zn(t,e,n);return i.distance()<=n};zn.nearestPoints=function(t,e){var n=new zn(t,e);return n.nearestPoints()};var Hn=function(){this._pt=[new J,new J],this._distance=Yt.NaN,this._isNull=!0};Hn.prototype.getCoordinates=function(){return this._pt};Hn.prototype.getCoordinate=function(t){return this._pt[t]};Hn.prototype.setMinimum=function(){if(arguments.length===1){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(arguments.length===2){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i<this._distance&&this.initialize(e,n,i)}};Hn.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(arguments.length===3){var n=arguments[0],i=arguments[1],o=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(i),this._distance=o,this._isNull=!1}};Hn.prototype.toString=function(){return Zr.toLineString(this._pt[0],this._pt[1])};Hn.prototype.getDistance=function(){return this._distance};Hn.prototype.setMaximum=function(){if(arguments.length===1){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(arguments.length===2){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i>this._distance&&this.initialize(e,n,i)}};Hn.prototype.interfaces_=function(){return[]};Hn.prototype.getClass=function(){return Hn};var ui=function(){};ui.prototype.interfaces_=function(){return[]};ui.prototype.getClass=function(){return ui};ui.computeDistance=function(){if(arguments[2]instanceof Hn&&arguments[0]instanceof rn&&arguments[1]instanceof J)for(var t=arguments[0],e=arguments[1],n=arguments[2],i=new zt,o=t.getCoordinates(),s=0;s<o.length-1;s++){i.setCoordinates(o[s],o[s+1]);var u=i.closestPoint(e);n.setMinimum(u,e)}else if(arguments[2]instanceof Hn&&arguments[0]instanceof wn&&arguments[1]instanceof J){var l=arguments[0],p=arguments[1],g=arguments[2];ui.computeDistance(l.getExteriorRing(),p,g);for(var c=0;c<l.getNumInteriorRing();c++)ui.computeDistance(l.getInteriorRingN(c),p,g)}else if(arguments[2]instanceof Hn&&arguments[0]instanceof Gt&&arguments[1]instanceof J){var _=arguments[0],C=arguments[1],M=arguments[2];if(_ instanceof rn)ui.computeDistance(_,C,M);else if(_ instanceof wn)ui.computeDistance(_,C,M);else if(_ instanceof er)for(var S=_,P=0;P<S.getNumGeometries();P++){var k=S.getGeometryN(P);ui.computeDistance(k,C,M)}else M.setMinimum(_.getCoordinate(),C)}else if(arguments[2]instanceof Hn&&arguments[0]instanceof zt&&arguments[1]instanceof J){var D=arguments[0],O=arguments[1],x=arguments[2],R=D.closestPoint(O);x.setMinimum(R,O)}};var Dr=function(){this._g0=null,this._g1=null,this._ptDist=new Hn,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},Jh={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Dr.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()};Dr.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new Ke("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t};Dr.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)};Dr.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()};Dr.prototype.computeOrientedDistance=function(t,e,n){var i=new Bs(e);if(t.apply(i),n.setMaximum(i.getMaxPointDistance()),this._densifyFrac>0){var o=new Ao(e,this._densifyFrac);t.apply(o),n.setMaximum(o.getMaxPointDistance())}};Dr.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()};Dr.prototype.interfaces_=function(){return[]};Dr.prototype.getClass=function(){return Dr};Dr.distance=function(){if(arguments.length===2){var t=arguments[0],e=arguments[1],n=new Dr(t,e);return n.distance()}else if(arguments.length===3){var i=arguments[0],o=arguments[1],s=arguments[2],u=new Dr(i,o);return u.setDensifyFraction(s),u.distance()}};Jh.MaxPointDistanceFilter.get=function(){return Bs};Jh.MaxDensifiedByFractionDistanceFilter.get=function(){return Ao};Object.defineProperties(Dr,Jh);var Bs=function(){this._maxPtDist=new Hn,this._minPtDist=new Hn,this._euclideanDist=new ui,this._geom=null;var t=arguments[0];this._geom=t};Bs.prototype.filter=function(t){this._minPtDist.initialize(),ui.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)};Bs.prototype.getMaxPointDistance=function(){return this._maxPtDist};Bs.prototype.interfaces_=function(){return[Oi]};Bs.prototype.getClass=function(){return Bs};var Ao=function(){this._maxPtDist=new Hn,this._minPtDist=new Hn,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};Ao.prototype.filter=function(t,e){var n=this;if(e===0)return null;for(var i=t.getCoordinate(e-1),o=t.getCoordinate(e),s=(o.x-i.x)/this._numSubSegs,u=(o.y-i.y)/this._numSubSegs,l=0;l<this._numSubSegs;l++){var p=i.x+l*s,g=i.y+l*u,c=new J(p,g);n._minPtDist.initialize(),ui.computeDistance(n._geom,c,n._minPtDist),n._maxPtDist.setMaximum(n._minPtDist)}};Ao.prototype.isDone=function(){return!1};Ao.prototype.isGeometryChanged=function(){return!1};Ao.prototype.getMaxPointDistance=function(){return this._maxPtDist};Ao.prototype.interfaces_=function(){return[jr]};Ao.prototype.getClass=function(){return Ao};var _r=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},Qh={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};_r.prototype.checkMaximumDistance=function(t,e,n){var i=new Dr(e,t);if(i.setDensifyFraction(.25),this._maxDistanceFound=i.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var o=i.getCoordinates();this._errorLocation=o[1],this._errorIndicator=t.getFactory().createLineString(o),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Zr.toLineString(o[0],o[1])+")"}};_r.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=_r.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,this._input.isEmpty()||this._result.isEmpty()?!0:(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),_r.VERBOSE&&Bn.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)};_r.prototype.checkNegativeValid=function(){if(!(this._input instanceof wn||this._input instanceof Ti||this._input instanceof er))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)};_r.prototype.getErrorIndicator=function(){return this._errorIndicator};_r.prototype.checkMinimumDistance=function(t,e,n){var i=new zn(t,e,n);if(this._minDistanceFound=i.distance(),this._minDistanceFound<n){this._isValid=!1;var o=i.nearestPoints();this._errorLocation=i.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(o),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Zr.toLineString(o[0],o[1])+" )"}};_r.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)};_r.prototype.getErrorLocation=function(){return this._errorLocation};_r.prototype.getPolygonLines=function(t){for(var e=new Mt,n=new On(e),i=oo.getPolygons(t),o=i.iterator();o.hasNext();){var s=o.next();s.apply(n)}return t.getFactory().buildGeometry(e)};_r.prototype.getErrorMessage=function(){return this._errMsg};_r.prototype.interfaces_=function(){return[]};_r.prototype.getClass=function(){return _r};Qh.VERBOSE.get=function(){return!1};Qh.MAX_DISTANCE_DIFF_FRAC.get=function(){return .012};Object.defineProperties(_r,Qh);var Fn=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},$h={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Fn.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid};Fn.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*Fn.MAX_ENV_DIFF_FRAC;t===0&&(t=.001);var e=new Bt(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new Bt(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")};Fn.prototype.checkDistance=function(){var t=new _r(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")};Fn.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")};Fn.prototype.checkPolygonal=function(){this._result instanceof wn||this._result instanceof Ti||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")};Fn.prototype.getErrorIndicator=function(){return this._errorIndicator};Fn.prototype.getErrorLocation=function(){return this._errorLocation};Fn.prototype.checkExpectedEmpty=function(){if(this._input.getDimension()>=2||this._distance>0)return null;this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),this.report("ExpectedEmpty")};Fn.prototype.report=function(t){if(!Fn.VERBOSE)return null;Bn.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))};Fn.prototype.getErrorMessage=function(){return this._errorMsg};Fn.prototype.interfaces_=function(){return[]};Fn.prototype.getClass=function(){return Fn};Fn.isValidMsg=function(t,e,n){var i=new Fn(t,e,n);return i.isValid()?null:i.getErrorMessage()};Fn.isValid=function(t,e,n){var i=new Fn(t,e,n);return!!i.isValid()};$h.VERBOSE.get=function(){return!1};$h.MAX_ENV_DIFF_FRAC.get=function(){return .012};Object.defineProperties(Fn,$h);var Li=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};Li.prototype.getCoordinates=function(){return this._pts};Li.prototype.size=function(){return this._pts.length};Li.prototype.getCoordinate=function(t){return this._pts[t]};Li.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])};Li.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:Ns.octant(this.getCoordinate(t),this.getCoordinate(t+1))};Li.prototype.setData=function(t){this._data=t};Li.prototype.getData=function(){return this._data};Li.prototype.toString=function(){return Zr.toLineString(new an(this._pts))};Li.prototype.interfaces_=function(){return[Ai]};Li.prototype.getClass=function(){return Li};var xn=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Mt,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};xn.prototype.getInteriorIntersection=function(){return this._interiorIntersection};xn.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t};xn.prototype.getIntersectionSegments=function(){return this._intSegments};xn.prototype.count=function(){return this._intersectionCount};xn.prototype.getIntersections=function(){return this._intersections};xn.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t};xn.prototype.setKeepIntersections=function(t){this._keepIntersections=t};xn.prototype.processIntersections=function(t,e,n,i){if(!this._findAllIntersections&&this.hasIntersection()||t===n&&e===i)return null;if(this._isCheckEndSegmentsOnly){var o=this.isEndSegment(t,e)||this.isEndSegment(n,i);if(!o)return null}var s=t.getCoordinates()[e],u=t.getCoordinates()[e+1],l=n.getCoordinates()[i],p=n.getCoordinates()[i+1];this._li.computeIntersection(s,u,l,p),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=s,this._intSegments[1]=u,this._intSegments[2]=l,this._intSegments[3]=p,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)};xn.prototype.isEndSegment=function(t,e){return e===0||e>=t.size()-2};xn.prototype.hasIntersection=function(){return this._interiorIntersection!==null};xn.prototype.isDone=function(){return this._findAllIntersections?!1:this._interiorIntersection!==null};xn.prototype.interfaces_=function(){return[os]};xn.prototype.getClass=function(){return xn};xn.createAllIntersectionsFinder=function(t){var e=new xn(t);return e.setFindAllIntersections(!0),e};xn.createAnyIntersectionFinder=function(t){return new xn(t)};xn.createIntersectionCounter=function(t){var e=new xn(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var Kr=function(){this._li=new ps,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};Kr.prototype.execute=function(){if(this._segInt!==null)return null;this.checkInteriorIntersections()};Kr.prototype.getIntersections=function(){return this._segInt.getIntersections()};Kr.prototype.isValid=function(){return this.execute(),this._isValid};Kr.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t};Kr.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new xn(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new Wh;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null};Kr.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new uo(this.getErrorMessage(),this._segInt.getInteriorIntersection())};Kr.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Zr.toLineString(t[0],t[1])+" and "+Zr.toLineString(t[2],t[3])};Kr.prototype.interfaces_=function(){return[]};Kr.prototype.getClass=function(){return Kr};Kr.computeIntersections=function(t){var e=new Kr(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var ls=function r(){this._nv=null;var t=arguments[0];this._nv=new Kr(r.toSegmentStrings(t))};ls.prototype.checkValid=function(){this._nv.checkValid()};ls.prototype.interfaces_=function(){return[]};ls.prototype.getClass=function(){return ls};ls.toSegmentStrings=function(t){for(var e=new Mt,n=t.iterator();n.hasNext();){var i=n.next();e.add(new Li(i.getCoordinates(),i))}return e};ls.checkValid=function(t){var e=new ls(t);e.checkValid()};var zs=function(t){this._mapOp=t};zs.prototype.map=function(t){for(var e=this,n=new Mt,i=0;i<t.getNumGeometries();i++){var o=e._mapOp.map(t.getGeometryN(i));o.isEmpty()||n.add(o)}return t.getFactory().createGeometryCollection(se.toGeometryArray(n))};zs.prototype.interfaces_=function(){return[]};zs.prototype.getClass=function(){return zs};zs.map=function(t,e){var n=new zs(e);return n.map(t)};var bi=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Mt,this._resultLineList=new Mt;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};bi.prototype.collectLines=function(t){for(var e=this,n=this._op.getGraph().getEdgeEnds().iterator();n.hasNext();){var i=n.next();e.collectLineEdge(i,t,e._lineEdgesList),e.collectBoundaryTouchEdge(i,t,e._lineEdgesList)}};bi.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)};bi.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList};bi.prototype.collectLineEdge=function(t,e,n){var i=t.getLabel(),o=t.getEdge();t.isLineEdge()&&!t.isVisited()&&Kt.isResultOfOp(i,e)&&!o.isCovered()&&(n.add(o),t.setVisitedEdge(!0))};bi.prototype.findCoveredLineEdges=function(){for(var t=this,e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();n.getEdges().findCoveredLineEdges()}for(var i=this._op.getGraph().getEdgeEnds().iterator();i.hasNext();){var o=i.next(),s=o.getEdge();if(o.isLineEdge()&&!s.isCoveredSet()){var u=t._op.isCoveredByA(o.getCoordinate());s.setCovered(u)}}};bi.prototype.labelIsolatedLines=function(t){for(var e=this,n=t.iterator();n.hasNext();){var i=n.next(),o=i.getLabel();i.isIsolated()&&(o.isNull(0)?e.labelIsolatedLine(i,0):e.labelIsolatedLine(i,1))}};bi.prototype.buildLines=function(t){for(var e=this,n=this._lineEdgesList.iterator();n.hasNext();){var i=n.next(),o=e._geometryFactory.createLineString(i.getCoordinates());e._resultLineList.add(o),i.setInResult(!0)}};bi.prototype.collectBoundaryTouchEdge=function(t,e,n){var i=t.getLabel();if(t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult())return null;Jt.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),Kt.isResultOfOp(i,e)&&e===Kt.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))};bi.prototype.interfaces_=function(){return[]};bi.prototype.getClass=function(){return bi};var Fs=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Mt;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Fs.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}};Fs.prototype.extractNonCoveredResultNodes=function(t){for(var e=this,n=this._op.getGraph().getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isInResult()&&!i.isIncidentEdgeInResult()&&(i.getEdges().getDegree()===0||t===Kt.INTERSECTION)){var o=i.getLabel();Kt.isResultOfOp(o,t)&&e.filterCoveredNodeToPoint(i)}}};Fs.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList};Fs.prototype.interfaces_=function(){return[]};Fs.prototype.getClass=function(){return Fs};var fr=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};fr.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))};fr.prototype.transformPolygon=function(t,e){var n=this,i=!0,o=this.transformLinearRing(t.getExteriorRing(),t);(o===null||!(o instanceof Di)||o.isEmpty())&&(i=!1);for(var s=new Mt,u=0;u<t.getNumInteriorRing();u++){var l=n.transformLinearRing(t.getInteriorRingN(u),t);l===null||l.isEmpty()||(l instanceof Di||(i=!1),s.add(l))}if(i)return this._factory.createPolygon(o,s.toArray([]));var p=new Mt;return o!==null&&p.add(o),p.addAll(s),this._factory.buildGeometry(p)};fr.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)};fr.prototype.getInputGeometry=function(){return this._inputGeom};fr.prototype.transformMultiLineString=function(t,e){for(var n=this,i=new Mt,o=0;o<t.getNumGeometries();o++){var s=n.transformLineString(t.getGeometryN(o),t);s!==null&&(s.isEmpty()||i.add(s))}return this._factory.buildGeometry(i)};fr.prototype.transformCoordinates=function(t,e){return this.copy(t)};fr.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))};fr.prototype.transformMultiPoint=function(t,e){for(var n=this,i=new Mt,o=0;o<t.getNumGeometries();o++){var s=n.transformPoint(t.getGeometryN(o),t);s!==null&&(s.isEmpty()||i.add(s))}return this._factory.buildGeometry(i)};fr.prototype.transformMultiPolygon=function(t,e){for(var n=this,i=new Mt,o=0;o<t.getNumGeometries();o++){var s=n.transformPolygon(t.getGeometryN(o),t);s!==null&&(s.isEmpty()||i.add(s))}return this._factory.buildGeometry(i)};fr.prototype.copy=function(t){return t.copy()};fr.prototype.transformGeometryCollection=function(t,e){for(var n=this,i=new Mt,o=0;o<t.getNumGeometries();o++){var s=n.transform(t.getGeometryN(o));s!==null&&(n._pruneEmptyGeometry&&s.isEmpty()||i.add(s))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(se.toGeometryArray(i)):this._factory.buildGeometry(i)};fr.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof mr)return this.transformPoint(t,null);if(t instanceof va)return this.transformMultiPoint(t,null);if(t instanceof Di)return this.transformLinearRing(t,null);if(t instanceof rn)return this.transformLineString(t,null);if(t instanceof ns)return this.transformMultiLineString(t,null);if(t instanceof wn)return this.transformPolygon(t,null);if(t instanceof Ti)return this.transformMultiPolygon(t,null);if(t instanceof er)return this.transformGeometryCollection(t,null);throw new Ke("Unknown Geometry subtype: "+t.getClass().getName())};fr.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(n===null)return this._factory.createLinearRing(null);var i=n.size();return i>0&&i<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)};fr.prototype.interfaces_=function(){return[]};fr.prototype.getClass=function(){return fr};var Fi=function r(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new zt,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof rn&&typeof arguments[1]=="number"){var t=arguments[0],e=arguments[1];r.call(this,t.getCoordinates(),e)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var n=arguments[0],i=arguments[1];this._srcPts=n,this._isClosed=r.isClosed(n),this._snapTolerance=i}};Fi.prototype.snapVertices=function(t,e){for(var n=this,i=this._isClosed?t.size()-1:t.size(),o=0;o<i;o++){var s=t.get(o),u=n.findSnapForVertex(s,e);u!==null&&(t.set(o,new J(u)),o===0&&n._isClosed&&t.set(t.size()-1,new J(u)))}};Fi.prototype.findSnapForVertex=function(t,e){for(var n=this,i=0;i<e.length;i++){if(t.equals2D(e[i]))return null;if(t.distance(e[i])<n._snapTolerance)return e[i]}return null};Fi.prototype.snapTo=function(t){var e=new kl(this._srcPts);this.snapVertices(e,t),this.snapSegments(e,t);var n=e.toCoordinateArray();return n};Fi.prototype.snapSegments=function(t,e){var n=this;if(e.length===0)return null;var i=e.length;e[0].equals2D(e[e.length-1])&&(i=e.length-1);for(var o=0;o<i;o++){var s=e[o],u=n.findSegmentIndexToSnap(s,t);u>=0&&t.add(u+1,new J(s),!1)}};Fi.prototype.findSegmentIndexToSnap=function(t,e){for(var n=this,i=Yt.MAX_VALUE,o=-1,s=0;s<e.size()-1;s++){if(n._seg.p0=e.get(s),n._seg.p1=e.get(s+1),n._seg.p0.equals2D(t)||n._seg.p1.equals2D(t)){if(n._allowSnappingToSourceVertices)continue;return-1}var u=n._seg.distance(t);u<n._snapTolerance&&u<i&&(i=u,o=s)}return o};Fi.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t};Fi.prototype.interfaces_=function(){return[]};Fi.prototype.getClass=function(){return Fi};Fi.isClosed=function(t){return t.length<=1?!1:t[0].equals2D(t[t.length-1])};var ln=function(t){this._srcGeom=t||null},Up={SNAP_PRECISION_FACTOR:{configurable:!0}};ln.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t),i=new Hp(e,n);return i.transform(this._srcGeom)};ln.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),i=new Hp(t,n,!0),o=i.transform(this._srcGeom),s=o;return e&&Ht(s,xo)&&(s=o.buffer(0)),s};ln.prototype.computeSnapTolerance=function(t){var e=this.computeMinimumSegmentLength(t),n=e/10;return n};ln.prototype.extractTargetCoordinates=function(t){for(var e=new pi,n=t.getCoordinates(),i=0;i<n.length;i++)e.add(n[i]);return e.toArray(new Array(0).fill(null))};ln.prototype.computeMinimumSegmentLength=function(t){for(var e=Yt.MAX_VALUE,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);i<e&&(e=i)}return e};ln.prototype.interfaces_=function(){return[]};ln.prototype.getClass=function(){return ln};ln.snap=function(t,e,n){var i=new Array(2).fill(null),o=new ln(t);i[0]=o.snapTo(e,n);var s=new ln(e);return i[1]=s.snapTo(i[0],n),i};ln.computeOverlaySnapTolerance=function(){if(arguments.length===1){var t=arguments[0],e=ln.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===xe.FIXED){var i=1/n.getScale()*2/1.415;i>e&&(e=i)}return e}else if(arguments.length===2){var o=arguments[0],s=arguments[1];return Math.min(ln.computeOverlaySnapTolerance(o),ln.computeOverlaySnapTolerance(s))}};ln.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal(),n=Math.min(e.getHeight(),e.getWidth()),i=n*ln.SNAP_PRECISION_FACTOR;return i};ln.snapToSelf=function(t,e,n){var i=new ln(t);return i.snapToSelf(e,n)};Up.SNAP_PRECISION_FACTOR.get=function(){return 1e-9};Object.defineProperties(ln,Up);var Hp=function(r){function t(e,n,i){r.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=i!==void 0?i:!1}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.snapLine=function(n,i){var o=new Fi(n,this._snapTolerance);return o.setAllowSnappingToSourceVertices(this._isSelfSnap),o.snapTo(i)},t.prototype.transformCoordinates=function(n,i){var o=n.toCoordinateArray(),s=this.snapLine(o,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(s)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(fr),Kn=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Kn.prototype.getCommon=function(){return Yt.longBitsToDouble(this._commonBits)};Kn.prototype.add=function(t){var e=Yt.doubleToLongBits(t);if(this._isFirst)return this._commonBits=e,this._commonSignExp=Kn.signExpBits(this._commonBits),this._isFirst=!1,null;var n=Kn.signExpBits(e);if(n!==this._commonSignExp)return this._commonBits=0,null;this._commonMantissaBitsCount=Kn.numCommonMostSigMantissaBits(this._commonBits,e),this._commonBits=Kn.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))};Kn.prototype.toString=function(){if(arguments.length===1){var t=arguments[0],e=Yt.longBitsToDouble(t),n=Yt.toBinaryString(t),i="0000000000000000000000000000000000000000000000000000000000000000"+n,o=i.substring(i.length-64),s=o.substring(0,1)+"  "+o.substring(1,12)+"(exp) "+o.substring(12)+" [ "+e+" ]";return s}};Kn.prototype.interfaces_=function(){return[]};Kn.prototype.getClass=function(){return Kn};Kn.getBit=function(t,e){var n=1<<e;return t&n?1:0};Kn.signExpBits=function(t){return t>>52};Kn.zeroLowerBits=function(t,e){var n=(1<<e)-1,i=~n,o=t&i;return o};Kn.numCommonMostSigMantissaBits=function(t,e){for(var n=0,i=52;i>=0;i--){if(Kn.getBit(t,i)!==Kn.getBit(e,i))return n;n++}return 52};var Bo=function(){this._commonCoord=null,this._ccFilter=new Gs},tc={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Bo.prototype.addCommonBits=function(t){var e=new zo(this._commonCoord);t.apply(e),t.geometryChanged()};Bo.prototype.removeCommonBits=function(t){if(this._commonCoord.x===0&&this._commonCoord.y===0)return t;var e=new J(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new zo(e);return t.apply(n),t.geometryChanged(),t};Bo.prototype.getCommonCoordinate=function(){return this._commonCoord};Bo.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()};Bo.prototype.interfaces_=function(){return[]};Bo.prototype.getClass=function(){return Bo};tc.CommonCoordinateFilter.get=function(){return Gs};tc.Translater.get=function(){return zo};Object.defineProperties(Bo,tc);var Gs=function(){this._commonBitsX=new Kn,this._commonBitsY=new Kn};Gs.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)};Gs.prototype.getCommonCoordinate=function(){return new J(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())};Gs.prototype.interfaces_=function(){return[Oi]};Gs.prototype.getClass=function(){return Gs};var zo=function(){this.trans=null;var t=arguments[0];this.trans=t};zo.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,i=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,i)};zo.prototype.isDone=function(){return!1};zo.prototype.isGeometryChanged=function(){return!0};zo.prototype.interfaces_=function(){return[jr]};zo.prototype.getClass=function(){return zo};var Tn=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};Tn.prototype.selfSnap=function(t){var e=new ln(t),n=e.snapTo(t,this._snapTolerance);return n};Tn.prototype.removeCommonBits=function(t){this._cbr=new Bo,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e};Tn.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t};Tn.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=Kt.overlayOp(e[0],e[1],t);return this.prepareResult(n)};Tn.prototype.checkValid=function(t){t.isValid()||Bn.out.println("Snapped geometry is invalid")};Tn.prototype.computeSnapTolerance=function(){this._snapTolerance=ln.computeOverlaySnapTolerance(this._geom[0],this._geom[1])};Tn.prototype.snap=function(t){var e=this.removeCommonBits(t),n=ln.snap(e[0],e[1],this._snapTolerance);return n};Tn.prototype.interfaces_=function(){return[]};Tn.prototype.getClass=function(){return Tn};Tn.overlayOp=function(t,e,n){var i=new Tn(t,e);return i.getResultGeometry(n)};Tn.union=function(t,e){return Tn.overlayOp(t,e,Kt.UNION)};Tn.intersection=function(t,e){return Tn.overlayOp(t,e,Kt.INTERSECTION)};Tn.symDifference=function(t,e){return Tn.overlayOp(t,e,Kt.SYMDIFFERENCE)};Tn.difference=function(t,e){return Tn.overlayOp(t,e,Kt.DIFFERENCE)};var ir=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};ir.prototype.getResultGeometry=function(t){var e=null,n=!1,i=null;try{e=Kt.overlayOp(this._geom[0],this._geom[1],t);var o=!0;o&&(n=!0)}catch(s){if(s instanceof ao)i=s;else throw s}finally{}if(!n)try{e=Tn.overlayOp(this._geom[0],this._geom[1],t)}catch(s){throw s instanceof ao?i:s}finally{}return e};ir.prototype.interfaces_=function(){return[]};ir.prototype.getClass=function(){return ir};ir.overlayOp=function(t,e,n){var i=new ir(t,e);return i.getResultGeometry(n)};ir.union=function(t,e){return ir.overlayOp(t,e,Kt.UNION)};ir.intersection=function(t,e){return ir.overlayOp(t,e,Kt.INTERSECTION)};ir.symDifference=function(t,e){return ir.overlayOp(t,e,Kt.SYMDIFFERENCE)};ir.difference=function(t,e){return ir.overlayOp(t,e,Kt.DIFFERENCE)};var Cl=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};Cl.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)};Cl.prototype.interfaces_=function(){return[]};Cl.prototype.getClass=function(){return Cl};var Lr=function r(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,arguments.length===2){var t=arguments[0],e=arguments[1];this._eventType=r.DELETE,this._xValue=t,this._insertEvent=e}else if(arguments.length===3){var n=arguments[0],i=arguments[1],o=arguments[2];this._eventType=r.INSERT,this._label=n,this._xValue=i,this._obj=o}},ec={INSERT:{configurable:!0},DELETE:{configurable:!0}};Lr.prototype.isDelete=function(){return this._eventType===Lr.DELETE};Lr.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t};Lr.prototype.getObject=function(){return this._obj};Lr.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0};Lr.prototype.getInsertEvent=function(){return this._insertEvent};Lr.prototype.isInsert=function(){return this._eventType===Lr.INSERT};Lr.prototype.isSameLabel=function(t){return this._label===null?!1:this._label===t._label};Lr.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex};Lr.prototype.interfaces_=function(){return[zr]};Lr.prototype.getClass=function(){return Lr};ec.INSERT.get=function(){return 1};ec.DELETE.get=function(){return 2};Object.defineProperties(Lr,ec);var Lu=function(){};Lu.prototype.interfaces_=function(){return[]};Lu.prototype.getClass=function(){return Lu};var Gn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};Gn.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&this._li.getIntersectionNum()===1){if(Gn.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var o=t.getNumPoints()-1;if(e===0&&i===o||i===0&&e===o)return!0}}return!1};Gn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint};Gn.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t};Gn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior};Gn.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next(),o=i.getCoordinate();if(t.isIntersection(o))return!0}return!1};Gn.prototype.hasProperIntersection=function(){return this._hasProper};Gn.prototype.hasIntersection=function(){return this._hasIntersection};Gn.prototype.isDone=function(){return this._isDone};Gn.prototype.isBoundaryPoint=function(t,e){return e===null?!1:!!(this.isBoundaryPointInternal(t,e[0])||this.isBoundaryPointInternal(t,e[1]))};Gn.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e};Gn.prototype.addIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var o=t.getCoordinates()[e],s=t.getCoordinates()[e+1],u=n.getCoordinates()[i],l=n.getCoordinates()[i+1];this._li.computeIntersection(o,s,u,l),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,(this._includeProper||!this._li.isProper())&&(t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))};Gn.prototype.interfaces_=function(){return[]};Gn.prototype.getClass=function(){return Gn};Gn.isAdjacentSegments=function(t,e){return Math.abs(t-e)===1};var Hg=function(r){function t(){r.call(this),this.events=new Mt,this.nOverlaps=null}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.prepareEvents=function(){var n=this;Xr.sort(this.events);for(var i=0;i<this.events.size();i++){var o=n.events.get(i);o.isDelete()&&o.getInsertEvent().setDeleteEventIndex(i)}},t.prototype.computeIntersections=function(){var n=this;if(arguments.length===1){var i=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var o=0;o<this.events.size();o++){var s=n.events.get(o);if(s.isInsert()&&n.processOverlaps(o,s.getDeleteEventIndex(),s,i),i.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof Gn&&Ht(arguments[0],Hr)&&Ht(arguments[1],Hr)){var u=arguments[0],l=arguments[1],p=arguments[2];this.addEdges(u,u),this.addEdges(l,l),this.computeIntersections(p)}else if(typeof arguments[2]=="boolean"&&Ht(arguments[0],Hr)&&arguments[1]instanceof Gn){var g=arguments[0],c=arguments[1],_=arguments[2];_?this.addEdges(g,null):this.addEdges(g),this.computeIntersections(c)}}},t.prototype.addEdge=function(n,i){for(var o=this,s=n.getMonotoneChainEdge(),u=s.getStartIndexes(),l=0;l<u.length-1;l++){var p=new Cl(s,l),g=new Lr(i,s.getMinX(l),p);o.events.add(g),o.events.add(new Lr(s.getMaxX(l),g))}},t.prototype.processOverlaps=function(n,i,o,s){for(var u=this,l=o.getObject(),p=n;p<i;p++){var g=u.events.get(p);if(g.isInsert()){var c=g.getObject();o.isSameLabel(g)||(l.computeIntersections(c,s),u.nOverlaps++)}}},t.prototype.addEdges=function(){var n=this;if(arguments.length===1)for(var i=arguments[0],o=i.iterator();o.hasNext();){var s=o.next();n.addEdge(s,s)}else if(arguments.length===2)for(var u=arguments[0],l=arguments[1],p=u.iterator();p.hasNext();){var g=p.next();n.addEdge(g,l)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Lu),Gi=function(){this._min=Yt.POSITIVE_INFINITY,this._max=Yt.NEGATIVE_INFINITY},Zp={NodeComparator:{configurable:!0}};Gi.prototype.getMin=function(){return this._min};Gi.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)};Gi.prototype.getMax=function(){return this._max};Gi.prototype.toString=function(){return Zr.toLineString(new J(this._min,0),new J(this._max,0))};Gi.prototype.interfaces_=function(){return[]};Gi.prototype.getClass=function(){return Gi};Zp.NodeComparator.get=function(){return wl};Object.defineProperties(Gi,Zp);var wl=function(){};wl.prototype.compare=function(t,e){var n=t,i=e,o=(n._min+n._max)/2,s=(i._min+i._max)/2;return o<s?-1:o>s?1:0};wl.prototype.interfaces_=function(){return[ca]};wl.prototype.getClass=function(){return wl};var Zg=function(r){function t(){r.call(this),this._item=null;var e=arguments[0],n=arguments[1],i=arguments[2];this._min=e,this._max=n,this._item=i}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.query=function(n,i,o){if(!this.intersects(n,i))return null;o.visitItem(this._item)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Gi),jg=function(r){function t(){r.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.buildExtent=function(n,i){this._min=Math.min(n._min,i._min),this._max=Math.max(n._max,i._max)},t.prototype.query=function(n,i,o){if(!this.intersects(n,i))return null;this._node1!==null&&this._node1.query(n,i,o),this._node2!==null&&this._node2.query(n,i,o)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Gi),Vi=function(){this._leaves=new Mt,this._root=null,this._level=0};Vi.prototype.buildTree=function(){var t=this;Xr.sort(this._leaves,new Gi.NodeComparator);for(var e=this._leaves,n=null,i=new Mt;;){if(t.buildLevel(e,i),i.size()===1)return i.get(0);n=e,e=i,i=n}};Vi.prototype.insert=function(t,e,n){if(this._root!==null)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Zg(t,e,n))};Vi.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)};Vi.prototype.buildRoot=function(){if(this._root!==null)return null;this._root=this.buildTree()};Vi.prototype.printNode=function(t){Bn.out.println(Zr.toLineString(new J(t._min,this._level),new J(t._max,this._level)))};Vi.prototype.init=function(){if(this._root!==null)return null;this.buildRoot()};Vi.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var i=t.get(n),o=n+1<t.size()?t.get(n):null;if(o===null)e.add(i);else{var s=new jg(t.get(n),t.get(n+1));e.add(s)}}};Vi.prototype.interfaces_=function(){return[]};Vi.prototype.getClass=function(){return Vi};var Ea=function(){this._items=new Mt};Ea.prototype.visitItem=function(t){this._items.add(t)};Ea.prototype.getItems=function(){return this._items};Ea.prototype.interfaces_=function(){return[To]};Ea.prototype.getClass=function(){return Ea};var Ma=function(){this._index=null;var t=arguments[0];if(!Ht(t,xo))throw new Ke("Argument must be Polygonal");this._index=new us(t)},nc={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Ma.prototype.locate=function(t){var e=new hi(t),n=new Pa(e);return this._index.query(t.y,t.y,n),e.getLocation()};Ma.prototype.interfaces_=function(){return[Ca]};Ma.prototype.getClass=function(){return Ma};nc.SegmentVisitor.get=function(){return Pa};nc.IntervalIndexedGeometry.get=function(){return us};Object.defineProperties(Ma,nc);var Pa=function(){this._counter=null;var t=arguments[0];this._counter=t};Pa.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))};Pa.prototype.interfaces_=function(){return[To]};Pa.prototype.getClass=function(){return Pa};var us=function(){this._index=new Vi;var t=arguments[0];this.init(t)};us.prototype.init=function(t){for(var e=this,n=On.getLines(t),i=n.iterator();i.hasNext();){var o=i.next(),s=o.getCoordinates();e.addLine(s)}};us.prototype.addLine=function(t){for(var e=this,n=1;n<t.length;n++){var i=new zt(t[n-1],t[n]),o=Math.min(i.p0.y,i.p1.y),s=Math.max(i.p0.y,i.p1.y);e._index.insert(o,s,i)}};us.prototype.query=function(){if(arguments.length===2){var t=arguments[0],e=arguments[1],n=new Ea;return this._index.query(t,e,n),n.getItems()}else if(arguments.length===3){var i=arguments[0],o=arguments[1],s=arguments[2];this._index.query(i,o,s)}};us.prototype.interfaces_=function(){return[]};us.prototype.getClass=function(){return us};var rl=function(r){function t(){if(r.call(this),this._parentGeom=null,this._lineEdgeMap=new Sp,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Wr,arguments.length===2){var e=arguments[0],n=arguments[1],i=Rr.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=i,n!==null&&this.add(n)}else if(arguments.length===3){var o=arguments[0],s=arguments[1],u=arguments[2];this._argIndex=o,this._parentGeom=s,this._boundaryNodeRule=u,s!==null&&this.add(s)}}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.insertBoundaryPoint=function(n,i){var o=this._nodes.addNode(i),s=o.getLabel(),u=1,l=tt.NONE;l=s.getLocation(n,Lt.ON),l===tt.BOUNDARY&&u++;var p=t.determineBoundary(this._boundaryNodeRule,u);s.setLocation(n,p)},t.prototype.computeSelfNodes=function(){if(arguments.length===2){var n=arguments[0],i=arguments[1];return this.computeSelfNodes(n,i,!1)}else if(arguments.length===3){var o=arguments[0],s=arguments[1],u=arguments[2],l=new Gn(o,!0,!1);l.setIsDoneIfProperInt(u);var p=this.createEdgeSetIntersector(),g=this._parentGeom instanceof Di||this._parentGeom instanceof wn||this._parentGeom instanceof Ti,c=s||!g;return p.computeIntersections(this._edges,l,c),this.addSelfIntersectionNodes(this._argIndex),l}},t.prototype.computeSplitEdges=function(n){for(var i=this._edges.iterator();i.hasNext();){var o=i.next();o.eiList.addSplitEdges(n)}},t.prototype.computeEdgeIntersections=function(n,i,o){var s=new Gn(i,o,!0);s.setBoundaryNodes(this.getBoundaryNodes(),n.getBoundaryNodes());var u=this.createEdgeSetIntersector();return u.computeIntersections(this._edges,n._edges,s),s},t.prototype.getGeometry=function(){return this._parentGeom},t.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},t.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},t.prototype.addPoint=function(){if(arguments[0]instanceof mr){var n=arguments[0],i=n.getCoordinate();this.insertPoint(this._argIndex,i,tt.INTERIOR)}else if(arguments[0]instanceof J){var o=arguments[0];this.insertPoint(this._argIndex,o,tt.INTERIOR)}},t.prototype.addPolygon=function(n){var i=this;this.addPolygonRing(n.getExteriorRing(),tt.EXTERIOR,tt.INTERIOR);for(var o=0;o<n.getNumInteriorRing();o++){var s=n.getInteriorRingN(o);i.addPolygonRing(s,tt.INTERIOR,tt.EXTERIOR)}},t.prototype.addEdge=function(n){this.insertEdge(n);var i=n.getCoordinates();this.insertPoint(this._argIndex,i[0],tt.BOUNDARY),this.insertPoint(this._argIndex,i[i.length-1],tt.BOUNDARY)},t.prototype.addLineString=function(n){var i=ae.removeRepeatedPoints(n.getCoordinates());if(i.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=i[0],null;var o=new yu(i,new Oe(this._argIndex,tt.INTERIOR));this._lineEdgeMap.put(n,o),this.insertEdge(o),Jt.isTrue(i.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,i[0]),this.insertBoundaryPoint(this._argIndex,i[i.length-1])},t.prototype.getInvalidPoint=function(){return this._invalidPoint},t.prototype.getBoundaryPoints=function(){for(var n=this.getBoundaryNodes(),i=new Array(n.size()).fill(null),o=0,s=n.iterator();s.hasNext();){var u=s.next();i[o++]=u.getCoordinate().copy()}return i},t.prototype.getBoundaryNodes=function(){return this._boundaryNodes===null&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},t.prototype.addSelfIntersectionNode=function(n,i,o){if(this.isBoundaryNode(n,i))return null;o===tt.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(n,i):this.insertPoint(n,i,o)},t.prototype.addPolygonRing=function(n,i,o){if(n.isEmpty())return null;var s=ae.removeRepeatedPoints(n.getCoordinates());if(s.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=s[0],null;var u=i,l=o;xt.isCCW(s)&&(u=o,l=i);var p=new yu(s,new Oe(this._argIndex,tt.BOUNDARY,u,l));this._lineEdgeMap.put(n,p),this.insertEdge(p),this.insertPoint(this._argIndex,s[0],tt.BOUNDARY)},t.prototype.insertPoint=function(n,i,o){var s=this._nodes.addNode(i),u=s.getLabel();u===null?s._label=new Oe(n,o):u.setLocation(n,o)},t.prototype.createEdgeSetIntersector=function(){return new Hg},t.prototype.addSelfIntersectionNodes=function(n){for(var i=this,o=this._edges.iterator();o.hasNext();)for(var s=o.next(),u=s.getLabel().getLocation(n),l=s.eiList.iterator();l.hasNext();){var p=l.next();i.addSelfIntersectionNode(n,p.coord,u)}},t.prototype.add=function(){if(arguments.length===1){var n=arguments[0];if(n.isEmpty())return null;if(n instanceof Ti&&(this._useBoundaryDeterminationRule=!1),n instanceof wn)this.addPolygon(n);else if(n instanceof rn)this.addLineString(n);else if(n instanceof mr)this.addPoint(n);else if(n instanceof va)this.addCollection(n);else if(n instanceof ns)this.addCollection(n);else if(n instanceof Ti)this.addCollection(n);else if(n instanceof er)this.addCollection(n);else throw new Error(n.getClass().getName())}else return r.prototype.add.apply(this,arguments)},t.prototype.addCollection=function(n){for(var i=this,o=0;o<n.getNumGeometries();o++){var s=n.getGeometryN(o);i.add(s)}},t.prototype.locate=function(n){return Ht(this._parentGeom,xo)&&this._parentGeom.getNumGeometries()>50?(this._areaPtLocator===null&&(this._areaPtLocator=new Ma(this._parentGeom)),this._areaPtLocator.locate(n)):this._ptLocator.locate(n,this._parentGeom)},t.prototype.findEdge=function(){if(arguments.length===1){var n=arguments[0];return this._lineEdgeMap.get(n)}else return r.prototype.findEdge.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.determineBoundary=function(n,i){return n.isInBoundary(i)?tt.BOUNDARY:tt.INTERIOR},t}(en),Sa=function(){if(this._li=new ps,this._resultPrecisionModel=null,this._arg=null,arguments.length===1){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new rl(0,t)}else if(arguments.length===2){var e=arguments[0],n=arguments[1],i=Rr.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new rl(0,e,i),this._arg[1]=new rl(1,n,i)}else if(arguments.length===3){var o=arguments[0],s=arguments[1],u=arguments[2];o.getPrecisionModel().compareTo(s.getPrecisionModel())>=0?this.setComputationPrecision(o.getPrecisionModel()):this.setComputationPrecision(s.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new rl(0,o,u),this._arg[1]=new rl(1,s,u)}};Sa.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()};Sa.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)};Sa.prototype.interfaces_=function(){return[]};Sa.prototype.getClass=function(){return Sa};var es=function(){};es.prototype.interfaces_=function(){return[]};es.prototype.getClass=function(){return es};es.map=function(){if(arguments[0]instanceof Gt&&Ht(arguments[1],es.MapOp)){for(var t=arguments[0],e=arguments[1],n=new Mt,i=0;i<t.getNumGeometries();i++){var o=e.map(t.getGeometryN(i));o!==null&&n.add(o)}return t.getFactory().buildGeometry(n)}else if(Ht(arguments[0],yn)&&Ht(arguments[1],es.MapOp)){for(var s=arguments[0],u=arguments[1],l=new Mt,p=s.iterator();p.hasNext();){var g=p.next(),c=u.map(g);c!==null&&l.add(c)}return l}};es.MapOp=function(){};var Kt=function(r){function t(){var e=arguments[0],n=arguments[1];r.call(this,e,n),this._ptLocator=new Wr,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Yr,this._resultPolyList=new Mt,this._resultLineList=new Mt,this._resultPointList=new Mt,this._graph=new en(new Rp),this._geomFact=e.getFactory()}return r&&(t.__proto__=r),t.prototype=Object.create(r&&r.prototype),t.prototype.constructor=t,t.prototype.insertUniqueEdge=function(n){var i=this._edgeList.findEqualEdge(n);if(i!==null){var o=i.getLabel(),s=n.getLabel();i.isPointwiseEqual(n)||(s=new Oe(n.getLabel()),s.flip());var u=i.getDepth();u.isNull()&&u.add(o),u.add(s),o.merge(s)}else this._edgeList.add(n)},t.prototype.getGraph=function(){return this._graph},t.prototype.cancelDuplicateResultEdges=function(){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var i=n.next(),o=i.getSym();i.isInResult()&&o.isInResult()&&(i.setInResult(!1),o.setInResult(!1))}},t.prototype.isCoveredByLA=function(n){return!!(this.isCovered(n,this._resultLineList)||this.isCovered(n,this._resultPolyList))},t.prototype.computeGeometry=function(n,i,o,s){var u=new Mt;return u.addAll(n),u.addAll(i),u.addAll(o),u.isEmpty()?t.createEmptyResult(s,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(u)},t.prototype.mergeSymLabels=function(){for(var n=this._graph.getNodes().iterator();n.hasNext();){var i=n.next();i.getEdges().mergeSymLabels()}},t.prototype.isCovered=function(n,i){for(var o=this,s=i.iterator();s.hasNext();){var u=s.next(),l=o._ptLocator.locate(n,u);if(l!==tt.EXTERIOR)return!0}return!1},t.prototype.replaceCollapsedEdges=function(){for(var n=new Mt,i=this._edgeList.iterator();i.hasNext();){var o=i.next();o.isCollapsed()&&(i.remove(),n.add(o.getCollapsedEdge()))}this._edgeList.addAll(n)},t.prototype.updateNodeLabelling=function(){for(var n=this._graph.getNodes().iterator();n.hasNext();){var i=n.next(),o=i.getEdges().getLabel();i.getLabel().merge(o)}},t.prototype.getResultGeometry=function(n){return this.computeOverlay(n),this._resultGeom},t.prototype.insertUniqueEdges=function(n){for(var i=this,o=n.iterator();o.hasNext();){var s=o.next();i.insertUniqueEdge(s)}},t.prototype.computeOverlay=function(n){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var i=new Mt;this._arg[0].computeSplitEdges(i),this._arg[1].computeSplitEdges(i),this.insertUniqueEdges(i),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),ls.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(n),this.cancelDuplicateResultEdges();var o=new vr(this._geomFact);o.add(this._graph),this._resultPolyList=o.getPolygons();var s=new bi(this,this._geomFact,this._ptLocator);this._resultLineList=s.build(n);var u=new Fs(this,this._geomFact,this._ptLocator);this._resultPointList=u.build(n),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,n)},t.prototype.labelIncompleteNode=function(n,i){var o=this._ptLocator.locate(n.getCoordinate(),this._arg[i].getGeometry());n.getLabel().setLocation(i,o)},t.prototype.copyPoints=function(n){for(var i=this,o=this._arg[n].getNodeIterator();o.hasNext();){var s=o.next(),u=i._graph.addNode(s.getCoordinate());u.setLabel(n,s.getLabel().getLocation(n))}},t.prototype.findResultAreaEdges=function(n){for(var i=this._graph.getEdgeEnds().iterator();i.hasNext();){var o=i.next(),s=o.getLabel();s.isArea()&&!o.isInteriorAreaEdge()&&t.isResultOfOp(s.getLocation(0,Lt.RIGHT),s.getLocation(1,Lt.RIGHT),n)&&o.setInResult(!0)}},t.prototype.computeLabelsFromDepths=function(){for(var n=this._edgeList.iterator();n.hasNext();){var i=n.next(),o=i.getLabel(),s=i.getDepth();if(!s.isNull()){s.normalize();for(var u=0;u<2;u++)!o.isNull(u)&&o.isArea()&&!s.isNull(u)&&(s.getDelta(u)===0?o.toLine(u):(Jt.isTrue(!s.isNull(u,Lt.LEFT),"depth of LEFT side has not been initialized"),o.setLocation(u,Lt.LEFT,s.getLocation(u,Lt.LEFT)),Jt.isTrue(!s.isNull(u,Lt.RIGHT),"depth of RIGHT side has not been initialized"),o.setLocation(u,Lt.RIGHT,s.getLocation(u,Lt.RIGHT))))}}},t.prototype.computeLabelling=function(){for(var n=this,i=this._graph.getNodes().iterator();i.hasNext();){var o=i.next();o.getEdges().computeLabelling(n._arg)}this.mergeSymLabels(),this.updateNodeLabelling()},t.prototype.labelIncompleteNodes=function(){for(var n=this,i=this._graph.getNodes().iterator();i.hasNext();){var o=i.next(),s=o.getLabel();o.isIsolated()&&(s.isNull(0)?n.labelIncompleteNode(o,0):n.labelIncompleteNode(o,1)),o.getEdges().updateLabelling(s)}},t.prototype.isCoveredByA=function(n){return!!this.isCovered(n,this._resultPolyList)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Sa);Kt.overlayOp=function(r,t,e){var n=new Kt(r,t),i=n.getResultGeometry(e);return i};Kt.intersection=function(r,t){if(r.isEmpty()||t.isEmpty())return Kt.createEmptyResult(Kt.INTERSECTION,r,t,r.getFactory());if(r.isGeometryCollection()){var e=t;return zs.map(r,{interfaces_:function(){return[es.MapOp]},map:function(n){return n.intersection(e)}})}return r.checkNotGeometryCollection(r),r.checkNotGeometryCollection(t),ir.overlayOp(r,t,Kt.INTERSECTION)};Kt.symDifference=function(r,t){if(r.isEmpty()||t.isEmpty()){if(r.isEmpty()&&t.isEmpty())return Kt.createEmptyResult(Kt.SYMDIFFERENCE,r,t,r.getFactory());if(r.isEmpty())return t.copy();if(t.isEmpty())return r.copy()}return r.checkNotGeometryCollection(r),r.checkNotGeometryCollection(t),ir.overlayOp(r,t,Kt.SYMDIFFERENCE)};Kt.resultDimension=function(r,t,e){var n=t.getDimension(),i=e.getDimension(),o=-1;switch(r){case Kt.INTERSECTION:o=Math.min(n,i);break;case Kt.UNION:o=Math.max(n,i);break;case Kt.DIFFERENCE:o=n;break;case Kt.SYMDIFFERENCE:o=Math.max(n,i);break}return o};Kt.createEmptyResult=function(r,t,e,n){var i=null;switch(Kt.resultDimension(r,t,e)){case-1:i=n.createGeometryCollection(new Array(0).fill(null));break;case 0:i=n.createPoint();break;case 1:i=n.createLineString();break;case 2:i=n.createPolygon();break}return i};Kt.difference=function(r,t){return r.isEmpty()?Kt.createEmptyResult(Kt.DIFFERENCE,r,t,r.getFactory()):t.isEmpty()?r.copy():(r.checkNotGeometryCollection(r),r.checkNotGeometryCollection(t),ir.overlayOp(r,t,Kt.DIFFERENCE))};Kt.isResultOfOp=function(){if(arguments.length===2){var r=arguments[0],t=arguments[1],e=r.getLocation(0),n=r.getLocation(1);return Kt.isResultOfOp(e,n,t)}else if(arguments.length===3){var i=arguments[0],o=arguments[1],s=arguments[2];switch(i===tt.BOUNDARY&&(i=tt.INTERIOR),o===tt.BOUNDARY&&(o=tt.INTERIOR),s){case Kt.INTERSECTION:return i===tt.INTERIOR&&o===tt.INTERIOR;case Kt.UNION:return i===tt.INTERIOR||o===tt.INTERIOR;case Kt.DIFFERENCE:return i===tt.INTERIOR&&o!==tt.INTERIOR;case Kt.SYMDIFFERENCE:return i===tt.INTERIOR&&o!==tt.INTERIOR||i!==tt.INTERIOR&&o===tt.INTERIOR}return!1}};Kt.INTERSECTION=1;Kt.UNION=2;Kt.DIFFERENCE=3;Kt.SYMDIFFERENCE=4;var ko=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Wr,this._seg=new zt;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};ko.prototype.isWithinToleranceOfBoundary=function(t){for(var e=this,n=0;n<this._linework.getNumGeometries();n++)for(var i=e._linework.getGeometryN(n),o=i.getCoordinateSequence(),s=0;s<o.size()-1;s++){o.getCoordinate(s,e._seg.p0),o.getCoordinate(s+1,e._seg.p1);var u=e._seg.distance(t);if(u<=e._boundaryDistanceTolerance)return!0}return!1};ko.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?tt.BOUNDARY:this._ptLocator.locate(t,this._g)};ko.prototype.extractLinework=function(t){var e=new Ia;t.apply(e);var n=e.getLinework(),i=se.toLineStringArray(n);return t.getFactory().createMultiLineString(i)};ko.prototype.interfaces_=function(){return[]};ko.prototype.getClass=function(){return ko};var Ia=function(){this._linework=null,this._linework=new Mt};Ia.prototype.getLinework=function(){return this._linework};Ia.prototype.filter=function(t){var e=this;if(t instanceof wn){var n=t;this._linework.add(n.getExteriorRing());for(var i=0;i<n.getNumInteriorRing();i++)e._linework.add(n.getInteriorRingN(i))}};Ia.prototype.interfaces_=function(){return[di]};Ia.prototype.getClass=function(){return Ia};var hs=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};hs.prototype.extractPoints=function(t,e,n){for(var i=this,o=t.getCoordinates(),s=0;s<o.length-1;s++)i.computeOffsetPoints(o[s],o[s+1],e,n)};hs.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e};hs.prototype.getPoints=function(t){for(var e=this,n=new Mt,i=On.getLines(this._g),o=i.iterator();o.hasNext();){var s=o.next();e.extractPoints(s,t,n)}return n};hs.prototype.computeOffsetPoints=function(t,e,n,i){var o=e.x-t.x,s=e.y-t.y,u=Math.sqrt(o*o+s*s),l=n*o/u,p=n*s/u,g=(e.x+t.x)/2,c=(e.y+t.y)/2;if(this._doLeft){var _=new J(g-p,c+l);i.add(_)}if(this._doRight){var C=new J(g+p,c-l);i.add(C)}};hs.prototype.interfaces_=function(){return[]};hs.prototype.getClass=function(){return hs};var Ir=function r(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=r.TOLERANCE,this._testCoords=new Mt;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundaryDistanceTolerance=r.computeBoundaryDistanceTolerance(t,e),this._geom=[t,e,n],this._locFinder=[new ko(this._geom[0],this._boundaryDistanceTolerance),new ko(this._geom[1],this._boundaryDistanceTolerance),new ko(this._geom[2],this._boundaryDistanceTolerance)]},jp={TOLERANCE:{configurable:!0}};Ir.prototype.reportResult=function(t,e,n){Bn.out.println("Overlay result invalid - A:"+tt.toLocationSymbol(e[0])+" B:"+tt.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+tt.toLocationSymbol(e[2]))};Ir.prototype.isValid=function(t){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var e=this.checkValid(t);return e};Ir.prototype.checkValid=function(){var t=this;if(arguments.length===1){for(var e=arguments[0],n=0;n<this._testCoords.size();n++){var i=t._testCoords.get(n);if(!t.checkValid(e,i))return t._invalidLocation=i,!1}return!0}else if(arguments.length===2){var o=arguments[0],s=arguments[1];return this._location[0]=this._locFinder[0].getLocation(s),this._location[1]=this._locFinder[1].getLocation(s),this._location[2]=this._locFinder[2].getLocation(s),Ir.hasLocation(this._location,tt.BOUNDARY)?!0:this.isValidResult(o,this._location)}};Ir.prototype.addTestPts=function(t){var e=new hs(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))};Ir.prototype.isValidResult=function(t,e){var n=Kt.isResultOfOp(e[0],e[1],t),i=e[2]===tt.INTERIOR,o=!(n^i);return o||this.reportResult(t,e,n),o};Ir.prototype.getInvalidLocation=function(){return this._invalidLocation};Ir.prototype.interfaces_=function(){return[]};Ir.prototype.getClass=function(){return Ir};Ir.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1};Ir.computeBoundaryDistanceTolerance=function(t,e){return Math.min(ln.computeSizeBasedSnapTolerance(t),ln.computeSizeBasedSnapTolerance(e))};Ir.isValid=function(t,e,n,i){var o=new Ir(t,e,i);return o.isValid(n)};jp.TOLERANCE.get=function(){return 1e-6};Object.defineProperties(Ir,jp);var Cr=function r(t){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=r.extractFactory(t),this._inputGeoms=t};Cr.prototype.extractElements=function(t,e){var n=this;if(t===null)return null;for(var i=0;i<t.getNumGeometries();i++){var o=t.getGeometryN(i);n._skipEmpty&&o.isEmpty()||e.add(o)}};Cr.prototype.combine=function(){for(var t=this,e=new Mt,n=this._inputGeoms.iterator();n.hasNext();){var i=n.next();t.extractElements(i,e)}return e.size()===0?this._geomFactory!==null?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(e)};Cr.prototype.interfaces_=function(){return[]};Cr.prototype.getClass=function(){return Cr};Cr.combine=function(){if(arguments.length===1){var t=arguments[0],e=new Cr(t);return e.combine()}else if(arguments.length===2){var n=arguments[0],i=arguments[1],o=new Cr(Cr.createList(n,i));return o.combine()}else if(arguments.length===3){var s=arguments[0],u=arguments[1],l=arguments[2],p=new Cr(Cr.createList(s,u,l));return p.combine()}};Cr.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()};Cr.createList=function(){if(arguments.length===2){var t=arguments[0],e=arguments[1],n=new Mt;return n.add(t),n.add(e),n}else if(arguments.length===3){var i=arguments[0],o=arguments[1],s=arguments[2],u=new Mt;return u.add(i),u.add(o),u.add(s),u}};var pn=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,this._inputPolys===null&&(this._inputPolys=new Mt)},qp={STRTREE_NODE_CAPACITY:{configurable:!0}};pn.prototype.reduceToGeometries=function(t){for(var e=this,n=new Mt,i=t.iterator();i.hasNext();){var o=i.next(),s=null;Ht(o,Hr)?s=e.unionTree(o):o instanceof Gt&&(s=o),n.add(s)}return n};pn.prototype.extractByEnvelope=function(t,e,n){for(var i=new Mt,o=0;o<e.getNumGeometries();o++){var s=e.getGeometryN(o);s.getEnvelopeInternal().intersects(t)?i.add(s):n.add(s)}return this._geomFactory.buildGeometry(i)};pn.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),i=e.getEnvelopeInternal();if(!n.intersects(i)){var o=Cr.combine(t,e);return o}if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var s=n.intersection(i);return this.unionUsingEnvelopeIntersection(t,e,s)};pn.prototype.union=function(){if(this._inputPolys===null)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new Tp(pn.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var i=t.itemsTree(),o=this.unionTree(i);return o};pn.prototype.binaryUnion=function(){if(arguments.length===1){var t=arguments[0];return this.binaryUnion(t,0,t.size())}else if(arguments.length===3){var e=arguments[0],n=arguments[1],i=arguments[2];if(i-n<=1){var o=pn.getGeometry(e,n);return this.unionSafe(o,null)}else{if(i-n===2)return this.unionSafe(pn.getGeometry(e,n),pn.getGeometry(e,n+1));var s=Math.trunc((i+n)/2),u=this.binaryUnion(e,n,s),l=this.binaryUnion(e,s,i);return this.unionSafe(u,l)}}};pn.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var i=n.next();e===null?e=i.copy():e=e.union(i)}return e};pn.prototype.unionSafe=function(t,e){return t===null&&e===null?null:t===null?e.copy():e===null?t.copy():this.unionOptimized(t,e)};pn.prototype.unionActual=function(t,e){return pn.restrictToPolygons(t.union(e))};pn.prototype.unionTree=function(t){var e=this.reduceToGeometries(t),n=this.binaryUnion(e);return n};pn.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var i=new Mt,o=this.extractByEnvelope(n,t,i),s=this.extractByEnvelope(n,e,i),u=this.unionActual(o,s);i.add(u);var l=Cr.combine(i);return l};pn.prototype.bufferUnion=function(){if(arguments.length===1){var t=arguments[0],e=t.get(0).getFactory(),n=e.buildGeometry(t),i=n.buffer(0);return i}else if(arguments.length===2){var o=arguments[0],s=arguments[1],u=o.getFactory(),l=u.createGeometryCollection([o,s]),p=l.buffer(0);return p}};pn.prototype.interfaces_=function(){return[]};pn.prototype.getClass=function(){return pn};pn.restrictToPolygons=function(t){if(Ht(t,xo))return t;var e=oo.getPolygons(t);return e.size()===1?e.get(0):t.getFactory().createMultiPolygon(se.toPolygonArray(e))};pn.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)};pn.union=function(t){var e=new pn(t);return e.union()};qp.STRTREE_NODE_CAPACITY.get=function(){return 4};Object.defineProperties(pn,qp);var bu=function(){};bu.prototype.interfaces_=function(){return[]};bu.prototype.getClass=function(){return bu};bu.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Kt.createEmptyResult(Kt.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),ir.overlayOp(t,e,Kt.UNION)};function ds(){return new Cu}function Cu(){this.reset()}Cu.prototype={constructor:Cu,reset:function(){this.s=this.t=0},add:function(r){Kc(nu,r,this.t),Kc(this,nu.s,this.s),this.s?this.t+=nu.t:this.s=nu.t},valueOf:function(){return this.s}};var nu=new Cu;function Kc(r,t,e){var n=r.s=t+e,i=n-t,o=n-i;r.t=t-o+(e-i)}var nn=1e-6,Ge=Math.PI,io=Ge/2,Jc=Ge/4,fo=Ge*2,Wo=180/Ge,si=Ge/180,$n=Math.abs,qg=Math.atan,ka=Math.atan2,Ln=Math.cos,bn=Math.sin,za=Math.sqrt;function Xp(r){return r>1?0:r<-1?Ge:Math.acos(r)}function Vs(r){return r>1?io:r<-1?-io:Math.asin(r)}function sl(){}function wu(r,t){r&&$c.hasOwnProperty(r.type)&&$c[r.type](r,t)}var Qc={Feature:function(r,t){wu(r.geometry,t)},FeatureCollection:function(r,t){for(var e=r.features,n=-1,i=e.length;++n<i;)wu(e[n].geometry,t)}},$c={Sphere:function(r,t){t.sphere()},Point:function(r,t){r=r.coordinates,t.point(r[0],r[1],r[2])},MultiPoint:function(r,t){for(var e=r.coordinates,n=-1,i=e.length;++n<i;)r=e[n],t.point(r[0],r[1],r[2])},LineString:function(r,t){wh(r.coordinates,t,0)},MultiLineString:function(r,t){for(var e=r.coordinates,n=-1,i=e.length;++n<i;)wh(e[n],t,0)},Polygon:function(r,t){tf(r.coordinates,t)},MultiPolygon:function(r,t){for(var e=r.coordinates,n=-1,i=e.length;++n<i;)tf(e[n],t)},GeometryCollection:function(r,t){for(var e=r.geometries,n=-1,i=e.length;++n<i;)wu(e[n],t)}};function wh(r,t,e){var n=-1,i=r.length-e,o;for(t.lineStart();++n<i;)o=r[n],t.point(o[0],o[1],o[2]);t.lineEnd()}function tf(r,t){var e=-1,n=r.length;for(t.polygonStart();++e<n;)wh(r[e],t,1);t.polygonEnd()}function Xg(r,t){r&&Qc.hasOwnProperty(r.type)?Qc[r.type](r,t):wu(r,t)}ds();ds();function Eh(r){return[ka(r[1],r[0]),Vs(r[2])]}function xa(r){var t=r[0],e=r[1],n=Ln(e);return[n*Ln(t),n*bn(t),bn(e)]}function ru(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}function Eu(r,t){return[r[1]*t[2]-r[2]*t[1],r[2]*t[0]-r[0]*t[2],r[0]*t[1]-r[1]*t[0]]}function hh(r,t){r[0]+=t[0],r[1]+=t[1],r[2]+=t[2]}function iu(r,t){return[r[0]*t,r[1]*t,r[2]*t]}function Mh(r){var t=za(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);r[0]/=t,r[1]/=t,r[2]/=t}ds();function Yp(r,t){function e(n,i){return n=r(n,i),t(n[0],n[1])}return r.invert&&t.invert&&(e.invert=function(n,i){return n=t.invert(n,i),n&&r.invert(n[0],n[1])}),e}function Ph(r,t){return[r>Ge?r-fo:r<-Ge?r+fo:r,t]}Ph.invert=Ph;function Yg(r,t,e){return(r%=fo)?t||e?Yp(nf(r),rf(t,e)):nf(r):t||e?rf(t,e):Ph}function ef(r){return function(t,e){return t+=r,[t>Ge?t-fo:t<-Ge?t+fo:t,e]}}function nf(r){var t=ef(r);return t.invert=ef(-r),t}function rf(r,t){var e=Ln(r),n=bn(r),i=Ln(t),o=bn(t);function s(u,l){var p=Ln(l),g=Ln(u)*p,c=bn(u)*p,_=bn(l),C=_*e+g*n;return[ka(c*i-C*o,g*e-_*n),Vs(C*i+c*o)]}return s.invert=function(u,l){var p=Ln(l),g=Ln(u)*p,c=bn(u)*p,_=bn(l),C=_*i-c*o;return[ka(c*i+_*o,g*e+C*n),Vs(C*e-g*n)]},s}function Wg(r,t,e,n,i,o){if(e){var s=Ln(t),u=bn(t),l=n*e;i==null?(i=t+n*fo,o=t-l/2):(i=of(s,i),o=of(s,o),(n>0?i<o:i>o)&&(i+=n*fo));for(var p,g=i;n>0?g>o:g<o;g-=l)p=Eh([s,-u*Ln(g),-u*bn(g)]),r.point(p[0],p[1])}}function of(r,t){t=xa(t),t[0]-=r,Mh(t);var e=Xp(-t[1]);return((-t[2]<0?-e:e)+fo-nn)%fo}function Wp(){var r=[],t;return{point:function(e,n){t.push([e,n])},lineStart:function(){r.push(t=[])},lineEnd:sl,rejoin:function(){r.length>1&&r.push(r.pop().concat(r.shift()))},result:function(){var e=r;return r=[],t=null,e}}}function Kg(r,t,e,n,i,o){var s=r[0],u=r[1],l=t[0],p=t[1],g=0,c=1,_=l-s,C=p-u,M;if(M=e-s,!(!_&&M>0)){if(M/=_,_<0){if(M<g)return;M<c&&(c=M)}else if(_>0){if(M>c)return;M>g&&(g=M)}if(M=i-s,!(!_&&M<0)){if(M/=_,_<0){if(M>c)return;M>g&&(g=M)}else if(_>0){if(M<g)return;M<c&&(c=M)}if(M=n-u,!(!C&&M>0)){if(M/=C,C<0){if(M<g)return;M<c&&(c=M)}else if(C>0){if(M>c)return;M>g&&(g=M)}if(M=o-u,!(!C&&M<0)){if(M/=C,C<0){if(M>c)return;M>g&&(g=M)}else if(C>0){if(M<g)return;M<c&&(c=M)}return g>0&&(r[0]=s+g*_,r[1]=u+g*C),c<1&&(t[0]=s+c*_,t[1]=u+c*C),!0}}}}}function uu(r,t){return $n(r[0]-t[0])<nn&&$n(r[1]-t[1])<nn}function ou(r,t,e,n){this.x=r,this.z=t,this.o=e,this.e=n,this.v=!1,this.n=this.p=null}function Kp(r,t,e,n,i){var o=[],s=[],u,l;if(r.forEach(function(M){if(!((S=M.length-1)<=0)){var S,P=M[0],k=M[S],D;if(uu(P,k)){for(i.lineStart(),u=0;u<S;++u)i.point((P=M[u])[0],P[1]);i.lineEnd();return}o.push(D=new ou(P,M,null,!0)),s.push(D.o=new ou(P,null,D,!1)),o.push(D=new ou(k,M,null,!1)),s.push(D.o=new ou(k,null,D,!0))}}),!!o.length){for(s.sort(t),sf(o),sf(s),u=0,l=s.length;u<l;++u)s[u].e=e=!e;for(var p=o[0],g,c;;){for(var _=p,C=!0;_.v;)if((_=_.n)===p)return;g=_.z,i.lineStart();do{if(_.v=_.o.v=!0,_.e){if(C)for(u=0,l=g.length;u<l;++u)i.point((c=g[u])[0],c[1]);else n(_.x,_.n.x,1,i);_=_.n}else{if(C)for(g=_.p.z,u=g.length-1;u>=0;--u)i.point((c=g[u])[0],c[1]);else n(_.x,_.p.x,-1,i);_=_.p}_=_.o,g=_.z,C=!C}while(!_.v);i.lineEnd()}}}function sf(r){if(t=r.length){for(var t,e=0,n=r[0],i;++e<t;)n.n=i=r[e],i.p=n,n=i;n.n=i=r[0],i.p=n}}function Jp(r,t){return r<t?-1:r>t?1:r>=t?0:NaN}function Jg(r){return r.length===1&&(r=Qg(r)),{left:function(t,e,n,i){for(n==null&&(n=0),i==null&&(i=t.length);n<i;){var o=n+i>>>1;r(t[o],e)<0?n=o+1:i=o}return n},right:function(t,e,n,i){for(n==null&&(n=0),i==null&&(i=t.length);n<i;){var o=n+i>>>1;r(t[o],e)>0?i=o:n=o+1}return n}}}function Qg(r){return function(t,e){return Jp(r(t),e)}}Jg(Jp);function Qp(r){for(var t=r.length,e,n=-1,i=0,o,s;++n<t;)i+=r[n].length;for(o=new Array(i);--t>=0;)for(s=r[t],e=s.length;--e>=0;)o[--i]=s[e];return o}var al=1e9,su=-al;function $g(r,t,e,n){function i(p,g){return r<=p&&p<=e&&t<=g&&g<=n}function o(p,g,c,_){var C=0,M=0;if(p==null||(C=s(p,c))!==(M=s(g,c))||l(p,g)<0^c>0)do _.point(C===0||C===3?r:e,C>1?n:t);while((C=(C+c+4)%4)!==M);else _.point(g[0],g[1])}function s(p,g){return $n(p[0]-r)<nn?g>0?0:3:$n(p[0]-e)<nn?g>0?2:1:$n(p[1]-t)<nn?g>0?1:0:g>0?3:2}function u(p,g){return l(p.x,g.x)}function l(p,g){var c=s(p,1),_=s(g,1);return c!==_?c-_:c===0?g[1]-p[1]:c===1?p[0]-g[0]:c===2?p[1]-g[1]:g[0]-p[0]}return function(p){var g=p,c=Wp(),_,C,M,S,P,k,D,O,x,R,F,B={point:Z,lineStart:st,lineEnd:_t,polygonStart:nt,polygonEnd:rt};function Z(gt,kt){i(gt,kt)&&g.point(gt,kt)}function Q(){for(var gt=0,kt=0,Vt=C.length;kt<Vt;++kt)for(var at=C[kt],Ut=1,Rt=at.length,Tt=at[0],jt,Be,Fe=Tt[0],le=Tt[1];Ut<Rt;++Ut)jt=Fe,Be=le,Tt=at[Ut],Fe=Tt[0],le=Tt[1],Be<=n?le>n&&(Fe-jt)*(n-Be)>(le-Be)*(r-jt)&&++gt:le<=n&&(Fe-jt)*(n-Be)<(le-Be)*(r-jt)&&--gt;return gt}function nt(){g=c,_=[],C=[],F=!0}function rt(){var gt=Q(),kt=F&&gt,Vt=(_=Qp(_)).length;(kt||Vt)&&(p.polygonStart(),kt&&(p.lineStart(),o(null,null,1,p),p.lineEnd()),Vt&&Kp(_,u,gt,o,p),p.polygonEnd()),g=p,_=C=M=null}function st(){B.point=ut,C&&C.push(M=[]),R=!0,x=!1,D=O=NaN}function _t(){_&&(ut(S,P),k&&x&&c.rejoin(),_.push(c.result())),B.point=Z,x&&g.lineEnd()}function ut(gt,kt){var Vt=i(gt,kt);if(C&&M.push([gt,kt]),R)S=gt,P=kt,k=Vt,R=!1,Vt&&(g.lineStart(),g.point(gt,kt));else if(Vt&&x)g.point(gt,kt);else{var at=[D=Math.max(su,Math.min(al,D)),O=Math.max(su,Math.min(al,O))],Ut=[gt=Math.max(su,Math.min(al,gt)),kt=Math.max(su,Math.min(al,kt))];Kg(at,Ut,r,t,e,n)?(x||(g.lineStart(),g.point(at[0],at[1])),g.point(Ut[0],Ut[1]),Vt||g.lineEnd(),F=!1):Vt&&(g.lineStart(),g.point(gt,kt),F=!1)}D=gt,O=kt,x=Vt}return B}}var ch=ds();function t_(r,t){var e=t[0],n=t[1],i=[bn(e),-Ln(e),0],o=0,s=0;ch.reset();for(var u=0,l=r.length;u<l;++u)if(g=(p=r[u]).length)for(var p,g,c=p[g-1],_=c[0],C=c[1]/2+Jc,M=bn(C),S=Ln(C),P=0;P<g;++P,_=D,M=x,S=R,c=k){var k=p[P],D=k[0],O=k[1]/2+Jc,x=bn(O),R=Ln(O),F=D-_,B=F>=0?1:-1,Z=B*F,Q=Z>Ge,nt=M*x;if(ch.add(ka(nt*B*bn(Z),S*R+nt*Ln(Z))),o+=Q?F+B*fo:F,Q^_>=e^D>=e){var rt=Eu(xa(c),xa(k));Mh(rt);var st=Eu(i,rt);Mh(st);var _t=(Q^F>=0?-1:1)*Vs(st[2]);(n>_t||n===_t&&(rt[0]||rt[1]))&&(s+=Q^F>=0?1:-1)}}return(o<-nn||o<nn&&ch<-nn)^s&1}ds();function af(r){return r}ds();ds();var Ta=1/0,Mu=Ta,El=-Ta,Pu=El,lf={point:e_,lineStart:sl,lineEnd:sl,polygonStart:sl,polygonEnd:sl,result:function(){var r=[[Ta,Mu],[El,Pu]];return El=Pu=-(Mu=Ta=1/0),r}};function e_(r,t){r<Ta&&(Ta=r),r>El&&(El=r),t<Mu&&(Mu=t),t>Pu&&(Pu=t)}ds();function $p(r,t,e,n){return function(i,o){var s=t(o),u=i.invert(n[0],n[1]),l=Wp(),p=t(l),g=!1,c,_,C,M={point:S,lineStart:k,lineEnd:D,polygonStart:function(){M.point=O,M.lineStart=x,M.lineEnd=R,_=[],c=[]},polygonEnd:function(){M.point=S,M.lineStart=k,M.lineEnd=D,_=Qp(_);var F=t_(c,u);_.length?(g||(o.polygonStart(),g=!0),Kp(_,r_,F,e,o)):F&&(g||(o.polygonStart(),g=!0),o.lineStart(),e(null,null,1,o),o.lineEnd()),g&&(o.polygonEnd(),g=!1),_=c=null},sphere:function(){o.polygonStart(),o.lineStart(),e(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function S(F,B){var Z=i(F,B);r(F=Z[0],B=Z[1])&&o.point(F,B)}function P(F,B){var Z=i(F,B);s.point(Z[0],Z[1])}function k(){M.point=P,s.lineStart()}function D(){M.point=S,s.lineEnd()}function O(F,B){C.push([F,B]);var Z=i(F,B);p.point(Z[0],Z[1])}function x(){p.lineStart(),C=[]}function R(){O(C[0][0],C[0][1]),p.lineEnd();var F=p.clean(),B=l.result(),Z,Q=B.length,nt,rt,st;if(C.pop(),c.push(C),C=null,!!Q){if(F&1){if(rt=B[0],(nt=rt.length-1)>0){for(g||(o.polygonStart(),g=!0),o.lineStart(),Z=0;Z<nt;++Z)o.point((st=rt[Z])[0],st[1]);o.lineEnd()}return}Q>1&&F&2&&B.push(B.pop().concat(B.shift())),_.push(B.filter(n_))}}return M}}function n_(r){return r.length>1}function r_(r,t){return((r=r.x)[0]<0?r[1]-io-nn:io-r[1])-((t=t.x)[0]<0?t[1]-io-nn:io-t[1])}const uf=$p(function(){return!0},i_,s_,[-Ge,-io]);function i_(r){var t=NaN,e=NaN,n=NaN,i;return{lineStart:function(){r.lineStart(),i=1},point:function(o,s){var u=o>0?Ge:-Ge,l=$n(o-t);$n(l-Ge)<nn?(r.point(t,e=(e+s)/2>0?io:-io),r.point(n,e),r.lineEnd(),r.lineStart(),r.point(u,e),r.point(o,e),i=0):n!==u&&l>=Ge&&($n(t-n)<nn&&(t-=n*nn),$n(o-u)<nn&&(o-=u*nn),e=o_(t,e,o,s),r.point(n,e),r.lineEnd(),r.lineStart(),r.point(u,e),i=0),r.point(t=o,e=s),n=u},lineEnd:function(){r.lineEnd(),t=e=NaN},clean:function(){return 2-i}}}function o_(r,t,e,n){var i,o,s=bn(r-e);return $n(s)>nn?qg((bn(t)*(o=Ln(n))*bn(e)-bn(n)*(i=Ln(t))*bn(r))/(i*o*s)):(t+n)/2}function s_(r,t,e,n){var i;if(r==null)i=e*io,n.point(-Ge,i),n.point(0,i),n.point(Ge,i),n.point(Ge,0),n.point(Ge,-i),n.point(0,-i),n.point(-Ge,-i),n.point(-Ge,0),n.point(-Ge,i);else if($n(r[0]-t[0])>nn){var o=r[0]<t[0]?Ge:-Ge;i=e*o/2,n.point(-o,i),n.point(0,i),n.point(o,i)}else n.point(t[0],t[1])}function a_(r,t){var e=Ln(r),n=e>0,i=$n(e)>nn;function o(g,c,_,C){Wg(C,r,t,_,g,c)}function s(g,c){return Ln(g)*Ln(c)>e}function u(g){var c,_,C,M,S;return{lineStart:function(){M=C=!1,S=1},point:function(P,k){var D=[P,k],O,x=s(P,k),R=n?x?0:p(P,k):x?p(P+(P<0?Ge:-Ge),k):0;if(!c&&(M=C=x)&&g.lineStart(),x!==C&&(O=l(c,D),(!O||uu(c,O)||uu(D,O))&&(D[0]+=nn,D[1]+=nn,x=s(D[0],D[1]))),x!==C)S=0,x?(g.lineStart(),O=l(D,c),g.point(O[0],O[1])):(O=l(c,D),g.point(O[0],O[1]),g.lineEnd()),c=O;else if(i&&c&&n^x){var F;!(R&_)&&(F=l(D,c,!0))&&(S=0,n?(g.lineStart(),g.point(F[0][0],F[0][1]),g.point(F[1][0],F[1][1]),g.lineEnd()):(g.point(F[1][0],F[1][1]),g.lineEnd(),g.lineStart(),g.point(F[0][0],F[0][1])))}x&&(!c||!uu(c,D))&&g.point(D[0],D[1]),c=D,C=x,_=R},lineEnd:function(){C&&g.lineEnd(),c=null},clean:function(){return S|(M&&C)<<1}}}function l(g,c,_){var C=xa(g),M=xa(c),S=[1,0,0],P=Eu(C,M),k=ru(P,P),D=P[0],O=k-D*D;if(!O)return!_&&g;var x=e*k/O,R=-e*D/O,F=Eu(S,P),B=iu(S,x),Z=iu(P,R);hh(B,Z);var Q=F,nt=ru(B,Q),rt=ru(Q,Q),st=nt*nt-rt*(ru(B,B)-1);if(!(st<0)){var _t=za(st),ut=iu(Q,(-nt-_t)/rt);if(hh(ut,B),ut=Eh(ut),!_)return ut;var gt=g[0],kt=c[0],Vt=g[1],at=c[1],Ut;kt<gt&&(Ut=gt,gt=kt,kt=Ut);var Rt=kt-gt,Tt=$n(Rt-Ge)<nn,jt=Tt||Rt<nn;if(!Tt&&at<Vt&&(Ut=Vt,Vt=at,at=Ut),jt?Tt?Vt+at>0^ut[1]<($n(ut[0]-gt)<nn?Vt:at):Vt<=ut[1]&&ut[1]<=at:Rt>Ge^(gt<=ut[0]&&ut[0]<=kt)){var Be=iu(Q,(-nt+_t)/rt);return hh(Be,B),[ut,Eh(Be)]}}}function p(g,c){var _=n?r:Ge-r,C=0;return g<-_?C|=1:g>_&&(C|=2),c<-_?C|=4:c>_&&(C|=8),C}return $p(s,u,o,n?[0,-r]:[-Ge,r-Ge])}function td(r){return function(t){var e=new Sh;for(var n in r)e[n]=r[n];return e.stream=t,e}}function Sh(){}Sh.prototype={constructor:Sh,point:function(r,t){this.stream.point(r,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ed(r,t,e){var n=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=r.clipExtent&&r.clipExtent();r.scale(150).translate([0,0]),o!=null&&r.clipExtent(null),Xg(e,r.stream(lf));var s=lf.result(),u=Math.min(n/(s[1][0]-s[0][0]),i/(s[1][1]-s[0][1])),l=+t[0][0]+(n-u*(s[1][0]+s[0][0]))/2,p=+t[0][1]+(i-u*(s[1][1]+s[0][1]))/2;return o!=null&&r.clipExtent(o),r.scale(u*150).translate([l,p])}function l_(r,t,e){return ed(r,[[0,0],t],e)}var hf=16,u_=Ln(30*si);function cf(r,t){return+t?c_(r,t):h_(r)}function h_(r){return td({point:function(t,e){t=r(t,e),this.stream.point(t[0],t[1])}})}function c_(r,t){function e(n,i,o,s,u,l,p,g,c,_,C,M,S,P){var k=p-n,D=g-i,O=k*k+D*D;if(O>4*t&&S--){var x=s+_,R=u+C,F=l+M,B=za(x*x+R*R+F*F),Z=Vs(F/=B),Q=$n($n(F)-1)<nn||$n(o-c)<nn?(o+c)/2:ka(R,x),nt=r(Q,Z),rt=nt[0],st=nt[1],_t=rt-n,ut=st-i,gt=D*_t-k*ut;(gt*gt/O>t||$n((k*_t+D*ut)/O-.5)>.3||s*_+u*C+l*M<u_)&&(e(n,i,o,s,u,l,rt,st,Q,x/=B,R/=B,F,S,P),P.point(rt,st),e(rt,st,Q,x,R,F,p,g,c,_,C,M,S,P))}}return function(n){var i,o,s,u,l,p,g,c,_,C,M,S,P={point:k,lineStart:D,lineEnd:x,polygonStart:function(){n.polygonStart(),P.lineStart=R},polygonEnd:function(){n.polygonEnd(),P.lineStart=D}};function k(Z,Q){Z=r(Z,Q),n.point(Z[0],Z[1])}function D(){c=NaN,P.point=O,n.lineStart()}function O(Z,Q){var nt=xa([Z,Q]),rt=r(Z,Q);e(c,_,g,C,M,S,c=rt[0],_=rt[1],g=Z,C=nt[0],M=nt[1],S=nt[2],hf,n),n.point(c,_)}function x(){P.point=k,n.lineEnd()}function R(){D(),P.point=F,P.lineEnd=B}function F(Z,Q){O(i=Z,Q),o=c,s=_,u=C,l=M,p=S,P.point=O}function B(){e(c,_,g,C,M,S,o,s,i,u,l,p,hf,n),P.lineEnd=x,x()}return P}}var f_=td({point:function(r,t){this.stream.point(r*si,t*si)}});function p_(r){return d_(function(){return r})()}function d_(r){var t,e=150,n=480,i=250,o,s,u=0,l=0,p=0,g=0,c=0,_,C,M=null,S=uf,P=null,k,D,O,x=af,R=.5,F=cf(rt,R),B,Z;function Q(ut){return ut=C(ut[0]*si,ut[1]*si),[ut[0]*e+o,s-ut[1]*e]}function nt(ut){return ut=C.invert((ut[0]-o)/e,(s-ut[1])/e),ut&&[ut[0]*Wo,ut[1]*Wo]}function rt(ut,gt){return ut=t(ut,gt),[ut[0]*e+o,s-ut[1]*e]}Q.stream=function(ut){return B&&Z===ut?B:B=f_(S(_,F(x(Z=ut))))},Q.clipAngle=function(ut){return arguments.length?(S=+ut?a_(M=ut*si,6*si):(M=null,uf),_t()):M*Wo},Q.clipExtent=function(ut){return arguments.length?(x=ut==null?(P=k=D=O=null,af):$g(P=+ut[0][0],k=+ut[0][1],D=+ut[1][0],O=+ut[1][1]),_t()):P==null?null:[[P,k],[D,O]]},Q.scale=function(ut){return arguments.length?(e=+ut,st()):e},Q.translate=function(ut){return arguments.length?(n=+ut[0],i=+ut[1],st()):[n,i]},Q.center=function(ut){return arguments.length?(u=ut[0]%360*si,l=ut[1]%360*si,st()):[u*Wo,l*Wo]},Q.rotate=function(ut){return arguments.length?(p=ut[0]%360*si,g=ut[1]%360*si,c=ut.length>2?ut[2]%360*si:0,st()):[p*Wo,g*Wo,c*Wo]},Q.precision=function(ut){return arguments.length?(F=cf(rt,R=ut*ut),_t()):za(R)},Q.fitExtent=function(ut,gt){return ed(Q,ut,gt)},Q.fitSize=function(ut,gt){return l_(Q,ut,gt)};function st(){C=Yp(_=Yg(p,g,c),t);var ut=t(u,l);return o=n-ut[0]*e,s=i+ut[1]*e,_t()}function _t(){return B=Z=null,Q}return function(){return t=r.apply(this,arguments),Q.invert=t.invert&&nt,st()}}function nd(r){return function(t,e){var n=Ln(t),i=Ln(e),o=r(n*i);return[o*i*bn(t),o*bn(e)]}}function rd(r){return function(t,e){var n=za(t*t+e*e),i=r(n),o=bn(i),s=Ln(i);return[ka(t*o,n*s),Vs(n&&e*o/n)]}}var g_=nd(function(r){return za(2/(1+r))});g_.invert=rd(function(r){return 2*Vs(r/2)});var id=nd(function(r){return(r=Xp(r))&&r/bn(r)});id.invert=rd(function(r){return r});function __(){return p_(id).scale(79.4188).clipAngle(180-.001)}function ff(r,t){return[r,t]}ff.invert=ff;function m_(r,t,e){e=e||{};var n=e.units||"kilometers",i=e.steps||8;if(!r)throw new Error("geojson is required");if(typeof e!="object")throw new Error("options must be an object");if(typeof i!="number")throw new Error("steps must be an number");if(t===void 0)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");var o=[];switch(r.type){case"GeometryCollection":return Gh(r,function(s){var u=hu(s,t,n,i);u&&o.push(u)}),vh(o);case"FeatureCollection":return jc(r,function(s){var u=hu(s,t,n,i);u&&jc(u,function(l){l&&o.push(l)})}),vh(o)}return hu(r,t,n,i)}function hu(r,t,e,n){var i=r.properties||{},o=r.type==="Feature"?r.geometry:r;if(o.type==="GeometryCollection"){var s=[];return Gh(r,function(S){var P=hu(S,t,e,n);P&&s.push(P)}),vh(s)}var u=v_(o),l={type:o.type,coordinates:sd(o.coordinates,u)},p=new Yh,g=p.read(l),c=bg(Cg(t,e),"meters"),_=Rn.bufferOp(g,c,n),C=new kp;if(_=C.write(_),!od(_.coordinates)){var M={type:_.type,coordinates:ad(_.coordinates,u)};return Nu(M,i)}}function od(r){return Array.isArray(r[0])?od(r[0]):isNaN(r[0])}function sd(r,t){return typeof r[0]!="object"?t(r):r.map(function(e){return sd(e,t)})}function ad(r,t){return typeof r[0]!="object"?t.invert(r):r.map(function(e){return ad(e,t)})}function v_(r){var t=Ig(r).geometry.coordinates,e=[-t[0],-t[1]];return __().rotate(e).scale(br)}function cu(r){if(Array.isArray(r))return r;if(r.type==="Feature"){if(r.geometry!==null)return r.geometry.coordinates}else if(r.coordinates)return r.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function y_(r,t){return r.type==="FeatureCollection"?"FeatureCollection":r.type==="GeometryCollection"?"GeometryCollection":r.type==="Feature"&&r.geometry!==null?r.geometry.type:r.type}function L_(r,t){t===void 0&&(t={});var e=typeof t=="object"?t.mutate:t;if(!r)throw new Error("geojson is required");var n=y_(r),i=[];switch(n){case"LineString":i=fh(r);break;case"MultiLineString":case"Polygon":cu(r).forEach(function(s){i.push(fh(s))});break;case"MultiPolygon":cu(r).forEach(function(s){var u=[];s.forEach(function(l){u.push(fh(l))}),i.push(u)});break;case"Point":return r;case"MultiPoint":var o={};cu(r).forEach(function(s){var u=s.join("-");Object.prototype.hasOwnProperty.call(o,u)||(i.push(s),o[u]=!0)});break;default:throw new Error(n+" geometry not supported")}return r.coordinates?e===!0?(r.coordinates=i,r):{type:n,coordinates:i}:e===!0?(r.geometry.coordinates=i,r):Nu({type:n,coordinates:i},r.properties,{bbox:r.bbox,id:r.id})}function fh(r){var t=cu(r);if(t.length===2&&!pf(t[0],t[1]))return t;var e=[],n=t.length-1,i=e.length;e.push(t[0]);for(var o=1;o<n;o++){var s=e[e.length-1];t[o][0]===s[0]&&t[o][1]===s[1]||(e.push(t[o]),i=e.length,i>2&&df(e[i-3],e[i-1],e[i-2])&&e.splice(e.length-2,1))}if(e.push(t[t.length-1]),i=e.length,pf(t[0],t[t.length-1])&&i<4)throw new Error("invalid polygon");return df(e[i-3],e[i-1],e[i-2])&&e.splice(e.length-2,1),e}function pf(r,t){return r[0]===t[0]&&r[1]===t[1]}function df(r,t,e){var n=e[0],i=e[1],o=r[0],s=r[1],u=t[0],l=t[1],p=n-o,g=i-s,c=u-o,_=l-s,C=p*_-g*c;return C!==0?!1:Math.abs(c)>=Math.abs(_)?c>0?o<=n&&n<=u:u<=n&&n<=o:_>0?s<=i&&i<=l:l<=i&&i<=s}function fu(r){if(!r)throw new Error("geojson is required");switch(r.type){case"Feature":return ld(r);case"FeatureCollection":return b_(r);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return rc(r);default:throw new Error("unknown GeoJSON type")}}function ld(r){var t={type:"Feature"};return Object.keys(r).forEach(function(e){switch(e){case"type":case"properties":case"geometry":return;default:t[e]=r[e]}}),t.properties=ud(r.properties),t.geometry=rc(r.geometry),t}function ud(r){var t={};return r&&Object.keys(r).forEach(function(e){var n=r[e];typeof n=="object"?n===null?t[e]=null:Array.isArray(n)?t[e]=n.map(function(i){return i}):t[e]=ud(n):t[e]=n}),t}function b_(r){var t={type:"FeatureCollection"};return Object.keys(r).forEach(function(e){switch(e){case"type":case"features":return;default:t[e]=r[e]}}),t.features=r.features.map(function(e){return ld(e)}),t}function rc(r){var t={type:r.type};return r.bbox&&(t.bbox=r.bbox),r.type==="GeometryCollection"?(t.geometries=r.geometries.map(function(e){return rc(e)}),t):(t.coordinates=hd(r.coordinates),t)}function hd(r){var t=r;return typeof t[0]!="object"?t.slice():t.map(function(e){return hd(e)})}function C_(r,t){var e=r.x-t.x,n=r.y-t.y;return e*e+n*n}function w_(r,t,e){var n=t.x,i=t.y,o=e.x-n,s=e.y-i;if(o!==0||s!==0){var u=((r.x-n)*o+(r.y-i)*s)/(o*o+s*s);u>1?(n=e.x,i=e.y):u>0&&(n+=o*u,i+=s*u)}return o=r.x-n,s=r.y-i,o*o+s*s}function E_(r,t){for(var e=r[0],n=[e],i,o=1,s=r.length;o<s;o++)i=r[o],C_(i,e)>t&&(n.push(i),e=i);return e!==i&&n.push(i),n}function Ih(r,t,e,n,i){for(var o=n,s,u=t+1;u<e;u++){var l=w_(r[u],r[t],r[e]);l>o&&(s=u,o=l)}o>n&&(s-t>1&&Ih(r,t,s,n,i),i.push(r[s]),e-s>1&&Ih(r,s,e,n,i))}function M_(r,t){var e=r.length-1,n=[r[0]];return Ih(r,0,e,t,n),n.push(r[e]),n}function kh(r,t,e){if(r.length<=2)return r;var n=t!==void 0?t*t:1;return r=e?r:E_(r,n),r=M_(r,n),r}function P_(r,t){if(t=t||{},!wg(t))throw new Error("options is invalid");var e=t.tolerance!==void 0?t.tolerance:1,n=t.highQuality||!1,i=t.mutate||!1;if(!r)throw new Error("geojson is required");if(e&&e<0)throw new Error("invalid tolerance");return i!==!0&&(r=fu(r)),Gh(r,function(o){S_(o,e,n)}),r}function S_(r,t,e){var n=r.type;if(n==="Point"||n==="MultiPoint")return r;L_(r,!0);var i=r.coordinates;switch(n){case"LineString":r.coordinates=gf(i,t,e);break;case"MultiLineString":r.coordinates=i.map(function(o){return gf(o,t,e)});break;case"Polygon":r.coordinates=_f(i,t,e);break;case"MultiPolygon":r.coordinates=i.map(function(o){return _f(o,t,e)})}return r}function gf(r,t,e){return kh(r.map(function(n){return{x:n[0],y:n[1],z:n[2]}}),t,e).map(function(n){return n.z?[n.x,n.y,n.z]:[n.x,n.y]})}function _f(r,t,e){return r.map(function(n){var i=n.map(function(s){return{x:s[0],y:s[1]}});if(i.length<4)throw new Error("invalid polygon");for(var o=kh(i,t,e).map(function(s){return[s.x,s.y]});!I_(o);)t-=t*.01,o=kh(i,t,e).map(function(s){return[s.x,s.y]});return(o[o.length-1][0]!==o[0][0]||o[o.length-1][1]!==o[0][1])&&o.push(o[0]),o})}function I_(r){return r.length<3?!1:!(r.length===3&&r[2][0]===r[0][0]&&r[2][1]===r[0][1])}var k_=Object.defineProperty,ic=(r,t)=>{for(var e in t)k_(r,e,{get:t[e],enumerable:!0})},x_={};ic(x_,{convertFileSrc:()=>N_,invoke:()=>Fo,transformCallback:()=>Su});function T_(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function Su(r,t=!1){let e=T_(),n=`_${e}`;return Object.defineProperty(window,n,{value:i=>(t&&Reflect.deleteProperty(window,n),r==null?void 0:r(i)),writable:!1,configurable:!0}),e}async function Fo(r,t={}){return new Promise((e,n)=>{let i=Su(s=>{e(s),Reflect.deleteProperty(window,`_${o}`)},!0),o=Su(s=>{n(s),Reflect.deleteProperty(window,`_${i}`)},!0);window.__TAURI_IPC__({cmd:r,callback:i,error:o,...t})})}function N_(r,t="asset"){let e=encodeURIComponent(r);return navigator.userAgent.includes("Windows")?`https://${t}.localhost/${e}`:`${t}://localhost/${e}`}/* @preserve
* @terraformer/spatial - v2.1.1 - MIT
* Copyright (c) 2012-2022 Environmental Systems Research Institute, Inc.
* Tue Aug 02 2022 14:23:50 GMT-0700 (Pacific Daylight Time)
*/var mf=function(t){for(var e=null,n=null,i=null,o=null,s=0;s<t.length;s++)for(var u=t[s],l=0;l<u.length;l++){var p=u[l],g=p[0],c=p[1];(e===null||g<e)&&(e=g),(n===null||g>n)&&(n=g),(i===null||c<i)&&(i=c),(o===null||c>o)&&(o=c)}return[e,i,n,o]},O_=function(t){for(var e=null,n=null,i=null,o=null,s=0;s<t.length;s++)for(var u=t[s],l=0;l<u.length;l++)for(var p=u[l],g=0;g<p.length;g++){var c=p[g],_=c[0],C=c[1];(e===null||_<e)&&(e=_),(n===null||_>n)&&(n=_),(i===null||C<i)&&(i=C),(o===null||C>o)&&(o=C)}return[e,i,n,o]},Iu=function(t){for(var e=null,n=null,i=null,o=null,s=0;s<t.length;s++){var u=t[s],l=u[0],p=u[1];(e===null||l<e)&&(e=l),(n===null||l>n)&&(n=l),(i===null||p<i)&&(i=p),(o===null||p>o)&&(o=p)}return[e,i,n,o]},D_=function(t){for(var e=[],n=t.features.length-1;n>=0;n--){var i=oc(t.features[n].geometry);e.push([i[0],i[1]]),e.push([i[2],i[3]])}return Iu(e)},R_=function(t){for(var e=[],n=t.geometries.length-1;n>=0;n--){var i=oc(t.geometries[n]);e.push([i[0],i[1]]),e.push([i[2],i[3]])}return Iu(e)},oc=function r(t){if(t.type)switch(t.type){case"Point":return[t.coordinates[0],t.coordinates[1],t.coordinates[0],t.coordinates[1]];case"MultiPoint":return Iu(t.coordinates);case"LineString":return Iu(t.coordinates);case"MultiLineString":return mf(t.coordinates);case"Polygon":return mf(t.coordinates);case"MultiPolygon":return O_(t.coordinates);case"Feature":return t.geometry?r(t.geometry):null;case"FeatureCollection":return D_(t);case"GeometryCollection":return R_(t);default:throw new Error("Unknown type: "+t.type)}return null},vf=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},A_=function(t,e,n,i){var o=(i[0]-n[0])*(t[1]-n[1])-(i[1]-n[1])*(t[0]-n[0]),s=(e[0]-t[0])*(t[1]-n[1])-(e[1]-t[1])*(t[0]-n[0]),u=(i[1]-n[1])*(e[0]-t[0])-(i[0]-n[0])*(e[1]-t[1]);if(u!==0){var l=o/u,p=s/u;if(l>=0&&l<=1&&p>=0&&p<=1)return!0}return!1},pu=function r(t,e){if(vf(t[0][0])){if(vf(e[0][0])){for(var n=0;n<t.length-1;n++)for(var i=0;i<e.length-1;i++)if(A_(t[n],t[n+1],e[i],e[i+1]))return!0}else for(var o=0;o<e.length;o++)if(r(t,e[o]))return!0}else for(var s=0;s<t.length;s++)if(r(t[s],e))return!0;return!1},ph=function(t,e){for(var n=!1,i=-1,o=t.length,s=o-1;++i<o;s=i)(t[i][1]<=e[1]&&e[1]<t[s][1]||t[s][1]<=e[1]&&e[1]<t[i][1])&&e[0]<(t[s][0]-t[i][0])*(e[1]-t[i][1])/(t[s][1]-t[i][1])+t[i][0]&&(n=!n);return n},xh=function(t,e){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},yf=function(t,e){return t[0]>e[0]?-1:t[0]<e[0]?1:t[1]>e[1]?-1:t[1]<e[1]?1:0},Th=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n].slice();xh(i[0],i[i.length-1])===!1&&i.push(i[0]),e.push(i)}return e};function B_(){var r=Array.prototype.slice.apply(arguments);typeof console<"u"&&console.warn&&console.warn.apply(console,r)}var Lf=function(t,e){if(t.length!==e.length)return!1;for(var n=t.slice().sort(yf),i=e.slice().sort(yf),o=0;o<n.length;o++){if(n[o].length!==i[o].length)return!1;for(var s=0;s<n.length;s++)if(n[o][s]!==i[o][s])return!1}return!0},il=function(t,e){if(t&&t.length){if(t.length===1)return ph(t[0],e);if(ph(t[0],e)){for(var n=1;n<t.length;n++)if(ph(t[n],e))return!1;return!0}else return!1}else return!1},Ml=function r(t,e){var n,i,o;if(e.type==="Feature"&&(e=e.geometry),e.type==="Point"&&t.type==="Point")return xh(t.coordinates,e.coordinates);if(e.type==="MultiLineString"&&t.type==="Point")for(i=0;i<t.coordinates.length;i++){var s={type:"LineString",coordinates:e.coordinates[i]};if(r(t,s))return!0}if((e.type==="LineString"||e.type==="MultiPoint")&&t.type==="Point")for(i=0;i<e.coordinates.length;i++){if(t.coordinates.length!==e.coordinates[i].length)return!1;if(xh(t.coordinates,e.coordinates[i]))return!0}if(e.type==="Polygon")if(t.type==="Polygon"){if(e.coordinates.length===t.coordinates.length){for(i=0;i<t.coordinates.length;i++)if(Lf(t.coordinates[i],e.coordinates[i]))return!0}return t.coordinates.length&&il(e.coordinates,t.coordinates[0][0])?!pu(Th(t.coordinates),Th(e.coordinates)):!1}else{if(t.type==="Point")return il(e.coordinates,t.coordinates);if(t.type==="LineString"||t.type==="MultiPoint"){if(!t.coordinates||t.coordinates.length===0)return!1;for(i=0;i<t.coordinates.length;i++)if(il(e.coordinates,t.coordinates[i])===!1)return!1;return!0}else if(t.type==="MultiLineString"){for(i=0;i<t.coordinates.length;i++){var u={type:"LineString",coordinates:t.coordinates[i]};if(r(u,e)===!1)return o++,!1}return!0}else if(t.type==="MultiPolygon"){for(i=0;i<t.coordinates.length;i++){var l={type:"Polygon",coordinates:t.coordinates[i]};if(r(l,e)===!1)return!1}return!0}}if(e.type==="MultiPolygon"){if(t.type==="Point"){if(e.coordinates.length){for(i=0;i<e.coordinates.length;i++)if(n=e.coordinates[i],il(n,t.coordinates)&&pu([t.coordinates],e.coordinates)===!1)return!0}return!1}else if(t.type==="Polygon"){for(i=0;i<t.coordinates.length;i++)if(e.coordinates[i].length===t.coordinates.length){for(var p=0;p<t.coordinates.length;p++)if(Lf(t.coordinates[p],e.coordinates[i][p]))return!0}if(pu(t.coordinates,e.coordinates)===!1&&e.coordinates.length){for(i=0;i<e.coordinates.length;i++)n=e.coordinates[i],il(n,t.coordinates[0][0])===!1?o=!1:o=!0;return o}}else if(t.type==="LineString"||t.type==="MultiPoint")for(i=0;i<e.coordinates.length;i++){var g={type:"Polygon",coordinates:e.coordinates[i]};return!!r(t,g)}else if(t.type==="MultiLineString"){for(i=0;i<t.coordinates.length;i++){var c={type:"LineString",coordinates:t.coordinates[i]};if(r(c,e)===!1)return!1}return!0}else if(t.type==="MultiPolygon"){for(i=0;i<e.coordinates.length;i++){var _={type:"Polygon",coordinates:e.coordinates[i]};if(r(t,_)===!1)return!1}return!0}}return!1},cd=function(t,e){return Ml(e,t)},z_=function r(t,e){if(e.type==="Feature"&&(e=e.geometry),Ml(t,e)||Ml(e,t)||t.type==="MultiPolygon"&&F_(t,e))return!0;if(t.type!=="Point"&&t.type!=="MultiPoint"&&e.type!=="Point"&&e.type!=="MultiPoint")return pu(t.coordinates,e.coordinates);if(t.type==="Feature"){var n=t.geometry;return r(n,e)}return B_("Type "+t.type+" to "+e.type+" intersection is not supported by intersects"),!1};function F_(r,t){return r.coordinates.some(function(e){var n={type:"Polygon",coordinates:e};return Ml(n,t)||Ml(t,n)})}var dh={a:6378137,b:63567523142e-4,f:1/298.257223563},G_=function(t,e,n){var i=n||64,o=e||250;if(!t||t.length<2||!o||!i)throw new Error("Terraformer: missing parameter for Terraformer.Circle");return{type:"Feature",geometry:V_(t,o,i),properties:{radius:o,center:t,steps:i}}},V_=function(t,e,n){for(var i=n||64,o={type:"Polygon",coordinates:[[]]},s,u=0;u<i;u++)s=u*360/i,o.coordinates[0].push(U_(t,s,e));return o.coordinates=Th(o.coordinates),o},U_=function(t,e,n){for(var i,o,s,u,l=dh.a,p=dh.b,g=dh.f,c=t[0],_=t[1],C=n,M=Math.PI,S=e*M/180,P=Math.sin(S),k=Math.cos(S),D=(1-g)*Math.tan(_*M/180),O=1/Math.sqrt(1+D*D),x=D*O,R=Math.atan2(D,k),F=O*P,B=1-F*F,Z=B*(l*l-p*p)/(p*p),Q=1+Z/16384*(4096+Z*(-768+Z*(320-175*Z))),nt=Z/1024*(256+Z*(-128+Z*(74-47*Z))),rt=C/(p*Q),st=2*Math.PI;Math.abs(rt-st)>1e-12;)i=Math.cos(2*R+rt),o=Math.sin(rt),s=Math.cos(rt),u=nt*o*(i+nt/4*(s*(-1+2*i*i)-nt/6*i*(-3+4*o*o)*(-3+4*i*i))),st=rt,rt=C/(p*Q)+u;var _t=x*o-O*s*k,ut=Math.atan2(x*s+O*o*k,(1-g)*Math.sqrt(F*F+_t*_t)),gt=Math.atan2(o*P,O*s-x*o*k),kt=g/16*B*(4+g*(4-3*B)),Vt=gt-(1-kt)*g*F*(rt+kt*o*(i+kt*s*(-1+2*i*i))),at=c+Vt*180/M,Ut=ut*180/M;return[at,Ut]},Nh=function(r,t){return Nh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},Nh(r,t)};function sc(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Nh(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var cs=function(){return cs=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},cs.apply(this,arguments)};function bf(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))}var H_=function(r){sc(t,r);function t(e,n){var i=r.call(this)||this;return i.polyline=$e.polyline(e,n),i.polygon=$e.polygon(e,cs(cs({},n),{weight:0})),i}return t.prototype.onAdd=function(e){return this.polyline.addTo(e),this.polygon.addTo(e),this},t.prototype.onRemove=function(){return this.polyline.remove(),this.polygon.remove(),this},t.prototype.addLatLng=function(e){return this.polyline.addLatLng(e),this.polygon.addLatLng(e),this},t.prototype.getLatLngs=function(){return this.polygon.getLatLngs()[0]},t.prototype.toGeoJSON=function(){return this.polygon.toGeoJSON()},t}($e.Layer);function Z_(r){var t=oc(r),e=$e.latLngBounds([t[1],t[0]],[t[3],t[2]]);return e}function j_(r,t,e){var n=r.getLatLng(),i=t.latLngToPoint(n,e),o=r.getRadius()/Math.SQRT2,s=$e.point([i.x-o,i.y-o]),u=t.pointToLatLng(s,e),l=t.distance(n,u);return l}function Cf(r,t){return G_($e.GeoJSON.latLngToCoords(r),t).geometry}function wf(r,t){if(t===void 0&&(t={}),r instanceof $e.Circle){var e=r.getLatLng(),n=r.getRadius();return Cf(e,n)}else if(r instanceof $e.CircleMarker)if(t.zoom!=null&&t.crs!=null){var e=r.getLatLng(),n=j_(r,t.crs,t.zoom);return Cf(e,n)}else return console.warn("Zoom and CRS is required for calculating CircleMarker polygon, falling back to center point only"),r.toGeoJSON().geometry;else{if(r instanceof $e.Marker||r instanceof $e.Polyline)return r.toGeoJSON().geometry;console.warn("Layer GeoJSON geometry is not available",r);return}}function q_(r,t){return cd(r,t)}function X_(r,t){return t.type==="Point"?cd(r,t):z_(r,t)}function Y_(r,t,e){e===void 0&&(e={});var n=r.toGeoJSON().geometry,i=r.getBounds(),o=t.filter(function(s){var u,l;if(s instanceof $e.Polyline?l=s.getBounds():(u=wf(s,e),u&&(l=Z_(u))),!l||!l.isValid())return!1;var p=e.intersect?i.intersects(l):i.contains(l);if(!p||(u||(u=wf(s,e)),!u))return!1;var g=e.intersect?X_(n,u):q_(n,u);return g});return o}function fd(r,t){t===void 0&&(t={});var e=t.insertAt;if(!(!r||typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",e==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=r:i.appendChild(document.createTextNode(r))}}var W_=`.leaflet-lasso-active {
    cursor: crosshair;
    -webkit-user-select: none;
       -moz-user-select: none;
            user-select: none;
}

.leaflet-lasso-active .leaflet-interactive {
    cursor: crosshair;
    pointer-events: none;
}`;fd(W_);var K_="lasso.enabled",J_="lasso.disabled",pd="lasso.finished",au="leaflet-lasso-active",du=function(r){sc(t,r);function t(e,n){n===void 0&&(n={});var i=r.call(this,e)||this;return i.options={polygon:{color:"#00C3FF",weight:2},intersect:!1},i.onMapMouseDownBound=i.onMapMouseDown.bind(i),i.onDocumentMouseMoveBound=i.onDocumentMouseMove.bind(i),i.onDocumentMouseUpBound=i.onDocumentMouseUp.bind(i),i.map=e,$e.Util.setOptions(i,n),i}return t.prototype.setOptions=function(e){this.options=cs(cs({},this.options),e)},t.prototype.toggle=function(){this.enabled()?this.disable():this.enable()},t.prototype.addHooks=function(){this.map.getPane("mapPane"),this.map.getContainer().addEventListener("mousedown",this.onMapMouseDownBound),this.map.getContainer().addEventListener("touchstart",this.onMapMouseDownBound);var e=this.map.getContainer();e.classList.add(au),this.map.dragging.disable(),this.map.fire(K_)},t.prototype.removeHooks=function(){this.polygon&&(this.map.removeLayer(this.polygon),this.polygon=void 0),this.map.getContainer().removeEventListener("mousedown",this.onMapMouseDownBound),this.map.getContainer().removeEventListener("touchstart",this.onMapMouseDownBound),document.removeEventListener("mousemove",this.onDocumentMouseMoveBound),document.removeEventListener("touchmove",this.onDocumentMouseMoveBound),document.removeEventListener("mouseup",this.onDocumentMouseUpBound),document.removeEventListener("touchend",this.onDocumentMouseUpBound),this.map.getContainer().classList.remove(au),document.body.classList.remove(au),this.map.dragging.enable(),this.map.fire(J_)},t.prototype.onMapMouseDown=function(e){e.stopPropagation();var n=this.eventToMouseEvent("down",e);if(n){if(e instanceof MouseEvent&&!e._simulated&&e.buttons!==1){this.disable();return}if(!e.target.closest(".leaflet-control-container")){var i=this.map.mouseEventToLatLng(n);this.polygon=new H_([i],this.options.polygon).addTo(this.map),document.body.classList.add(au),document.addEventListener("mousemove",this.onDocumentMouseMoveBound),document.addEventListener("touchmove",this.onDocumentMouseMoveBound),document.addEventListener("mouseup",this.onDocumentMouseUpBound),document.addEventListener("touchend",this.onDocumentMouseUpBound),e.preventDefault()}}},t.prototype.onDocumentMouseMove=function(e){e.stopPropagation();var n=this.eventToMouseEvent("move",e);if(n&&this.polygon){if(e instanceof MouseEvent&&!e._simulated&&e.buttons!==1){this.finish(e);return}var i=this.map.mouseEventToLatLng(n);this.polygon.addLatLng(i),e.preventDefault()}},t.prototype.onDocumentMouseUp=function(e){this.finish(e),e.stopPropagation(),e.preventDefault()},t.prototype.eventToMouseEvent=function(e,n){if(n instanceof MouseEvent)return n;if(n instanceof TouchEvent&&n.touches.length===1)return new MouseEvent(e,{screenX:n.touches[0].screenX,screenY:n.touches[0].screenY,clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,buttons:1})},t.prototype.finish=function(e){var n=this;if(this.polygon){var i=[];this.map.eachLayer(function(s){s===n.polygon||s===n.polygon.polyline||s===n.polygon.polygon||($e.MarkerCluster&&s instanceof $e.MarkerCluster?i.push.apply(i,s.getAllChildMarkers()):(s instanceof $e.Marker||s instanceof $e.Path)&&i.push(s))});var o=Y_(this.polygon.polygon,i,{zoom:this.map.getZoom(),crs:this.map.options.crs,intersect:this.options.intersect});this.map.fire(pd,{originalEvent:e,latLngs:this.polygon.getLatLngs(),layers:o}),this.disable()}},t}($e.Handler),Q_=`.leaflet-control-lasso {
    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsSAAALEgHS3X78AAAD6UlEQVR4nO1b7XHbMAwFfP0fdYKqE8QbRJ0gGUEjaAR3A4/gbuBOUHWCKhs4E1SegD06jzmYpWhJpiRKNu58Tix+AA8gCQIQK6Xolml109LfAbgDcAfg5gH4NPQEzJwSkf4kRLR2NKmJqNLfSqlqaH7+4y/0McjML0SUQdinHkO8ApCSiPZKqToogxYFAQBC50T03NDkN74raFzSGtahreSLo+9PALG7mlEXaQD6fMD0BgIp8TkQ0ZaINChpl7ExZoZxK2vcGr8nfXl2ztm5g1twI/Q6KHPvVlFg/DMgJgEAWpWCay3lIYX2zJ1bQFQhAO+i9b2l8VEEd/BSWEooBgUAm5REPvg67AGCrZDdIABgQ6qF1oOu8QBAbK4FwTd4bq23SbXeks/OIPg0f7V5TQRCpz3BNdhamH30wgu+CwFC66VqD5IIByRas/eAYDbGqi8AW+FszEp4ocC6y1KQneW6z+YmvJDDLIVDVwBKdNzPVXghi/FbLjprp4AIM2fi6loMcusal8zN8eXirOp885jNrn/BAlKxnL17GWPj+As8viqlDguwAG3V+hR7JKJvSqmyqd1KmMnrUoQHGaEzX6OVaLAfg6sRyUSeUt+UKxGobDSTmZKR5yIAj/h79IhsDPSRFxg6+ho9AAukpI1IgydGxiY4dSRON+/SXgwAyE1sHbkF79JmeEuaPs91H4DWf+Ffk1nSgDwQ0RH5iUbZqgXcAI0MG/FbKn7f+i5DZo14PabISR/lb0qpjWETXq252LmSsidaCYfh8s0pbnKZuFHuEzNvmNl5MiR9YmmRLYHaxb8VJ3SG+UzD3ZyvwyI/UEPozMoZFE2xTjOADId1yuhGBMLO0raSUSE74HsGgDoPiZULsIISPkFqtUlEuOx0YsiHadeIakTC57bGPW0zAVRiP+yVXJhY+M6JHLFcCtfDvUAoahCseoXW0Wz0Oy1310O5WUQLgmX2ZddEzkffhoc2CJMUQ3h4kzt+v7S4ke/CRKWYaBtBYURmF2tcMda7bC0absWEk5TG4ISyS3Suury1BqAB+XIMIDCv7eAEsUTvHtDQoak8bhPSexSlcXadYBlqHu8p0BMIZRVIti9QeD/Hc/S1hVawgKDuufQDriqVZeYcAjeVyL4BGBc1lcaSKY8dolaYmTXgf0ykKFStcCIKpM33Q8vuR1EcXeEuMkhoDnyWCKB81wGUQV+aEhFaJ/mSlgPwYvyHZ8QN9SlS38RbY3hnYQ/NHyH8KVq0+DdGdCgMS+sRe1ImX8xYvAUw8wGb7Q9c88/2l1sAIEPBlPM0ur85GgEPk9IdgAh4mJTuAETAw3RERP8Ab2Uzgrad13wAAAAASUVORK5CYII=');
    background-size: 22px;
}`;fd(Q_);var gh=function(r){sc(t,r);function t(e){e===void 0&&(e={});var n=r.call(this)||this;return n.options={position:"topright",title:"Toggle Lasso"},$e.Util.setOptions(n,e),n}return t.prototype.setOptions=function(e){this.options=cs(cs({},this.options),e),this.lasso&&this.lasso.setOptions(this.options)},t.prototype.onAdd=function(e){this.lasso=new du(e,this.options);var n=$e.DomUtil.create("div","leaflet-bar leaflet-control"),i=$e.DomUtil.create("a","leaflet-control-lasso",n);return i.href="javascript:void(0)",i.title=this.options.title,i.setAttribute("role","button"),i.setAttribute("aria-label",i.title),$e.DomEvent.addListener(i,"click",this.toggle,this),$e.DomEvent.disableClickPropagation(i),n},t.prototype.enabled=function(){return this.lasso?this.lasso.enabled():!1},t.prototype.enable=function(){this.lasso&&this.lasso.enable()},t.prototype.disable=function(){this.lasso&&this.lasso.disable()},t.prototype.toggle=function(){this.lasso&&this.lasso.toggle()},t}($e.Control);typeof window.L<"u"&&(window.L.Lasso=du,window.L.lasso=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return new(du.bind.apply(du,bf([void 0],r,!1)))},window.L.Control.Lasso=gh,window.L.control.lasso=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return new(gh.bind.apply(gh,bf([void 0],r,!1)))});let _h=(r=21)=>crypto.getRandomValues(new Uint8Array(r)).reduce((t,e)=>(e&=63,e<36?t+=e.toString(36):e<62?t+=(e-26).toString(36).toUpperCase():e>62?t+="-":t+="_",t),"");function $_(r){let t,e,n=[{xmlns:"http://www.w3.org/2000/svg"},{width:r[0]},{height:r[0]},{fill:r[1]},{class:e=r[4].class},r[5],{"aria-label":r[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<n.length;o+=1)i=Pt(i,n[o]);return{c(){t=Sn("svg"),this.h()},l(o){t=In(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=pt(t);s.forEach(Y),this.h()},h(){on(t,i)},m(o,s){wt(o,t,s),t.innerHTML=r[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),on(t,i=qt(n,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&e!==(e=o[4].class)&&{class:e},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Xt,o:Xt,d(o){o&&Y(t)}}}let tm='<path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>',Ef='<path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>',em='<path d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 0 0 1.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 0 0-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 0 0 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>',nm='<path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>',rm='<path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>';function im(r,t,e){const n=["size","color","variation","ariaLabel"];let i=Ae(t,n),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=tm;break;case"outlined":l=Ef;break;case"round":l=em;break;case"sharp":l=nm;break;case"two-tone":l=rm;break;default:l=Ef}let{ariaLabel:p="search"}=t;return r.$$set=g=>{e(4,t=Pt(Pt({},t),je(g))),e(5,i=Ae(t,n)),"size"in g&&e(0,o=g.size),"color"in g&&e(1,s=g.color),"variation"in g&&e(6,u=g.variation),"ariaLabel"in g&&e(2,p=g.ariaLabel)},t=je(t),[o,s,p,l,t,i,u]}class om extends we{constructor(t){super(),Ee(this,t,im,$_,Me,{size:0,color:1,variation:6,ariaLabel:2})}}function sm(r){const t=r-1;return t*t*t+1}function dd(r,{delay:t=0,duration:e=400,easing:n=hg}={}){const i=+getComputedStyle(r).opacity;return{delay:t,duration:e,easing:n,css:o=>`opacity: ${o*i}`}}function Mf(r,{delay:t=0,duration:e=400,easing:n=sm,x:i=0,y:o=0,opacity:s=0}={}){const u=getComputedStyle(r),l=+u.opacity,p=u.transform==="none"?"":u.transform,g=l*(1-s);return{delay:t,duration:e,easing:n,css:(c,_)=>`
			transform: ${p} translate(${(1-c)*i}px, ${(1-c)*o}px);
			opacity: ${l-g*_}`}}function Pf(r,t,e){const n=r.slice();return n[9]=t[e],n}function Sf(r){let t,e,n,i=r[1],o=[];for(let s=0;s<i.length;s+=1)o[s]=If(Pf(r,i,s));return{c(){t=bt("ul");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){t=Ct(s,"UL",{class:!0});var u=pt(t);for(let l=0;l<o.length;l+=1)o[l].l(u);u.forEach(Y),this.h()},h(){yt(t,"class","max-h-64 overflow-auto py-2")},m(s,u){wt(s,t,u);for(let l=0;l<o.length;l+=1)o[l].m(t,null);n=!0},p(s,u){if(u&18){i=s[1];let l;for(l=0;l<i.length;l+=1){const p=Pf(s,i,l);o[l]?o[l].p(p,u):(o[l]=If(p),o[l].c(),o[l].m(t,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=i.length}},i(s){n||(Bh(()=>{e||(e=Vc(t,Mf,{y:-200,duration:2e3},!0)),e.run(1)}),n=!0)},o(s){e||(e=Vc(t,Mf,{y:-200,duration:2e3},!1)),e.run(0),n=!1},d(s){s&&Y(t),cg(o,s),s&&e&&e.end()}}}function If(r){let t,e,n=r[9].river_name+"",i,o,s=r[9].river_code+"",u,l,p=r[9].prefecture_name+"",g,c,_,C,M;function S(){return r[6](r[9])}return{c(){t=bt("li"),e=bt("a"),i=mn(n),o=mn(":"),u=mn(s),l=mn(" ("),g=mn(p),c=mn(")"),_=De(),this.h()},l(P){t=Ct(P,"LI",{});var k=pt(t);e=Ct(k,"A",{href:!0,class:!0});var D=pt(e);i=vn(D,n),o=vn(D,":"),u=vn(D,s),l=vn(D," ("),g=vn(D,p),c=vn(D,")"),D.forEach(Y),_=Re(k),k.forEach(Y),this.h()},h(){yt(e,"href","/"),yt(e,"class","block px-4 py-2 text-sm text-gray-800 hover:bg-gray-100")},m(P,k){wt(P,t,k),It(t,e),It(e,i),It(e,o),It(e,u),It(e,l),It(e,g),It(e,c),It(t,_),C||(M=un(e,"click",S),C=!0)},p(P,k){r=P,k&2&&n!==(n=r[9].river_name+"")&&$o(i,n),k&2&&s!==(s=r[9].river_code+"")&&$o(u,s),k&2&&p!==(p=r[9].prefecture_name+"")&&$o(g,p)},d(P){P&&Y(t),C=!1,M()}}}function am(r){let t,e,n,i,o,s,u,l,p,g;o=new om({props:{tabindex:"-1"}});let c=r[2]&&Sf(r);return{c(){t=bt("div"),e=bt("input"),n=De(),i=bt("button"),pe(o.$$.fragment),s=De(),u=bt("div"),c&&c.c(),this.h()},l(_){t=Ct(_,"DIV",{class:!0});var C=pt(t);e=Ct(C,"INPUT",{type:!0,class:!0}),n=Re(C),i=Ct(C,"BUTTON",{type:!0,class:!0});var M=pt(i);me(o.$$.fragment,M),M.forEach(Y),C.forEach(Y),s=Re(_),u=Ct(_,"DIV",{class:!0});var S=pt(u);c&&c.l(S),S.forEach(Y),this.h()},h(){yt(e,"type","text"),yt(e,"class","rounded-l-sm border-0 text-sm outline outline-1 outline-gray-400"),yt(i,"type","button"),yt(i,"class","rounded-r-sm bg-indigo-500 px-2 text-white outline outline-1 outline-gray-400 hover:bg-indigo-600 focus:bg-indigo-600"),yt(t,"class","pointer-events-auto grid w-min grid-cols-[20rem,_max-content] gap-x-px shadow-md shadow-indigo-600/30 transition hover:-translate-y-px hover:shadow-lg hover:shadow-indigo-600/20"),yt(u,"class","pointer-events-auto mt-1 w-80 bg-white shadow-md shadow-indigo-600/30 transition hover:-translate-y-px hover:shadow-lg hover:shadow-indigo-600/20")},m(_,C){wt(_,t,C),It(t,e),Gc(e,r[0]),It(t,n),It(t,i),de(o,i,null),wt(_,s,C),wt(_,u,C),c&&c.m(u,null),l=!0,p||(g=[un(e,"input",r[5]),un(i,"click",r[3])],p=!0)},p(_,[C]){C&1&&e.value!==_[0]&&Gc(e,_[0]),_[2]?c?(c.p(_,C),C&4&&dt(c,1)):(c=Sf(_),c.c(),dt(c,1),c.m(u,null)):c&&(no(),mt(c,1,1,()=>{c=null}),ro())},i(_){l||(dt(o.$$.fragment,_),dt(c),l=!0)},o(_){mt(o.$$.fragment,_),mt(c),l=!1},d(_){_&&Y(t),ge(o),_&&Y(s),_&&Y(u),c&&c.d(),p=!1,ie(g)}}}function lm(r,t,e){let n;Dn(r,Mg,c=>e(7,c));const i=Pl();let o="",s=[];const u=async()=>{e(2,n=!0);const c=await Fo("candidates",{query:o});console.log(c),e(1,s=c.candidates)},l=async c=>{console.log(c);const _={name:c.river_name,river_code:c.river_code};i("clickedSearchRiver",{curveKey:_})};function p(){o=this.value,e(0,o)}const g=c=>l(c);return e(2,n=!1),[o,s,n,u,l,p,g]}class um extends we{constructor(t){super(),Ee(this,t,lm,am,Me,{})}}function hm(r){let t,e,n=[{xmlns:"http://www.w3.org/2000/svg"},{width:r[0]},{height:r[0]},{fill:r[1]},{class:e=r[4].class},r[5],{"aria-label":r[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<n.length;o+=1)i=Pt(i,n[o]);return{c(){t=Sn("svg"),this.h()},l(o){t=In(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=pt(t);s.forEach(Y),this.h()},h(){on(t,i)},m(o,s){wt(o,t,s),t.innerHTML=r[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),on(t,i=qt(n,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&e!==(e=o[4].class)&&{class:e},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Xt,o:Xt,d(o){o&&Y(t)}}}let cm='<path d="M23 8c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2z"/>',kf='<path d="M23 8c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2z"/>',fm='<path d="M23 8c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2zm0 0c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2z"/>',pm='<path d="M23 8c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2zm0 0c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2z"/>',dm='<path d="M23 8c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2z"/>';function gm(r,t,e){const n=["size","color","variation","ariaLabel"];let i=Ae(t,n),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=cm;break;case"outlined":l=kf;break;case"round":l=fm;break;case"sharp":l=pm;break;case"two-tone":l=dm;break;default:l=kf}let{ariaLabel:p="timeline"}=t;return r.$$set=g=>{e(4,t=Pt(Pt({},t),je(g))),e(5,i=Ae(t,n)),"size"in g&&e(0,o=g.size),"color"in g&&e(1,s=g.color),"variation"in g&&e(6,u=g.variation),"ariaLabel"in g&&e(2,p=g.ariaLabel)},t=je(t),[o,s,p,l,t,i,u]}class _m extends we{constructor(t){super(),Ee(this,t,gm,hm,Me,{size:0,color:1,variation:6,ariaLabel:2})}}function mm(r){let t,e,n=[{xmlns:"http://www.w3.org/2000/svg"},{width:r[0]},{height:r[0]},{fill:r[1]},{class:e=r[4].class},r[5],{"aria-label":r[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<n.length;o+=1)i=Pt(i,n[o]);return{c(){t=Sn("svg"),this.h()},l(o){t=In(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=pt(t);s.forEach(Y),this.h()},h(){on(t,i)},m(o,s){wt(o,t,s),t.innerHTML=r[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),on(t,i=qt(n,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&e!==(e=o[4].class)&&{class:e},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Xt,o:Xt,d(o){o&&Y(t)}}}let vm='<path d="M16.9 11a5 5 0 0 0-9.8 0H2v2h5.1a5 5 0 0 0 9.8 0H22v-2h-5.1zM12 15c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/>',xf='<path d="M16.9 11a5 5 0 0 0-9.8 0H2v2h5.1a5 5 0 0 0 9.8 0H22v-2h-5.1zM12 15c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/>',ym='<path d="M21 13c.55 0 1-.45 1-1s-.45-1-1-1h-4.1a5 5 0 0 0-9.8 0H3c-.55 0-1 .45-1 1s.45 1 1 1h4.1a5 5 0 0 0 9.8 0H21zm-9 2c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/>',Lm='<path d="M16.9 11a5 5 0 0 0-9.8 0H2v2h5.1a5 5 0 0 0 9.8 0H22v-2h-5.1zM12 15c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/>',bm='<path d="M16.9 11a5 5 0 0 0-9.8 0H2v2h5.1a5 5 0 0 0 9.8 0H22v-2h-5.1zM12 15c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/>';function Cm(r,t,e){const n=["size","color","variation","ariaLabel"];let i=Ae(t,n),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=vm;break;case"outlined":l=xf;break;case"round":l=ym;break;case"sharp":l=Lm;break;case"two-tone":l=bm;break;default:l=xf}let{ariaLabel:p="commit"}=t;return r.$$set=g=>{e(4,t=Pt(Pt({},t),je(g))),e(5,i=Ae(t,n)),"size"in g&&e(0,o=g.size),"color"in g&&e(1,s=g.color),"variation"in g&&e(6,u=g.variation),"ariaLabel"in g&&e(2,p=g.ariaLabel)},t=je(t),[o,s,p,l,t,i,u]}class wm extends we{constructor(t){super(),Ee(this,t,Cm,mm,Me,{size:0,color:1,variation:6,ariaLabel:2})}}function Em(r){let t,e,n=[{xmlns:"http://www.w3.org/2000/svg"},{width:r[0]},{height:r[0]},{fill:r[1]},{class:e=r[4].class},r[5],{"aria-label":r[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<n.length;o+=1)i=Pt(i,n[o]);return{c(){t=Sn("svg"),this.h()},l(o){t=In(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=pt(t);s.forEach(Y),this.h()},h(){on(t,i)},m(o,s){wt(o,t,s),t.innerHTML=r[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),on(t,i=qt(n,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&e!==(e=o[4].class)&&{class:e},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Xt,o:Xt,d(o){o&&Y(t)}}}let Mm='<path d="M18 8c0-3.31-2.69-6-6-6S6 4.69 6 8c0 4.5 6 11 6 11s6-6.5 6-11zm-8 0c0-1.1.9-2 2-2s2 .9 2 2a2 2 0 1 1-4 0zM5 20v2h14v-2H5z"/>',Tf='<path d="M12 4c1.93 0 5 1.4 5 5.15 0 2.16-1.72 4.67-5 7.32-3.28-2.65-5-5.17-5-7.32C7 5.4 10.07 4 12 4m0-2C8.73 2 5 4.46 5 9.15c0 3.12 2.33 6.41 7 9.85 4.67-3.44 7-6.73 7-9.85C19 4.46 15.27 2 12 2z"/><path d="M12 7c-1.1 0-2 .9-2 2s.9 2 2 2a2 2 0 1 0 0-4zM5 20h14v2H5v-2z"/>',Pm='<path d="M6 20h12c.55 0 1 .45 1 1s-.45 1-1 1H6c-.55 0-1-.45-1-1s.45-1 1-1zm6-13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-5c3.27 0 7 2.46 7 7.15 0 2.98-2.13 6.12-6.39 9.39-.36.28-.86.28-1.22 0C7.13 15.26 5 12.13 5 9.15 5 4.46 8.73 2 12 2z"/>',Sm='<path fill-rule="evenodd" d="M5 20h14v2H5v-2zm7-13c-1.1 0-2 .9-2 2s.9 2 2 2a2 2 0 1 0 0-4zm0-5c3.27 0 7 2.46 7 7.15 0 3.12-2.33 6.41-7 9.85-4.67-3.44-7-6.73-7-9.85C5 4.46 8.73 2 12 2z"/>',Im='<path fill-opacity=".3" d="M12 3C9.19 3 6 5.11 6 9.13c0 2.68 2 5.49 6 8.44 4-2.95 6-5.77 6-8.44C18 5.11 14.81 3 12 3z"/><path d="M12 4c1.93 0 5 1.4 5 5.15 0 2.16-1.72 4.67-5 7.32-3.28-2.65-5-5.17-5-7.32C7 5.4 10.07 4 12 4m0-2C8.73 2 5 4.46 5 9.15c0 3.12 2.33 6.41 7 9.85 4.67-3.44 7-6.73 7-9.85C19 4.46 15.27 2 12 2z"/><path d="M12 7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM5 20h14v2H5v-2z"/>';function km(r,t,e){const n=["size","color","variation","ariaLabel"];let i=Ae(t,n),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=Mm;break;case"outlined":l=Tf;break;case"round":l=Pm;break;case"sharp":l=Sm;break;case"two-tone":l=Im;break;default:l=Tf}let{ariaLabel:p="pin drop"}=t;return r.$$set=g=>{e(4,t=Pt(Pt({},t),je(g))),e(5,i=Ae(t,n)),"size"in g&&e(0,o=g.size),"color"in g&&e(1,s=g.color),"variation"in g&&e(6,u=g.variation),"ariaLabel"in g&&e(2,p=g.ariaLabel)},t=je(t),[o,s,p,l,t,i,u]}class xm extends we{constructor(t){super(),Ee(this,t,km,Em,Me,{size:0,color:1,variation:6,ariaLabel:2})}}function Tm(r){let t,e,n=[{xmlns:"http://www.w3.org/2000/svg"},{width:r[0]},{height:r[0]},{fill:r[1]},{class:e=r[4].class},r[5],{"aria-label":r[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<n.length;o+=1)i=Pt(i,n[o]);return{c(){t=Sn("svg"),this.h()},l(o){t=In(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=pt(t);s.forEach(Y),this.h()},h(){on(t,i)},m(o,s){wt(o,t,s),t.innerHTML=r[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),on(t,i=qt(n,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&e!==(e=o[4].class)&&{class:e},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Xt,o:Xt,d(o){o&&Y(t)}}}let Nm='<path d="M12 6.5A2.5 2.5 0 0 1 14.5 9c0 .74-.33 1.39-.83 1.85l3.63 3.63c.98-1.86 1.7-3.8 1.7-5.48 0-3.87-3.13-7-7-7a7 7 0 0 0-5.04 2.15l3.19 3.19c.46-.52 1.11-.84 1.85-.84zm4.37 9.6-4.63-4.63-.11-.11L3.27 3 2 4.27l3.18 3.18C5.07 7.95 5 8.47 5 9c0 5.25 7 13 7 13s1.67-1.85 3.38-4.35L18.73 21 20 19.73l-3.63-3.63z"/>',Nf='<path d="M12 4c2.76 0 5 2.24 5 5 0 1.06-.39 2.32-1 3.62l1.49 1.49C18.37 12.36 19 10.57 19 9c0-3.87-3.13-7-7-7-1.84 0-3.5.71-4.75 1.86l1.43 1.43C9.56 4.5 10.72 4 12 4zm0 2.5c-.59 0-1.13.21-1.56.56l3.5 3.5c.35-.43.56-.97.56-1.56A2.5 2.5 0 0 0 12 6.5zM3.41 2.86 2 4.27l3.18 3.18C5.07 7.95 5 8.47 5 9c0 5.25 7 13 7 13s1.67-1.85 3.38-4.35L18.73 21l1.41-1.41L3.41 2.86zM12 18.88c-2.01-2.58-4.8-6.74-4.98-9.59l6.92 6.92c-.65.98-1.33 1.89-1.94 2.67z"/>',Om='<path d="M2.71 3.56a.996.996 0 0 0 0 1.41l2.47 2.47C5.07 7.95 5 8.47 5 9c0 4.17 4.42 9.92 6.23 12.11.4.48 1.13.48 1.53 0 .65-.78 1.62-2.01 2.61-3.46l2.65 2.65a.996.996 0 1 0 1.41-1.41L4.12 3.56a.996.996 0 0 0-1.41 0zM12 2c-1.84 0-3.5.71-4.75 1.86l3.19 3.19c.43-.34.97-.55 1.56-.55A2.5 2.5 0 0 1 14.5 9c0 .59-.21 1.13-.56 1.56l3.55 3.55C18.37 12.36 19 10.57 19 9c0-3.87-3.13-7-7-7z"/>',Dm='<path d="M3.41 2.86 2 4.27l3.18 3.18C5.07 7.95 5 8.47 5 9c0 5.25 7 13 7 13s1.67-1.85 3.38-4.35L18.73 21l1.41-1.41L3.41 2.86zM12 2c-1.84 0-3.5.71-4.75 1.86l3.19 3.19c.43-.34.97-.55 1.56-.55A2.5 2.5 0 0 1 14.5 9c0 .59-.21 1.13-.56 1.56l3.55 3.55C18.37 12.36 19 10.57 19 9c0-3.87-3.13-7-7-7z"/>',Rm='<path d="M17 9c0 1.06-.39 2.32-1 3.62l1.49 1.49C18.37 12.36 19 10.57 19 9c0-3.87-3.13-7-7-7-1.84 0-3.5.71-4.75 1.86l1.43 1.43C9.56 4.5 10.72 4 12 4c2.76 0 5 2.24 5 5zm-5-2.5c-.59 0-1.13.21-1.56.56l3.5 3.5c.35-.43.56-.97.56-1.56A2.5 2.5 0 0 0 12 6.5zM3.41 2.86 2 4.27l3.18 3.18C5.07 7.95 5 8.47 5 9c0 5.25 7 13 7 13s1.67-1.85 3.38-4.35L18.73 21l1.41-1.41L3.41 2.86zM12 18.88c-2.01-2.58-4.8-6.74-4.98-9.59l6.92 6.92c-.65.98-1.33 1.89-1.94 2.67z"/>';function Am(r,t,e){const n=["size","color","variation","ariaLabel"];let i=Ae(t,n),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=Nm;break;case"outlined":l=Nf;break;case"round":l=Om;break;case"sharp":l=Dm;break;case"two-tone":l=Rm;break;default:l=Nf}let{ariaLabel:p="location off"}=t;return r.$$set=g=>{e(4,t=Pt(Pt({},t),je(g))),e(5,i=Ae(t,n)),"size"in g&&e(0,o=g.size),"color"in g&&e(1,s=g.color),"variation"in g&&e(6,u=g.variation),"ariaLabel"in g&&e(2,p=g.ariaLabel)},t=je(t),[o,s,p,l,t,i,u]}class Bm extends we{constructor(t){super(),Ee(this,t,Am,Tm,Me,{size:0,color:1,variation:6,ariaLabel:2})}}function zm(r){let t,e,n=[{xmlns:"http://www.w3.org/2000/svg"},{width:r[0]},{height:r[0]},{fill:r[1]},{class:e=r[4].class},r[5],{"aria-label":r[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<n.length;o+=1)i=Pt(i,n[o]);return{c(){t=Sn("svg"),this.h()},l(o){t=In(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=pt(t);s.forEach(Y),this.h()},h(){on(t,i)},m(o,s){wt(o,t,s),t.innerHTML=r[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),on(t,i=qt(n,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&e!==(e=o[4].class)&&{class:e},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Xt,o:Xt,d(o){o&&Y(t)}}}let Fm='<path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"/>',Of='<path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"/>',Gm='<path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM8 17h8c.55 0 1-.45 1-1V8c0-.55-.45-1-1-1H8c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1zm1-8h6v6H9V9z"/>',Vm='<path d="M3 13h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zM3 17h2v-2H3v2zM9 3H7v2h2V3zM5 3H3v2h2V3zm6 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0-4h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zm4 0h2V3h-2v2zm0 16h2v-2h-2v2zM3 21h2v-2H3v2zm4-4h10V7H7v10zm2-8h6v6H9V9z"/>',Um='<path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"/>';function Hm(r,t,e){const n=["size","color","variation","ariaLabel"];let i=Ae(t,n),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=Fm;break;case"outlined":l=Of;break;case"round":l=Gm;break;case"sharp":l=Vm;break;case"two-tone":l=Um;break;default:l=Of}let{ariaLabel:p="select all"}=t;return r.$$set=g=>{e(4,t=Pt(Pt({},t),je(g))),e(5,i=Ae(t,n)),"size"in g&&e(0,o=g.size),"color"in g&&e(1,s=g.color),"variation"in g&&e(6,u=g.variation),"ariaLabel"in g&&e(2,p=g.ariaLabel)},t=je(t),[o,s,p,l,t,i,u]}class Zm extends we{constructor(t){super(),Ee(this,t,Hm,zm,Me,{size:0,color:1,variation:6,ariaLabel:2})}}function jm(r){let t,e,n=[{xmlns:"http://www.w3.org/2000/svg"},{width:r[0]},{height:r[0]},{fill:r[1]},{class:e=r[4].class},r[5],{"aria-label":r[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<n.length;o+=1)i=Pt(i,n[o]);return{c(){t=Sn("svg"),this.h()},l(o){t=In(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=pt(t);s.forEach(Y),this.h()},h(){on(t,i)},m(o,s){wt(o,t,s),t.innerHTML=r[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),on(t,i=qt(n,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&e!==(e=o[4].class)&&{class:e},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Xt,o:Xt,d(o){o&&Y(t)}}}let qm='<path d="M21 12.4V7l-4-4H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7.4l8.6-8.6zM15 15c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zM6 6h9v4H6V6zm13.99 10.25 1.77 1.77L16.77 23H15v-1.77l4.99-4.98zm3.26.26-.85.85-1.77-1.77.85-.85c.2-.2.51-.2.71 0l1.06 1.06c.2.2.2.52 0 .71z"/>',Df='<path d="M21 12.4V7l-4-4H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7.4l2-2H5V5h11.17L19 7.83v6.57l2-2zM15 15c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zM6 6h9v4H6V6zm13.99 10.25 1.77 1.77L16.77 23H15v-1.77l4.99-4.98zm3.26.26-.85.85-1.77-1.77.85-.85c.2-.2.51-.2.71 0l1.06 1.06c.2.2.2.52 0 .71z"/>',Xm='<path d="m20.41 6.41-2.83-2.83c-.37-.37-.88-.58-1.41-.58H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h7.4l8.6-8.6V7.83c0-.53-.21-1.04-.59-1.42zM12 18c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-9c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1V7c0-.55.45-1 1-1h7c.55 0 1 .45 1 1v2zm4.99 7.25 1.77 1.77-4.84 4.84c-.1.09-.23.14-.36.14H15.5c-.28 0-.5-.22-.5-.5v-1.06c0-.13.05-.26.15-.35l4.84-4.84zm3.26.26-.85.85-1.77-1.77.85-.85c.2-.2.51-.2.71 0l1.06 1.06c.2.2.2.52 0 .71z"/>',Ym='<path d="M21 12.4V7l-4-4H3v18h9.4l8.6-8.6zM15 15c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zM6 6h9v4H6V6zm13.99 10.25 1.77 1.77L16.77 23H15v-1.77l4.99-4.98zm3.62-.09-1.2 1.2-1.77-1.77 1.2-1.2 1.77 1.77z"/>',Wm='<path d="M16.17 5H5v14h9.4l4.6-4.6V7.83L16.17 5zM12 18c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-8H6V6h9v4z" opacity=".3"/><path d="M21 12.4V7l-4-4H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7.4l2-2H5V5h11.17L19 7.83v6.57l2-2zM15 15c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zM6 6h9v4H6V6zm13.99 10.25 1.77 1.77L16.77 23H15v-1.77l4.99-4.98zm3.26.26-.85.85-1.77-1.77.85-.85c.2-.2.51-.2.71 0l1.06 1.06c.2.2.2.52 0 .71z"/>';function Km(r,t,e){const n=["size","color","variation","ariaLabel"];let i=Ae(t,n),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=qm;break;case"outlined":l=Df;break;case"round":l=Xm;break;case"sharp":l=Ym;break;case"two-tone":l=Wm;break;default:l=Df}let{ariaLabel:p="save as"}=t;return r.$$set=g=>{e(4,t=Pt(Pt({},t),je(g))),e(5,i=Ae(t,n)),"size"in g&&e(0,o=g.size),"color"in g&&e(1,s=g.color),"variation"in g&&e(6,u=g.variation),"ariaLabel"in g&&e(2,p=g.ariaLabel)},t=je(t),[o,s,p,l,t,i,u]}class Jm extends we{constructor(t){super(),Ee(this,t,Km,jm,Me,{size:0,color:1,variation:6,ariaLabel:2})}}function Qm(r){let t,e,n=[{xmlns:"http://www.w3.org/2000/svg"},{width:r[0]},{height:r[0]},{fill:r[1]},{class:e=r[4].class},r[5],{"aria-label":r[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<n.length;o+=1)i=Pt(i,n[o]);return{c(){t=Sn("svg"),this.h()},l(o){t=In(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=pt(t);s.forEach(Y),this.h()},h(){on(t,i)},m(o,s){wt(o,t,s),t.innerHTML=r[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),on(t,i=qt(n,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&e!==(e=o[4].class)&&{class:e},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Xt,o:Xt,d(o){o&&Y(t)}}}let $m='<path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"/>',Rf='<path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"/>',tv='<path d="M7 7h10v1.79c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.79a.5.5 0 0 0-.85.36V5H6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7zm10 10H7v-1.79c0-.45-.54-.67-.85-.35l-2.79 2.79c-.2.2-.2.51 0 .71l2.79 2.79a.5.5 0 0 0 .85-.36V19h11c.55 0 1-.45 1-1v-4c0-.55-.45-1-1-1s-1 .45-1 1v3z"/>',ev='<path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"/>',nv='<path d="M7 22v-3h12v-6h-2v4H7v-3l-4 4zM21 6l-4-4v3H5v6h2V7h10v3z"/>';function rv(r,t,e){const n=["size","color","variation","ariaLabel"];let i=Ae(t,n),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=$m;break;case"outlined":l=Rf;break;case"round":l=tv;break;case"sharp":l=ev;break;case"two-tone":l=nv;break;default:l=Rf}let{ariaLabel:p="repeat"}=t;return r.$$set=g=>{e(4,t=Pt(Pt({},t),je(g))),e(5,i=Ae(t,n)),"size"in g&&e(0,o=g.size),"color"in g&&e(1,s=g.color),"variation"in g&&e(6,u=g.variation),"ariaLabel"in g&&e(2,p=g.ariaLabel)},t=je(t),[o,s,p,l,t,i,u]}class iv extends we{constructor(t){super(),Ee(this,t,rv,Qm,Me,{size:0,color:1,variation:6,ariaLabel:2})}}function ov(r){let t,e,n=[{xmlns:"http://www.w3.org/2000/svg"},{width:r[0]},{height:r[0]},{fill:r[1]},{class:e=r[4].class},r[5],{"aria-label":r[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<n.length;o+=1)i=Pt(i,n[o]);return{c(){t=Sn("svg"),this.h()},l(o){t=In(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=pt(t);s.forEach(Y),this.h()},h(){on(t,i)},m(o,s){wt(o,t,s),t.innerHTML=r[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),on(t,i=qt(n,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&e!==(e=o[4].class)&&{class:e},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Xt,o:Xt,d(o){o&&Y(t)}}}let sv='<path d="m19.81 14.99 1.19-.92-1.43-1.43-1.19.92 1.43 1.43zm-.45-4.72L21 9l-9-7-2.91 2.27 7.87 7.88 2.4-1.88zM3.27 1 2 2.27l4.22 4.22L3 9l1.63 1.27L12 16l2.1-1.63 1.43 1.43L12 18.54l-7.37-5.73L3 14.07l9 7 4.95-3.85L20.73 21 22 19.73 3.27 1z"/>',Af='<path d="M12 4.53 17.74 9l-1.89 1.47 1.43 1.42L21 9l-9-7-2.59 2.02 1.42 1.42zm9 9.54-1.63-1.27-.67.52 1.43 1.43zM3.41.86 2 2.27l4.22 4.22L3 9l9 7 2.1-1.63 1.42 1.42-3.53 2.75-7.37-5.73L3 14.07l9 7 4.95-3.85L20.73 21l1.41-1.41L3.41.86zM12 13.47 6.26 9l1.39-1.08 5.02 5.02-.67.53z"/>',av='<path d="M19.99 9.79c.51-.4.51-1.18 0-1.58l-6.76-5.26c-.72-.56-1.73-.56-2.46 0L9.41 4.02l7.88 7.88 2.7-2.11zm0 3.49-.01-.01a.991.991 0 0 0-1.22 0l-.05.04 1.4 1.4a.982.982 0 0 0-.12-1.43zm1.45 5.6L4.12 1.56a.996.996 0 1 0-1.41 1.41l3.52 3.52-2.22 1.72c-.51.4-.51 1.18 0 1.58l6.76 5.26c.72.56 1.73.56 2.46 0l.87-.68 1.42 1.42-2.92 2.27c-.36.28-.87.28-1.23 0l-6.15-4.78a.991.991 0 0 0-1.22 0 .997.997 0 0 0 0 1.57l6.76 5.26c.72.56 1.73.56 2.46 0l3.72-2.89 3.07 3.07c.39.39 1.02.39 1.41 0 .41-.39.41-1.02.02-1.41z"/>',lv='<path d="m21 9-9-7-2.59 2.02 7.87 7.87zm0 5.07-1.63-1.27-.67.52 1.43 1.43zM3.41.86 2 2.27l4.22 4.22L3 9l9 7 2.1-1.63 1.42 1.42-3.53 2.75-7.37-5.73L3 14.07l9 7 4.95-3.85L20.73 21l1.41-1.41z"/>',uv='<path d="m12 13.47.67-.53-5.02-5.02L6.26 9zm0-8.94-1.17.91 5.02 5.03L17.74 9z" opacity=".3"/><path d="M12 4.53 17.74 9l-1.89 1.47 1.43 1.42L21 9l-9-7-2.59 2.02 1.42 1.42zm9 9.54-1.63-1.27-.67.52 1.43 1.43zM3.41.86 2 2.27l4.22 4.22L3 9l9 7 2.1-1.63 1.42 1.42-3.53 2.75-7.37-5.73L3 14.07l9 7 4.95-3.85L20.73 21l1.41-1.41L3.41.86zM12 13.47 6.26 9l1.39-1.08 5.02 5.02-.67.53z"/>';function hv(r,t,e){const n=["size","color","variation","ariaLabel"];let i=Ae(t,n),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=sv;break;case"outlined":l=Af;break;case"round":l=av;break;case"sharp":l=lv;break;case"two-tone":l=uv;break;default:l=Af}let{ariaLabel:p="layers clear"}=t;return r.$$set=g=>{e(4,t=Pt(Pt({},t),je(g))),e(5,i=Ae(t,n)),"size"in g&&e(0,o=g.size),"color"in g&&e(1,s=g.color),"variation"in g&&e(6,u=g.variation),"ariaLabel"in g&&e(2,p=g.ariaLabel)},t=je(t),[o,s,p,l,t,i,u]}class cv extends we{constructor(t){super(),Ee(this,t,hv,ov,Me,{size:0,color:1,variation:6,ariaLabel:2})}}function fv(r){let t,e,n=[{xmlns:"http://www.w3.org/2000/svg"},{width:r[0]},{height:r[0]},{fill:r[1]},{class:e=r[4].class},r[5],{"aria-label":r[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<n.length;o+=1)i=Pt(i,n[o]);return{c(){t=Sn("svg"),this.h()},l(o){t=In(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=pt(t);s.forEach(Y),this.h()},h(){on(t,i)},m(o,s){wt(o,t,s),t.innerHTML=r[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),on(t,i=qt(n,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&e!==(e=o[4].class)&&{class:e},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Xt,o:Xt,d(o){o&&Y(t)}}}let pv='<path d="M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3z"/>',Bf='<path d="M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3h-3z"/>',dv='<path d="M9.64 7.64c.29-.62.42-1.33.34-2.09-.19-1.73-1.54-3.2-3.26-3.49a4.008 4.008 0 0 0-4.66 4.65c.3 1.72 1.76 3.07 3.49 3.26.76.08 1.46-.05 2.09-.34L10 12l-2.36 2.36c-.62-.29-1.33-.42-2.09-.34-1.73.19-3.2 1.54-3.49 3.26a4.002 4.002 0 0 0 4.65 4.65c1.72-.3 3.07-1.76 3.26-3.49.08-.76-.05-1.46-.34-2.09L12 14l7.59 7.59c.89.89 2.41.26 2.41-1v-.01c0-.37-.15-.73-.41-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zm7.59-10.09L13 9l2 2 6.59-6.59c.26-.26.41-.62.41-1V3.4c0-1.25-1.52-1.88-2.41-.99z"/>',gv='<path d="M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3h-3z"/>',_v='<path d="m19 3-6 6 2 2 7-7V3zm-9 3c0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64c.23-.5.36-1.05.36-1.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-8.5c.28 0 .5.22.5.5s-.22.5-.5.5-.5-.22-.5-.5.22-.5.5-.5z"/>';function mv(r,t,e){const n=["size","color","variation","ariaLabel"];let i=Ae(t,n),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=pv;break;case"outlined":l=Bf;break;case"round":l=dv;break;case"sharp":l=gv;break;case"two-tone":l=_v;break;default:l=Bf}let{ariaLabel:p="content cut"}=t;return r.$$set=g=>{e(4,t=Pt(Pt({},t),je(g))),e(5,i=Ae(t,n)),"size"in g&&e(0,o=g.size),"color"in g&&e(1,s=g.color),"variation"in g&&e(6,u=g.variation),"ariaLabel"in g&&e(2,p=g.ariaLabel)},t=je(t),[o,s,p,l,t,i,u]}class vv extends we{constructor(t){super(),Ee(this,t,mv,fv,Me,{size:0,color:1,variation:6,ariaLabel:2})}}function yv(r){let t,e,n=[{xmlns:"http://www.w3.org/2000/svg"},{width:r[0]},{height:r[0]},{fill:r[1]},{class:e=r[4].class},r[5],{"aria-label":r[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<n.length;o+=1)i=Pt(i,n[o]);return{c(){t=Sn("svg"),this.h()},l(o){t=In(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=pt(t);s.forEach(Y),this.h()},h(){on(t,i)},m(o,s){wt(o,t,s),t.innerHTML=r[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),on(t,i=qt(n,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&e!==(e=o[4].class)&&{class:e},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Xt,o:Xt,d(o){o&&Y(t)}}}let Lv='<path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3 5 6.99h3V14h2V6.99h3L9 3z"/>',zf='<path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3 5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3 5 6.99h3V14h2V6.99h3L9 3z"/>',bv='<path d="M16 17.01V11c0-.55-.45-1-1-1s-1 .45-1 1v6.01h-1.79c-.45 0-.67.54-.35.85l2.79 2.78c.2.19.51.19.71 0l2.79-2.78c.32-.31.09-.85-.35-.85H16zM8.65 3.35 5.86 6.14c-.32.31-.1.85.35.85H8V13c0 .55.45 1 1 1s1-.45 1-1V6.99h1.79c.45 0 .67-.54.35-.85L9.35 3.35a.501.501 0 0 0-.7 0z"/>',Cv='<path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3 5 6.99h3V14h2V6.99h3L9 3z"/>',wv='<path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3 5 6.99h3V14h2V6.99h3L9 3z"/>';function Ev(r,t,e){const n=["size","color","variation","ariaLabel"];let i=Ae(t,n),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=Lv;break;case"outlined":l=zf;break;case"round":l=bv;break;case"sharp":l=Cv;break;case"two-tone":l=wv;break;default:l=zf}let{ariaLabel:p="swap vert"}=t;return r.$$set=g=>{e(4,t=Pt(Pt({},t),je(g))),e(5,i=Ae(t,n)),"size"in g&&e(0,o=g.size),"color"in g&&e(1,s=g.color),"variation"in g&&e(6,u=g.variation),"ariaLabel"in g&&e(2,p=g.ariaLabel)},t=je(t),[o,s,p,l,t,i,u]}class Mv extends we{constructor(t){super(),Ee(this,t,Ev,yv,Me,{size:0,color:1,variation:6,ariaLabel:2})}}function Ff(r){let t,e,n,i,o;return e=new iv({props:{tabindex:"-1",class:"outline-none"}}),{c(){t=bt("button"),pe(e.$$.fragment),this.h()},l(s){t=Ct(s,"BUTTON",{class:!0,type:!0});var u=pt(t);me(e.$$.fragment,u),u.forEach(Y),this.h()},h(){yt(t,"class","btn svelte-1fo0nmr"),yt(t,"type","button"),Jo(t,"!bg-red-200",r[3])},m(s,u){wt(s,t,u),de(e,t,null),n=!0,i||(o=un(t,"click",r[15]),i=!0)},p(s,u){(!n||u&8)&&Jo(t,"!bg-red-200",s[3])},i(s){n||(dt(e.$$.fragment,s),n=!0)},o(s){mt(e.$$.fragment,s),n=!1},d(s){s&&Y(t),ge(e),i=!1,o()}}}function Gf(r){let t,e,n,i,o;return e=new Bm({props:{tabindex:"-1",class:"outline-none",variation:"filled"}}),{c(){t=bt("button"),pe(e.$$.fragment),this.h()},l(s){t=Ct(s,"BUTTON",{class:!0,type:!0});var u=pt(t);me(e.$$.fragment,u),u.forEach(Y),this.h()},h(){yt(t,"class","btn svelte-1fo0nmr"),yt(t,"type","button")},m(s,u){wt(s,t,u),de(e,t,null),n=!0,i||(o=un(t,"click",r[7]),i=!0)},p:Xt,i(s){n||(dt(e.$$.fragment,s),n=!0)},o(s){mt(e.$$.fragment,s),n=!1},d(s){s&&Y(t),ge(e),i=!1,o()}}}function Vf(r){let t,e,n,i,o,s,u,l,p,g,c;return e=new Zm({props:{class:"outline-none",tabindex:"-1"}}),o=new Mv({props:{tabindex:"-1"}}),l=new vv({props:{class:"outline-none",tabindex:"-1"}}),{c(){t=bt("button"),pe(e.$$.fragment),n=De(),i=bt("button"),pe(o.$$.fragment),s=De(),u=bt("button"),pe(l.$$.fragment),this.h()},l(_){t=Ct(_,"BUTTON",{class:!0,type:!0});var C=pt(t);me(e.$$.fragment,C),C.forEach(Y),n=Re(_),i=Ct(_,"BUTTON",{class:!0,type:!0});var M=pt(i);me(o.$$.fragment,M),M.forEach(Y),s=Re(_),u=Ct(_,"BUTTON",{class:!0,type:!0});var S=pt(u);me(l.$$.fragment,S),S.forEach(Y),this.h()},h(){yt(t,"class","btn svelte-1fo0nmr"),yt(t,"type","button"),Jo(t,"!bg-indigo-200",r[5]),yt(i,"class","btn svelte-1fo0nmr"),yt(i,"type","button"),yt(u,"class","btn svelte-1fo0nmr"),yt(u,"type","button")},m(_,C){wt(_,t,C),de(e,t,null),wt(_,n,C),wt(_,i,C),de(o,i,null),wt(_,s,C),wt(_,u,C),de(l,u,null),p=!0,g||(c=[un(t,"click",r[9]),un(i,"click",r[11]),un(u,"click",r[8])],g=!0)},p(_,C){(!p||C&32)&&Jo(t,"!bg-indigo-200",_[5])},i(_){p||(dt(e.$$.fragment,_),dt(o.$$.fragment,_),dt(l.$$.fragment,_),p=!0)},o(_){mt(e.$$.fragment,_),mt(o.$$.fragment,_),mt(l.$$.fragment,_),p=!1},d(_){_&&Y(t),ge(e),_&&Y(n),_&&Y(i),ge(o),_&&Y(s),_&&Y(u),ge(l),g=!1,ie(c)}}}function Uf(r){let t,e,n,i,o,s,u,l,p,g,c,_,C,M,S;return e=new Jm({props:{class:"outline-none",tabindex:"-1"}}),o=new cv({props:{class:"outline-none",tabindex:"-1"}}),{c(){t=bt("button"),pe(e.$$.fragment),n=De(),i=bt("button"),pe(o.$$.fragment),s=De(),u=bt("button"),l=Sn("svg"),p=Sn("g"),g=Sn("g"),c=Sn("g"),_=Sn("path"),this.h()},l(P){t=Ct(P,"BUTTON",{class:!0,type:!0});var k=pt(t);me(e.$$.fragment,k),k.forEach(Y),n=Re(P),i=Ct(P,"BUTTON",{class:!0,type:!0});var D=pt(i);me(o.$$.fragment,D),D.forEach(Y),s=Re(P),u=Ct(P,"BUTTON",{class:!0,type:!0});var O=pt(u);l=In(O,"svg",{xmlns:!0,x:!0,y:!0,width:!0,height:!0,viewBox:!0,style:!0});var x=pt(l);p=In(x,"g",{transform:!0});var R=pt(p);g=In(R,"g",{fill:!0,"fill-rule":!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-miterlimit":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"font-family":!0,"font-weight":!0,"font-size":!0,"text-anchor":!0,style:!0});var F=pt(g);c=In(F,"g",{transform:!0});var B=pt(c);_=In(B,"path",{d:!0}),pt(_).forEach(Y),B.forEach(Y),F.forEach(Y),R.forEach(Y),x.forEach(Y),O.forEach(Y),this.h()},h(){yt(t,"class","btn svelte-1fo0nmr"),yt(t,"type","button"),yt(i,"class","btn !bg-red-200 svelte-1fo0nmr"),yt(i,"type","button"),yt(_,"d","M7,2.01563l13.16016,12.32813l-5.375,0.48438l-0.97656,0.08984l0.40625,0.89453l3.26172,7.14453l-2.40625,1.05859l-3.11328,-7.22266l-0.39062,-0.91016l-0.72266,0.67969l-3.81641,3.58203l-0.02734,-18.12891M7,0.01563c-0.26953,0 -0.53906,0.05078 -0.79687,0.16406c-0.73047,0.31641 -1.20312,1.03906 -1.20312,1.83594l0.02734,18.12891c0,0.79688 0.47656,1.51563 1.20313,1.83203c0.25781,0.10938 0.52734,0.16406 0.79297,0.16406c0.5,0 0.99219,-0.1875 1.37109,-0.53906l2.46094,-2.3125l2.37891,5.51563c0.21094,0.49219 0.60938,0.875 1.10547,1.07031c0.23438,0.09375 0.48047,0.14063 0.73047,0.14063c0.27344,0 0.54688,-0.05859 0.80469,-0.17187l2.40625,-1.05859c0.48828,-0.21484 0.875,-0.61719 1.0625,-1.11719c0.19141,-0.5 0.17578,-1.05469 -0.04687,-1.54297l-2.5,-5.46875l3.54297,-0.32422c0.78516,-0.07031 1.45703,-0.59375 1.71094,-1.33984c0.25781,-0.74609 0.05078,-1.57031 -0.52344,-2.10937l-13.16016,-12.32812c-0.37891,-0.35547 -0.87109,-0.53906 -1.36719,-0.53906z"),yt(c,"transform","scale(9.84615,9.84615)"),yt(g,"fill","#000000"),yt(g,"fill-rule","nonzero"),yt(g,"stroke","none"),yt(g,"stroke-width","1"),yt(g,"stroke-linecap","butt"),yt(g,"stroke-linejoin","miter"),yt(g,"stroke-miterlimit","10"),yt(g,"stroke-dasharray",""),yt(g,"stroke-dashoffset","0"),yt(g,"font-family","none"),yt(g,"font-weight","none"),yt(g,"font-size","none"),yt(g,"text-anchor","none"),ha(g,"mix-blend-mode","normal"),yt(p,"transform","translate(19.69231,19.69231) scale(0.84615,0.84615)"),yt(l,"xmlns","http://www.w3.org/2000/svg"),yt(l,"x","0px"),yt(l,"y","0px"),yt(l,"width","24"),yt(l,"height","24"),yt(l,"viewBox","0,0,256,256"),ha(l,"fill","#000000"),yt(u,"class","btn svelte-1fo0nmr"),yt(u,"type","button")},m(P,k){wt(P,t,k),de(e,t,null),wt(P,n,k),wt(P,i,k),de(o,i,null),wt(P,s,k),wt(P,u,k),It(u,l),It(l,p),It(p,g),It(g,c),It(c,_),C=!0,M||(S=[un(t,"click",r[8]),un(i,"click",r[10]),un(u,"click",r[8])],M=!0)},p:Xt,i(P){C||(dt(e.$$.fragment,P),dt(o.$$.fragment,P),C=!0)},o(P){mt(e.$$.fragment,P),mt(o.$$.fragment,P),C=!1},d(P){P&&Y(t),ge(e),P&&Y(n),P&&Y(i),ge(o),P&&Y(s),P&&Y(u),M=!1,ie(S)}}}function Pv(r){let t,e,n,i,o,s,u,l,p,g,c,_,C,M,S,P,k,D;n=new _m({props:{tabindex:"-1",class:"outline-none"}}),u=new wm({props:{tabindex:"-1",class:"outline-none"}});let O=r[2]&&Ff(r);_=new xm({props:{tabindex:"-1",class:"outline-none",variation:"filled"}});let x=r[0]&&Gf(r),R=r[4].size===1&&Vf(r),F=r[4].size>0&&Uf(r);return{c(){t=bt("div"),e=bt("button"),pe(n.$$.fragment),i=De(),o=bt("div"),s=bt("button"),pe(u.$$.fragment),l=De(),O&&O.c(),p=De(),g=bt("div"),c=bt("button"),pe(_.$$.fragment),C=De(),x&&x.c(),M=De(),R&&R.c(),S=De(),F&&F.c(),this.h()},l(B){t=Ct(B,"DIV",{class:!0});var Z=pt(t);e=Ct(Z,"BUTTON",{class:!0,type:!0});var Q=pt(e);me(n.$$.fragment,Q),Q.forEach(Y),i=Re(Z),o=Ct(Z,"DIV",{class:!0});var nt=pt(o);s=Ct(nt,"BUTTON",{class:!0,type:!0});var rt=pt(s);me(u.$$.fragment,rt),rt.forEach(Y),l=Re(nt),O&&O.l(nt),nt.forEach(Y),p=Re(Z),g=Ct(Z,"DIV",{class:!0});var st=pt(g);c=Ct(st,"BUTTON",{class:!0,type:!0});var _t=pt(c);me(_.$$.fragment,_t),_t.forEach(Y),C=Re(st),x&&x.l(st),st.forEach(Y),M=Re(Z),R&&R.l(Z),S=Re(Z),F&&F.l(Z),Z.forEach(Y),this.h()},h(){yt(e,"class","btn svelte-1fo0nmr"),yt(e,"type","button"),Jo(e,"!bg-red-200",r[1]),yt(s,"class","btn mb-1 svelte-1fo0nmr"),yt(s,"type","button"),Jo(s,"!bg-indigo-200",r[2]),yt(o,"class","flex flex-col"),yt(c,"class","btn mb-1 svelte-1fo0nmr"),yt(c,"type","button"),yt(g,"class","flex flex-col"),yt(t,"class","pointer-events-auto col-span-2 flex w-max items-start gap-x-2")},m(B,Z){wt(B,t,Z),It(t,e),de(n,e,null),It(t,i),It(t,o),It(o,s),de(u,s,null),It(o,l),O&&O.m(o,null),It(t,p),It(t,g),It(g,c),de(_,c,null),It(g,C),x&&x.m(g,null),It(t,M),R&&R.m(t,null),It(t,S),F&&F.m(t,null),P=!0,k||(D=[un(e,"click",r[13]),un(s,"click",r[14]),un(c,"click",r[6])],k=!0)},p(B,[Z]){(!P||Z&2)&&Jo(e,"!bg-red-200",B[1]),(!P||Z&4)&&Jo(s,"!bg-indigo-200",B[2]),B[2]?O?(O.p(B,Z),Z&4&&dt(O,1)):(O=Ff(B),O.c(),dt(O,1),O.m(o,null)):O&&(no(),mt(O,1,1,()=>{O=null}),ro()),B[0]?x?(x.p(B,Z),Z&1&&dt(x,1)):(x=Gf(B),x.c(),dt(x,1),x.m(g,null)):x&&(no(),mt(x,1,1,()=>{x=null}),ro()),B[4].size===1?R?(R.p(B,Z),Z&16&&dt(R,1)):(R=Vf(B),R.c(),dt(R,1),R.m(t,S)):R&&(no(),mt(R,1,1,()=>{R=null}),ro()),B[4].size>0?F?(F.p(B,Z),Z&16&&dt(F,1)):(F=Uf(B),F.c(),dt(F,1),F.m(t,null)):F&&(no(),mt(F,1,1,()=>{F=null}),ro())},i(B){P||(dt(n.$$.fragment,B),dt(u.$$.fragment,B),dt(O),dt(_.$$.fragment,B),dt(x),dt(R),dt(F),P=!0)},o(B){mt(n.$$.fragment,B),mt(u.$$.fragment,B),mt(O),mt(_.$$.fragment,B),mt(x),mt(R),mt(F),P=!1},d(B){B&&Y(t),ge(n),ge(u),O&&O.d(),ge(_),x&&x.d(),R&&R.d(),F&&F.d(),k=!1,ie(D)}}}function Sv(r,t,e){let n,i,o,s,u,l,p;Dn(r,lu,x=>e(12,i=x)),Dn(r,_u,x=>e(1,o=x)),Dn(r,ul,x=>e(2,s=x)),Dn(r,yh,x=>e(3,u=x)),Dn(r,Is,x=>e(4,l=x)),Dn(r,Lh,x=>e(5,p=x));const g=Pl();async function c(){g("clickedPin",{})}function _(){g("clickedOffPin",{})}function C(){Is.reset()}function M(){g("createZoneEvent",{})}function S(){g("clickedRemoveSegment",{})}function P(){g("clickedSwapStartEnd",{})}const k=()=>{ll(_u,o=!o,o)},D=()=>{ll(ul,s=!s,s)},O=()=>{ll(yh,u=!u,u)};return r.$$.update=()=>{r.$$.dirty&4096&&e(0,n=i.length>0)},[n,o,s,u,l,p,c,_,C,M,S,P,i,k,D,O]}class Iv extends we{constructor(t){super(),Ee(this,t,Sv,Pv,Me,{})}}console.log("map2 script module");var Oh={},kv={get exports(){return Oh},set exports(r){Oh=r}};(function(r,t){(function(e,n){n(t)})(vp,function(e){var n=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(o){L.Util.setOptions(this,o),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var s=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,s?this._withAnimation:this._noAnimation),this._markerCluster=s?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(o){if(o instanceof L.LayerGroup)return this.addLayers([o]);if(!o.getLatLng)return this._nonPointGroup.addLayer(o),this.fire("layeradd",{layer:o}),this;if(!this._map)return this._needsClustering.push(o),this.fire("layeradd",{layer:o}),this;if(this.hasLayer(o))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(o,this._maxZoom),this.fire("layeradd",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var s=o,u=this._zoom;if(o.__parent)for(;s.__parent._zoom>=u;)s=s.__parent;return this._currentShownBounds.contains(s.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(o,s):this._animationAddLayerNonAnimated(o,s)),this},removeLayer:function(o){return o instanceof L.LayerGroup?this.removeLayers([o]):o.getLatLng?this._map?o.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(o)),this._removeLayer(o,!0),this.fire("layerremove",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),o.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(o)&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,o)&&this.hasLayer(o)&&this._needsRemoving.push({layer:o,latlng:o._latlng}),this.fire("layerremove",{layer:o}),this):(this._nonPointGroup.removeLayer(o),this.fire("layerremove",{layer:o}),this)},addLayers:function(o,s){if(!L.Util.isArray(o))return this.addLayer(o);var u=this._featureGroup,l=this._nonPointGroup,p=this.options.chunkedLoading,g=this.options.chunkInterval,c=this.options.chunkProgress,_=o.length,C=0,M=!0,S;if(this._map){var P=new Date().getTime(),k=L.bind(function(){var O=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();C<_;C++){if(p&&C%200===0){var x=new Date().getTime()-O;if(x>g)break}if(S=o[C],S instanceof L.LayerGroup){M&&(o=o.slice(),M=!1),this._extractNonGroupLayers(S,o),_=o.length;continue}if(!S.getLatLng){l.addLayer(S),s||this.fire("layeradd",{layer:S});continue}if(!this.hasLayer(S)&&(this._addLayer(S,this._maxZoom),s||this.fire("layeradd",{layer:S}),S.__parent&&S.__parent.getChildCount()===2)){var R=S.__parent.getAllChildMarkers(),F=R[0]===S?R[1]:R[0];u.removeLayer(F)}}c&&c(C,_,new Date().getTime()-P),C===_?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(k,this.options.chunkDelay)},this);k()}else for(var D=this._needsClustering;C<_;C++){if(S=o[C],S instanceof L.LayerGroup){M&&(o=o.slice(),M=!1),this._extractNonGroupLayers(S,o),_=o.length;continue}if(!S.getLatLng){l.addLayer(S);continue}this.hasLayer(S)||D.push(S)}return this},removeLayers:function(o){var s,u,l=o.length,p=this._featureGroup,g=this._nonPointGroup,c=!0;if(!this._map){for(s=0;s<l;s++){if(u=o[s],u instanceof L.LayerGroup){c&&(o=o.slice(),c=!1),this._extractNonGroupLayers(u,o),l=o.length;continue}this._arraySplice(this._needsClustering,u),g.removeLayer(u),this.hasLayer(u)&&this._needsRemoving.push({layer:u,latlng:u._latlng}),this.fire("layerremove",{layer:u})}return this}if(this._unspiderfy){this._unspiderfy();var _=o.slice(),C=l;for(s=0;s<C;s++){if(u=_[s],u instanceof L.LayerGroup){this._extractNonGroupLayers(u,_),C=_.length;continue}this._unspiderfyLayer(u)}}for(s=0;s<l;s++){if(u=o[s],u instanceof L.LayerGroup){c&&(o=o.slice(),c=!1),this._extractNonGroupLayers(u,o),l=o.length;continue}if(!u.__parent){g.removeLayer(u),this.fire("layerremove",{layer:u});continue}this._removeLayer(u,!0,!0),this.fire("layerremove",{layer:u}),p.hasLayer(u)&&(p.removeLayer(u),u.clusterShow&&u.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(o){o.off(this._childMarkerEventHandlers,this),delete o.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var o=new L.LatLngBounds;this._topClusterLevel&&o.extend(this._topClusterLevel._bounds);for(var s=this._needsClustering.length-1;s>=0;s--)o.extend(this._needsClustering[s].getLatLng());return o.extend(this._nonPointGroup.getBounds()),o},eachLayer:function(o,s){var u=this._needsClustering.slice(),l=this._needsRemoving,p,g,c;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(u),g=u.length-1;g>=0;g--){for(p=!0,c=l.length-1;c>=0;c--)if(l[c].layer===u[g]){p=!1;break}p&&o.call(s,u[g])}this._nonPointGroup.eachLayer(o,s)},getLayers:function(){var o=[];return this.eachLayer(function(s){o.push(s)}),o},getLayer:function(o){var s=null;return o=parseInt(o,10),this.eachLayer(function(u){L.stamp(u)===o&&(s=u)}),s},hasLayer:function(o){if(!o)return!1;var s,u=this._needsClustering;for(s=u.length-1;s>=0;s--)if(u[s]===o)return!0;for(u=this._needsRemoving,s=u.length-1;s>=0;s--)if(u[s].layer===o)return!1;return!!(o.__parent&&o.__parent._group===this)||this._nonPointGroup.hasLayer(o)},zoomToShowLayer:function(o,s){var u=this._map;typeof s!="function"&&(s=function(){});var l=function(){(u.hasLayer(o)||u.hasLayer(o.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",l,this),this.off("animationend",l,this),u.hasLayer(o)?s():o.__parent._icon&&(this.once("spiderfied",s,this),o.__parent.spiderfy()))};o._icon&&this._map.getBounds().contains(o.getLatLng())?s():o.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",l,this),this._map.panTo(o.getLatLng())):(this._map.on("moveend",l,this),this.on("animationend",l,this),o.__parent.zoomToBounds())},onAdd:function(o){this._map=o;var s,u,l;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(o),this._nonPointGroup.addTo(o),this._gridClusters||this._generateInitialClusters(),this._maxLat=o.options.crs.projection.MAX_LATITUDE,s=0,u=this._needsRemoving.length;s<u;s++)l=this._needsRemoving[s],l.newlatlng=l.layer._latlng,l.layer._latlng=l.latlng;for(s=0,u=this._needsRemoving.length;s<u;s++)l=this._needsRemoving[s],this._removeLayer(l.layer,!0),l.layer._latlng=l.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),u=this._needsClustering,this._needsClustering=[],this.addLayers(u,!0)},onRemove:function(o){o.off("zoomend",this._zoomEnd,this),o.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(o){for(var s=o;s&&!s._icon;)s=s.__parent;return s||null},_arraySplice:function(o,s){for(var u=o.length-1;u>=0;u--)if(o[u]===s)return o.splice(u,1),!0},_removeFromGridUnclustered:function(o,s){for(var u=this._map,l=this._gridUnclustered,p=Math.floor(this._map.getMinZoom());s>=p&&l[s].removeObject(o,u.project(o.getLatLng(),s));s--);},_childMarkerDragStart:function(o){o.target.__dragStart=o.target._latlng},_childMarkerMoved:function(o){if(!this._ignoreMove&&!o.target.__dragStart){var s=o.target._popup&&o.target._popup.isOpen();this._moveChild(o.target,o.oldLatLng,o.latlng),s&&o.target.openPopup()}},_moveChild:function(o,s,u){o._latlng=s,this.removeLayer(o),o._latlng=u,this.addLayer(o)},_childMarkerDragEnd:function(o){var s=o.target.__dragStart;delete o.target.__dragStart,s&&this._moveChild(o.target,s,o.target._latlng)},_removeLayer:function(o,s,u){var l=this._gridClusters,p=this._gridUnclustered,g=this._featureGroup,c=this._map,_=Math.floor(this._map.getMinZoom());s&&this._removeFromGridUnclustered(o,this._maxZoom);var C=o.__parent,M=C._markers,S;for(this._arraySplice(M,o);C&&(C._childCount--,C._boundsNeedUpdate=!0,!(C._zoom<_));)s&&C._childCount<=1?(S=C._markers[0]===o?C._markers[1]:C._markers[0],l[C._zoom].removeObject(C,c.project(C._cLatLng,C._zoom)),p[C._zoom].addObject(S,c.project(S.getLatLng(),C._zoom)),this._arraySplice(C.__parent._childClusters,C),C.__parent._markers.push(S),S.__parent=C.__parent,C._icon&&(g.removeLayer(C),u||g.addLayer(S))):C._iconNeedsUpdate=!0,C=C.__parent;delete o.__parent},_isOrIsParent:function(o,s){for(;s;){if(o===s)return!0;s=s.parentNode}return!1},fire:function(o,s,u){if(s&&s.layer instanceof L.MarkerCluster){if(s.originalEvent&&this._isOrIsParent(s.layer._icon,s.originalEvent.relatedTarget))return;o="cluster"+o}L.FeatureGroup.prototype.fire.call(this,o,s,u)},listens:function(o,s){return L.FeatureGroup.prototype.listens.call(this,o,s)||L.FeatureGroup.prototype.listens.call(this,"cluster"+o,s)},_defaultIconCreateFunction:function(o){var s=o.getChildCount(),u=" marker-cluster-";return s<10?u+="small":s<100?u+="medium":u+="large",new L.DivIcon({html:"<div><span>"+s+"</span></div>",className:"marker-cluster"+u,iconSize:new L.Point(40,40)})},_bindEvents:function(){var o=this._map,s=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,l=this.options.zoomToBoundsOnClick,p=this.options.spiderfyOnEveryZoom;(s||l||p)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),o.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(o){var s=o.layer,u=s;if(!(o.type==="clusterkeypress"&&o.originalEvent&&o.originalEvent.keyCode!==13)){for(;u._childClusters.length===1;)u=u._childClusters[0];u._zoom===this._maxZoom&&u._childCount===s._childCount&&this.options.spiderfyOnMaxZoom?s.spiderfy():this.options.zoomToBoundsOnClick&&s.zoomToBounds(),this.options.spiderfyOnEveryZoom&&s.spiderfy(),o.originalEvent&&o.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(o){var s=this._map;this._inZoomAnimation||(this._shownPolygon&&s.removeLayer(this._shownPolygon),o.layer.getChildCount()>2&&o.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(o.layer.getConvexHull(),this.options.polygonOptions),s.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var o=this.options.spiderfyOnMaxZoom,s=this.options.showCoverageOnHover,u=this.options.zoomToBoundsOnClick,l=this.options.spiderfyOnEveryZoom,p=this._map;(o||u||l)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),s&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),p.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var o=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),o),this._currentShownBounds=o}},_generateInitialClusters:function(){var o=Math.ceil(this._map.getMaxZoom()),s=Math.floor(this._map.getMinZoom()),u=this.options.maxClusterRadius,l=u;typeof u!="function"&&(l=function(){return u}),this.options.disableClusteringAtZoom!==null&&(o=this.options.disableClusteringAtZoom-1),this._maxZoom=o,this._gridClusters={},this._gridUnclustered={};for(var p=o;p>=s;p--)this._gridClusters[p]=new L.DistanceGrid(l(p)),this._gridUnclustered[p]=new L.DistanceGrid(l(p));this._topClusterLevel=new this._markerCluster(this,s-1)},_addLayer:function(o,s){var u=this._gridClusters,l=this._gridUnclustered,p=Math.floor(this._map.getMinZoom()),g,c;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(o),o.on(this._childMarkerEventHandlers,this);s>=p;s--){g=this._map.project(o.getLatLng(),s);var _=u[s].getNearObject(g);if(_){_._addChild(o),o.__parent=_;return}if(_=l[s].getNearObject(g),_){var C=_.__parent;C&&this._removeLayer(_,!1);var M=new this._markerCluster(this,s,_,o);u[s].addObject(M,this._map.project(M._cLatLng,s)),_.__parent=M,o.__parent=M;var S=M;for(c=s-1;c>C._zoom;c--)S=new this._markerCluster(this,c,S),u[c].addObject(S,this._map.project(_.getLatLng(),c));C._addChild(S),this._removeFromGridUnclustered(_,s);return}l[s].addObject(o,g)}this._topClusterLevel._addChild(o),o.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(o){o instanceof L.MarkerCluster&&o._iconNeedsUpdate&&o._updateIcon()})},_enqueue:function(o){this._queue.push(o),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var o=0;o<this._queue.length;o++)this._queue[o].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var o=Math.round(this._map._zoom);this._processQueue(),this._zoom<o&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,o)):this._zoom>o?(this._animationStart(),this._animationZoomOut(this._zoom,o)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(o){var s=this._maxLat;return s!==void 0&&(o.getNorth()>=s&&(o._northEast.lat=1/0),o.getSouth()<=-s&&(o._southWest.lat=-1/0)),o},_animationAddLayerNonAnimated:function(o,s){if(s===o)this._featureGroup.addLayer(o);else if(s._childCount===2){s._addToMap();var u=s.getAllChildMarkers();this._featureGroup.removeLayer(u[0]),this._featureGroup.removeLayer(u[1])}else s._updateIcon()},_extractNonGroupLayers:function(o,s){var u=o.getLayers(),l=0,p;for(s=s||[];l<u.length;l++){if(p=u[l],p instanceof L.LayerGroup){this._extractNonGroupLayers(p,s);continue}s.push(p)}return s},_overrideMarkerIcon:function(o){var s=o.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[o]}});return s}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(o,s){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(o,s){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(o,s){this._animationAddLayerNonAnimated(o,s)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(o,s){var u=this._getExpandedVisibleBounds(),l=this._featureGroup,p=Math.floor(this._map.getMinZoom()),g;this._ignoreMove=!0,this._topClusterLevel._recursively(u,o,p,function(c){var _=c._latlng,C=c._markers,M;for(u.contains(_)||(_=null),c._isSingleParent()&&o+1===s?(l.removeLayer(c),c._recursivelyAddChildrenToMap(null,s,u)):(c.clusterHide(),c._recursivelyAddChildrenToMap(_,s,u)),g=C.length-1;g>=0;g--)M=C[g],u.contains(M._latlng)||l.removeLayer(M)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(u,s),l.eachLayer(function(c){!(c instanceof L.MarkerCluster)&&c._icon&&c.clusterShow()}),this._topClusterLevel._recursively(u,o,s,function(c){c._recursivelyRestoreChildPositions(s)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(u,o,p,function(c){l.removeLayer(c),c.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(o,s){this._animationZoomOutSingle(this._topClusterLevel,o-1,s),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o,this._getExpandedVisibleBounds())},_animationAddLayer:function(o,s){var u=this,l=this._featureGroup;l.addLayer(o),s!==o&&(s._childCount>2?(s._updateIcon(),this._forceLayout(),this._animationStart(),o._setPos(this._map.latLngToLayerPoint(s.getLatLng())),o.clusterHide(),this._enqueue(function(){l.removeLayer(o),o.clusterShow(),u._animationEnd()})):(this._forceLayout(),u._animationStart(),u._animationZoomOutSingle(s,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(o,s,u){var l=this._getExpandedVisibleBounds(),p=Math.floor(this._map.getMinZoom());o._recursivelyAnimateChildrenInAndAddSelfToMap(l,p,s+1,u);var g=this;this._forceLayout(),o._recursivelyBecomeVisible(l,u),this._enqueue(function(){if(o._childCount===1){var c=o._markers[0];this._ignoreMove=!0,c.setLatLng(c.getLatLng()),this._ignoreMove=!1,c.clusterShow&&c.clusterShow()}else o._recursively(l,u,p,function(_){_._recursivelyRemoveChildrenFromMap(l,p,s+1)});g._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(o){return new L.MarkerClusterGroup(o)};var i=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(o,s,u,l){L.Marker.prototype.initialize.call(this,u?u._cLatLng||u.getLatLng():new L.LatLng(0,0),{icon:this,pane:o.options.clusterPane}),this._group=o,this._zoom=s,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,u&&this._addChild(u),l&&this._addChild(l)},getAllChildMarkers:function(o,s){o=o||[];for(var u=this._childClusters.length-1;u>=0;u--)this._childClusters[u].getAllChildMarkers(o,s);for(var l=this._markers.length-1;l>=0;l--)s&&this._markers[l].__dragStart||o.push(this._markers[l]);return o},getChildCount:function(){return this._childCount},zoomToBounds:function(o){for(var s=this._childClusters.slice(),u=this._group._map,l=u.getBoundsZoom(this._bounds),p=this._zoom+1,g=u.getZoom(),c;s.length>0&&l>p;){p++;var _=[];for(c=0;c<s.length;c++)_=_.concat(s[c]._childClusters);s=_}l>p?this._group._map.setView(this._latlng,p):l<=g?this._group._map.setView(this._latlng,g+1):this._group._map.fitBounds(this._bounds,o)},getBounds:function(){var o=new L.LatLngBounds;return o.extend(this._bounds),o},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(o,s){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(o),o instanceof L.MarkerCluster?(s||(this._childClusters.push(o),o.__parent=this),this._childCount+=o._childCount):(s||this._markers.push(o),this._childCount++),this.__parent&&this.__parent._addChild(o,!0)},_setClusterCenter:function(o){this._cLatLng||(this._cLatLng=o._cLatLng||o._latlng)},_resetBounds:function(){var o=this._bounds;o._southWest&&(o._southWest.lat=1/0,o._southWest.lng=1/0),o._northEast&&(o._northEast.lat=-1/0,o._northEast.lng=-1/0)},_recalculateBounds:function(){var o=this._markers,s=this._childClusters,u=0,l=0,p=this._childCount,g,c,_,C;if(p!==0){for(this._resetBounds(),g=0;g<o.length;g++)_=o[g]._latlng,this._bounds.extend(_),u+=_.lat,l+=_.lng;for(g=0;g<s.length;g++)c=s[g],c._boundsNeedUpdate&&c._recalculateBounds(),this._bounds.extend(c._bounds),_=c._wLatLng,C=c._childCount,u+=_.lat*C,l+=_.lng*C;this._latlng=this._wLatLng=new L.LatLng(u/p,l/p),this._boundsNeedUpdate=!1}},_addToMap:function(o){o&&(this._backupLatlng=this._latlng,this.setLatLng(o)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(o,s,u){this._recursively(o,this._group._map.getMinZoom(),u-1,function(l){var p=l._markers,g,c;for(g=p.length-1;g>=0;g--)c=p[g],c._icon&&(c._setPos(s),c.clusterHide())},function(l){var p=l._childClusters,g,c;for(g=p.length-1;g>=0;g--)c=p[g],c._icon&&(c._setPos(s),c.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(o,s,u,l){this._recursively(o,l,s,function(p){p._recursivelyAnimateChildrenIn(o,p._group._map.latLngToLayerPoint(p.getLatLng()).round(),u),p._isSingleParent()&&u-1===l?(p.clusterShow(),p._recursivelyRemoveChildrenFromMap(o,s,u)):p.clusterHide(),p._addToMap()})},_recursivelyBecomeVisible:function(o,s){this._recursively(o,this._group._map.getMinZoom(),s,null,function(u){u.clusterShow()})},_recursivelyAddChildrenToMap:function(o,s,u){this._recursively(u,this._group._map.getMinZoom()-1,s,function(l){if(s!==l._zoom)for(var p=l._markers.length-1;p>=0;p--){var g=l._markers[p];u.contains(g._latlng)&&(o&&(g._backupLatlng=g.getLatLng(),g.setLatLng(o),g.clusterHide&&g.clusterHide()),l._group._featureGroup.addLayer(g))}},function(l){l._addToMap(o)})},_recursivelyRestoreChildPositions:function(o){for(var s=this._markers.length-1;s>=0;s--){var u=this._markers[s];u._backupLatlng&&(u.setLatLng(u._backupLatlng),delete u._backupLatlng)}if(o-1===this._zoom)for(var l=this._childClusters.length-1;l>=0;l--)this._childClusters[l]._restorePosition();else for(var p=this._childClusters.length-1;p>=0;p--)this._childClusters[p]._recursivelyRestoreChildPositions(o)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(o,s,u,l){var p,g;this._recursively(o,s-1,u-1,function(c){for(g=c._markers.length-1;g>=0;g--)p=c._markers[g],(!l||!l.contains(p._latlng))&&(c._group._featureGroup.removeLayer(p),p.clusterShow&&p.clusterShow())},function(c){for(g=c._childClusters.length-1;g>=0;g--)p=c._childClusters[g],(!l||!l.contains(p._latlng))&&(c._group._featureGroup.removeLayer(p),p.clusterShow&&p.clusterShow())})},_recursively:function(o,s,u,l,p){var g=this._childClusters,c=this._zoom,_,C;if(s<=c&&(l&&l(this),p&&c===u&&p(this)),c<s||c<u)for(_=g.length-1;_>=0;_--)C=g[_],C._boundsNeedUpdate&&C._recalculateBounds(),o.intersects(C._bounds)&&C._recursively(o,s,u,l,p)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var o=this.options.opacity;return this.setOpacity(0),this.options.opacity=o,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(o){this._cellSize=o,this._sqCellSize=o*o,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(o,s){var u=this._getCoord(s.x),l=this._getCoord(s.y),p=this._grid,g=p[l]=p[l]||{},c=g[u]=g[u]||[],_=L.Util.stamp(o);this._objectPoint[_]=s,c.push(o)},updateObject:function(o,s){this.removeObject(o),this.addObject(o,s)},removeObject:function(o,s){var u=this._getCoord(s.x),l=this._getCoord(s.y),p=this._grid,g=p[l]=p[l]||{},c=g[u]=g[u]||[],_,C;for(delete this._objectPoint[L.Util.stamp(o)],_=0,C=c.length;_<C;_++)if(c[_]===o)return c.splice(_,1),C===1&&delete g[u],!0},eachObject:function(o,s){var u,l,p,g,c,_,C,M=this._grid;for(u in M){c=M[u];for(l in c)for(_=c[l],p=0,g=_.length;p<g;p++)C=o.call(s,_[p]),C&&(p--,g--)}},getNearObject:function(o){var s=this._getCoord(o.x),u=this._getCoord(o.y),l,p,g,c,_,C,M,S,P=this._objectPoint,k=this._sqCellSize,D=null;for(l=u-1;l<=u+1;l++)if(c=this._grid[l],c){for(p=s-1;p<=s+1;p++)if(_=c[p],_)for(g=0,C=_.length;g<C;g++)M=_[g],S=this._sqDist(P[L.Util.stamp(M)],o),(S<k||S<=k&&D===null)&&(k=S,D=M)}return D},_getCoord:function(o){var s=Math.floor(o/this._cellSize);return isFinite(s)?s:o},_sqDist:function(o,s){var u=s.x-o.x,l=s.y-o.y;return u*u+l*l}},function(){L.QuickHull={getDistant:function(o,s){var u=s[1].lat-s[0].lat,l=s[0].lng-s[1].lng;return l*(o.lat-s[0].lat)+u*(o.lng-s[0].lng)},findMostDistantPointFromBaseLine:function(o,s){var u=0,l=null,p=[],g,c,_;for(g=s.length-1;g>=0;g--){if(c=s[g],_=this.getDistant(c,o),_>0)p.push(c);else continue;_>u&&(u=_,l=c)}return{maxPoint:l,newPoints:p}},buildConvexHull:function(o,s){var u=[],l=this.findMostDistantPointFromBaseLine(o,s);return l.maxPoint?(u=u.concat(this.buildConvexHull([o[0],l.maxPoint],l.newPoints)),u=u.concat(this.buildConvexHull([l.maxPoint,o[1]],l.newPoints)),u):[o[0]]},getConvexHull:function(o){var s=!1,u=!1,l=!1,p=!1,g=null,c=null,_=null,C=null,M=null,S=null,P;for(P=o.length-1;P>=0;P--){var k=o[P];(s===!1||k.lat>s)&&(g=k,s=k.lat),(u===!1||k.lat<u)&&(c=k,u=k.lat),(l===!1||k.lng>l)&&(_=k,l=k.lng),(p===!1||k.lng<p)&&(C=k,p=k.lng)}u!==s?(S=c,M=g):(S=C,M=_);var D=[].concat(this.buildConvexHull([S,M],o),this.buildConvexHull([M,S],o));return D}}}(),L.MarkerCluster.include({getConvexHull:function(){var o=this.getAllChildMarkers(),s=[],u,l;for(l=o.length-1;l>=0;l--)u=o[l].getLatLng(),s.push(u);return L.QuickHull.getConvexHull(s)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var o=this.getAllChildMarkers(null,!0),s=this._group,u=s._map,l=u.latLngToLayerPoint(this._latlng),p;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?p=this._group.options.spiderfyShapePositions(o.length,l):o.length>=this._circleSpiralSwitchover?p=this._generatePointsSpiral(o.length,l):(l.y+=10,p=this._generatePointsCircle(o.length,l)),this._animationSpiderfy(o,p)}},unspiderfy:function(o){this._group._inZoomAnimation||(this._animationUnspiderfy(o),this._group._spiderfied=null)},_generatePointsCircle:function(o,s){var u=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+o),l=u/this._2PI,p=this._2PI/o,g=[],c,_;for(l=Math.max(l,35),g.length=o,c=0;c<o;c++)_=this._circleStartAngle+c*p,g[c]=new L.Point(s.x+l*Math.cos(_),s.y+l*Math.sin(_))._round();return g},_generatePointsSpiral:function(o,s){var u=this._group.options.spiderfyDistanceMultiplier,l=u*this._spiralLengthStart,p=u*this._spiralFootSeparation,g=u*this._spiralLengthFactor*this._2PI,c=0,_=[],C;for(_.length=o,C=o;C>=0;C--)C<o&&(_[C]=new L.Point(s.x+l*Math.cos(c),s.y+l*Math.sin(c))._round()),c+=p/l+C*5e-4,l+=g/c;return _},_noanimationUnspiderfy:function(){var o=this._group,s=o._map,u=o._featureGroup,l=this.getAllChildMarkers(null,!0),p,g;for(o._ignoreMove=!0,this.setOpacity(1),g=l.length-1;g>=0;g--)p=l[g],u.removeLayer(p),p._preSpiderfyLatlng&&(p.setLatLng(p._preSpiderfyLatlng),delete p._preSpiderfyLatlng),p.setZIndexOffset&&p.setZIndexOffset(0),p._spiderLeg&&(s.removeLayer(p._spiderLeg),delete p._spiderLeg);o.fire("unspiderfied",{cluster:this,markers:l}),o._ignoreMove=!1,o._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(o,s){var u=this._group,l=u._map,p=u._featureGroup,g=this._group.options.spiderLegPolylineOptions,c,_,C,M;for(u._ignoreMove=!0,c=0;c<o.length;c++)M=l.layerPointToLatLng(s[c]),_=o[c],C=new L.Polyline([this._latlng,M],g),l.addLayer(C),_._spiderLeg=C,_._preSpiderfyLatlng=_._latlng,_.setLatLng(M),_.setZIndexOffset&&_.setZIndexOffset(1e6),p.addLayer(_);this.setOpacity(.3),u._ignoreMove=!1,u.fire("spiderfied",{cluster:this,markers:o})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(o,s){var u=this,l=this._group,p=l._map,g=l._featureGroup,c=this._latlng,_=p.latLngToLayerPoint(c),C=L.Path.SVG,M=L.extend({},this._group.options.spiderLegPolylineOptions),S=M.opacity,P,k,D,O,x,R;for(S===void 0&&(S=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),C?(M.opacity=0,M.className=(M.className||"")+" leaflet-cluster-spider-leg"):M.opacity=S,l._ignoreMove=!0,P=0;P<o.length;P++)k=o[P],R=p.layerPointToLatLng(s[P]),D=new L.Polyline([c,R],M),p.addLayer(D),k._spiderLeg=D,C&&(O=D._path,x=O.getTotalLength()+.1,O.style.strokeDasharray=x,O.style.strokeDashoffset=x),k.setZIndexOffset&&k.setZIndexOffset(1e6),k.clusterHide&&k.clusterHide(),g.addLayer(k),k._setPos&&k._setPos(_);for(l._forceLayout(),l._animationStart(),P=o.length-1;P>=0;P--)R=p.layerPointToLatLng(s[P]),k=o[P],k._preSpiderfyLatlng=k._latlng,k.setLatLng(R),k.clusterShow&&k.clusterShow(),C&&(D=k._spiderLeg,O=D._path,O.style.strokeDashoffset=0,D.setStyle({opacity:S}));this.setOpacity(.3),l._ignoreMove=!1,setTimeout(function(){l._animationEnd(),l.fire("spiderfied",{cluster:u,markers:o})},200)},_animationUnspiderfy:function(o){var s=this,u=this._group,l=u._map,p=u._featureGroup,g=o?l._latLngToNewLayerPoint(this._latlng,o.zoom,o.center):l.latLngToLayerPoint(this._latlng),c=this.getAllChildMarkers(null,!0),_=L.Path.SVG,C,M,S,P,k,D;for(u._ignoreMove=!0,u._animationStart(),this.setOpacity(1),M=c.length-1;M>=0;M--)C=c[M],C._preSpiderfyLatlng&&(C.closePopup(),C.setLatLng(C._preSpiderfyLatlng),delete C._preSpiderfyLatlng,D=!0,C._setPos&&(C._setPos(g),D=!1),C.clusterHide&&(C.clusterHide(),D=!1),D&&p.removeLayer(C),_&&(S=C._spiderLeg,P=S._path,k=P.getTotalLength()+.1,P.style.strokeDashoffset=k,S.setStyle({opacity:0})));u._ignoreMove=!1,setTimeout(function(){var O=0;for(M=c.length-1;M>=0;M--)C=c[M],C._spiderLeg&&O++;for(M=c.length-1;M>=0;M--)C=c[M],C._spiderLeg&&(C.clusterShow&&C.clusterShow(),C.setZIndexOffset&&C.setZIndexOffset(0),O>1&&p.removeLayer(C),l.removeLayer(C._spiderLeg),delete C._spiderLeg);u._animationEnd(),u.fire("unspiderfied",{cluster:s,markers:c})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(o){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(o))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(o){this._spiderfied&&this._spiderfied.unspiderfy(o)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(o){o._spiderLeg&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow(),o.setZIndexOffset&&o.setZIndexOffset(0),this._map.removeLayer(o._spiderLeg),delete o._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(o){return o?o instanceof L.MarkerClusterGroup?o=o._topClusterLevel.getAllChildMarkers():o instanceof L.LayerGroup?o=o._layers:o instanceof L.MarkerCluster?o=o.getAllChildMarkers():o instanceof L.Marker&&(o=[o]):o=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(o),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(o),this},_flagParentsIconsNeedUpdate:function(o){var s,u;for(s in o)for(u=o[s].__parent;u;)u._iconNeedsUpdate=!0,u=u.__parent},_refreshSingleMarkerModeMarkers:function(o){var s,u;for(s in o)u=o[s],this.hasLayer(u)&&u.setIcon(this._overrideMarkerIcon(u))}}),L.Marker.include({refreshIconOptions:function(o,s){var u=this.options.icon;return L.setOptions(u,o),this.setIcon(u),s&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),e.MarkerClusterGroup=n,e.MarkerCluster=i,Object.defineProperty(e,"__esModule",{value:!0})})})(kv,Oh);(()=>{var r={9705:(n,i,o)=>{var s=o(1540);function u(l){var p=[1/0,1/0,-1/0,-1/0];return s.coordEach(l,function(g){p[0]>g[0]&&(p[0]=g[0]),p[1]>g[1]&&(p[1]=g[1]),p[2]<g[0]&&(p[2]=g[0]),p[3]<g[1]&&(p[3]=g[1])}),p}u.default=u,i.Z=u},4102:(n,i)=>{function o(k,D,O){O===void 0&&(O={});var x={type:"Feature"};return(O.id===0||O.id)&&(x.id=O.id),O.bbox&&(x.bbox=O.bbox),x.properties=D||{},x.geometry=k,x}function s(k,D,O){if(O===void 0&&(O={}),!k)throw new Error("coordinates is required");if(!Array.isArray(k))throw new Error("coordinates must be an Array");if(k.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!P(k[0])||!P(k[1]))throw new Error("coordinates must contain numbers");return o({type:"Point",coordinates:k},D,O)}function u(k,D,O){O===void 0&&(O={});for(var x=0,R=k;x<R.length;x++){var F=R[x];if(F.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var B=0;B<F[F.length-1].length;B++)if(F[F.length-1][B]!==F[0][B])throw new Error("First and last Position are not equivalent.")}return o({type:"Polygon",coordinates:k},D,O)}function l(k,D,O){if(O===void 0&&(O={}),k.length<2)throw new Error("coordinates must be an array of two or more positions");return o({type:"LineString",coordinates:k},D,O)}function p(k,D){D===void 0&&(D={});var O={type:"FeatureCollection"};return D.id&&(O.id=D.id),D.bbox&&(O.bbox=D.bbox),O.features=k,O}function g(k,D,O){return O===void 0&&(O={}),o({type:"MultiLineString",coordinates:k},D,O)}function c(k,D,O){return O===void 0&&(O={}),o({type:"MultiPoint",coordinates:k},D,O)}function _(k,D,O){return O===void 0&&(O={}),o({type:"MultiPolygon",coordinates:k},D,O)}function C(k,D){D===void 0&&(D="kilometers");var O=i.factors[D];if(!O)throw new Error(D+" units is invalid");return k*O}function M(k,D){D===void 0&&(D="kilometers");var O=i.factors[D];if(!O)throw new Error(D+" units is invalid");return k/O}function S(k){return 180*(k%(2*Math.PI))/Math.PI}function P(k){return!isNaN(k)&&k!==null&&!Array.isArray(k)}Object.defineProperty(i,"__esModule",{value:!0}),i.earthRadius=63710088e-1,i.factors={centimeters:100*i.earthRadius,centimetres:100*i.earthRadius,degrees:i.earthRadius/111325,feet:3.28084*i.earthRadius,inches:39.37*i.earthRadius,kilometers:i.earthRadius/1e3,kilometres:i.earthRadius/1e3,meters:i.earthRadius,metres:i.earthRadius,miles:i.earthRadius/1609.344,millimeters:1e3*i.earthRadius,millimetres:1e3*i.earthRadius,nauticalmiles:i.earthRadius/1852,radians:1,yards:1.0936*i.earthRadius},i.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/i.earthRadius,yards:1.0936133},i.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},i.feature=o,i.geometry=function(k,D,O){switch(k){case"Point":return s(D).geometry;case"LineString":return l(D).geometry;case"Polygon":return u(D).geometry;case"MultiPoint":return c(D).geometry;case"MultiLineString":return g(D).geometry;case"MultiPolygon":return _(D).geometry;default:throw new Error(k+" is invalid")}},i.point=s,i.points=function(k,D,O){return O===void 0&&(O={}),p(k.map(function(x){return s(x,D)}),O)},i.polygon=u,i.polygons=function(k,D,O){return O===void 0&&(O={}),p(k.map(function(x){return u(x,D)}),O)},i.lineString=l,i.lineStrings=function(k,D,O){return O===void 0&&(O={}),p(k.map(function(x){return l(x,D)}),O)},i.featureCollection=p,i.multiLineString=g,i.multiPoint=c,i.multiPolygon=_,i.geometryCollection=function(k,D,O){return O===void 0&&(O={}),o({type:"GeometryCollection",geometries:k},D,O)},i.round=function(k,D){if(D===void 0&&(D=0),D&&!(D>=0))throw new Error("precision must be a positive number");var O=Math.pow(10,D||0);return Math.round(k*O)/O},i.radiansToLength=C,i.lengthToRadians=M,i.lengthToDegrees=function(k,D){return S(M(k,D))},i.bearingToAzimuth=function(k){var D=k%360;return D<0&&(D+=360),D},i.radiansToDegrees=S,i.degreesToRadians=function(k){return k%360*Math.PI/180},i.convertLength=function(k,D,O){if(D===void 0&&(D="kilometers"),O===void 0&&(O="kilometers"),!(k>=0))throw new Error("length must be a positive number");return C(M(k,D),O)},i.convertArea=function(k,D,O){if(D===void 0&&(D="meters"),O===void 0&&(O="kilometers"),!(k>=0))throw new Error("area must be a positive number");var x=i.areaFactors[D];if(!x)throw new Error("invalid original units");var R=i.areaFactors[O];if(!R)throw new Error("invalid final units");return k/x*R},i.isNumber=P,i.isObject=function(k){return!!k&&k.constructor===Object},i.validateBBox=function(k){if(!k)throw new Error("bbox is required");if(!Array.isArray(k))throw new Error("bbox must be an Array");if(k.length!==4&&k.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");k.forEach(function(D){if(!P(D))throw new Error("bbox must only contain numbers")})},i.validateId=function(k){if(!k)throw new Error("id is required");if(["string","number"].indexOf(typeof k)===-1)throw new Error("id must be a number or a string")}},1540:(n,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0});var s=o(4102);function u(M,S,P){if(M!==null)for(var k,D,O,x,R,F,B,Z,Q=0,nt=0,rt=M.type,st=rt==="FeatureCollection",_t=rt==="Feature",ut=st?M.features.length:1,gt=0;gt<ut;gt++){R=(Z=!!(B=st?M.features[gt].geometry:_t?M.geometry:M)&&B.type==="GeometryCollection")?B.geometries.length:1;for(var kt=0;kt<R;kt++){var Vt=0,at=0;if((x=Z?B.geometries[kt]:B)!==null){F=x.coordinates;var Ut=x.type;switch(Q=!P||Ut!=="Polygon"&&Ut!=="MultiPolygon"?0:1,Ut){case null:break;case"Point":if(S(F,nt,gt,Vt,at)===!1)return!1;nt++,Vt++;break;case"LineString":case"MultiPoint":for(k=0;k<F.length;k++){if(S(F[k],nt,gt,Vt,at)===!1)return!1;nt++,Ut==="MultiPoint"&&Vt++}Ut==="LineString"&&Vt++;break;case"Polygon":case"MultiLineString":for(k=0;k<F.length;k++){for(D=0;D<F[k].length-Q;D++){if(S(F[k][D],nt,gt,Vt,at)===!1)return!1;nt++}Ut==="MultiLineString"&&Vt++,Ut==="Polygon"&&at++}Ut==="Polygon"&&Vt++;break;case"MultiPolygon":for(k=0;k<F.length;k++){for(at=0,D=0;D<F[k].length;D++){for(O=0;O<F[k][D].length-Q;O++){if(S(F[k][D][O],nt,gt,Vt,at)===!1)return!1;nt++}at++}Vt++}break;case"GeometryCollection":for(k=0;k<x.geometries.length;k++)if(u(x.geometries[k],S,P)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function l(M,S){var P;switch(M.type){case"FeatureCollection":for(P=0;P<M.features.length&&S(M.features[P].properties,P)!==!1;P++);break;case"Feature":S(M.properties,0)}}function p(M,S){if(M.type==="Feature")S(M,0);else if(M.type==="FeatureCollection")for(var P=0;P<M.features.length&&S(M.features[P],P)!==!1;P++);}function g(M,S){var P,k,D,O,x,R,F,B,Z,Q,nt=0,rt=M.type==="FeatureCollection",st=M.type==="Feature",_t=rt?M.features.length:1;for(P=0;P<_t;P++){for(R=rt?M.features[P].geometry:st?M.geometry:M,B=rt?M.features[P].properties:st?M.properties:{},Z=rt?M.features[P].bbox:st?M.bbox:void 0,Q=rt?M.features[P].id:st?M.id:void 0,x=(F=!!R&&R.type==="GeometryCollection")?R.geometries.length:1,D=0;D<x;D++)if((O=F?R.geometries[D]:R)!==null)switch(O.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(S(O,nt,B,Z,Q)===!1)return!1;break;case"GeometryCollection":for(k=0;k<O.geometries.length;k++)if(S(O.geometries[k],nt,B,Z,Q)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(S(null,nt,B,Z,Q)===!1)return!1;nt++}}function c(M,S){g(M,function(P,k,D,O,x){var R,F=P===null?null:P.type;switch(F){case null:case"Point":case"LineString":case"Polygon":return S(s.feature(P,D,{bbox:O,id:x}),k,0)!==!1&&void 0}switch(F){case"MultiPoint":R="Point";break;case"MultiLineString":R="LineString";break;case"MultiPolygon":R="Polygon"}for(var B=0;B<P.coordinates.length;B++){var Z={type:R,coordinates:P.coordinates[B]};if(S(s.feature(Z,D),k,B)===!1)return!1}})}function _(M,S){c(M,function(P,k,D){var O=0;if(P.geometry){var x=P.geometry.type;if(x!=="Point"&&x!=="MultiPoint"){var R,F=0,B=0,Z=0;return u(P,function(Q,nt,rt,st,_t){if(R===void 0||k>F||st>B||_t>Z)return R=Q,F=k,B=st,Z=_t,void(O=0);var ut=s.lineString([R,Q],P.properties);if(S(ut,k,D,_t,O)===!1)return!1;O++,R=Q})!==!1&&void 0}}})}function C(M,S){if(!M)throw new Error("geojson is required");c(M,function(P,k,D){if(P.geometry!==null){var O=P.geometry.type,x=P.geometry.coordinates;switch(O){case"LineString":if(S(P,k,D,0,0)===!1)return!1;break;case"Polygon":for(var R=0;R<x.length;R++)if(S(s.lineString(x[R],P.properties),k,D,R)===!1)return!1}}})}i.coordAll=function(M){var S=[];return u(M,function(P){S.push(P)}),S},i.coordEach=u,i.coordReduce=function(M,S,P,k){var D=P;return u(M,function(O,x,R,F,B){D=x===0&&P===void 0?O:S(D,O,x,R,F,B)},k),D},i.featureEach=p,i.featureReduce=function(M,S,P){var k=P;return p(M,function(D,O){k=O===0&&P===void 0?D:S(k,D,O)}),k},i.findPoint=function(M,S){if(S=S||{},!s.isObject(S))throw new Error("options is invalid");var P,k=S.featureIndex||0,D=S.multiFeatureIndex||0,O=S.geometryIndex||0,x=S.coordIndex||0,R=S.properties;switch(M.type){case"FeatureCollection":k<0&&(k=M.features.length+k),R=R||M.features[k].properties,P=M.features[k].geometry;break;case"Feature":R=R||M.properties,P=M.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":P=M;break;default:throw new Error("geojson is invalid")}if(P===null)return null;var F=P.coordinates;switch(P.type){case"Point":return s.point(F,R,S);case"MultiPoint":return D<0&&(D=F.length+D),s.point(F[D],R,S);case"LineString":return x<0&&(x=F.length+x),s.point(F[x],R,S);case"Polygon":return O<0&&(O=F.length+O),x<0&&(x=F[O].length+x),s.point(F[O][x],R,S);case"MultiLineString":return D<0&&(D=F.length+D),x<0&&(x=F[D].length+x),s.point(F[D][x],R,S);case"MultiPolygon":return D<0&&(D=F.length+D),O<0&&(O=F[D].length+O),x<0&&(x=F[D][O].length-x),s.point(F[D][O][x],R,S)}throw new Error("geojson is invalid")},i.findSegment=function(M,S){if(S=S||{},!s.isObject(S))throw new Error("options is invalid");var P,k=S.featureIndex||0,D=S.multiFeatureIndex||0,O=S.geometryIndex||0,x=S.segmentIndex||0,R=S.properties;switch(M.type){case"FeatureCollection":k<0&&(k=M.features.length+k),R=R||M.features[k].properties,P=M.features[k].geometry;break;case"Feature":R=R||M.properties,P=M.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":P=M;break;default:throw new Error("geojson is invalid")}if(P===null)return null;var F=P.coordinates;switch(P.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=F.length+x-1),s.lineString([F[x],F[x+1]],R,S);case"Polygon":return O<0&&(O=F.length+O),x<0&&(x=F[O].length+x-1),s.lineString([F[O][x],F[O][x+1]],R,S);case"MultiLineString":return D<0&&(D=F.length+D),x<0&&(x=F[D].length+x-1),s.lineString([F[D][x],F[D][x+1]],R,S);case"MultiPolygon":return D<0&&(D=F.length+D),O<0&&(O=F[D].length+O),x<0&&(x=F[D][O].length-x-1),s.lineString([F[D][O][x],F[D][O][x+1]],R,S)}throw new Error("geojson is invalid")},i.flattenEach=c,i.flattenReduce=function(M,S,P){var k=P;return c(M,function(D,O,x){k=O===0&&x===0&&P===void 0?D:S(k,D,O,x)}),k},i.geomEach=g,i.geomReduce=function(M,S,P){var k=P;return g(M,function(D,O,x,R,F){k=O===0&&P===void 0?D:S(k,D,O,x,R,F)}),k},i.lineEach=C,i.lineReduce=function(M,S,P){var k=P;return C(M,function(D,O,x,R){k=O===0&&P===void 0?D:S(k,D,O,x,R)}),k},i.propEach=l,i.propReduce=function(M,S,P){var k=P;return l(M,function(D,O){k=O===0&&P===void 0?D:S(k,D,O)}),k},i.segmentEach=_,i.segmentReduce=function(M,S,P){var k=P,D=!1;return _(M,function(O,x,R,F,B){k=D===!1&&P===void 0?O:S(k,O,x,R,F,B),D=!0}),k}},5975:(n,i,o)=>{o(7107);var s=o(2492),u=o.n(s);const l=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker","placeText":"Click to place text"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together","rotateButton":"Rotate Layers","drawTextButton":"Draw Text","scaleButton":"Scale Layers","autoTracingButton":"Auto trace Line"},"measurements":{"totalLength":"Length","segmentLength":"Segment length","area":"Area","radius":"Radius","perimeter":"Perimeter","height":"Height","width":"Width","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),p=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick","placeText":"Platziere den Text mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex lschen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer lschen","drawCircleMarkerButton":"Kreismarker zeichnen","snappingButton":"Bewegter Layer an andere Layer oder Vertexe einhacken","pinningButton":"Vertexe an der gleichen Position verknpfen","rotateButton":"Layer drehen","drawTextButton":"Text zeichnen","scaleButton":"Layer skalieren","autoTracingButton":"Linie automatisch nachzeichen"},"measurements":{"totalLength":"Lnge","segmentLength":"Segment Lnge","area":"Flche","radius":"Radius","perimeter":"Umfang","height":"Hhe","width":"Breite","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),g=JSON.parse(`{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cerchio","snappingButton":"Snap ha trascinato il pennarello su altri strati e vertici","pinningButton":"Pin condiviso vertici insieme"}}`),c=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran","placeCircleMarker":"Klik untuk menempatkan penanda lingkarann"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer","drawCircleMarkerButton":"Digitasi Penanda Lingkaran","snappingButton":"Jepretkan penanda yang ditarik ke lapisan dan simpul lain","pinningButton":"Sematkan simpul bersama bersama"}}'),_=JSON.parse('{"tooltips":{"placeMarker":"Adaug un punct","firstVertex":"Apas aici pentru a aduga primul Vertex","continueLine":"Apas aici pentru a continua desenul","finishLine":"Apas pe orice obiect pentru a finisa desenul","finishPoly":"Apas pe primul obiect pentru a finisa","finishRect":"Apas pentru a finisa","startCircle":"Apas pentru a desena un cerc","finishCircle":"Apas pentru a finisa un cerc","placeCircleMarker":"Adaug un punct"},"actions":{"finish":"Termin","cancel":"Anuleaz","removeLastVertex":"terge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"Adaug o bulin","drawPolyButton":"Deseneaz un poligon","drawLineButton":"Deseneaz o linie","drawCircleButton":"Deseneaz un cerc","drawRectButton":"Deseneaz un dreptunghi","editButton":"Editeaz straturile","dragButton":"Mut straturile","cutButton":"Taie straturile","deleteButton":"terge straturile","drawCircleMarkerButton":"Deseneaz marcatorul cercului","snappingButton":"Fixai marcatorul glisat pe alte straturi i vrfuri","pinningButton":"Fixai vrfurile partajate mpreun"}}'),C=JSON.parse('{"tooltips":{"placeMarker":",   ","firstVertex":",    ","continueLine":",   ","finishLine":"     ","finishPoly":"  ,  ","finishRect":",  ","startCircle":",    ","finishCircle":",   ","placeCircleMarker":",    "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"   "}}'),M=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer vrtice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del crculo","finishCircle":"Presiona para finalizar el crculo","placeCircleMarker":"Presiona para colocar un marcador de crculo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Eliminar ltimo vrtice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar Polgono","drawLineButton":"Dibujar Lnea","drawCircleButton":"Dibujar Crculo","drawRectButton":"Dibujar Rectngulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Eliminar Capas","drawCircleMarkerButton":"Dibujar Marcador de Crculo","snappingButton":"El marcador de Snap arrastrado a otras capas y vrtices","pinningButton":"Fijar juntos los vrtices compartidos"}}'),S=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te beindigen","finishPoly":"Klik op het eerst punt om te beindigen","finishRect":"Klik om te beindigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te beindigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker","snappingButton":"Snap gesleepte marker naar andere lagen en hoekpunten","pinningButton":"Speld gedeelde hoekpunten samen"}}'),P=JSON.parse(`{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer  dessiner","finishLine":"Cliquez sur n'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle","placeCircleMarker":"Cliquez pour placer le marqueur circulaire"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"diter des calques","dragButton":"Dplacer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques","drawCircleMarkerButton":"Dessiner un marqueur circulaire","snappingButton":"Glisser le marqueur vers d'autres couches et sommets","pinningButton":"pingler ensemble les sommets partags","rotateButton":"Tourner des calques"}}`),k=JSON.parse('{"tooltips":{"placeMarker":"","firstVertex":"","continueLine":"","finishLine":"","finishPoly":"","finishRect":"","startCircle":"","finishCircle":"","placeCircleMarker":""},"actions":{"finish":"","cancel":"","removeLastVertex":""},"buttonTitles":{"drawMarkerButton":"","drawPolyButton":"","drawLineButton":"","drawCircleButton":"","drawRectButton":"","editButton":"","dragButton":"","cutButton":"","deleteButton":"","drawCircleMarkerButton":"","snappingButton":"","pinningButton":""}}'),D=JSON.parse('{"tooltips":{"placeMarker":"","firstVertex":"","continueLine":"","finishLine":"","finishPoly":"","finishRect":"","startCircle":"","finishCircle":"","placeCircleMarker":""},"actions":{"finish":"","cancel":"","removeLastVertex":""},"buttonTitles":{"drawMarkerButton":"","drawPolyButton":"","drawLineButton":"","drawCircleButton":"","drawRectButton":"","editButton":"","dragButton":"","cutButton":"","deleteButton":"","drawCircleMarkerButton":"","snappingButton":"","pinningButton":""}}'),O={en:l,de:p,it:g,id:c,ro:_,ru:C,es:M,nl:S,fr:P,pt_br:JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro vrtice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o polgono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do crculo","finishCircle":"Clique para fechar o crculo","placeCircleMarker":"Clique para posicionar o marcador circular"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover ltimo vrtice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um polgono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um crculo","drawRectButton":"Desenhar um retngulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)","drawCircleMarkerButton":"Marcador de crculos de desenho","snappingButton":"Marcador arrastado para outras camadas e vrtices","pinningButton":"Vrtices compartilhados de pinos juntos"}}'),zh:k,zh_tw:D,pl:JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby ustawi znacznik","firstVertex":"Kliknij, aby ustawi pierwszy punkt","continueLine":"Kliknij, aby kontynuowa rysowanie","finishLine":"Kliknij dowolny punkt, aby zakoczy","finishPoly":"Kliknij pierwszy punkt, aby zakoczy","finishRect":"Kliknij, aby zakoczy","startCircle":"Kliknij, aby ustawi rodek koa","finishCircle":"Kliknij, aby zakoczy rysowanie koa","placeCircleMarker":"Kliknij, aby ustawi okrgy znacznik"},"actions":{"finish":"Zakocz","cancel":"Anuluj","removeLastVertex":"Usu ostatni punkt"},"buttonTitles":{"drawMarkerButton":"Narysuj znacznik","drawPolyButton":"Narysuj wielokt","drawLineButton":"Narysuj ciek","drawCircleButton":"Narysuj koo","drawRectButton":"Narysuj prostokt","editButton":"Edytuj","dragButton":"Przesu","cutButton":"Wytnij","deleteButton":"Usu","drawCircleMarkerButton":"Narysuj okrgy znacznik","snappingButton":"Snap przecignity marker na inne warstwy i wierzchoki","pinningButton":"Sworze wsplne wierzchoki razem"}}'),sv:JSON.parse('{"tooltips":{"placeMarker":"Klicka fr att placera markr","firstVertex":"Klicka fr att placera frsta hrnet","continueLine":"Klicka fr att fortstta rita","finishLine":"Klicka p en existerande punkt fr att slutfra","finishPoly":"Klicka p den frsta punkten fr att slutfra","finishRect":"Klicka fr att slutfra","startCircle":"Klicka fr att placera cirkelns centrum","finishCircle":"Klicka fr att slutfra cirkeln","placeCircleMarker":"Klicka fr att placera cirkelmarkr"},"actions":{"finish":"Slutfr","cancel":"Avbryt","removeLastVertex":"Ta bort sista hrnet"},"buttonTitles":{"drawMarkerButton":"Rita Markr","drawPolyButton":"Rita Polygoner","drawLineButton":"Rita Linje","drawCircleButton":"Rita Cirkel","drawRectButton":"Rita Rektangel","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita Cirkelmarkr","snappingButton":"Snpp dra markren till andra lager och hrn","pinningButton":"Fst delade hrn tillsammans"}}'),el:JSON.parse('{"tooltips":{"placeMarker":"     ","firstVertex":"       ","continueLine":"      ","finishLine":"        ","finishPoly":"       ","finishRect":"    ","startCircle":"      ","finishCircle":"      ","placeCircleMarker":"      "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"        ","pinningButton":"   "}}'),hu:JSON.parse('{"tooltips":{"placeMarker":"Kattintson a jell elhelyezshez","firstVertex":"Kattintson az els pont elhelyezshez","continueLine":"Kattintson a kvetkez pont elhelyezshez","finishLine":"A befejezshez kattintson egy meglv pontra","finishPoly":"A befejezshez kattintson az els pontra","finishRect":"Kattintson a befejezshez","startCircle":"Kattintson a kr kzppontjnak elhelyezshez","finishCircle":"Kattintson a kr befejezshez","placeCircleMarker":"Kattintson a krjell elhelyezshez"},"actions":{"finish":"Befejezs","cancel":"Mgse","removeLastVertex":"Utols pont eltvoltsa"},"buttonTitles":{"drawMarkerButton":"Jell rajzolsa","drawPolyButton":"Poligon rajzolsa","drawLineButton":"Vonal rajzolsa","drawCircleButton":"Kr rajzolsa","drawRectButton":"Ngyzet rajzolsa","editButton":"Elemek szerkesztse","dragButton":"Elemek mozgatsa","cutButton":"Elemek vgsa","deleteButton":"Elemek trlse","drawCircleMarkerButton":"Kr jell rajzolsa","snappingButton":"Kapcsolja a jelltt msik elemhez vagy ponthoz","pinningButton":"Kzs pontok sszektse"}}'),da:JSON.parse('{"tooltips":{"placeMarker":"Tryk for at placere en markr","firstVertex":"Tryk for at placere det frste punkt","continueLine":"Tryk for at fortstte linjen","finishLine":"Tryk p et eksisterende punkt for at afslutte","finishPoly":"Tryk p det frste punkt for at afslutte","finishRect":"Tryk for at afslutte","startCircle":"Tryk for at placere cirklens center","finishCircle":"Tryk for at afslutte cirklen","placeCircleMarker":"Tryk for at placere en cirkelmarkr"},"actions":{"finish":"Afslut","cancel":"Afbryd","removeLastVertex":"Fjern sidste punkt"},"buttonTitles":{"drawMarkerButton":"Placer markr","drawPolyButton":"Tegn polygon","drawLineButton":"Tegn linje","drawCircleButton":"Tegn cirkel","drawRectButton":"Tegn firkant","editButton":"Rediger","dragButton":"Trk","cutButton":"Klip","deleteButton":"Fjern","drawCircleMarkerButton":"Tegn cirkelmarkr","snappingButton":"Fastgr trukket markr til andre elementer","pinningButton":"Sammenlg delte elementer"}}'),no:JSON.parse('{"tooltips":{"placeMarker":"Klikk for  plassere punkt","firstVertex":"Klikk for  plassere frste punkt","continueLine":"Klikk for  tegne videre","finishLine":"Klikk p et eksisterende punkt for  fullfre","finishPoly":"Klikk frste punkt for  fullfre","finishRect":"Klikk for  fullfre","startCircle":"Klikk for  sette sirkel midtpunkt","finishCircle":"Klikk for  fullfre sirkel","placeCircleMarker":"Klikk for  plassere sirkel"},"actions":{"finish":"Fullfr","cancel":"Kanseller","removeLastVertex":"Fjern forrige punkt"},"buttonTitles":{"drawMarkerButton":"Tegn Punkt","drawPolyButton":"Tegn Flate","drawLineButton":"Tegn Linje","drawCircleButton":"Tegn Sirkel","drawRectButton":"Tegn rektangel","editButton":"Rediger Objekter","dragButton":"Dra Objekter","cutButton":"Kutt Objekter","deleteButton":"Fjern Objekter","drawCircleMarkerButton":"Tegn sirkel-punkt","snappingButton":"Fest dratt punkt til andre objekter og punkt","pinningButton":"Pin delte punkt sammen"}}'),fa:JSON.parse('{"tooltips":{"placeMarker":"   ","firstVertex":"    ","continueLine":"   ","finishLine":"      ","finishPoly":"     ","finishRect":"  ","startCircle":"    ","finishCircle":"    ","placeCircleMarker":"    ","placeText":"   "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"      ","rotateButton":" ","drawTextButton":" "}}'),ua:JSON.parse(`{"tooltips":{"placeMarker":",   ","firstVertex":",    ","continueLine":",   ","finishLine":" -    ","finishPoly":"  ,  ","finishRect":",  ","startCircle":",    ","finishCircle":",   ","placeCircleMarker":",    "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"'   "}}`),tr:JSON.parse('{"tooltips":{"placeMarker":"areti yerletirmek iin tklayn","firstVertex":"lk tepe noktasn yerletirmek iin tklayn","continueLine":"izime devam etmek iin tklayn","finishLine":"Bitirmek iin mevcut herhangi bir iaretiyi tklayn","finishPoly":"Bitirmek iin ilk iaretiyi tklayn","finishRect":"Bitirmek iin tklayn","startCircle":"Daire merkezine yerletirmek iin tklayn","finishCircle":"Daireyi bitirmek iin tklayn","placeCircleMarker":"Daire iaretisi yerletirmek iin tklayn"},"actions":{"finish":"Bitir","cancel":"ptal","removeLastVertex":"Son keyi kaldr"},"buttonTitles":{"drawMarkerButton":"izim aretisi","drawPolyButton":"okgenler iz","drawLineButton":"oklu izgi iz","drawCircleButton":"ember iz","drawRectButton":"Dikdrtgen iz","editButton":"Katmanlar dzenle","dragButton":"Katmanlar srkle","cutButton":"Katmanlar kes","deleteButton":"Katmanlar kaldr","drawCircleMarkerButton":"Daire iaretisi iz","snappingButton":"Srklenen iaretiyi dier katmanlara ve kelere yaptr","pinningButton":"Paylalan keleri birbirine sabitle"}}'),cz:JSON.parse('{"tooltips":{"placeMarker":"Kliknutm vytvote znaku","firstVertex":"Kliknutm vytvote prvn objekt","continueLine":"Kliknutm pokraujte v kreslen","finishLine":"Kliknut na libovolnou existujc znaku pro dokonen","finishPoly":"Vyberte prvn bod pro dokonen","finishRect":"Kliknte pro dokonen","startCircle":"Kliknutm pidejte sted kruhu","finishCircle":",   ","placeCircleMarker":"Kliknutm nastavte polomr"},"actions":{"finish":"Dokonit","cancel":"Zruit","removeLastVertex":"Zruit posledn akci"},"buttonTitles":{"drawMarkerButton":"Pidat znaku","drawPolyButton":"Nakreslit polygon","drawLineButton":"Nakreslit kivku","drawCircleButton":"Nakreslit kruh","drawRectButton":"Nakreslit obdlnk","editButton":"Upravit vrstvu","dragButton":"Peneste vrstvu","cutButton":"Vyjmout vrstvu","deleteButton":"Smazat vrstvu","drawCircleMarkerButton":"Pidat kruhovou znaku","snappingButton":"Navzat tanou znaku k dalm vrstvm a vrcholm","pinningButton":"Spojit spolen body dohromady"}}'),ja:JSON.parse('{"tooltips":{"placeMarker":"","firstVertex":"","continueLine":"","finishLine":"","finishPoly":"","finishRect":"","startCircle":"","finishCircle":"","placeCircleMarker":"","placeText":""},"actions":{"finish":"","cancel":"","removeLastVertex":""},"buttonTitles":{"drawMarkerButton":"","drawPolyButton":"","drawLineButton":"","drawCircleButton":"","drawRectButton":"","editButton":"","dragButton":"","cutButton":"","deleteButton":"","drawCircleMarkerButton":"","snappingButton":"","pinningButton":"","rotateButton":"","drawTextButton":""}}'),fi:JSON.parse('{"tooltips":{"placeMarker":"Klikkaa asettaaksesi merkin","firstVertex":"Klikkaa asettaakseni ensimmisen osuuden","continueLine":"Klikkaa jatkaaksesi piirtmist","finishLine":"Klikkaa olemassa olevaa merkki lopettaaksesi","finishPoly":"Klikkaa ensimmist merkki lopettaaksesi","finishRect":"Klikkaa lopettaaksesi","startCircle":"Klikkaa asettaaksesi ympyrn keskipisteen","finishCircle":"Klikkaa lopettaaksesi ympyrn","placeCircleMarker":"Klikkaa asettaaksesi ympyrmerkin","placeText":"Klikkaa asettaaksesi tekstin"},"actions":{"finish":"Valmis","cancel":"Peruuta","removeLastVertex":"Poista viimeinen osuus"},"buttonTitles":{"drawMarkerButton":"Piirr merkkej","drawPolyButton":"Piirr monikulmioita","drawLineButton":"Piirr viivoja","drawCircleButton":"Piirr ympyr","drawRectButton":"Piirr neliskulmioita","editButton":"Muokkaa","dragButton":"Siirr","cutButton":"Leikkaa","deleteButton":"Poista","drawCircleMarkerButton":"Piirr ympyrmerkki","snappingButton":"Kiinnit siirrettv merkki toisiin muotoihin","pinningButton":"Kiinnit jaetut muodot yhteen","rotateButton":"Knn","drawTextButton":"Piirr teksti"}}'),ko:JSON.parse('{"tooltips":{"placeMarker":"  ","firstVertex":"   ","continueLine":"  ","finishLine":"   ","finishPoly":"   ","finishRect":" ","startCircle":"    ","finishCircle":"  ","placeCircleMarker":"   ","placeText":"  "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"   ","rotateButton":" ","drawTextButton":" "}}')};function x(h,d){var v=Object.keys(h);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(h);d&&(b=b.filter(function(E){return Object.getOwnPropertyDescriptor(h,E).enumerable})),v.push.apply(v,b)}return v}function R(h){for(var d=1;d<arguments.length;d++){var v=arguments[d]!=null?arguments[d]:{};d%2?x(Object(v),!0).forEach(function(b){F(h,b,v[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(v)):x(Object(v)).forEach(function(b){Object.defineProperty(h,b,Object.getOwnPropertyDescriptor(v,b))})}return h}function F(h,d,v){return d in h?Object.defineProperty(h,d,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[d]=v,h}const B={_globalEditModeEnabled:!1,enableGlobalEditMode:function(h){var d=R({},h);this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(function(v){v.pm.enable(d)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayers={},this.map.on("layeradd",this._layerAdded,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode:function(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(function(h){h.pm.disable()}),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled:function(){return this.globalEditModeEnabled()},globalEditModeEnabled:function(){return this._globalEditModeEnabled},toggleGlobalEditMode:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.globalOptions;this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(h)},handleLayerAdditionInGlobalEditMode:function(){var h=this._addedLayers;for(var d in this._addedLayers={},h){var v=h[d];this._isRelevantForEdit(v)&&this.globalEditModeEnabled()&&v.pm.enable(R({},this.globalOptions))}},_layerAdded:function(h){var d=h.layer;this._addedLayers[L.stamp(d)]=d},_isRelevantForEdit:function(h){return h.pm&&!(h instanceof L.LayerGroup)&&(!L.PM.optIn&&!h.options.pmIgnore||L.PM.optIn&&h.options.pmIgnore===!1)&&!h._pmTempLayer&&h.pm.options.allowEditing}},Z={_globalDragModeEnabled:!1,enableGlobalDragMode:function(){var h=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},h.forEach(function(d){d.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode:function(){var h=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,h.forEach(function(d){d.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled:function(){return!!this._globalDragModeEnabled},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(){var h=this._addedLayersDrag;for(var d in this._addedLayersDrag={},h){var v=h[d];this._isRelevantForDrag(v)&&this.globalDragModeEnabled()&&v.pm.enableLayerDrag()}},_layerAddedDrag:function(h){var d=h.layer;this._addedLayersDrag[L.stamp(d)]=d},_isRelevantForDrag:function(h){return h.pm&&!(h instanceof L.LayerGroup)&&(!L.PM.optIn&&!h.options.pmIgnore||L.PM.optIn&&h.options.pmIgnore===!1)&&!h._pmTempLayer&&h.pm.options.draggable}},Q={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode:function(){var h=this;this._globalRemovalModeEnabled=!0,this.map.eachLayer(function(d){h._isRelevantForRemoval(d)&&(d.pm.disable(),d.on("click",h.removeLayer,h))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.reinitGlobalRemovalMode,100,this)),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode:function(){var h=this;this._globalRemovalModeEnabled=!1,this.map.eachLayer(function(d){d.off("click",h.removeLayer,h)}),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled:function(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled:function(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode:function(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},reinitGlobalRemovalMode:function(h){var d=h.layer;this._isRelevantForRemoval(d)&&this.globalRemovalModeEnabled()&&(this.disableGlobalRemovalMode(),this.enableGlobalRemovalMode())},removeLayer:function(h){var d=h.target;this._isRelevantForRemoval(d)&&!d.pm.dragging()&&(d.removeFrom(this.map.pm._getContainingLayer()),d.remove(),d instanceof L.LayerGroup?(this._fireRemoveLayerGroup(d),this._fireRemoveLayerGroup(this.map,d)):(d.pm._fireRemove(d),d.pm._fireRemove(this.map,d)))},_isRelevantForRemoval:function(h){return h.pm&&!(h instanceof L.LayerGroup)&&(!L.PM.optIn&&!h.options.pmIgnore||L.PM.optIn&&h.options.pmIgnore===!1)&&!h._pmTempLayer&&h.pm.options.allowRemoval}},nt={_globalRotateModeEnabled:!1,enableGlobalRotateMode:function(){var h=this;this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(function(d){return d instanceof L.Polyline}).forEach(function(d){h._isRelevantForRotate(d)&&d.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this._reinitGlobalRotateMode,100,this)),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode:function(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(function(h){return h instanceof L.Polyline}).forEach(function(h){h.pm.disableRotate()}),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled:function(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode:function(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_reinitGlobalRotateMode:function(h){var d=h.layer;this._isRelevantForRotate(d)&&this.globalRotateModeEnabled()&&(this.disableGlobalRotateMode(),this.enableGlobalRotateMode())},_isRelevantForRotate:function(h){return h.pm&&!(h instanceof L.LayerGroup)&&(!L.PM.optIn&&!h.options.pmIgnore||L.PM.optIn&&h.options.pmIgnore===!1)&&!h._pmTempLayer&&h.pm.options.allowRotation}};function rt(h,d){var v=Object.keys(h);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(h);d&&(b=b.filter(function(E){return Object.getOwnPropertyDescriptor(h,E).enumerable})),v.push.apply(v,b)}return v}function st(h){for(var d=1;d<arguments.length;d++){var v=arguments[d]!=null?arguments[d]:{};d%2?rt(Object(v),!0).forEach(function(b){_t(h,b,v[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(v)):rt(Object(v)).forEach(function(b){Object.defineProperty(h,b,Object.getOwnPropertyDescriptor(v,b))})}return h}function _t(h,d,v){return d in h?Object.defineProperty(h,d,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[d]=v,h}var ut={_fireDrawStart:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},h,d)},_fireDrawEnd:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawend",{shape:this._shape},h,d)},_fireCreate:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Draw",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._map,"pm:create",{shape:this._shape,marker:h,layer:h},d,v)},_fireCenterPlaced:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=h==="Draw"?this._layer:void 0,b=h!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:v,layer:b,latlng:this._layer.getLatLng()},h,d)},_fireCut:function(h,d,v){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Draw",E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(h,"pm:cut",{shape:this._shape,layer:d,originalLayer:v},b,E)},_fireEdit:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._layer,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(h,"pm:edit",{layer:this._layer,shape:this.getShape()},d,v)},_fireEnable:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},h,d)},_fireDisable:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},h,d)},_fireUpdate:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},h,d)},_fireMarkerDragStart:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:h,shape:this.getShape(),indexPath:d},v,b)},_fireMarkerDrag:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:h,shape:this.getShape(),indexPath:d},v,b)},_fireMarkerDragEnd:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:h,shape:this.getShape(),indexPath:d,intersectionReset:v},b,E)},_fireDragStart:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},h,d)},_fireDrag:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:drag",st(st({},h),{},{shape:this.getShape()}),d,v)},_fireDragEnd:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},h,d)},_fireDragEnable:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},h,d)},_fireDragDisable:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},h,d)},_fireRemove:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(h,"pm:remove",{layer:d,shape:this.getShape()},v,b)},_fireVertexAdded:function(h,d,v){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:h,indexPath:d,latlng:v,shape:this.getShape()},b,E)},_fireVertexRemoved:function(h,d){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:h,indexPath:d,shape:this.getShape()},v,b)},_fireVertexClick:function(h,d){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:h,indexPath:d,shape:this.getShape()},v,b)},_fireIntersect:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:intersect",{layer:this._layer,intersection:h,shape:this.getShape()},d,v)},_fireLayerReset:function(h,d){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:h,indexPath:d,shape:this.getShape()},v,b)},_fireChange:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:h,shape:this.getShape()},d,v)},_fireTextChange:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:h,shape:this.getShape()},d,v)},_fireTextFocus:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},h,d)},_fireTextBlur:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},h,d)},_fireSnapDrag:function(h,d){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(h,"pm:snapdrag",d,v,b)},_fireSnap:function(h,d){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(h,"pm:snap",d,v,b)},_fireUnsnap:function(h,d){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(h,"pm:unsnap",d,v,b)},_fireRotationEnable:function(h,d){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(h,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},v,b)},_fireRotationDisable:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Rotation",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(h,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},d,v)},_fireRotationStart:function(h,d){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(h,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:d},v,b)},_fireRotation:function(h,d,v){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this._rotationLayer,E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Rotation",A=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(h,"pm:rotate",{layer:b,helpLayer:this._layer,startAngle:this._startAngle,angle:b.pm.getAngle(),angleDiff:d,oldLatLngs:v,newLatLngs:b.getLatLngs()},E,A)},_fireRotationEnd:function(h,d,v){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Rotation",E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(h,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:d,angle:this._rotationLayer.pm.getAngle(),originLatLngs:v,newLatLngs:this._rotationLayer.getLatLngs()},b,E)},_fireActionClick:function(h,d,v){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Toolbar",E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._map,"pm:actionclick",{text:h.text,action:h,btnName:d,button:v},b,E)},_fireButtonClick:function(h,d){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Toolbar",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._map,"pm:buttonclick",{btnName:h,button:d},v,b)},_fireLangChange:function(h,d,v,b){var E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Global",A=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(this.map,"pm:langchange",{oldLang:h,activeLang:d,fallback:v,translations:b},E,A)},_fireGlobalDragModeToggled:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:h,map:this.map},d,v)},_fireGlobalEditModeToggled:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:h,map:this.map},d,v)},_fireGlobalRemovalModeToggled:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:h,map:this.map},d,v)},_fireGlobalCutModeToggled:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},h,d)},_fireGlobalDrawModeToggled:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},h,d)},_fireGlobalRotateModeToggled:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},h,d)},_fireRemoveLayerGroup:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(h,"pm:remove",{layer:d,shape:void 0},v,b)},_fireKeyeventEvent:function(h,d,v){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Global",E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this.map,"pm:keyevent",{event:h,eventType:d,focusOn:v},b,E)},__fire:function(h,d,v,b){var E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};v=u()(v,E,{source:b}),L.PM.Utils._fireEvent(h,d,v)}};const gt=ut,kt={_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener:function(h){this.map=h,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this)},_onKeyListener:function(h){var d="document";this.map.getContainer().contains(h.target)&&(d="map");var v={event:h,eventType:h.type,focusOn:d};this._lastEvents[h.type]=v,this._lastEvents.current=v,this.map.pm._fireKeyeventEvent(h,h.type,d)},_onBlur:function(h){h.altKey=!1;var d={event:h,eventType:h.type,focusOn:"document"};this._lastEvents[h.type]=d,this._lastEvents.current=d},getLastKeyEvent:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"current";return this._lastEvents[h]},isShiftKeyPressed:function(){var h;return(h=this._lastEvents.current)===null||h===void 0?void 0:h.event.shiftKey},isAltKeyPressed:function(){var h;return(h=this._lastEvents.current)===null||h===void 0?void 0:h.event.altKey},isCtrlKeyPressed:function(){var h;return(h=this._lastEvents.current)===null||h===void 0?void 0:h.event.ctrlKey},isMetaKeyPressed:function(){var h;return(h=this._lastEvents.current)===null||h===void 0?void 0:h.event.metaKey},getPressedKey:function(){var h;return(h=this._lastEvents.current)===null||h===void 0?void 0:h.event.key}};var Vt=o(7361),at=o.n(Vt),Ut=o(8721),Rt=o.n(Ut);function Tt(h){var d=L.PM.activeLang;return Rt()(O,d)||(d="en"),at()(O[d],h)}function jt(h){for(var d=0;d<h.length;d+=1){var v=h[d];if(Array.isArray(v)){if(jt(v))return!0}else if(v!=null&&v!=="")return!0}return!1}function Be(h){return h.reduce(function(d,v){if(v.length!==0){var b=Array.isArray(v)?Be(v):v;Array.isArray(b)?b.length!==0&&d.push(b):d.push(b)}return d},[])}function Fe(h,d,v){for(var b,E,A,G=6378137,U=63567523142e-4,V=.0033528106647474805,H=h.lng,$=h.lat,ht=v,lt=Math.PI,Et=d*lt/180,Dt=Math.sin(Et),Wt=Math.cos(Et),fe=(1-V)*Math.tan($*lt/180),He=1/Math.sqrt(1+fe*fe),Zt=fe*He,Ze=Math.atan2(fe,Wt),We=He*Dt,Yn=1-We*We,Si=Yn*(G*G-U*U)/(U*U),Gl=1+Si/16384*(4096+Si*(Si*(320-175*Si)-768)),Es=Si/1024*(256+Si*(Si*(74-47*Si)-128)),Co=ht/(U*Gl),Ja=2*Math.PI;Math.abs(Co-Ja)>1e-12;)b=Math.cos(2*Ze+Co),Ja=Co,Co=ht/(U*Gl)+Es*(E=Math.sin(Co))*(b+Es/4*((A=Math.cos(Co))*(2*b*b-1)-Es/6*b*(4*E*E-3)*(4*b*b-3)));var Vl=Zt*E-He*A*Wt,Qu=Math.atan2(Zt*A+He*E*Wt,(1-V)*Math.sqrt(We*We+Vl*Vl)),Ms=V/16*Yn*(4+V*(4-3*Yn)),$u=H+180*(Math.atan2(E*Dt,He*A-Zt*E*Wt)-(1-Ms)*V*We*(Co+Ms*E*(b+Ms*A*(2*b*b-1))))/lt,ni=180*Qu/lt;return L.latLng($u,ni)}function le(h,d,v,b){for(var E,A,G=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],U=[],V=0;V<v;V+=1){if(G)E=Fe(h,360*V/v+b,d),A=L.latLng(E.lng,E.lat);else{var H=h.lat+Math.cos(2*V*Math.PI/v)*d,$=h.lng+Math.sin(2*V*Math.PI/v)*d;A=L.latLng(H,$)}U.push(A)}return U}function Le(h,d,v,b){var E=function(A,G,U){var V=A.latLngToContainerPoint(G),H=A.latLngToContainerPoint(U),$=180*Math.atan2(H.y-V.y,H.x-V.x)/Math.PI+90;return $+($<0?360:0)}(h,d,v);return function(A,G,U){G=(G+360)%360;var V=Math.PI/180,H=180/Math.PI,$=6378137,ht=A.lng*V,lt=A.lat*V,Et=G*V,Dt=Math.sin(lt),Wt=Math.cos(lt),fe=Math.cos(U/$),He=Math.sin(U/$),Zt=Math.asin(Dt*fe+Wt*He*Math.cos(Et)),Ze=ht+Math.atan2(Math.sin(Et)*He*Wt,fe-Dt*Math.sin(Zt));return Ze=(Ze*=H)>180?Ze-360:Ze<-180?Ze+360:Ze,L.latLng([Zt*H,Ze])}(d,E,b)}function pr(h,d){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"asc";if(!d||Object.keys(d).length===0)return function(V,H){return V-H};for(var b,E=Object.keys(d),A=E.length-1,G={};A>=0;)b=E[A],G[b.toLowerCase()]=d[b],A-=1;function U(V){return V instanceof L.Marker?"Marker":V instanceof L.Circle?"Circle":V instanceof L.CircleMarker?"CircleMarker":V instanceof L.Rectangle?"Rectangle":V instanceof L.Polygon?"Polygon":V instanceof L.Polyline?"Line":void 0}return function(V,H){var $,ht;if(h==="instanceofShape"){if($=U(V.layer).toLowerCase(),ht=U(H.layer).toLowerCase(),!$||!ht)return 0}else{if(!V.hasOwnProperty(h)||!H.hasOwnProperty(h))return 0;$=V[h].toLowerCase(),ht=H[h].toLowerCase()}var lt=$ in G?G[$]:Number.MAX_SAFE_INTEGER,Et=ht in G?G[ht]:Number.MAX_SAFE_INTEGER,Dt=0;return lt<Et?Dt=-1:lt>Et&&(Dt=1),v==="desc"?-1*Dt:Dt}}function Mn(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.getLatLngs();return h instanceof L.Polygon?L.polygon(d).getLatLngs():L.polyline(d).getLatLngs()}function Hi(h,d){var v,b;if((v=d.options.crs)!==null&&v!==void 0&&(b=v.projection)!==null&&b!==void 0&&b.MAX_LATITUDE){var E,A,G=(E=d.options.crs)===null||E===void 0||(A=E.projection)===null||A===void 0?void 0:A.MAX_LATITUDE;h.lat=Math.max(Math.min(G,h.lat),-G)}return h}function kr(h){return h.options.renderer||h._map&&(h._map._getPaneRenderer(h.options.pane)||h._map.options.renderer||h._map._renderer)||h._renderer}const _o=L.Class.extend({includes:[B,Z,Q,nt,gt],initialize:function(h){this.map=h,this.Draw=new L.PM.Draw(h),this.Toolbar=new L.PM.Toolbar(h),this.Keyboard=kt,this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(h)},setLang:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en",d=arguments.length>1?arguments[1]:void 0,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"en",b=L.PM.activeLang;d&&(O[h]=u()(O[v],d)),L.PM.activeLang=h,this.map.pm.Toolbar.reinit(),this._fireLangChange(b,h,v,O[h])},addControls:function(h){this.Toolbar.addControls(h)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon",d=arguments.length>1?arguments[1]:void 0;h==="Poly"&&(h="Polygon"),this.Draw.enable(h,d)},disableDraw:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon";h==="Poly"&&(h="Polygon"),this.Draw.disable(h)},setPathOptions:function(h){var d=this,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=v.ignoreShapes||[],E=v.merge||!1;this.map.pm.Draw.shapes.forEach(function(A){b.indexOf(A)===-1&&d.map.pm.Draw[A].setPathOptions(h,E)})},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(h){var d=this,v=u()(this.globalOptions,h),b=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.editable!=!!v.editable&&(this.map.pm.Draw.CircleMarker.disable(),b=!0),this.map.pm.Draw.shapes.forEach(function(E){d.map.pm.Draw[E].setOptions(v)}),b&&this.map.pm.Draw.CircleMarker.enable(),L.PM.Utils.findLayers(this.map).forEach(function(E){E.pm.setOptions(v)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=v,this.applyGlobalOptions()},applyGlobalOptions:function(){L.PM.Utils.findLayers(this.map).forEach(function(h){h.pm.enabled()&&h.pm.applyOptions()})},globalDrawModeEnabled:function(){return!!this.Draw.getActiveShape()},globalCutModeEnabled:function(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode:function(h){return this.Draw.Cut.enable(h)},toggleGlobalCutMode:function(h){return this.Draw.Cut.toggle(h)},disableGlobalCutMode:function(){return this.Draw.Cut.disable()},getGeomanLayers:function(){var h=arguments.length>0&&arguments[0]!==void 0&&arguments[0],d=L.PM.Utils.findLayers(this.map);if(!h)return d;var v=L.featureGroup();return v._pmTempLayer=!0,d.forEach(function(b){v.addLayer(b)}),v},getGeomanDrawLayers:function(){var h=arguments.length>0&&arguments[0]!==void 0&&arguments[0],d=L.PM.Utils.findLayers(this.map).filter(function(b){return b._drawnByGeoman===!0});if(!h)return d;var v=L.featureGroup();return v._pmTempLayer=!0,d.forEach(function(b){v.addLayer(b)}),v},_getContainingLayer:function(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple:function(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents:function(h){this._touchEventCounter===0&&(L.DomEvent.on(h,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(h,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents:function(h){this._touchEventCounter===1&&(L.DomEvent.off(h,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(h,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove:function(h){kr(this.map)._onMouseMove(this._createMouseEvent("mousemove",h))},_canvasTouchClick:function(h){var d="";h.type==="touchstart"||h.type==="pointerdown"?d="mousedown":h.type==="touchend"||h.type==="pointerup"?d="mouseup":h.type!=="touchcancel"&&h.type!=="pointercancel"||(d="mouseup"),d&&kr(this.map)._onClick(this._createMouseEvent(d,h))},_createMouseEvent:function(h,d){var v,b=d.touches[0]||d.changedTouches[0];try{v=new MouseEvent(h,{bubbles:d.bubbles,cancelable:d.cancelable,view:d.view,detail:b.detail,screenX:b.screenX,screenY:b.screenY,clientX:b.clientX,clientY:b.clientY,ctrlKey:d.ctrlKey,altKey:d.altKey,shiftKey:d.shiftKey,metaKey:d.metaKey,button:d.button,relatedTarget:d.relatedTarget})}catch{(v=document.createEvent("MouseEvents")).initMouseEvent(h,d.bubbles,d.cancelable,d.view,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget)}return v}}),$r=L.Control.extend({includes:[gt],options:{position:"topleft",disableByOtherButtons:!0},initialize:function(h){this._button=L.Util.extend({},this.options,h)},onAdd:function(h){return this._map=h,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(h){return this._button.toggleStatus=typeof h=="boolean"?h:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},disable:function(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable:function(){this._button.disabled=!1,this._updateDisabled()},_triggerClick:function(h){h&&h.preventDefault(),this._button.disabled||(this._button.onClick(h,{button:this,event:h}),this._clicked(h),this._button.afterClick(h,{button:this,event:h}))},_makeButton:function(h){var d=this,v=this.options.position.indexOf("right")>-1?"pos-right":"",b=L.DomUtil.create("div","button-container  ".concat(v),this._container);h.title&&b.setAttribute("title",h.title);var E=L.DomUtil.create("a","leaflet-buttons-control-button",b);E.setAttribute("role","button"),E.setAttribute("tabindex","0"),E.href="#";var A=L.DomUtil.create("div","leaflet-pm-actions-container ".concat(v),b),G=h.actions,U={cancel:{text:Tt("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:Tt("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:Tt("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[h.jsClass]._removeLastVertex()}},finish:{text:Tt("actions.finish"),onClick:function(H){this._map.pm.Draw[h.jsClass]._finishShape(H)}}};G.forEach(function(H){var $,ht=typeof H=="string"?H:H.name;if(U[ht])$=U[ht];else{if(!H.text)return;$=H}var lt=L.DomUtil.create("a","leaflet-pm-action ".concat(v," action-").concat(ht),A);lt.setAttribute("role","button"),lt.setAttribute("tabindex","0"),lt.href="#",lt.innerHTML=$.text,L.DomEvent.disableClickPropagation(lt),L.DomEvent.on(lt,"click",L.DomEvent.stop),!h.disabled&&$.onClick&&(L.DomEvent.addListener(lt,"click",function(Et){Et.preventDefault();var Dt="",Wt=d._map.pm.Toolbar.buttons;for(var fe in Wt)if(Wt[fe]._button===h){Dt=fe;break}d._fireActionClick($,Dt,h)},d),L.DomEvent.addListener(lt,"click",$.onClick,d))}),h.toggleStatus&&L.DomUtil.addClass(b,"active");var V=L.DomUtil.create("div","control-icon",E);return h.iconUrl&&V.setAttribute("src",h.iconUrl),h.className&&L.DomUtil.addClass(V,h.className),L.DomEvent.disableClickPropagation(E),L.DomEvent.on(E,"click",L.DomEvent.stop),h.disabled||(L.DomEvent.addListener(E,"click",this._onBtnClick,this),L.DomEvent.addListener(E,"click",this._triggerClick,this)),h.disabled&&(L.DomUtil.addClass(E,"pm-disabled"),E.setAttribute("aria-disabled","true")),b},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus&&this._button.cssToggle!==!1?(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")):(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")))},_onBtnClick:function(){this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);var h="",d=this._map.pm.Toolbar.buttons;for(var v in d)if(d[v]._button===this._button){h=v;break}this._fireButtonClick(h,this._button)},_clicked:function(){this._button.doToggle&&this.toggle()},_updateDisabled:function(){if(this._container){var h="pm-disabled",d=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(d,h),d.setAttribute("aria-disabled","true"),L.DomEvent.off(d,"click",this._triggerClick,this),L.DomEvent.off(d,"click",this._onBtnClick,this)):(L.DomUtil.removeClass(d,h),d.setAttribute("aria-disabled","false"),L.DomEvent.on(d,"click",this._triggerClick,this),L.DomEvent.on(d,"click",this._onBtnClick,this))}}});function Zi(h,d){var v=Object.keys(h);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(h);d&&(b=b.filter(function(E){return Object.getOwnPropertyDescriptor(h,E).enumerable})),v.push.apply(v,b)}return v}function Xn(h){for(var d=1;d<arguments.length;d++){var v=arguments[d]!=null?arguments[d]:{};d%2?Zi(Object(v),!0).forEach(function(b){Go(h,b,v[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(v)):Zi(Object(v)).forEach(function(b){Object.defineProperty(h,b,Object.getOwnPropertyDescriptor(v,b))})}return h}function Go(h,d,v){return d in h?Object.defineProperty(h,d,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[d]=v,h}function ji(h){return ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},ji(h)}L.Control.PMButton=$r;const mo=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize:function(h){this.init(h)},reinit:function(){var h=this.isVisible;this.removeControls(),this._defineButtons(),h&&this.addControls()},init:function(h){this.map=h,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer:function(h){var d="".concat(h,"Container");return this[d]||(this[d]=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-".concat(h," leaflet-bar leaflet-control"))),this[d]},getButtons:function(){return this.buttons},addControls:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;typeof h.editPolygon<"u"&&(h.editMode=h.editPolygon),typeof h.deleteLayer<"u"&&(h.removalMode=h.deleteLayer),L.Util.setOptions(this,h),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle:function(){var h=this.getButtons(),d={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(var v in h){var b=h[v];L.Util.setOptions(b,{className:d.geomanIcons[v]})}},removeControls:function(){var h=this.getButtons();for(var d in h)h[d].remove();this.isVisible=!1},toggleControls:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(h)},_addButton:function(h,d){return this.buttons[h]=d,this.options[h]=this.options[h]||!1,this.buttons[h]},triggerClickOnToggledButtons:function(h){for(var d in this.buttons){var v=this.buttons[d];v._button.disableByOtherButtons&&v!==h&&v.toggled()&&v._triggerClick()}},toggleButton:function(h,d){var v=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return h==="editPolygon"&&(h="editMode"),h==="deleteLayer"&&(h="removalMode"),v&&this.triggerClickOnToggledButtons(this.buttons[h]),!!this.buttons[h]&&this.buttons[h].toggle(d)},_defineButtons:function(){var h=this,d={className:"control-icon leaflet-pm-icon-marker",title:Tt("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(Et,Dt){h.map.pm.Draw[Dt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},v={title:Tt("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(Et,Dt){h.map.pm.Draw[Dt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},b={className:"control-icon leaflet-pm-icon-polyline",title:Tt("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(Et,Dt){h.map.pm.Draw[Dt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},E={title:Tt("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(Et,Dt){h.map.pm.Draw[Dt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},A={title:Tt("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(Et,Dt){h.map.pm.Draw[Dt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},G={title:Tt("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(Et,Dt){h.map.pm.Draw[Dt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},U={title:Tt("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){h.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},V={title:Tt("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){h.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},H={title:Tt("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(Et,Dt){h.map.pm.Draw[Dt.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},$={title:Tt("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){h.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},ht={title:Tt("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:function(){},afterClick:function(){h.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},lt={className:"control-icon leaflet-pm-icon-text",title:Tt("buttonTitles.drawTextButton"),jsClass:"Text",onClick:function(){},afterClick:function(Et,Dt){h.map.pm.Draw[Dt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(d)),this._addButton("drawPolyline",new L.Control.PMButton(b)),this._addButton("drawRectangle",new L.Control.PMButton(G)),this._addButton("drawPolygon",new L.Control.PMButton(v)),this._addButton("drawCircle",new L.Control.PMButton(E)),this._addButton("drawCircleMarker",new L.Control.PMButton(A)),this._addButton("drawText",new L.Control.PMButton(lt)),this._addButton("editMode",new L.Control.PMButton(U)),this._addButton("dragMode",new L.Control.PMButton(V)),this._addButton("cutPolygon",new L.Control.PMButton(H)),this._addButton("removalMode",new L.Control.PMButton($)),this._addButton("rotateMode",new L.Control.PMButton(ht))},_showHideButtons:function(){if(this.isVisible){this.removeControls(),this.isVisible=!0;var h=this.getButtons(),d=[];for(var v in this.options.drawControls===!1&&(d=d.concat(Object.keys(h).filter(function(E){return!h[E]._button.tool}))),this.options.editControls===!1&&(d=d.concat(Object.keys(h).filter(function(E){return h[E]._button.tool==="edit"}))),this.options.optionsControls===!1&&(d=d.concat(Object.keys(h).filter(function(E){return h[E]._button.tool==="options"}))),this.options.customControls===!1&&(d=d.concat(Object.keys(h).filter(function(E){return h[E]._button.tool==="custom"}))),h)if(this.options[v]&&d.indexOf(v)===-1){var b=h[v]._button.tool;b||(b="draw"),h[v].setPosition(this._getBtnPosition(b)),h[v].addTo(this.map)}}},_getBtnPosition:function(h){return this.options.positions&&this.options.positions[h]?this.options.positions[h]:this.options.position},setBlockPosition:function(h,d){this.options.positions[h]=d,this._showHideButtons(),this.changeControlOrder()},getBlockPositions:function(){return this.options.positions},copyDrawControl:function(h,d){if(!d)throw new TypeError("Button has no name");ji(d)!=="object"&&(d={name:d});var v=this._btnNameMapping(h);if(!d.name)throw new TypeError("Button has no name");if(this.buttons[d.name])throw new TypeError("Button with this name already exists");var b=this.map.pm.Draw.createNewDrawInstance(d.name,v);return d=Xn(Xn({},this.buttons[v]._button),d),{drawInstance:b,control:this.createCustomControl(d)}},createCustomControl:function(h){var d,v;if(!h.name)throw new TypeError("Button has no name");if(this.buttons[h.name])throw new TypeError("Button with this name already exists");h.onClick||(h.onClick=function(){}),h.afterClick||(h.afterClick=function(){}),h.toggle!==!1&&(h.toggle=!0),h.block&&(h.block=h.block.toLowerCase()),h.block&&h.block!=="draw"||(h.block=""),h.className?h.className.indexOf("control-icon")===-1&&(h.className="control-icon ".concat(h.className)):h.className="control-icon";var b={tool:h.block,className:h.className,title:h.title||"",jsClass:h.name,onClick:h.onClick,afterClick:h.afterClick,doToggle:h.toggle,toggleStatus:!1,disableOtherButtons:(d=h.disableOtherButtons)===null||d===void 0||d,disableByOtherButtons:(v=h.disableByOtherButtons)===null||v===void 0||v,cssToggle:h.toggle,position:this.options.position,actions:h.actions||[],disabled:!!h.disabled};this.options[h.name]!==!1&&(this.options[h.name]=!0);var E=this._addButton(h.name,new L.Control.PMButton(b));return this.changeControlOrder(),E},changeControlOrder:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=this._shapeMapping(),v=[];h.forEach(function(H){d[H]?v.push(d[H]):v.push(H)});var b=this.getButtons(),E={};v.forEach(function(H){b[H]&&(E[H]=b[H])});var A=Object.keys(b).filter(function(H){return!b[H]._button.tool});A.forEach(function(H){v.indexOf(H)===-1&&(E[H]=b[H])});var G=Object.keys(b).filter(function(H){return b[H]._button.tool==="edit"});G.forEach(function(H){v.indexOf(H)===-1&&(E[H]=b[H])});var U=Object.keys(b).filter(function(H){return b[H]._button.tool==="options"});U.forEach(function(H){v.indexOf(H)===-1&&(E[H]=b[H])});var V=Object.keys(b).filter(function(H){return b[H]._button.tool==="custom"});V.forEach(function(H){v.indexOf(H)===-1&&(E[H]=b[H])}),Object.keys(b).forEach(function(H){v.indexOf(H)===-1&&(E[H]=b[H])}),this.map.pm.Toolbar.buttons=E,this._showHideButtons()},getControlOrder:function(){var h=this.getButtons(),d=[];for(var v in h)d.push(v);return d},changeActionsOfControl:function(h,d){var v=this._btnNameMapping(h);if(!v)throw new TypeError("No name passed");if(!d)throw new TypeError("No actions passed");if(!this.buttons[v])throw new TypeError("Button with this name not exists");this.buttons[v]._button.actions=d,this.changeControlOrder()},setButtonDisabled:function(h,d){var v=this._btnNameMapping(h);d?this.buttons[v].disable():this.buttons[v].enable()},_shapeMapping:function(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping:function(h){var d=this._shapeMapping();return d[h]?d[h]:h}});function Mi(h,d){var v=Object.keys(h);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(h);d&&(b=b.filter(function(E){return Object.getOwnPropertyDescriptor(h,E).enumerable})),v.push.apply(v,b)}return v}function j(h){for(var d=1;d<arguments.length;d++){var v=arguments[d]!=null?arguments[d]:{};d%2?Mi(Object(v),!0).forEach(function(b){I(h,b,v[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(v)):Mi(Object(v)).forEach(function(b){Object.defineProperty(h,b,Object.getOwnPropertyDescriptor(v,b))})}return h}function I(h,d,v){return d in h?Object.defineProperty(h,d,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[d]=v,h}var T={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(h){var d=this;h.forEach(function(v){Array.isArray(v)?d._assignEvents(v):(v.off("drag",d._handleSnapping,d),v.on("drag",d._handleSnapping,d),v.off("dragend",d._cleanupSnapping,d),v.on("dragend",d._cleanupSnapping,d))})},_cleanupSnapping:function(h){h&&(h.target._snapped=!1),delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("pm:remove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(d){d.remove()})},_handleThrottleSnapping:function(){this.throttledList&&this._createSnapList()},_handleSnapping:function(h){var d=this,v=h.target;if(v._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),this._map.pm.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;var b=this._calcClosestLayer(v.getLatLng(),this._snapList);if(Object.keys(b).length===0)return!1;var E,A=b.layer instanceof L.Marker||b.layer instanceof L.CircleMarker||!this.options.snapSegment;E=A?b.latlng:this._checkPrioritiySnapping(b);var G=this.options.snapDistance,U={marker:v,shape:this._shape,snapLatLng:E,segment:b.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:b.layer,distance:b.distance};if(this._fireSnapDrag(U.marker,U),this._fireSnapDrag(this._layer,U),b.distance<G){v._orgLatLng=v.getLatLng(),v.setLatLng(E),v._snapped=!0,v._snapInfo=U;var V=this._snapLatLng||{},H=E||{};V.lat===H.lat&&V.lng===H.lng||(d._snapLatLng=E,d._fireSnap(v,U),d._fireSnap(d._layer,U))}else this._snapLatLng&&(this._unsnap(U),v._snapped=!1,v._snapInfo=void 0,this._fireUnsnap(U.marker,U),this._fireUnsnap(this._layer,U));return!0},_createSnapList:function(){var h=this,d=[],v=[],b=this._map;b.off("pm:remove",this._handleSnapLayerRemoval,this),b.on("pm:remove",this._handleSnapLayerRemoval,this),b.eachLayer(function(E){if((E instanceof L.Polyline||E instanceof L.Marker||E instanceof L.CircleMarker||E instanceof L.ImageOverlay)&&E.options.snapIgnore!==!0){if(E.options.snapIgnore===void 0&&(!L.PM.optIn&&E.options.pmIgnore===!0||L.PM.optIn&&E.options.pmIgnore!==!1))return;(E instanceof L.Circle||E instanceof L.CircleMarker)&&E.pm&&E.pm._hiddenPolyCircle?d.push(E.pm._hiddenPolyCircle):E instanceof L.ImageOverlay&&(E=L.rectangle(E.getBounds())),d.push(E);var A=L.polyline([],{color:"red",pmIgnore:!0});A._pmTempLayer=!0,v.push(A),(E instanceof L.Circle||E instanceof L.CircleMarker)&&v.push(A)}}),d=(d=(d=d.filter(function(E){return h._layer!==E})).filter(function(E){return E._latlng||E._latlngs&&jt(E._latlngs)})).filter(function(E){return!E._pmTempLayer}),this._otherSnapLayers?(this._otherSnapLayers.forEach(function(){var E=L.polyline([],{color:"red",pmIgnore:!0});E._pmTempLayer=!0,v.push(E)}),this._snapList=d.concat(this._otherSnapLayers)):this._snapList=d,this.debugIndicatorLines=v},_handleSnapLayerRemoval:function(h){var d=h.layer,v=this._snapList.findIndex(function(b){return b._leaflet_id===d._leaflet_id});this._snapList.splice(v,1)},_calcClosestLayer:function(h,d){return this._calcClosestLayers(h,d,1)[0]},_calcClosestLayers:function(h,d){var v=this,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=[],A={};d.forEach(function(U,V){if(!U._parentCopy||U._parentCopy!==v._layer){var H=v._calcLayerDistances(h,U);if(H.distance=Math.floor(H.distance),v.debugIndicatorLines){if(!v.debugIndicatorLines[V]){var $=L.polyline([],{color:"red",pmIgnore:!0});$._pmTempLayer=!0,v.debugIndicatorLines[V]=$}v.debugIndicatorLines[V].setLatLngs([h,H.latlng])}b===1&&(A.distance===void 0||H.distance<=A.distance)?(H.distance<A.distance&&(E=[]),(A=H).layer=U,E.push(A)):b!==1&&(A={},(A=H).layer=U,E.push(A))}}),b!==1&&(E=E.sort(function(U,V){return U.distance-V.distance})),b===-1&&(b=E.length);var G=this._getClosestLayerByPriority(E,b);return L.Util.isArray(G)?G:[G]},_calcLayerDistances:function(h,d){var v=this._map,b=d instanceof L.Marker||d instanceof L.CircleMarker,E=d instanceof L.Polygon,A=h;if(b){var G=d.getLatLng();return{latlng:j({},G),distance:this._getDistance(v,G,A)}}return this._calcLatLngDistances(A,d.getLatLngs(),v,E)},_calcLatLngDistances:function(h,d,v){var b,E,A,G=this,U=arguments.length>3&&arguments[3]!==void 0&&arguments[3],V=function $(ht){ht.forEach(function(lt,Et){if(Array.isArray(lt))$(lt);else if(G.options.snapSegment){var Dt,Wt=lt;Dt=U?Et+1===ht.length?0:Et+1:Et+1===ht.length?void 0:Et+1;var fe=ht[Dt];if(fe){var He=G._getDistanceToSegment(v,h,Wt,fe);(E===void 0||He<E)&&(E=He,A=[Wt,fe])}}else{var Zt=G._getDistance(v,h,lt);(E===void 0||Zt<E)&&(E=Zt,b=lt)}})};if(V(d),this.options.snapSegment){var H=this._getClosestPointOnSegment(v,h,A[0],A[1]);return{latlng:j({},H),segment:A,distance:E}}return{latlng:b,distance:E}},_getClosestLayerByPriority:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;h=h.sort(function(G,U){return G._leaflet_id-U._leaflet_id});var v=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],b=this._map.pm.globalOptions.snappingOrder||[],E=0,A={};return b.concat(v).forEach(function(G){A[G]||(E+=1,A[G]=E)}),h.sort(pr("instanceofShape",A)),d===1?h[0]||{}:h.slice(0,d)},_checkPrioritiySnapping:function(h){var d=this._map,v=h.segment[0],b=h.segment[1],E=h.latlng,A=this._getDistance(d,v,E),G=this._getDistance(d,b,E),U=A<G?v:b,V=A<G?A:G;if(this.options.snapMiddle){var H=L.PM.Utils.calcMiddleLatLng(d,v,b),$=this._getDistance(d,H,E);$<A&&$<G&&(U=H,V=$)}return j({},V<this.options.snapDistance?U:E)},_unsnap:function(){delete this._snapLatLng},_getClosestPointOnSegment:function(h,d,v,b){var E=h.getMaxZoom();E===1/0&&(E=h.getZoom());var A=h.project(d,E),G=h.project(v,E),U=h.project(b,E),V=L.LineUtil.closestPointOnSegment(A,G,U);return h.unproject(V,E)},_getDistanceToSegment:function(h,d,v,b){var E=h.latLngToLayerPoint(d),A=h.latLngToLayerPoint(v),G=h.latLngToLayerPoint(b);return L.LineUtil.pointToSegmentDistance(E,A,G)},_getDistance:function(h,d,v){return h.latLngToLayerPoint(d).distanceTo(h.latLngToLayerPoint(v))}};const z=T,q=L.Class.extend({includes:[z,gt],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,editable:!1,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1},setOptions:function(h){L.Util.setOptions(this,h),this.setStyle(this.options)},setStyle:function(){},getOptions:function(){return this.options},initialize:function(h){var d=this,v=new L.Icon.Default;v.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=v,this._map=h,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(function(b){d[b]=new L.PM.Draw[b](d._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions:function(h){var d=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.options.pathOptions=d?u()(this.options.pathOptions,h):h},getShapes:function(){return this.shapes},getShape:function(){return this._shape},enable:function(h,d){if(!h)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[h].enable(d)},disable:function(){var h=this;this.shapes.forEach(function(d){h[d].disable()})},addControls:function(){var h=this;this.shapes.forEach(function(d){h[d].addButton()})},getActiveShape:function(){var h,d=this;return this.shapes.forEach(function(v){d[v]._enabled&&(h=v)}),h},_setGlobalDrawMode:function(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();var h=L.PM.Utils.findLayers(this._map);this._enabled?h.forEach(function(d){L.PM.Utils.disablePopup(d)}):h.forEach(function(d){L.PM.Utils.enablePopup(d)})},createNewDrawInstance:function(h,d){var v=this._getShapeFromBtnName(d);if(this[h])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[v])throw new TypeError("There is no class L.PM.Draw.".concat(v));return this[h]=new L.PM.Draw[v](this._map),this[h].toolbarButtonName=h,this[h]._shape=h,this.shapes.push(h),this[d]&&this[h].setOptions(this[d].options),this[h].setOptions(this[h].options),this[h]},_getShapeFromBtnName:function(h){var d={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return d[h]?d[h]:this[h]?this[h]._shape:h},_finishLayer:function(h){h.pm&&(h.pm.setOptions(this.options),h.pm._shape=this._shape,h.pm._map=this._map),this._addDrawnLayerProp(h)},_addDrawnLayerProp:function(h){h._drawnByGeoman=!0},_setPane:function(h,d){d==="layerPane"?h.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":d==="vertexPane"?h.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":d==="markerPane"&&(h.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer:function(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}});q.Marker=q.extend({initialize:function(h){this._map=h,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(h){var d=this;L.Util.setOptions(this,h),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Tt("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(function(v){d.isRelevantMarker(v)&&v.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var h=this;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(d){h.isRelevantMarker(d)&&d.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(h){this.enabled()?this.disable():this.enable(h)},isRelevantMarker:function(h){return h instanceof L.Marker&&h.pm&&!h._pmTempLayer&&!h.pm._initTextMarker},_syncHintMarker:function(h){if(this._hintMarker.setLatLng(h.latlng),this.options.snappable){var d=h;d.target=this._hintMarker,this._handleSnapping(d)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker:function(h){if(h.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(h.latlng);var d=this._hintMarker.getLatLng(),v=new L.Marker(d,this.options.markerStyle);this._setPane(v,"markerPane"),this._finishLayer(v),v.pm||(v.options.draggable=!1),v.addTo(this._map.pm._getContainingLayer()),v.pm&&this.options.markerEditable?v.pm.enable():v.dragging&&v.dragging.disable(),this._fireCreate(v),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},setStyle:function(){var h,d;(h=this.options.markerStyle)!==null&&h!==void 0&&h.icon&&((d=this._hintMarker)===null||d===void 0||d.setIcon(this.options.markerStyle.icon))}});var W=63710088e-1,ct={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*W,kilometers:6371.0088,kilometres:6371.0088,meters:W,metres:W,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:W/1852,radians:1,yards:6967335223679999e-9};function ft(h,d,v){v===void 0&&(v={});var b={type:"Feature"};return(v.id===0||v.id)&&(b.id=v.id),v.bbox&&(b.bbox=v.bbox),b.properties=d||{},b.geometry=h,b}function St(h,d,v){if(v===void 0&&(v={}),!h)throw new Error("coordinates is required");if(!Array.isArray(h))throw new Error("coordinates must be an Array");if(h.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Xe(h[0])||!Xe(h[1]))throw new Error("coordinates must contain numbers");return ft({type:"Point",coordinates:h},d,v)}function K(h,d,v){if(v===void 0&&(v={}),h.length<2)throw new Error("coordinates must be an array of two or more positions");return ft({type:"LineString",coordinates:h},d,v)}function ue(h,d){d===void 0&&(d={});var v={type:"FeatureCollection"};return d.id&&(v.id=d.id),d.bbox&&(v.bbox=d.bbox),v.features=h,v}function Pe(h,d){d===void 0&&(d="kilometers");var v=ct[d];if(!v)throw new Error(d+" units is invalid");return h*v}function be(h,d){d===void 0&&(d="kilometers");var v=ct[d];if(!v)throw new Error(d+" units is invalid");return h/v}function Je(h){return 180*(h%(2*Math.PI))/Math.PI}function he(h){return h%360*Math.PI/180}function Xe(h){return!isNaN(h)&&h!==null&&!Array.isArray(h)}function gn(h){var d,v,b={type:"FeatureCollection",features:[]};if((v=h.type==="Feature"?h.geometry:h).type==="LineString")d=[v.coordinates];else if(v.type==="MultiLineString")d=v.coordinates;else if(v.type==="MultiPolygon")d=[].concat.apply([],v.coordinates);else{if(v.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");d=v.coordinates}return d.forEach(function(E){d.forEach(function(A){for(var G=0;G<E.length-1;G++)for(var U=G;U<A.length-1;U++)if(!(E===A&&(Math.abs(G-U)===1||G===0&&U===E.length-2&&E[G][0]===E[E.length-1][0]&&E[G][1]===E[E.length-1][1]))){var V=Vn(E[G][0],E[G][1],E[G+1][0],E[G+1][1],A[U][0],A[U][1],A[U+1][0],A[U+1][1]);V&&b.features.push(St([V[0],V[1]]))}})}),b}function Vn(h,d,v,b,E,A,G,U){var V,H,$,ht,lt={x:null,y:null,onLine1:!1,onLine2:!1};return(V=(U-A)*(v-h)-(G-E)*(b-d))===0?lt.x!==null&&lt.y!==null&&lt:(ht=(v-h)*(H=d-A)-(b-d)*($=h-E),H=((G-E)*H-(U-A)*$)/V,$=ht/V,lt.x=h+H*(v-h),lt.y=d+H*(b-d),H>=0&&H<=1&&(lt.onLine1=!0),$>=0&&$<=1&&(lt.onLine2=!0),!(!lt.onLine1||!lt.onLine2)&&[lt.x,lt.y])}function Pn(h,d){var v=Object.keys(h);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(h);d&&(b=b.filter(function(E){return Object.getOwnPropertyDescriptor(h,E).enumerable})),v.push.apply(v,b)}return v}function or(h){for(var d=1;d<arguments.length;d++){var v=arguments[d]!=null?arguments[d]:{};d%2?Pn(Object(v),!0).forEach(function(b){sr(h,b,v[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(v)):Pn(Object(v)).forEach(function(b){Object.defineProperty(h,b,Object.getOwnPropertyDescriptor(v,b))})}return h}function sr(h,d,v){return d in h?Object.defineProperty(h,d,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[d]=v,h}function ti(h,d){var v=Object.keys(h);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(h);d&&(b=b.filter(function(E){return Object.getOwnPropertyDescriptor(h,E).enumerable})),v.push.apply(v,b)}return v}function Gr(h){for(var d=1;d<arguments.length;d++){var v=arguments[d]!=null?arguments[d]:{};d%2?ti(Object(v),!0).forEach(function(b){dr(h,b,v[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(v)):ti(Object(v)).forEach(function(b){Object.defineProperty(h,b,Object.getOwnPropertyDescriptor(v,b))})}return h}function dr(h,d,v){return d in h?Object.defineProperty(h,d,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[d]=v,h}function Vr(h,d){var v=Object.keys(h);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(h);d&&(b=b.filter(function(E){return Object.getOwnPropertyDescriptor(h,E).enumerable})),v.push.apply(v,b)}return v}function Pi(h){for(var d=1;d<arguments.length;d++){var v=arguments[d]!=null?arguments[d]:{};d%2?Vr(Object(v),!0).forEach(function(b){vo(h,b,v[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(v)):Vr(Object(v)).forEach(function(b){Object.defineProperty(h,b,Object.getOwnPropertyDescriptor(v,b))})}return h}function vo(h,d,v){return d in h?Object.defineProperty(h,d,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[d]=v,h}function ar(h){if(!h)throw new Error("coord is required");if(!Array.isArray(h)){if(h.type==="Feature"&&h.geometry!==null&&h.geometry.type==="Point")return h.geometry.coordinates;if(h.type==="Point")return h.coordinates}if(Array.isArray(h)&&h.length>=2&&!Array.isArray(h[0])&&!Array.isArray(h[1]))return h;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Un(h){if(Array.isArray(h))return h;if(h.type==="Feature"){if(h.geometry!==null)return h.geometry.coordinates}else if(h.coordinates)return h.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function qi(h){return h.type==="Feature"?h.geometry:h}function Xs(h,d){return h.type==="FeatureCollection"?"FeatureCollection":h.type==="GeometryCollection"?"GeometryCollection":h.type==="Feature"&&h.geometry!==null?h.geometry.type:h.type}function Fa(h,d,v){if(h!==null)for(var b,E,A,G,U,V,H,$,ht=0,lt=0,Et=h.type,Dt=Et==="FeatureCollection",Wt=Et==="Feature",fe=Dt?h.features.length:1,He=0;He<fe;He++){U=($=!!(H=Dt?h.features[He].geometry:Wt?h.geometry:h)&&H.type==="GeometryCollection")?H.geometries.length:1;for(var Zt=0;Zt<U;Zt++){var Ze=0,We=0;if((G=$?H.geometries[Zt]:H)!==null){V=G.coordinates;var Yn=G.type;switch(ht=!v||Yn!=="Polygon"&&Yn!=="MultiPolygon"?0:1,Yn){case null:break;case"Point":if(d(V,lt,He,Ze,We)===!1)return!1;lt++,Ze++;break;case"LineString":case"MultiPoint":for(b=0;b<V.length;b++){if(d(V[b],lt,He,Ze,We)===!1)return!1;lt++,Yn==="MultiPoint"&&Ze++}Yn==="LineString"&&Ze++;break;case"Polygon":case"MultiLineString":for(b=0;b<V.length;b++){for(E=0;E<V[b].length-ht;E++){if(d(V[b][E],lt,He,Ze,We)===!1)return!1;lt++}Yn==="MultiLineString"&&Ze++,Yn==="Polygon"&&We++}Yn==="Polygon"&&Ze++;break;case"MultiPolygon":for(b=0;b<V.length;b++){for(We=0,E=0;E<V[b].length;E++){for(A=0;A<V[b][E].length-ht;A++){if(d(V[b][E][A],lt,He,Ze,We)===!1)return!1;lt++}We++}Ze++}break;case"GeometryCollection":for(b=0;b<G.geometries.length;b++)if(Fa(G.geometries[b],d,v)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function _s(h,d){if(h.type==="Feature")d(h,0);else if(h.type==="FeatureCollection")for(var v=0;v<h.features.length&&d(h.features[v],v)!==!1;v++);}function Xu(h,d){var v,b,E,A,G,U,V,H,$,ht,lt=0,Et=h.type==="FeatureCollection",Dt=h.type==="Feature",Wt=Et?h.features.length:1;for(v=0;v<Wt;v++){for(U=Et?h.features[v].geometry:Dt?h.geometry:h,H=Et?h.features[v].properties:Dt?h.properties:{},$=Et?h.features[v].bbox:Dt?h.bbox:void 0,ht=Et?h.features[v].id:Dt?h.id:void 0,G=(V=!!U&&U.type==="GeometryCollection")?U.geometries.length:1,E=0;E<G;E++)if((A=V?U.geometries[E]:U)!==null)switch(A.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(d(A,lt,H,$,ht)===!1)return!1;break;case"GeometryCollection":for(b=0;b<A.geometries.length;b++)if(d(A.geometries[b],lt,H,$,ht)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(d(null,lt,H,$,ht)===!1)return!1;lt++}}function Ga(h,d){Xu(h,function(v,b,E,A,G){var U,V=v===null?null:v.type;switch(V){case null:case"Point":case"LineString":case"Polygon":return d(ft(v,E,{bbox:A,id:G}),b,0)!==!1&&void 0}switch(V){case"MultiPoint":U="Point";break;case"MultiLineString":U="LineString";break;case"MultiPolygon":U="Polygon"}for(var H=0;H<v.coordinates.length;H++){var $=v.coordinates[H];if(d(ft({type:U,coordinates:$},E),b,H)===!1)return!1}})}q.Line=q.extend({initialize:function(h){this._map=h,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(h){L.Util.setOptions(this,h),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],or(or({},this.options.templineStyle),{},{pmIgnore:!1})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Tt("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map._container.style.cursor="crosshair",this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(h){this.enabled()?this.disable():this.enable(h)},_syncHintLine:function(){var h=this._layer.getLatLngs();if(h.length>0){var d=h[h.length-1];this._hintline.setLatLngs([d,this._hintMarker.getLatLng()])}},_syncHintMarker:function(h){if(this._hintMarker.setLatLng(h.latlng),this.options.snappable){var d=h;d.target=this._hintMarker,this._handleSnapping(d)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());var v=this._layer._defaultShape().slice();v.push(this._hintMarker.getLatLng()),this._change(v)},hasSelfIntersection:function(){return gn(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection:function(h,d){var v=L.polyline(this._layer.getLatLngs());h&&(d||(d=this._hintMarker.getLatLng()),v.addLatLng(d));var b=gn(v.toGeoJSON(15));this._doesSelfIntersect=b.features.length>0,this._doesSelfIntersect?this._hintline.setStyle({color:"#f00000ff"}):this._hintline.isEmpty()||this._hintline.setStyle(this.options.hintlineStyle)},_createVertex:function(h){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,h.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(h.latlng);var d=this._hintMarker.getLatLng(),v=this._layer.getLatLngs(),b=v[v.length-1];if(d.equals(v[0])||v.length>0&&d.equals(b))this._finishShape();else{this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:d,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(d);var E=this._createMarker(d);this._setTooltipText(),this._setHintLineAfterNewVertex(d),this._fireVertexAdded(E,void 0,d,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(h)}}},_setHintLineAfterNewVertex:function(h){this._hintline.setLatLngs([h,h])},_removeLastVertex:function(){var h=this._markers;if(h.length<=1)this.disable();else{var d=this._layer.getLatLngs(),v=h[h.length-1],b=L.PM.Utils.findDeepMarkerIndex(h,v).indexPath;h.pop(),this._layerGroup.removeLayer(v);var E=h[h.length-1],A=d.indexOf(E.getLatLng());d=d.slice(0,A+1),this._layer.setLatLngs(d),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(v,b,"Draw"),this._change(this._layer.getLatLngs())}},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var h=this._layer.getLatLngs();if(!(h.length<=1)){var d=L.polyline(h,this.options.pathOptions);this._setPane(d,"layerPane"),this._finishLayer(d),d.addTo(this._map.pm._getContainingLayer()),this._fireCreate(d),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}}},_createMarker:function(h){var d=new L.Marker(h,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(d,"vertexPane"),d._pmTempLayer=!0,this._layerGroup.addLayer(d),this._markers.push(d),d.on("click",this._finishShape,this),d},_setTooltipText:function(){var h="";h=Tt(this._layer.getLatLngs().flat().length<=1?"tooltips.continueLine":"tooltips.finishLine"),this._hintMarker.setTooltipContent(h)},_change:function(h){this._fireChange(h,"Draw")},setStyle:function(){var h,d;(h=this._layer)===null||h===void 0||h.setStyle(this.options.templineStyle),(d=this._hintline)===null||d===void 0||d.setStyle(this.options.hintlineStyle)}}),q.Polygon=q.Line.extend({initialize:function(h){this._map=h,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable:function(h){L.PM.Draw.Line.prototype.enable.call(this,h),this._layer.pm._shape="Polygon"},_createMarker:function(h){var d=new L.Marker(h,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(d,"vertexPane"),d._pmTempLayer=!0,this._layerGroup.addLayer(d),this._markers.push(d),this._layer.getLatLngs().flat().length===1?(d.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(d)-1,this.options.snappable&&this._cleanupSnapping()):d.on("click",function(){return 1}),d},_setTooltipText:function(){var h="";h=Tt(this._layer.getLatLngs().flat().length<=2?"tooltips.continueLine":"tooltips.finishPoly"),this._hintMarker.setTooltipContent(h)},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var h=this._layer.getLatLngs();if(!(h.length<=2)){var d=L.polygon(h,this.options.pathOptions);this._setPane(d,"layerPane"),this._finishLayer(d),d.addTo(this._map.pm._getContainingLayer()),this._fireCreate(d),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}}}),q.Rectangle=q.extend({initialize:function(h){this._map=h,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(h){if(L.Util.setOptions(this,h),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Tt("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(var d=0;d<2;d+=1){var v=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(v,"vertexPane"),v._pmTempLayer=!0,this._layerGroup.addLayer(v),this._styleMarkers.push(v)}}this._map._container.style.cursor="crosshair",this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(h){this.enabled()?this.disable():this.enable(h)},_placeStartingMarkers:function(h){this._hintMarker._snapped||this._hintMarker.setLatLng(h.latlng);var d=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(d),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(v){L.DomUtil.addClass(v._icon,"visible"),v.setLatLng(d)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Tt("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var h=this._startMarker.getLatLng();h&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([h,h]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(h){if(this._hintMarker.setLatLng(h.latlng),this.options.snappable){var d=h;d.target=this._hintMarker,this._handleSnapping(d)}var v=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(v,"Draw")},_syncRectangleSize:function(){var h=this,d=Hi(this._startMarker.getLatLng(),this._map),v=Hi(this._hintMarker.getLatLng(),this._map),b=L.PM.Utils._getRotatedRectangle(d,v,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(b),this.options.cursorMarker&&this._styleMarkers){var E=[];b.forEach(function(A){A.equals(d,1e-8)||A.equals(v,1e-8)||E.push(A)}),E.forEach(function(A,G){try{h._styleMarkers[G].setLatLng(A)}catch{}})}},_findCorners:function(){var h=this._layer.getBounds();return[h.getNorthWest(),h.getNorthEast(),h.getSouthEast(),h.getSouthWest()]},_finishShape:function(h){this._hintMarker._snapped||this._hintMarker.setLatLng(h.latlng);var d=this._hintMarker.getLatLng(),v=this._startMarker.getLatLng();if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){var b=L.rectangle([v,d],this.options.pathOptions);if(this.options.rectangleAngle){var E=L.PM.Utils._getRotatedRectangle(v,d,this.options.rectangleAngle||0,this._map);b.setLatLngs(E),b.pm&&b.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(b,"layerPane"),this._finishLayer(b),b.addTo(this._map.pm._getContainingLayer()),this._fireCreate(b),this.disable(),this.options.continueDrawing&&this.enable()}},setStyle:function(){var h;(h=this._layer)===null||h===void 0||h.setStyle(this.options.pathOptions)}}),q.Circle=q.extend({initialize:function(h){this._map=h,this._shape="Circle",this.toolbarButtonName="drawCircle"},enable:function(h){L.Util.setOptions(this,h),this.options.radius=0,this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circle(this._map.getCenter(),Gr(Gr({},this.options.templineStyle),{},{radius:0})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Tt("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._placeCenterMarker,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(h){this.enabled()?this.disable():this.enable(h)},_syncHintLine:function(){var h=this._centerMarker.getLatLng(),d=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([h,d])},_syncCircleRadius:function(){var h,d=this._centerMarker.getLatLng(),v=this._hintMarker.getLatLng();h=this._map.options.crs===L.CRS.Simple?this._map.distance(d,v):d.distanceTo(v),this.options.minRadiusCircle&&h<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&h>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(h)},_syncHintMarker:function(h){if(this._hintMarker.setLatLng(h.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var d=h;d.target=this._hintMarker,this._handleSnapping(d)}this._handleHintMarkerSnapping();var v=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(v,"Draw")},_placeCenterMarker:function(h){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(h.latlng);var d=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(d),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var h=this._centerMarker.getLatLng();h&&(this._layer.setLatLng(h),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Tt("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_finishShape:function(h){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(h.latlng);var d,v=this._centerMarker.getLatLng(),b=this._hintMarker.getLatLng();d=this._map.options.crs===L.CRS.Simple?this._map.distance(v,b):v.distanceTo(b),this.options.minRadiusCircle&&d<this.options.minRadiusCircle?d=this.options.minRadiusCircle:this.options.maxRadiusCircle&&d>this.options.maxRadiusCircle&&(d=this.options.maxRadiusCircle);var E=Gr(Gr({},this.options.pathOptions),{},{radius:d}),A=L.circle(v,E);this._setPane(A,"layerPane"),this._finishLayer(A),A.addTo(this._map.pm._getContainingLayer()),A.pm&&A.pm._updateHiddenPolyCircle(),this._fireCreate(A),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var h=this._hintMarker.getLatLng();if(!this._layerGroup.hasLayer(this._centerMarker))return h;var d=this._centerMarker.getLatLng(),v=d.distanceTo(h);return this.options.minRadiusCircle&&v<this.options.minRadiusCircle?h=Le(this._map,d,h,this.options.minRadiusCircle):this.options.maxRadiusCircle&&v>this.options.maxRadiusCircle&&(h=Le(this._map,d,h,this.options.maxRadiusCircle)),h},_handleHintMarkerSnapping:function(){if(this._hintMarker._snapped){var h=this._centerMarker.getLatLng(),d=this._hintMarker.getLatLng(),v=h.distanceTo(d);this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircle&&v<this.options.minRadiusCircle||this.options.maxRadiusCircle&&v>this.options.maxRadiusCircle)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())},setStyle:function(){var h,d;(h=this._layer)===null||h===void 0||h.setStyle(this.options.templineStyle),(d=this._hintline)===null||d===void 0||d.setStyle(this.options.hintlineStyle)}}),q.CircleMarker=q.Marker.extend({initialize:function(h){this._map=h,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1},enable:function(h){var d=this;if(L.Util.setOptions(this,h),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this.options.editable){var v={};L.extend(v,this.options.templineStyle),v.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circleMarker(this._map.getCenter(),v),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Tt("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this),this._map._container.style.cursor="crosshair"}else this._map.on("click",this._createMarker,this),this._hintMarker=L.circleMarker(this._map.getCenter(),this.options.templineStyle),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Tt("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),!this.options.editable&&this.options.markerEditable&&this._map.eachLayer(function(b){d.isRelevantMarker(b)&&b.pm.enable()}),this._layer.bringToBack(),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var h=this;this._enabled&&(this._enabled=!1,this.options.editable?(this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._map.eachLayer(function(d){h.isRelevantMarker(d)&&d.pm.disable()}),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_placeCenterMarker:function(h){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(h.latlng);var d=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(d),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var h=this._centerMarker.getLatLng();h&&(this._layer.setLatLng(h),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Tt("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine:function(){var h=this._centerMarker.getLatLng(),d=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([h,d])},_syncCircleRadius:function(){var h=this._centerMarker.getLatLng(),d=this._hintMarker.getLatLng(),v=this._map.project(h).distanceTo(this._map.project(d));this.options.minRadiusCircleMarker&&v<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&v>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(v)},_syncHintMarker:function(h){if(this._hintMarker.setLatLng(h.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var d=h;d.target=this._hintMarker,this._handleSnapping(d)}this._handleHintMarkerSnapping();var v=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(v,"Draw")},isRelevantMarker:function(h){return h instanceof L.CircleMarker&&!(h instanceof L.Circle)&&h.pm&&!h._pmTempLayer},_createMarker:function(h){if((!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())&&h.latlng&&!this._layerIsDragging){this._hintMarker._snapped||this._hintMarker.setLatLng(h.latlng);var d=this._hintMarker.getLatLng(),v=L.circleMarker(d,this.options.pathOptions);this._setPane(v,"layerPane"),this._finishLayer(v),v.addTo(this._map.pm._getContainingLayer()),v.pm&&this.options.markerEditable&&v.pm.enable(),this._fireCreate(v),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},_finishShape:function(h){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(h.latlng);var d=this._centerMarker.getLatLng(),v=this._hintMarker.getLatLng(),b=this._map.project(d).distanceTo(this._map.project(v));this.options.editable&&(this.options.minRadiusCircleMarker&&b<this.options.minRadiusCircleMarker?b=this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&b>this.options.maxRadiusCircleMarker&&(b=this.options.maxRadiusCircleMarker));var E=Pi(Pi({},this.options.pathOptions),{},{radius:b}),A=L.circleMarker(d,E);this._setPane(A,"layerPane"),this._finishLayer(A),A.addTo(this._map.pm._getContainingLayer()),A.pm&&A.pm._updateHiddenPolyCircle(),this._fireCreate(A),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var h=this._hintMarker.getLatLng();if(this.options.editable){if(!this._layerGroup.hasLayer(this._centerMarker))return h;var d=this._centerMarker.getLatLng(),v=this._map.project(d).distanceTo(this._map.project(h));this.options.minRadiusCircleMarker&&v<this.options.minRadiusCircleMarker?h=Le(this._map,d,h,this._pxRadiusToMeter(this.options.minRadiusCircleMarker)):this.options.maxRadiusCircleMarker&&v>this.options.maxRadiusCircleMarker&&(h=Le(this._map,d,h,this._pxRadiusToMeter(this.options.maxRadiusCircleMarker)))}return h},_handleHintMarkerSnapping:function(){if(this.options.editable){if(this._hintMarker._snapped){var h=this._centerMarker.getLatLng(),d=this._hintMarker.getLatLng(),v=this._map.project(h).distanceTo(this._map.project(d));this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircleMarker&&v<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&v>this.options.maxRadiusCircleMarker)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},_pxRadiusToMeter:function(h){var d=this._centerMarker.getLatLng(),v=this._map.project(d),b=L.point(v.x+h,v.y);return this._map.unproject(b).distanceTo(d)},setStyle:function(){var h,d,v={};L.extend(v,this.options.templineStyle),this.options.editable&&(v.radius=0),(h=this._layer)===null||h===void 0||h.setStyle(v),(d=this._hintline)===null||d===void 0||d.setStyle(this.options.hintlineStyle)}});const xr=function(h){if(!h)throw new Error("geojson is required");var d=[];return Ga(h,function(v){(function(b,E){var A=[],G=b.geometry;if(G!==null){switch(G.type){case"Polygon":A=Un(G);break;case"LineString":A=[Un(G)]}A.forEach(function(U){var V=function(H,$){var ht=[];return H.reduce(function(lt,Et){var Dt,Wt,fe,He,Zt,Ze,We=K([lt,Et],$);return We.bbox=(Wt=Et,fe=(Dt=lt)[0],He=Dt[1],Zt=Wt[0],Ze=Wt[1],[fe<Zt?fe:Zt,He<Ze?He:Ze,fe>Zt?fe:Zt,He>Ze?He:Ze]),ht.push(We),Et}),ht}(U,b.properties);V.forEach(function(H){H.id=E.length,E.push(H)})})}})(v,d)}),ue(d)};var Ft=o(1787);function Va(h,d){var v=Un(h),b=Un(d);if(v.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(b.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var E=v[0][0],A=v[0][1],G=v[1][0],U=v[1][1],V=b[0][0],H=b[0][1],$=b[1][0],ht=b[1][1],lt=(ht-H)*(G-E)-($-V)*(U-A),Et=($-V)*(A-H)-(ht-H)*(E-V),Dt=(G-E)*(A-H)-(U-A)*(E-V);if(lt===0)return null;var Wt=Et/lt,fe=Dt/lt;return Wt>=0&&Wt<=1&&fe>=0&&fe<=1?St([E+Wt*(G-E),A+Wt*(U-A)]):null}const Xi=function(h,d){var v={},b=[];if(h.type==="LineString"&&(h=ft(h)),d.type==="LineString"&&(d=ft(d)),h.type==="Feature"&&d.type==="Feature"&&h.geometry!==null&&d.geometry!==null&&h.geometry.type==="LineString"&&d.geometry.type==="LineString"&&h.geometry.coordinates.length===2&&d.geometry.coordinates.length===2){var E=Va(h,d);return E&&b.push(E),ue(b)}var A=Ft();return A.load(xr(d)),_s(xr(h),function(G){_s(A.search(G),function(U){var V=Va(G,U);if(V){var H=Un(V).join(",");v[H]||(v[H]=!0,b.push(V))}})}),ue(b)},Yi=function(h,d,v){v===void 0&&(v={});var b=ar(h),E=ar(d),A=he(E[1]-b[1]),G=he(E[0]-b[0]),U=he(b[1]),V=he(E[1]),H=Math.pow(Math.sin(A/2),2)+Math.pow(Math.sin(G/2),2)*Math.cos(U)*Math.cos(V);return Pe(2*Math.atan2(Math.sqrt(H),Math.sqrt(1-H)),v.units)},Dl=function(h){var d=h[0],v=h[1],b=h[2],E=h[3];if(Yi(h.slice(0,2),[b,v])>=Yi(h.slice(0,2),[d,E])){var A=(v+E)/2;return[d,A-(b-d)/2,b,A+(b-d)/2]}var G=(d+b)/2;return[G-(E-v)/2,v,G+(E-v)/2,E]};function ms(h){var d=[1/0,1/0,-1/0,-1/0];return Fa(h,function(v){d[0]>v[0]&&(d[0]=v[0]),d[1]>v[1]&&(d[1]=v[1]),d[2]<v[0]&&(d[2]=v[0]),d[3]<v[1]&&(d[3]=v[1])}),d}ms.default=ms;const Vo=ms,Uo=function(h,d){d===void 0&&(d={});var v=d.precision,b=d.coordinates,E=d.mutate;if(v=v==null||isNaN(v)?6:v,b=b==null||isNaN(b)?3:b,!h)throw new Error("<geojson> is required");if(typeof v!="number")throw new Error("<precision> must be a number");if(typeof b!="number")throw new Error("<coordinates> must be a number");E!==!1&&E!==void 0||(h=JSON.parse(JSON.stringify(h)));var A=Math.pow(10,v);return Fa(h,function(G){(function(U,V,H){U.length>H&&U.splice(H,U.length);for(var $=0;$<U.length;$++)U[$]=Math.round(U[$]*V)/V})(G,A,b)}),h};function Ua(h,d,v){if(v===void 0&&(v={}),v.final===!0)return function(ht,lt){var Et=Ua(lt,ht);return Et=(Et+180)%360}(h,d);var b=ar(h),E=ar(d),A=he(b[0]),G=he(E[0]),U=he(b[1]),V=he(E[1]),H=Math.sin(G-A)*Math.cos(V),$=Math.cos(U)*Math.sin(V)-Math.sin(U)*Math.cos(V)*Math.cos(G-A);return Je(Math.atan2(H,$))}function Rl(h,d,v,b){b===void 0&&(b={});var E=ar(h),A=he(E[0]),G=he(E[1]),U=he(v),V=be(d,b.units),H=Math.asin(Math.sin(G)*Math.cos(V)+Math.cos(G)*Math.sin(V)*Math.cos(U));return St([Je(A+Math.atan2(Math.sin(U)*Math.sin(V)*Math.cos(G),Math.cos(V)-Math.sin(G)*Math.sin(H))),Je(H)],b.properties)}const Yu=function(h,d,v){v===void 0&&(v={});var b=St([1/0,1/0],{dist:1/0}),E=0;return Ga(h,function(A){for(var G=Un(A),U=0;U<G.length-1;U++){var V=St(G[U]);V.properties.dist=Yi(d,V,v);var H=St(G[U+1]);H.properties.dist=Yi(d,H,v);var $=Yi(V,H,v),ht=Math.max(V.properties.dist,H.properties.dist),lt=Ua(V,H),Et=Rl(d,ht,lt+90,v),Dt=Rl(d,ht,lt-90,v),Wt=Xi(K([Et.geometry.coordinates,Dt.geometry.coordinates]),K([V.geometry.coordinates,H.geometry.coordinates])),fe=null;Wt.features.length>0&&((fe=Wt.features[0]).properties.dist=Yi(d,fe,v),fe.properties.location=E+Yi(V,fe,v)),V.properties.dist<b.properties.dist&&((b=V).properties.index=U,b.properties.location=E),H.properties.dist<b.properties.dist&&((b=H).properties.index=U+1,b.properties.location=E+$),fe&&fe.properties.dist<b.properties.dist&&((b=fe).properties.index=U),E+=$}}),b};function Al(h,d){var v=[],b=Ft();return Ga(d,function(E){if(v.forEach(function(U,V){U.id=V}),v.length){var A=b.search(E);if(A.features.length){var G=Za(E,A);v=v.filter(function(U){return U.id!==G.id}),b.remove(G),_s(Ha(G,E),function(U){v.push(U),b.insert(U)})}}else(v=Ha(h,E).features).forEach(function(U){U.bbox||(U.bbox=Dl(Vo(U)))}),b.load(ue(v))}),ue(v)}function Ha(h,d){var v=[],b=Un(h)[0],E=Un(h)[h.geometry.coordinates.length-1];if(ja(b,ar(d))||ja(E,ar(d)))return ue([h]);var A=Ft(),G=xr(h);A.load(G);var U=A.search(d);if(!U.features.length)return ue([h]);var V=Za(d,U),H=function($,ht,lt){var Et=lt;return _s($,function(Dt,Wt){Et=Wt===0&&lt===void 0?Dt:ht(Et,Dt,Wt)}),Et}(G,function($,ht,lt){var Et=Un(ht)[1],Dt=ar(d);return lt===V.id?($.push(Dt),v.push(K($)),ja(Dt,Et)?[Dt]:[Dt,Et]):($.push(Et),$)},[b]);return H.length>1&&v.push(K(H)),ue(v)}function Za(h,d){if(!d.features.length)throw new Error("lines must contain features");if(d.features.length===1)return d.features[0];var v,b=1/0;return _s(d,function(E){var A=Yu(E,h).properties.dist;A<b&&(v=E,b=A)}),v}function ja(h,d){return h[0]===d[0]&&h[1]===d[1]}const Ys=function(h,d){if(!h)throw new Error("line is required");if(!d)throw new Error("splitter is required");var v=Xs(h),b=Xs(d);if(v!=="LineString")throw new Error("line must be LineString");if(b==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(b==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var E=Uo(d,{precision:7});switch(b){case"Point":return Ha(h,E);case"MultiPoint":return Al(h,E);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Al(h,Xi(h,E))}};function Ws(h,d,v){if(v===void 0&&(v={}),!h)throw new Error("point is required");if(!d)throw new Error("polygon is required");var b=ar(h),E=qi(d),A=E.type,G=d.bbox,U=E.coordinates;if(G&&function(lt,Et){return Et[0]<=lt[0]&&Et[1]<=lt[1]&&Et[2]>=lt[0]&&Et[3]>=lt[1]}(b,G)===!1)return!1;A==="Polygon"&&(U=[U]);for(var V=!1,H=0;H<U.length&&!V;H++)if(Bl(b,U[H][0],v.ignoreBoundary)){for(var $=!1,ht=1;ht<U[H].length&&!$;)Bl(b,U[H][ht],!v.ignoreBoundary)&&($=!0),ht++;$||(V=!0)}return V}function Bl(h,d,v){var b=!1;d[0][0]===d[d.length-1][0]&&d[0][1]===d[d.length-1][1]&&(d=d.slice(0,d.length-1));for(var E=0,A=d.length-1;E<d.length;A=E++){var G=d[E][0],U=d[E][1],V=d[A][0],H=d[A][1];if(h[1]*(G-V)+U*(V-h[0])+H*(h[0]-G)==0&&(G-h[0])*(V-h[0])<=0&&(U-h[1])*(H-h[1])<=0)return!v;U>h[1]!=H>h[1]&&h[0]<(V-G)*(h[1]-U)/(H-U)+G&&(b=!b)}return b}function Wu(h,d,v,b,E){var A=v[0],G=v[1],U=h[0],V=h[1],H=d[0],$=d[1],ht=H-U,lt=$-V,Et=(v[0]-U)*lt-(v[1]-V)*ht;if(E!==null){if(Math.abs(Et)>E)return!1}else if(Et!==0)return!1;return b?b==="start"?Math.abs(ht)>=Math.abs(lt)?ht>0?U<A&&A<=H:H<=A&&A<U:lt>0?V<G&&G<=$:$<=G&&G<V:b==="end"?Math.abs(ht)>=Math.abs(lt)?ht>0?U<=A&&A<H:H<A&&A<=U:lt>0?V<=G&&G<$:$<G&&G<=V:b==="both"&&(Math.abs(ht)>=Math.abs(lt)?ht>0?U<A&&A<H:H<A&&A<U:lt>0?V<G&&G<$:$<G&&G<V):Math.abs(ht)>=Math.abs(lt)?ht>0?U<=A&&A<=H:H<=A&&A<=U:lt>0?V<=G&&G<=$:$<=G&&G<=V}const vs=function(h,d,v){v===void 0&&(v={});for(var b=ar(h),E=Un(d),A=0;A<E.length-1;A++){var G=!1;if(v.ignoreEndVertices&&(A===0&&(G="start"),A===E.length-2&&(G="end"),A===0&&A+1===E.length-1&&(G="both")),Wu(E[A],E[A+1],b,G,typeof v.epsilon>"u"?null:v.epsilon))return!0}return!1};function Ku(h,d){var v=qi(h),b=qi(d),E=v.type,A=b.type,G=v.coordinates,U=b.coordinates;switch(E){case"Point":if(A==="Point")return yo(G,U);throw new Error("feature2 "+A+" geometry not supported");case"MultiPoint":switch(A){case"Point":return function(V,H){var $,ht=!1;for($=0;$<V.coordinates.length;$++)if(yo(V.coordinates[$],H.coordinates)){ht=!0;break}return ht}(v,b);case"MultiPoint":return function(V,H){for(var $=0,ht=H.coordinates;$<ht.length;$++){for(var lt=ht[$],Et=!1,Dt=0,Wt=V.coordinates;Dt<Wt.length;Dt++)if(yo(lt,Wt[Dt])){Et=!0;break}if(!Et)return!1}return!0}(v,b);default:throw new Error("feature2 "+A+" geometry not supported")}case"LineString":switch(A){case"Point":return vs(b,v,{ignoreEndVertices:!0});case"LineString":return function(V,H){for(var $=!1,ht=0,lt=H.coordinates;ht<lt.length;ht++){var Et=lt[ht];if(vs({type:"Point",coordinates:Et},V,{ignoreEndVertices:!0})&&($=!0),!vs({type:"Point",coordinates:Et},V,{ignoreEndVertices:!1}))return!1}return $}(v,b);case"MultiPoint":return function(V,H){for(var $=!1,ht=0,lt=H.coordinates;ht<lt.length;ht++){var Et=lt[ht];if(vs(Et,V,{ignoreEndVertices:!0})&&($=!0),!vs(Et,V))return!1}return!!$}(v,b);default:throw new Error("feature2 "+A+" geometry not supported")}case"Polygon":switch(A){case"Point":return Ws(b,v,{ignoreBoundary:!0});case"LineString":return function(V,H){var $=!1,ht=0,lt=Vo(V),Et=Vo(H);if(!Ks(lt,Et))return!1;for(;ht<H.coordinates.length-1;ht++)if(Ws({type:"Point",coordinates:zl(H.coordinates[ht],H.coordinates[ht+1])},V,{ignoreBoundary:!0})){$=!0;break}return $}(v,b);case"Polygon":return function(V,H){if(V.type==="Feature"&&V.geometry===null||H.type==="Feature"&&H.geometry===null)return!1;var $=Vo(V),ht=Vo(H);if(!Ks($,ht))return!1;for(var lt=qi(H).coordinates,Et=0,Dt=lt;Et<Dt.length;Et++)for(var Wt=0,fe=Dt[Et];Wt<fe.length;Wt++)if(!Ws(fe[Wt],V))return!1;return!0}(v,b);case"MultiPoint":return function(V,H){for(var $=0,ht=H.coordinates;$<ht.length;$++)if(!Ws(ht[$],V,{ignoreBoundary:!0}))return!1;return!0}(v,b);default:throw new Error("feature2 "+A+" geometry not supported")}default:throw new Error("feature1 "+E+" geometry not supported")}}function Ks(h,d){return!(h[0]>d[0])&&!(h[2]<d[2])&&!(h[1]>d[1])&&!(h[3]<d[3])}function yo(h,d){return h[0]===d[0]&&h[1]===d[1]}function zl(h,d){return[(h[0]+d[0])/2,(h[1]+d[1])/2]}var Fl=o(2676),Ho=o.n(Fl);function Se(h){var d={type:"Feature"};return d.geometry=h,d}function Ye(h){return h.type==="Feature"?h.geometry:h}function ys(h){return h&&h.geometry&&h.geometry.coordinates?h.geometry.coordinates:h}function Lo(h){return Se({type:"Polygon",coordinates:h})}function bo(h){return Se({type:"MultiPolygon",coordinates:h})}function Js(h){return Array.isArray(h)?1+Js(h[0]):-1}function ce(h){h instanceof L.Polyline&&(h=h.toGeoJSON(15));var d=ys(h),v=Js(d),b=[];return v>1?d.forEach(function(E){b.push(function(A){return Se({type:"LineString",coordinates:A})}(E))}):b.push(h),b}function _n(h){var d=[];return h.eachLayer(function(v){d.push(ys(v.toGeoJSON(15)))}),function(v){return Se({type:"MultiLineString",coordinates:v})}(d)}function qa(h,d){return function(v){if(Array.isArray(v))return v}(h)||function(v,b){var E=v==null?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(E!=null){var A,G,U=[],V=!0,H=!1;try{for(E=E.call(v);!(V=(A=E.next()).done)&&(U.push(A.value),!b||U.length!==b);V=!0);}catch($){H=!0,G=$}finally{try{V||E.return==null||E.return()}finally{if(H)throw G}}return U}}(h,d)||function(v,b){if(v){if(typeof v=="string")return Ls(v,b);var E=Object.prototype.toString.call(v).slice(8,-1);if(E==="Object"&&v.constructor&&(E=v.constructor.name),E==="Map"||E==="Set")return Array.from(v);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return Ls(v,b)}}(h,d)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ls(h,d){(d==null||d>h.length)&&(d=h.length);for(var v=0,b=new Array(d);v<d;v++)b[v]=h[v];return b}function Tr(h){return function(d){if(Array.isArray(d))return Xa(d)}(h)||function(d){if(typeof Symbol<"u"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}(h)||function(d,v){if(d){if(typeof d=="string")return Xa(d,v);var b=Object.prototype.toString.call(d).slice(8,-1);if(b==="Object"&&d.constructor&&(b=d.constructor.name),b==="Map"||b==="Set")return Array.from(d);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return Xa(d,v)}}(h)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xa(h,d){(d==null||d>h.length)&&(d=h.length);for(var v=0,b=new Array(d);v<d;v++)b[v]=h[v];return b}q.Cut=q.Polygon.extend({initialize:function(h){this._map=h,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape:function(){var h=this;if(this._editedLayers=[],(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var d=this._layer.getLatLngs();if(!(d.length<=2)){var v=L.polygon(d,this.options.pathOptions);v._latlngInfos=this._layer._latlngInfo,this.cut(v),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(function(b){var E=b.layer,A=b.originalLayer;h._fireCut(A,E,A),h._fireCut(h._map,E,A),A.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()}}},cut:function(h){var d=this,v=this._map._layers,b=h._latlngInfos||[];Object.keys(v).map(function(E){return v[E]}).filter(function(E){return E.pm}).filter(function(E){return!E._pmTempLayer}).filter(function(E){return!L.PM.optIn&&!E.options.pmIgnore||L.PM.optIn&&E.options.pmIgnore===!1}).filter(function(E){return E instanceof L.Polyline}).filter(function(E){return E!==h}).filter(function(E){return E.pm.options.allowCutting}).filter(function(E){return!(d.options.layersToCut&&L.Util.isArray(d.options.layersToCut)&&d.options.layersToCut.length>0)||d.options.layersToCut.indexOf(E)>-1}).filter(function(E){return!d._layerGroup.hasLayer(E)}).filter(function(E){try{var A=!!Xi(h.toGeoJSON(15),E.toGeoJSON(15)).features.length>0;return A||E instanceof L.Polyline&&!(E instanceof L.Polygon)?A:(G=h.toGeoJSON(15),U=E.toGeoJSON(15),V=Ye(G),H=Ye(U),!(($=Ho().intersection(V.coordinates,H.coordinates)).length===0||!($.length===1?Lo($[0]):bo($))))}catch{return E instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}var G,U,V,H,$}).forEach(function(E){var A;if(E instanceof L.Polygon){var G=(A=L.polygon(E.getLatLngs())).getLatLngs();b.forEach(function(lt){if(lt&&lt.snapInfo){var Et=lt.latlng,Dt=d._calcClosestLayer(Et,[A]);if(Dt&&Dt.segment&&Dt.distance<d.options.snapDistance){var Wt=Dt.segment;if(Wt&&Wt.length===2){var fe=L.PM.Utils._getIndexFromSegment(G,Wt),He=fe.indexPath,Zt=fe.parentPath,Ze=fe.newIndex;(He.length>1?at()(G,Zt):G).splice(Ze,0,Et)}}}})}else A=E;var U=d._cutLayer(h,A),V=L.geoJSON(U,E.options);if(V.getLayers().length===1){var H=V.getLayers();V=qa(H,1)[0]}d._setPane(V,"layerPane");var $=V.addTo(d._map.pm._getContainingLayer());if($.pm.enable(E.pm.options),$.pm.disable(),E._pmTempLayer=!0,h._pmTempLayer=!0,E.remove(),E.removeFrom(d._map.pm._getContainingLayer()),h.remove(),h.removeFrom(d._map.pm._getContainingLayer()),$.getLayers&&$.getLayers().length===0&&d._map.pm.removeLayer({target:$}),$ instanceof L.LayerGroup&&$.eachLayer(function(lt){d._addDrawnLayerProp(lt)}),d._addDrawnLayerProp($),d.options.layersToCut&&L.Util.isArray(d.options.layersToCut)&&d.options.layersToCut.length>0){var ht=d.options.layersToCut.indexOf(E);ht>-1&&d.options.layersToCut.splice(ht,1)}d._editedLayers.push({layer:$,originalLayer:E})})},_cutLayer:function(h,d){var v,b,E,A,G,U,V=L.geoJSON();if(d instanceof L.Polygon)b=d.toGeoJSON(15),E=h.toGeoJSON(15),A=Ye(b),G=Ye(E),v=(U=Ho().difference(A.coordinates,G.coordinates)).length===0?null:U.length===1?Lo(U[0]):bo(U);else{var H=ce(d);H.forEach(function($){var ht=Ys($,h.toGeoJSON(15));(ht&&ht.features.length>0?L.geoJSON(ht):L.geoJSON($)).getLayers().forEach(function(lt){Ku(h.toGeoJSON(15),lt.toGeoJSON(15))||lt.addTo(V)})}),v=H.length>1?_n(V):V.toGeoJSON(15)}return v},_change:L.Util.falseFn}),q.Text=q.extend({initialize:function(h){this._map=h,this._shape="Text",this.toolbarButtonName="drawText"},enable:function(h){L.Util.setOptions(this,h),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Tt("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(h){this.enabled()?this.disable():this.enable(h)},_syncHintMarker:function(h){if(this._hintMarker.setLatLng(h.latlng),this.options.snappable){var d=h;d.target=this._hintMarker,this._handleSnapping(d)}},_createMarker:function(h){var d;if(h.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(h.latlng);var v=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(d=this.options.textOptions)!==null&&d!==void 0&&d.className){var b,E=this.options.textOptions.className.split(" ");(b=this.textArea.classList).add.apply(b,Tr(E))}var A=this._createTextIcon(this.textArea),G=new L.Marker(v,{textMarker:!0,_textMarkerOverPM:!0,icon:A});if(this._setPane(G,"markerPane"),this._finishLayer(G),G.pm||(G.options.draggable=!1),G.addTo(this._map.pm._getContainingLayer()),G.pm){var U,V,H,$,ht;G.pm.textArea=this.textArea,L.setOptions(G.pm,{removeIfEmpty:(U=(V=this.options.textOptions)===null||V===void 0?void 0:V.removeIfEmpty)===null||U===void 0||U});var lt=(H=($=this.options.textOptions)===null||$===void 0?void 0:$.focusAfterDraw)===null||H===void 0||H;G.pm._createTextMarker(lt),(ht=this.options.textOptions)!==null&&ht!==void 0&&ht.text&&G.pm.setText(this.options.textOptions.text)}this._fireCreate(G),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}},_createTextArea:function(){var h=document.createElement("textarea");return h.autofocus=!0,h.readOnly=!0,h.classList.add("pm-textarea","pm-disabled"),h},_createTextIcon:function(h){return L.divIcon({className:"pm-text-marker",html:h})}});const Qs={enableLayerDrag:function(){if(this.options.draggable&&this._layer._map){this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,kr(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;var h=this._getDOMElem();h&&(kr(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(h)):L.DomEvent.on(h,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()}},disableLayerDrag:function(){this._layerDragEnabled=!1,kr(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();var h=this._getDOMElem();h&&(kr(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(h)):L.DomEvent.off(h,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging:function(){return this._dragging},layerDragEnabled:function(){return!!this._layerDragEnabled},_simulateMouseDownEvent:function(h){var d=h.touches?h.touches[0]:h,v={originalEvent:d,target:this._layer};return v.containerPoint=this._map.mouseEventToContainerPoint(d),v.latlng=this._map.containerPointToLatLng(v.containerPoint),this._dragMixinOnMouseDown(v),!1},_simulateMouseMoveEvent:function(h){var d=h.touches?h.touches[0]:h,v={originalEvent:d,target:this._layer};return v.containerPoint=this._map.mouseEventToContainerPoint(d),v.latlng=this._map.containerPointToLatLng(v.containerPoint),this._dragMixinOnMouseMove(v),!1},_simulateMouseUpEvent:function(h){var d={originalEvent:h.touches?h.touches[0]:h,target:this._layer};return h.type.indexOf("touch")===-1&&(d.containerPoint=this._map.mouseEventToContainerPoint(h),d.latlng=this._map.containerPointToLatLng(d.containerPoint)),this._dragMixinOnMouseUp(d),!1},_dragMixinOnMouseDown:function(h){if(!(h.originalEvent.button>0)){this._overwriteEventIfItComesFromMarker(h);var d=h._fromLayerSync,v=this._syncLayers("_dragMixinOnMouseDown",h);this._layer instanceof L.Marker&&(!this.options.snappable||d||v?this._disableSnapping():this._initSnappableMarkers()),this._layer instanceof L.CircleMarker&&!(this._layer instanceof L.Circle)&&(!this.options.snappable||d||v?this._layer.pm.options.editable?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag():this._layer.pm.options.editable||this._initSnappableMarkersDrag()),this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=h.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)}},_dragMixinOnMouseMove:function(h){this._overwriteEventIfItComesFromMarker(h);var d=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",h),this._dragging||(this._dragging=!0,L.DomUtil.addClass(d,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=h.latlng),this._onLayerDrag(h),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp:function(h){var d=this,v=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",h),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),!!this._dragging&&(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(function(){d._dragging=!1,v&&L.DomUtil.removeClass(v,"leaflet-pm-dragging"),d._fireDragEnd(),d._fireEdit(),d._layerEdited=!0},10),!0)},_onLayerDrag:function(h){var d=h.latlng,v=d.lat-this._tempDragCoord.lat,b=d.lng-this._tempDragCoord.lng,E=function $(ht){return ht.map(function(lt){if(Array.isArray(lt))return $(lt);var Et={lat:lt.lat+v,lng:lt.lng+b};return(lt.alt||lt.alt===0)&&(Et.alt=lt.alt),Et})};if(this._layer instanceof L.Circle||this._layer instanceof L.CircleMarker&&this._layer.options.editable){var A=E([this._layer.getLatLng()]);this._layer.setLatLng(A[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){var G=this._layer.getLatLng();this._layer._snapped&&(G=this._layer._orgLatLng);var U=E([G]);this._layer.setLatLng(U[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){var V=E([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(V),this._fireChange(this._layer.getBounds(),"Edit")}else{var H=E(this._layer.getLatLngs());this._layer.setLatLngs(H),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=d,h.layer=this._layer,this._fireDrag(h)},addDraggingClass:function(){var h=this._getDOMElem();h&&L.DomUtil.addClass(h,"leaflet-pm-draggable")},removeDraggingClass:function(){var h=this._getDOMElem();h&&L.DomUtil.removeClass(h,"leaflet-pm-draggable")},_getDOMElem:function(){var h=null;return this._layer._path?h=this._layer._path:this._layer._renderer&&this._layer._renderer._container?h=this._layer._renderer._container:this._layer._image?h=this._layer._image:this._layer._icon&&(h=this._layer._icon),h},_overwriteEventIfItComesFromMarker:function(h){h.target.getLatLng&&(!h.target._radius||h.target._radius<=10)&&(h.containerPoint=this._map.mouseEventToContainerPoint(h.originalEvent),h.latlng=this._map.containerPointToLatLng(h.containerPoint))},_syncLayers:function(h,d){var v=this;if(this.enabled())return!1;if(!d._fromLayerSync&&this._layer===d.target&&this.options.syncLayersOnDrag){d._fromLayerSync=!0;var b=[];if(L.Util.isArray(this.options.syncLayersOnDrag))b=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(function(G){G instanceof L.LayerGroup&&(b=b.concat(G.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(var E in this._parentLayerGroup){var A=this._parentLayerGroup[E];A.pm&&(b=A.pm.getLayers(!0))}return L.Util.isArray(b)&&b.length>0&&(b=b.filter(function(G){return!!G.pm}).filter(function(G){return!!G.pm.options.draggable})).forEach(function(G){G!==v._layer&&G.pm[h]&&(G._snapped=!1,G.pm[h](d))}),b.length>0}return!1},_stopDOMImageDrag:function(h){return h.preventDefault(),!1}};function Wi(h,d,v){var b=v.getMaxZoom();if(b===1/0&&(b=v.getZoom()),L.Util.isArray(h)){var E=[];return h.forEach(function(A){E.push(Wi(A,d,v))}),E}return h instanceof L.LatLng?function(A,G,U,V){return U.unproject(G.transform(U.project(A,V)),V)}(h,d,v,b):null}function Qe(h,d){d instanceof L.Layer&&(d=d.getLatLng());var v=h.getMaxZoom();return v===1/0&&(v=h.getZoom()),h.project(d,v)}function ei(h,d){var v=h.getMaxZoom();return v===1/0&&(v=h.getZoom()),h.unproject(d,v)}var bs={_onRotateStart:function(h){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=Qe(this._map,this._rotationOriginLatLng),this._rotationStartPoint=Qe(this._map,h.target.getLatLng()),this._initialRotateLatLng=Mn(this._layer),this._startAngle=this.getAngle();var d=Mn(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,d),this._fireRotationStart(this._map,d)},_onRotate:function(h){var d=Qe(this._map,h.target.getLatLng()),v=this._rotationStartPoint,b=this._rotationOriginPoint,E=Math.atan2(d.y-b.y,d.x-b.x)-Math.atan2(v.y-b.y,v.x-b.x);this._layer.setLatLngs(this._rotateLayer(E,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var A=this;(function H($){var ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(lt>-1&&ht.push(lt),L.Util.isArray($[0]))$.forEach(function(Dt,Wt){return H(Dt,ht.slice(),Wt)});else{var Et=at()(A._markers,ht);$.forEach(function(Dt,Wt){Et[Wt].setLatLng(Dt)})}})(this._layer.getLatLngs());var G=Mn(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(E,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var U=180*E/Math.PI,V=(U=U<0?U+360:U)+this._startAngle;this._setAngle(V),this._rotationLayer.pm._setAngle(V),this._fireRotation(this._rotationLayer,U,G),this._fireRotation(this._map,U,G),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd:function(){var h=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;var d=Mn(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=Mn(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,h,d),this._fireRotationEnd(this._map,h,d),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer:function(h,d,v,b,E){var A=Qe(E,v);return this._matrix=b.clone().rotate(h,A).flip(),Wi(d,this._matrix,E)},_setAngle:function(h){h=h<0?h+360:h,this._angle=h%360},_getRotationCenter:function(){var h=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),d=h.getCenter();return h.removeFrom(this._layer._map),d},enableRotate:function(){this.options.allowRotation?(this._rotatePoly=L.polygon(this._layer.getLatLngs(),{fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0}).addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly._pmTempLayer=!0,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=Mn(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)):this.disableRotate()},disableRotate:function(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled:function(){return this._rotateEnabled},rotateLayer:function(h){var d=this.getAngle(),v=this._layer.getLatLngs(),b=h*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(b,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+h),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(b,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());var E=this.getAngle()-d;E=E<0?E+360:E,this._startAngle=d,this._fireRotation(this._layer,E,v,this._layer),this._fireRotation(this._map||this._layer._map,E,v,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle:function(h){var d=h-this.getAngle();this.rotateLayer(d)},getAngle:function(){return this._angle||0},setInitAngle:function(h){this._setAngle(h)}};const Cs=bs,En=L.Class.extend({includes:[Qs,z,Cs,gt],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0},setOptions:function(h){L.Util.setOptions(this,h)},getOptions:function(){return this.options},applyOptions:function(){},isPolygon:function(){return this._layer instanceof L.Polygon},getShape:function(){return this._shape},_setPane:function(h,d){d==="layerPane"?h.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":d==="vertexPane"?h.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":d==="markerPane"&&(h.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove:function(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation:function(h,d){var v=d.target,b={layer:this._layer,marker:v,event:d},E="";return h==="move"?E="moveVertexValidation":h==="add"?E="addVertexValidation":h==="remove"&&(E="removeVertexValidation"),this.options[E]&&typeof this.options[E]=="function"&&!this.options[E](b)?(h==="move"&&(v._cancelDragEventChain=v.getLatLng()),!1):(v._cancelDragEventChain=null,!0)},_vertexValidationDrag:function(h){return!h._cancelDragEventChain||(h._latlng=h._cancelDragEventChain,h.update(),!1)},_vertexValidationDragEnd:function(h){return!h._cancelDragEventChain||(h._cancelDragEventChain=null,!1)}});function Ki(h){return function(d){if(Array.isArray(d))return ws(d)}(h)||function(d){if(typeof Symbol<"u"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}(h)||function(d,v){if(d){if(typeof d=="string")return ws(d,v);var b=Object.prototype.toString.call(d).slice(8,-1);if(b==="Object"&&d.constructor&&(b=d.constructor.name),b==="Map"||b==="Set")return Array.from(d);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return ws(d,v)}}(h)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ws(h,d){(d==null||d>h.length)&&(d=h.length);for(var v=0,b=new Array(d);v<d;v++)b[v]=h[v];return b}En.LayerGroup=L.Class.extend({initialize:function(h){var d=this;this._layerGroup=h,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(function(v){return d._initLayer(v)}),this._layerGroup.on("layeradd",L.Util.throttle(function(v){if(!v.layer._pmTempLayer){d._layers=d.getLayers();var b=d._layers.filter(function(E){return!E.pm._parentLayerGroup||!(d._layerGroup._leaflet_id in E.pm._parentLayerGroup)});b.forEach(function(E){d._initLayer(E)}),b.length>0&&d._getMap()&&d._getMap().pm.globalEditModeEnabled()&&d.enabled()&&d.enable(d.getOptions())}},100,this),this),this._layerGroup.on("layerremove",function(v){d._removeLayerFromGroup(v.target)},this),this._layerGroup.on("layerremove",L.Util.throttle(function(v){v.target._pmTempLayer||(d._layers=d.getLayers())},100,this),this)},enable:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];d.length===0&&(this._layers=this.getLayers()),this._options=h,this._layers.forEach(function(v){v instanceof L.LayerGroup?d.indexOf(v._leaflet_id)===-1&&(d.push(v._leaflet_id),v.pm.enable(h,d)):v.pm.enable(h)})},disable:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];h.length===0&&(this._layers=this.getLayers()),this._layers.forEach(function(d){d instanceof L.LayerGroup?h.indexOf(d._leaflet_id)===-1&&(h.push(d._leaflet_id),d.pm.disable(h)):d.pm.disable()})},enabled:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];h.length===0&&(this._layers=this.getLayers());var d=this._layers.find(function(v){return v instanceof L.LayerGroup?h.indexOf(v._leaflet_id)===-1&&(h.push(v._leaflet_id),v.pm.enabled(h)):v.pm.enabled()});return!!d},toggleEdit:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];d.length===0&&(this._layers=this.getLayers()),this._options=h,this._layers.forEach(function(v){v instanceof L.LayerGroup?d.indexOf(v._leaflet_id)===-1&&(d.push(v._leaflet_id),v.pm.toggleEdit(h,d)):v.pm.toggleEdit(h)})},_initLayer:function(h){var d=L.Util.stamp(this._layerGroup);h.pm._parentLayerGroup||(h.pm._parentLayerGroup={}),h.pm._parentLayerGroup[d]=this._layerGroup},_removeLayerFromGroup:function(h){if(h.pm&&h.pm._layerGroup){var d=L.Util.stamp(this._layerGroup);delete h.pm._layerGroup[d]}},dragging:function(){if(this._layers=this.getLayers(),this._layers){var h=this._layers.find(function(d){return d.pm.dragging()});return!!h}return!1},getOptions:function(){return this.options},_getMap:function(){var h;return this._map||((h=this._layers.find(function(d){return!!d._map}))===null||h===void 0?void 0:h._map)||null},getLayers:function(){var h=arguments.length>0&&arguments[0]!==void 0&&arguments[0],d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],v=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],E=[];return h?this._layerGroup.getLayers().forEach(function(A){E.push(A),A instanceof L.LayerGroup&&b.indexOf(A._leaflet_id)===-1&&(b.push(A._leaflet_id),E=E.concat(A.pm.getLayers(!0,!0,!0,b)))}):E=this._layerGroup.getLayers(),v&&(E=E.filter(function(A){return!(A instanceof L.LayerGroup)})),d&&(E=(E=(E=E.filter(function(A){return!!A.pm})).filter(function(A){return!A._pmTempLayer})).filter(function(A){return!L.PM.optIn&&!A.options.pmIgnore||L.PM.optIn&&A.options.pmIgnore===!1})),E},setOptions:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];d.length===0&&(this._layers=this.getLayers()),this.options=h,this._layers.forEach(function(v){v.pm&&(v instanceof L.LayerGroup?d.indexOf(v._leaflet_id)===-1&&(d.push(v._leaflet_id),v.pm.setOptions(h,d)):v.pm.setOptions(h))})}}),En.Marker=En.extend({_shape:"Marker",initialize:function(h){this._layer=h,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0};L.Util.setOptions(this,h),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()):this.disable()},disable:function(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(h){this.enabled()?this.disable():this.enable(h)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker:function(h){var d=h.target;d.remove(),this._fireRemove(d),this._fireRemove(this._map,d)},_onDragEnd:function(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers:function(){var h=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,h.off("pm:drag",this._handleSnapping,this),h.on("pm:drag",this._handleSnapping,this),h.off("pm:dragend",this._cleanupSnapping,this),h.on("pm:dragend",this._cleanupSnapping,this),h.off("pm:dragstart",this._unsnap,this),h.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var h=this._layer;h.off("pm:drag",this._handleSnapping,this),h.off("pm:dragend",this._cleanupSnapping,this),h.off("pm:dragstart",this._unsnap,this)}});const Ya={filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var h=[].concat(Ki(this._markerGroup.getLayers()),Ki(this.markerCache));this.markerCache=h.filter(function(d,v,b){return b.indexOf(d)===v})},renderLimits:function(h){var d=this;this.markerCache.forEach(function(v){h.includes(v)?d._markerGroup.addLayer(v):d._markerGroup.removeLayer(v)})},applyLimitFilters:function(h){var d=h.latlng,v=d===void 0?{lat:0,lng:0}:d;if(!this._preventRenderMarkers){var b=Ki(this._filterClosestMarkers(v));this.renderLimits(b)}},_filterClosestMarkers:function(h){var d=Ki(this.markerCache),v=this.options.limitMarkersToCount;return v===-1?d:(d.sort(function(b,E){return b._latlng.distanceTo(h)-E._latlng.distanceTo(h)}),d.filter(function(b,E){return!(v>-1)||E<v}))},_preventRenderMarkers:!1,_preventRenderingMarkers:function(h){this._preventRenderMarkers=!!h}};function $s(h,d){return function(v){if(Array.isArray(v))return v}(h)||function(v,b){var E=v==null?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(E!=null){var A,G,U=[],V=!0,H=!1;try{for(E=E.call(v);!(V=(A=E.next()).done)&&(U.push(A.value),!b||U.length!==b);V=!0);}catch($){H=!0,G=$}finally{try{V||E.return==null||E.return()}finally{if(H)throw G}}return U}}(h,d)||function(v,b){if(v){if(typeof v=="string")return ta(v,b);var E=Object.prototype.toString.call(v).slice(8,-1);if(E==="Object"&&v.constructor&&(E=v.constructor.name),E==="Map"||E==="Set")return Array.from(v);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return ta(v,b)}}(h,d)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ta(h,d){(d==null||d>h.length)&&(d=h.length);for(var v=0,b=new Array(d);v<d;v++)b[v]=h[v];return b}function Wa(h){return function(d){if(Array.isArray(d))return Zo(d)}(h)||function(d){if(typeof Symbol<"u"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}(h)||function(d,v){if(d){if(typeof d=="string")return Zo(d,v);var b=Object.prototype.toString.call(d).slice(8,-1);if(b==="Object"&&d.constructor&&(b=d.constructor.name),b==="Map"||b==="Set")return Array.from(d);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return Zo(d,v)}}(h)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Zo(h,d){(d==null||d>h.length)&&(d=h.length);for(var v=0,b=new Array(d);v<d;v++)b[v]=h[v];return b}En.Line=En.extend({includes:[Ya],_shape:"Line",initialize:function(h){this._layer=h,this._enabled=!1},enable:function(h){L.Util.setOptions(this,h),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()):this.disable())},disable:function(){if(this.enabled()&&!this._dragging){this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);var h=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(h,"leaflet-pm-draggable"),this._map.hasLayer(this._layer)&&!this.hasSelfIntersection()||L.DomUtil.removeClass(h,"leaflet-pm-invalid"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(h){return this.enabled()?this.disable():this.enable(h),this.enabled()},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers:function(){var h=this,d=this._map,v=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,this._markers=function b(E){if(Array.isArray(E[0]))return E.map(b,h);var A=E.map(h._createMarker,h);return h.options.hideMiddleMarkers!==!0&&E.map(function(G,U){var V=h.isPolygon()?(U+1)%E.length:U+1;return h._createMiddleMarker(A[U],A[V])}),A}(v),this.filterMarkerGroup(),d.addLayer(this._markerGroup)},_createMarker:function(h){var d=new L.Marker(h,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(d,"vertexPane"),d._pmTempLayer=!0,this.options.rotate?(d.on("dragstart",this._onRotateStart,this),d.on("drag",this._onRotate,this),d.on("dragend",this._onRotateEnd,this)):(d.on("click",this._onVertexClick,this),d.on("dragstart",this._onMarkerDragStart,this),d.on("move",this._onMarkerDrag,this),d.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||d.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(d),d},_createMiddleMarker:function(h,d){if(!h||!d)return!1;var v=L.PM.Utils.calcMiddleLatLng(this._map,h.getLatLng(),d.getLatLng()),b=this._createMarker(v),E=L.divIcon({className:"marker-icon marker-icon-middle"});return b.setIcon(E),b.leftM=h,b.rightM=d,h._middleMarkerNext=b,d._middleMarkerPrev=b,b.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),b.on("movestart",this._onMiddleMarkerMoveStart,this),b},_onMiddleMarkerClick:function(h){var d=h.target;if(this._vertexValidation("add",h)){var v=L.divIcon({className:"marker-icon"});d.setIcon(v),this._addMarker(d,d.leftM,d.rightM)}},_onMiddleMarkerMoveStart:function(h){var d=h.target;d.on("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidation("add",h)?(d._dragging=!0,this._addMarker(d,d.leftM,d.rightM)):d.on("move",this._onMiddleMarkerMovePrevent,this)},_onMiddleMarkerMovePrevent:function(h){var d=h.target;this._vertexValidationDrag(d)},_onMiddleMarkerMoveEnd:function(h){var d=h.target;if(d.off("move",this._onMiddleMarkerMovePrevent,this),d.off("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidationDragEnd(d)){var v=L.divIcon({className:"marker-icon"});d.setIcon(v),setTimeout(function(){delete d._dragging},100)}},_addMarker:function(h,d,v){h.off("movestart",this._onMiddleMarkerMoveStart,this),h.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);var b=h.getLatLng(),E=this._layer._latlngs;delete h.leftM,delete h.rightM;var A=L.PM.Utils.findDeepMarkerIndex(this._markers,d),G=A.indexPath,U=A.index,V=A.parentPath,H=G.length>1?at()(E,V):E,$=G.length>1?at()(this._markers,V):this._markers;H.splice(U+1,0,b),$.splice(U+1,0,h),this._layer.setLatLngs(E),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(d,h),this._createMiddleMarker(h,v)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(h,L.PM.Utils.findDeepMarkerIndex(this._markers,h).indexPath,b),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection:function(){return gn(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0),this.hasSelfIntersection()&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(h){var d=this._layer;if(this.hasSelfIntersection()){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return;h?this._flashLayer():(d.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(gn(this._layer.toGeoJSON(15)))}else d.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1)},_flashLayer:function(){var h=this;this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(function(){h._layer.setStyle({color:h.cachedColor}),h.isRed=!1},200)},_updateDisabledMarkerStyle:function(h,d){var v=this;h.forEach(function(b){Array.isArray(b)?v._updateDisabledMarkerStyle(b,d):b._icon&&(d&&!v._checkMarkerAllowedToDrag(b)?L.DomUtil.addClass(b._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(b._icon,"vertexmarker-disabled"))})},_removeMarker:function(h){var d=h.target;if(this._vertexValidation("remove",h)){this.options.allowSelfIntersection||(this._coordsBeforeEdit=Mn(this._layer,this._layer.getLatLngs()));var v=this._layer.getLatLngs(),b=L.PM.Utils.findDeepMarkerIndex(this._markers,d),E=b.indexPath,A=b.index,G=b.parentPath;if(E){var U=E.length>1?at()(v,G):v,V=E.length>1?at()(this._markers,G):this._markers;if(this.options.removeLayerBelowMinVertexCount||!(U.length<=2||this.isPolygon()&&U.length<=3)){U.splice(A,1),this._layer.setLatLngs(v),this.isPolygon()&&U.length<=2&&U.splice(0,U.length);var H=!1;if(U.length<=1&&(U.splice(0,U.length),G.length>1&&E.length>1&&(v=Be(v)),this._layer.setLatLngs(v),this._initMarkers(),H=!0),jt(v)||this._layer.remove(),v=Be(v),this._layer.setLatLngs(v),this._markers=Be(this._markers),!H&&(V=E.length>1?at()(this._markers,G):this._markers,d._middleMarkerPrev&&this._markerGroup.removeLayer(d._middleMarkerPrev),d._middleMarkerNext&&this._markerGroup.removeLayer(d._middleMarkerNext),this._markerGroup.removeLayer(d),V)){var $,ht;if(this.isPolygon()?($=(A+1)%V.length,ht=(A+(V.length-1))%V.length):(ht=A-1<0?void 0:A-1,$=A+1>=V.length?void 0:A+1),$!==ht){var lt=V[ht],Et=V[$];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(lt,Et)}V.splice(A,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(d,E),this._fireChange(this._layer.getLatLngs(),"Edit")}else this._flashLayer()}}},updatePolygonCoordsFromMarkerDrag:function(h){var d=this._layer.getLatLngs(),v=h.getLatLng(),b=L.PM.Utils.findDeepMarkerIndex(this._markers,h),E=b.indexPath,A=b.index,G=b.parentPath;(E.length>1?at()(d,G):d).splice(A,1,v),this._layer.setLatLngs(d)},_getNeighborMarkers:function(h){var d=L.PM.Utils.findDeepMarkerIndex(this._markers,h),v=d.indexPath,b=d.index,E=d.parentPath,A=v.length>1?at()(this._markers,E):this._markers,G=(b+1)%A.length;return{prevMarker:A[(b+(A.length-1))%A.length],nextMarker:A[G]}},_checkMarkerAllowedToDrag:function(h){var d=this._getNeighborMarkers(h),v=d.prevMarker,b=d.nextMarker,E=L.polyline([v.getLatLng(),h.getLatLng()]),A=L.polyline([h.getLatLng(),b.getLatLng()]),G=Xi(this._layer.toGeoJSON(15),E.toGeoJSON(15)).features.length,U=Xi(this._layer.toGeoJSON(15),A.toGeoJSON(15)).features.length;return h.getLatLng()===this._markers[0][0].getLatLng()?U+=1:h.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(G+=1),!(G<=2&&U<=2)},_onMarkerDragStart:function(h){var d=h.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),this._vertexValidation("move",h)){var v=L.PM.Utils.findDeepMarkerIndex(this._markers,d).indexPath;this._fireMarkerDragStart(h,v),this.options.allowSelfIntersection||(this._coordsBeforeEdit=Mn(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(d):this._markerAllowedToDrag=null}},_onMarkerDrag:function(h){var d=h.target;if(this._vertexValidationDrag(d)){var v=L.PM.Utils.findDeepMarkerIndex(this._markers,d),b=v.indexPath,E=v.index,A=v.parentPath;if(b){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1)return this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),void this._handleLayerStyle();this.updatePolygonCoordsFromMarkerDrag(d);var G=b.length>1?at()(this._markers,A):this._markers,U=(E+1)%G.length,V=(E+(G.length-1))%G.length,H=d.getLatLng(),$=G[V].getLatLng(),ht=G[U].getLatLng();if(d._middleMarkerNext){var lt=L.PM.Utils.calcMiddleLatLng(this._map,H,ht);d._middleMarkerNext.setLatLng(lt)}if(d._middleMarkerPrev){var Et=L.PM.Utils.calcMiddleLatLng(this._map,H,$);d._middleMarkerPrev.setLatLng(Et)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(h,b),this._fireChange(this._layer.getLatLngs(),"Edit")}}},_onMarkerDragEnd:function(h){var d=h.target;if(this._vertexValidationDragEnd(d)){var v=L.PM.Utils.findDeepMarkerIndex(this._markers,d).indexPath,b=this.hasSelfIntersection();b&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(b=!1);var E=!this.options.allowSelfIntersection&&b;if(this._fireMarkerDragEnd(h,v,E),E)return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),void this._fireLayerReset(h,v);!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")}},_onVertexClick:function(h){var d=h.target;if(!d._dragging){var v=L.PM.Utils.findDeepMarkerIndex(this._markers,d).indexPath;this._fireVertexClick(h,v)}}}),En.Polygon=En.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag:function(h){var d=this._getNeighborMarkers(h),v=d.prevMarker,b=d.nextMarker,E=L.polyline([v.getLatLng(),h.getLatLng()]),A=L.polyline([h.getLatLng(),b.getLatLng()]),G=Xi(this._layer.toGeoJSON(15),E.toGeoJSON(15)).features.length,U=Xi(this._layer.toGeoJSON(15),A.toGeoJSON(15)).features.length;return!(G<=2&&U<=2)}}),En.Rectangle=En.Polygon.extend({_shape:"Rectangle",_initMarkers:function(){var h=this,d=this._map,v=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,d.addLayer(this._markerGroup),this._markers=[],this._markers[0]=v.map(this._createMarker,this);var b=$s(this._markers,1);this._cornerMarkers=b[0],this._layer.getLatLngs()[0].forEach(function(E,A){var G=h._cornerMarkers.find(function(U){return U._index===A});G&&G.setLatLng(E)})},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker:function(h,d){var v=new L.Marker(h,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(v,"vertexPane"),v._origLatLng=h,v._index=d,v._pmTempLayer=!0,this._markerGroup.addLayer(v),v},_addMarkerEvents:function(){var h=this;this._markers[0].forEach(function(d){d.on("dragstart",h._onMarkerDragStart,h),d.on("drag",h._onMarkerDrag,h),d.on("dragend",h._onMarkerDragEnd,h),h.options.preventMarkerRemoval||d.on("contextmenu",h._removeMarker,h)})},_removeMarker:function(){return null},_onMarkerDragStart:function(h){if(this._vertexValidation("move",h)){var d=h.target,v=this._cornerMarkers;d._oppositeCornerLatLng=v.find(function(b){return b._index===(d._index+2)%4}).getLatLng(),d._snapped=!1,this._fireMarkerDragStart(h)}},_onMarkerDrag:function(h){var d=h.target;this._vertexValidationDrag(d)&&d._index!==void 0&&(this._adjustRectangleForMarkerMove(d),this._fireMarkerDrag(h),this._fireChange(this._layer.getLatLngs(),"Edit"))},_onMarkerDragEnd:function(h){var d=h.target;this._vertexValidationDragEnd(d)&&(this._cornerMarkers.forEach(function(v){delete v._oppositeCornerLatLng}),this._fireMarkerDragEnd(h),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"))},_adjustRectangleForMarkerMove:function(h){L.extend(h._origLatLng,h._latlng);var d=L.PM.Utils._getRotatedRectangle(h.getLatLng(),h._oppositeCornerLatLng,this._angle||0,this._map);this._layer.setLatLngs(d),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers:function(){var h=this,d=this._layer.getLatLngs()[0];d&&d.length!==4&&d.length>0?(d.forEach(function(v,b){h._cornerMarkers[b].setLatLng(v)}),this._cornerMarkers.slice(d.length).forEach(function(v){v.setLatLng(d[0])})):d&&d.length?this._cornerMarkers.forEach(function(v){v.setLatLng(d[v._index])}):console.error("The layer has no LatLngs")},_findCorners:function(){var h=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(h[0],h[2],this._angle||0,this._map)}}),En.Circle=En.extend({_shape:"Circle",initialize:function(h){this._layer=h,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(h){L.Util.setOptions(this,h),this._map=this._layer._map,this.options.allowEditing?(this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){if(this.enabled()&&!this._dragging){this._centerMarker.off("dragstart",this._onCircleDragStart,this),this._centerMarker.off("drag",this._onCircleDrag,this),this._centerMarker.off("dragend",this._onCircleDragEnd,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this),this._layer.off("remove",this.disable,this),this._enabled=!1,this._helperLayers.clearLayers();var h=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(h,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(h){this.enabled()?this.disable():this.enable(h)},_initMarkers:function(){var h=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(h);var d=this._layer.getLatLng(),v=this._layer._radius,b=this._getLatLngOnCircle(d,v);this._centerMarker=this._createCenterMarker(d),this._outerMarker=this._createOuterMarker(b),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},applyOptions:function(){this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()},_createHintLine:function(h,d){var v=h.getLatLng(),b=d.getLatLng();this._hintline=L.polyline([v,b],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(h){var d=this._createMarker(h);return L.DomUtil.addClass(d._icon,"leaflet-pm-draggable"),d.on("drag",this._moveCircle,this),d.on("dragstart",this._onCircleDragStart,this),d.on("drag",this._onCircleDrag,this),d.on("dragend",this._onCircleDragEnd,this),d},_createOuterMarker:function(h){var d=this._createMarker(h);return d.on("drag",this._resizeCircle,this),d},_createMarker:function(h){var d=new L.Marker(h,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(d,"vertexPane"),d._origLatLng=h,d._pmTempLayer=!0,d.on("dragstart",this._onMarkerDragStart,this),d.on("drag",this._onMarkerDrag,this),d.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(d),d},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_moveCircle:function(h){if(!h.target._cancelDragEventChain){var d=h.latlng;this._layer.setLatLng(d);var v=this._layer._radius,b=this._getLatLngOnCircle(d,v);this._outerMarker._latlng=b,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")}},_syncCircleRadius:function(){var h=this._centerMarker.getLatLng(),d=this._outerMarker.getLatLng(),v=this._map.distance(h,d);this.options.minRadiusCircle&&v<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&v>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(v),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var h=this._centerMarker.getLatLng(),d=this._outerMarker.getLatLng();this._hintline.setLatLngs([h,d])},_disableSnapping:function(){var h=this;this._markers.forEach(function(d){d.off("move",h._syncHintLine,h),d.off("move",h._syncCircleRadius,h),d.off("drag",h._handleSnapping,h),d.off("dragend",h._cleanupSnapping,h)}),this._layer.off("pm:dragstart",this._unsnap,this)},_onMarkerDragStart:function(h){this._vertexValidation("move",h)&&this._fireMarkerDragStart(h)},_onMarkerDrag:function(h){var d=h.target;this._vertexValidationDrag(d)&&this._fireMarkerDrag(h)},_onMarkerDragEnd:function(h){var d=h.target;this._vertexValidationDragEnd(d)&&(this._fireEdit(),this._layerEdited=!0,this._fireMarkerDragEnd(h))},_onCircleDragStart:function(h){this._vertexValidationDrag(h.target)?(delete this._vertexValidationReset,this._fireDragStart()):this._vertexValidationReset=!0},_onCircleDrag:function(h){this._vertexValidationReset||this._fireDrag(h)},_onCircleDragEnd:function(){this._vertexValidationReset?delete this._vertexValidationReset:this._fireDragEnd()},_updateHiddenPolyCircle:function(){var h=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!h).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!h),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_getLatLngOnCircle:function(h,d){var v=this._map.project(h),b=L.point(v.x+d,v.y);return this._map.unproject(b)},_getNewDestinationOfOuterMarker:function(){var h=this._centerMarker.getLatLng(),d=this._outerMarker.getLatLng(),v=this._map.distance(h,d);return this.options.minRadiusCircle&&v<this.options.minRadiusCircle?d=Le(this._map,h,d,this.options.minRadiusCircle):this.options.maxRadiusCircle&&v>this.options.maxRadiusCircle&&(d=Le(this._map,h,d,this.options.maxRadiusCircle)),d},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var h=this._centerMarker.getLatLng(),d=this._outerMarker.getLatLng(),v=this._map.distance(h,d);(this.options.minRadiusCircle&&v<this.options.minRadiusCircle||this.options.maxRadiusCircle&&v>this.options.maxRadiusCircle)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),En.CircleMarker=En.extend({_shape:"CircleMarker",initialize:function(h){this._layer=h,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,h),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){this._dragging||(this._helperLayers&&this._helperLayers.clearLayers(),this._map||(this._map=this._layer._map),this._map||(this.options.editable?(this._map.off("move",this._syncMarkers,this),this._outerMarker&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this)),this.disableLayerDrag(),this._layer.off("contextmenu",this._removeMarker,this),this._layer.off("remove",this.disable,this),this.enabled()&&(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(h){this.enabled()?this.disable():this.enable(h)},applyOptions:function(){!this.options.editable&&this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.editable?(this._initMarkers(),this._map.on("move",this._syncMarkers,this)):this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this.options.editable?(this._initSnappableMarkers(),this._centerMarker.on("drag",this._moveCircle,this),this.options.editable&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._initSnappableMarkersDrag():this.options.editable?this._disableSnapping():this._disableSnappingDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers:function(){var h=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(h);var d=this._layer.getLatLng(),v=this._layer._radius,b=this._getLatLngOnCircle(d,v);this._centerMarker=this._createCenterMarker(d),this._outerMarker=this._createOuterMarker(b),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(h,d){var v=this._map.project(h),b=L.point(v.x+d,v.y);return this._map.unproject(b)},_createHintLine:function(h,d){var v=h.getLatLng(),b=d.getLatLng();this._hintline=L.polyline([v,b],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(h){var d=this._createMarker(h);return this.options.draggable?L.DomUtil.addClass(d._icon,"leaflet-pm-draggable"):d.dragging.disable(),d},_createOuterMarker:function(h){var d=this._createMarker(h);return d.on("drag",this._resizeCircle,this),d},_createMarker:function(h){var d=new L.Marker(h,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(d,"vertexPane"),d._origLatLng=h,d._pmTempLayer=!0,d.on("dragstart",this._onMarkerDragStart,this),d.on("drag",this._onMarkerDrag,this),d.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(d),d},_moveCircle:function(){var h=this._centerMarker.getLatLng();this._layer.setLatLng(h);var d=this._layer._radius,v=this._getLatLngOnCircle(h,d);this._outerMarker._latlng=v,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers:function(){var h=this._layer.getLatLng(),d=this._layer._radius,v=this._getLatLngOnCircle(h,d);this._outerMarker.setLatLng(v),this._centerMarker.setLatLng(h),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius:function(){var h=this._centerMarker.getLatLng(),d=this._outerMarker.getLatLng(),v=this._map.project(h).distanceTo(this._map.project(d));this.options.minRadiusCircleMarker&&v<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&v>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(v),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var h=this._centerMarker.getLatLng(),d=this._outerMarker.getLatLng();this._hintline.setLatLngs([h,d])},_removeMarker:function(){this.options.editable&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart:function(h){this._vertexValidation("move",h)&&this._fireMarkerDragStart(h)},_onMarkerDrag:function(h){var d=h.target;d instanceof L.Marker&&!this._vertexValidationDrag(d)||this._fireMarkerDrag(h)},_onMarkerDragEnd:function(h){this._map.pm.Draw.CircleMarker._layerIsDragging=!1;var d=h.target;this._vertexValidationDragEnd(d)&&(this.options.editable&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(h))},_initSnappableMarkersDrag:function(){var h=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,h.off("pm:drag",this._handleSnapping,this),h.on("pm:drag",this._handleSnapping,this),h.off("pm:dragend",this._cleanupSnapping,this),h.on("pm:dragend",this._cleanupSnapping,this),h.off("pm:dragstart",this._unsnap,this),h.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag:function(){var h=this._layer;h.off("pm:drag",this._handleSnapping,this),h.off("pm:dragend",this._cleanupSnapping,this),h.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle:function(){var h=this._layer._map||this._map;if(h){var d=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),h,this._layer.getLatLng()),v=L.circle(this._layer.getLatLng(),this._layer.options);v.setRadius(d);var b=h&&h.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(v,200,!b).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(v,200,!b),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker:function(){var h=this._centerMarker.getLatLng(),d=this._outerMarker.getLatLng(),v=this._map.project(h).distanceTo(this._map.project(d));return this.options.minRadiusCircleMarker&&v<this.options.minRadiusCircleMarker?d=Le(this._map,h,d,L.PM.Utils.pxRadiusToMeterRadius(this.options.minRadiusCircleMarker,this._map,h)):this.options.maxRadiusCircleMarker&&v>this.options.maxRadiusCircleMarker&&(d=Le(this._map,h,d,L.PM.Utils.pxRadiusToMeterRadius(this.options.maxRadiusCircleMarker,this._map,h))),d},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var h=this._centerMarker.getLatLng(),d=this._outerMarker.getLatLng(),v=this._map.project(h).distanceTo(this._map.project(d));(this.options.minRadiusCircleMarker&&v<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&v>this.options.maxRadiusCircleMarker)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),En.ImageOverlay=En.extend({_shape:"ImageOverlay",initialize:function(h){this._layer=h,this._enabled=!1},toggleEdit:function(h){this.enabled()?this.disable():this.enable(h)},enabled:function(){return this._enabled},enable:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,h),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()):this.disable())},disable:function(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners:function(){var h=this._layer.getBounds();return[h.getNorthWest(),h.getNorthEast(),h.getSouthEast(),h.getSouthWest()]}}),En.Text=En.extend({_shape:"Text",initialize:function(h){this._layer=h,this._enabled=!1},enable:function(h){L.Util.setOptions(this,h),this.textArea&&(this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()):this.disable())},disable:function(){if(this.enabled()){this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");var h=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),h.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1}},enabled:function(){return this._enabled},toggleEdit:function(h){this.enabled()?this.disable():this.enable(h)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers:function(){var h=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,h.off("pm:drag",this._handleSnapping,this),h.on("pm:drag",this._handleSnapping,this),h.off("pm:dragend",this._cleanupSnapping,this),h.on("pm:dragend",this._cleanupSnapping,this),h.off("pm:dragstart",this._unsnap,this),h.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var h=this._layer;h.off("pm:drag",this._handleSnapping,this),h.off("pm:dragend",this._cleanupSnapping,this),h.off("pm:dragstart",this._unsnap,this)},_autoResize:function(){this.textArea.style.height="1px",this.textArea.style.width="1px";var h=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,d=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height="".concat(h,"px"),this.textArea.style.width="".concat(d,"px"),this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur:function(){var h=this;this._disableOnBlurActive=!0,setTimeout(function(){h.enabled()&&L.DomEvent.on(document,"click",h._documentClick,h)},100)},_documentClick:function(h){h.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=this._hasFocus;this._hasFocus=h.type==="focus",!d!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus:function(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus:function(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus:function(){return this._hasFocus},getElement:function(){return this.textArea},setText:function(h){this.textArea.value=h,this._autoResize()},getText:function(){return this.textArea.value},_initTextMarker:function(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){var h,d=this.options.className.split(" ");(h=this.textArea.classList).add.apply(h,Wa(d))}var v=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(v),this._layer.once("add",this._createTextMarker,this)},_createTextMarker:function(){var h=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),h===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection:function(h){h.preventDefault()}});var ea=function(h,d,v,b,E,A){this._matrix=[h,d,v,b,E,A]};ea.init=function(){return new L.PM.Matrix(1,0,0,1,0,0)},ea.prototype={transform:function(h){return this._transform(h.clone())},_transform:function(h){var d=this._matrix,v=h.x,b=h.y;return h.x=d[0]*v+d[1]*b+d[4],h.y=d[2]*v+d[3]*b+d[5],h},untransform:function(h){var d=this._matrix;return new L.Point((h.x/d[0]-d[4])/d[0],(h.y/d[2]-d[5])/d[2])},clone:function(){var h=this._matrix;return new L.PM.Matrix(h[0],h[1],h[2],h[3],h[4],h[5])},translate:function(h){return h===void 0?new L.Point(this._matrix[4],this._matrix[5]):(typeof h=="number"?(d=h,v=h):(d=h.x,v=h.y),this._add(1,0,0,1,d,v));var d,v},scale:function(h,d){return h===void 0?new L.Point(this._matrix[0],this._matrix[3]):(d=d||L.point(0,0),typeof h=="number"?(v=h,b=h):(v=h.x,b=h.y),this._add(v,0,0,b,d.x,d.y)._add(1,0,0,1,-d.x,-d.y));var v,b},rotate:function(h,d){var v=Math.cos(h),b=Math.sin(h);return d=d||new L.Point(0,0),this._add(v,b,-b,v,d.x,d.y)._add(1,0,0,1,-d.x,-d.y)},flip:function(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add:function(h,d,v,b,E,A){var G,U=[[],[],[]],V=this._matrix,H=[[V[0],V[2],V[4]],[V[1],V[3],V[5]],[0,0,1]],$=[[h,v,E],[d,b,A],[0,0,1]];h&&h instanceof L.PM.Matrix&&($=[[(V=h._matrix)[0],V[2],V[4]],[V[1],V[3],V[5]],[0,0,1]]);for(var ht=0;ht<3;ht+=1)for(var lt=0;lt<3;lt+=1){G=0;for(var Et=0;Et<3;Et+=1)G+=H[ht][Et]*$[Et][lt];U[ht][lt]=G}return this._matrix=[U[0][0],U[1][0],U[0][1],U[1][1],U[0][2],U[1][2]],this}};const Ka=ea;var Ju={calcMiddleLatLng:function(h,d,v){var b=h.project(d),E=h.project(v);return h.unproject(b._add(E)._divideBy(2))},findLayers:function(h){var d=[];return h.eachLayer(function(v){(v instanceof L.Polyline||v instanceof L.Marker||v instanceof L.Circle||v instanceof L.CircleMarker||v instanceof L.ImageOverlay)&&d.push(v)}),d=(d=(d=d.filter(function(v){return!!v.pm})).filter(function(v){return!v._pmTempLayer})).filter(function(v){return!L.PM.optIn&&!v.options.pmIgnore||L.PM.optIn&&v.options.pmIgnore===!1})},circleToPolygon:function(h){for(var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,v=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],b=h.getLatLng(),E=h.getRadius(),A=le(b,E,d,0,v),G=[],U=0;U<A.length;U+=1){var V=[A[U].lat,A[U].lng];G.push(V)}return L.polygon(G,h.options)},disablePopup:function(h){h.getPopup()&&(h._tempPopupCopy=h.getPopup(),h.unbindPopup())},enablePopup:function(h){h._tempPopupCopy&&(h.bindPopup(h._tempPopupCopy),delete h._tempPopupCopy)},_fireEvent:function(h,d,v){var b=arguments.length>3&&arguments[3]!==void 0&&arguments[3];h.fire(d,v,b);var E=this.getAllParentGroups(h),A=E.groups;A.forEach(function(G){G.fire(d,v,b)})},getAllParentGroups:function(h){var d=[],v=[];return!h._pmLastGroupFetch||!h._pmLastGroupFetch.time||new Date().getTime()-h._pmLastGroupFetch.time>1e3?(function b(E){for(var A in E._eventParents)if(d.indexOf(A)===-1){d.push(A);var G=E._eventParents[A];v.push(G),b(G)}}(h),h._pmLastGroupFetch={time:new Date().getTime(),groups:v,groupIds:d},{groupIds:d,groups:v}):{groups:h._pmLastGroupFetch.groups,groupIds:h._pmLastGroupFetch.groupIds}},createGeodesicPolygon:le,getTranslation:Tt,findDeepCoordIndex:function(h,d){var v,b=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],E=function G(U){return function(V,H){var $=U.concat(H);if(b){if(V.lat&&V.lat===d.lat&&V.lng===d.lng)return v=$,!0}else if(V.lat&&L.latLng(V).equals(d))return v=$,!0;return Array.isArray(V)&&V.some(G($))}};h.some(E([]));var A={};return v&&(A={indexPath:v,index:v[v.length-1],parentPath:v.slice(0,v.length-1)}),A},findDeepMarkerIndex:function(h,d){var v;h.some(function E(A){return function(G,U){var V=A.concat(U);return G._leaflet_id===d._leaflet_id?(v=V,!0):Array.isArray(G)&&G.some(E(V))}}([]));var b={};return v&&(b={indexPath:v,index:v[v.length-1],parentPath:v.slice(0,v.length-1)}),b},_getIndexFromSegment:function(h,d){if(d&&d.length===2){var v=this.findDeepCoordIndex(h,d[0]),b=this.findDeepCoordIndex(h,d[1]),E=Math.max(v.index,b.index);return v.index!==0&&b.index!==0||E===1||(E+=1),{indexA:v,indexB:b,newIndex:E,indexPath:v.indexPath,parentPath:v.parentPath}}return null},_getRotatedRectangle:function(h,d,v,b){var E=Qe(b,h),A=Qe(b,d),G=v*Math.PI/180,U=Math.cos(G),V=Math.sin(G),H=(A.x-E.x)*U+(A.y-E.y)*V,$=(A.y-E.y)*U-(A.x-E.x)*V,ht=H*U+E.x,lt=H*V+E.y,Et=-$*V+E.x,Dt=$*U+E.y;return[ei(b,E),ei(b,{x:ht,y:lt}),ei(b,A),ei(b,{x:Et,y:Dt})]},pxRadiusToMeterRadius:function(h,d,v){var b=d.project(v),E=L.point(b.x+h,b.y);return d.distance(d.unproject(E),v)}};const oe=Ju;L.PM=L.PM||{version:"2.14.1",Map:_o,Toolbar:mo,Draw:q,Edit:En,Utils:oe,Matrix:Ka,activeLang:"en",optIn:!1,initialize:function(h){this.addInitHooks(h)},setOptIn:function(h){this.optIn=!!h},addInitHooks:function(){L.Map.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}),L.LayerGroup.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}),L.Marker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}),L.CircleMarker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}),L.Polyline.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}),L.Polygon.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}),L.Rectangle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}),L.Circle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}),L.ImageOverlay.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))})},reInitLayer:function(h){var d=this;h instanceof L.LayerGroup&&h.eachLayer(function(v){d.reInitLayer(v)}),h.pm||L.PM.optIn&&h.options.pmIgnore!==!1||h.options.pmIgnore||(h instanceof L.Map?h.pm=new L.PM.Map(h):h instanceof L.Marker?h.options.textMarker?(h.pm=new L.PM.Edit.Text(h),h.pm._initTextMarker(),h.pm._createTextMarker(!1)):h.pm=new L.PM.Edit.Marker(h):h instanceof L.Circle?h.pm=new L.PM.Edit.Circle(h):h instanceof L.CircleMarker?h.pm=new L.PM.Edit.CircleMarker(h):h instanceof L.Rectangle?h.pm=new L.PM.Edit.Rectangle(h):h instanceof L.Polygon?h.pm=new L.PM.Edit.Polygon(h):h instanceof L.Polyline?h.pm=new L.PM.Edit.Line(h):h instanceof L.LayerGroup?h.pm=new L.PM.Edit.LayerGroup(h):h instanceof L.ImageOverlay&&(h.pm=new L.PM.Edit.ImageOverlay(h)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick:function(h){for(var d,v,b=this._map.mouseEventToLayerPoint(h),E=this._drawFirst;E;E=E.next)(d=E.layer).options.interactive&&d._containsPoint(b)&&(h.type!=="click"&&h.type!=="preclick"||!this._map._draggableMoved(d))&&(v=d);v&&(L.DomEvent.fakeStop(h),this._fireEvent([v],h))}}),L.PM.initialize()},7107:()=>{Array.prototype.findIndex=Array.prototype.findIndex||function(n){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof n!="function")throw new TypeError("callback must be a function");for(var i=Object(this),o=i.length>>>0,s=arguments[1],u=0;u<o;u++)if(n.call(s,i[u],u,i))return u;return-1},Array.prototype.find=Array.prototype.find||function(n){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof n!="function")throw new TypeError("callback must be a function");for(var i=Object(this),o=i.length>>>0,s=arguments[1],u=0;u<o;u++){var l=i[u];if(n.call(s,l,u,i))return l}},typeof Object.assign!="function"&&(Object.assign=function(n){if(n==null)throw new TypeError("Cannot convert undefined or null to object");n=Object(n);for(var i=1;i<arguments.length;i++){var o=arguments[i];if(o!=null)for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])}return n}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(n){n.hasOwnProperty("remove")||Object.defineProperty(n,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(n,i){if(this==null)throw new TypeError('"this" is null or not defined');var o=Object(this),s=o.length>>>0;if(s===0)return!1;for(var u,l,p=0|i,g=Math.max(p>=0?p:s-Math.abs(p),0);g<s;){if((u=o[g])===(l=n)||typeof u=="number"&&typeof l=="number"&&isNaN(u)&&isNaN(l))return!0;g++}return!1}})},1787:(n,i,o)=>{var s=o(2582),u=o(4102),l=o(1540),p=o(9705).Z,g=l.featureEach,c=(l.coordEach,u.polygon,u.featureCollection);function _(C){var M=new s(C);return M.insert=function(S){if(S.type!=="Feature")throw new Error("invalid feature");return S.bbox=S.bbox?S.bbox:p(S),s.prototype.insert.call(this,S)},M.load=function(S){var P=[];return Array.isArray(S)?S.forEach(function(k){if(k.type!=="Feature")throw new Error("invalid features");k.bbox=k.bbox?k.bbox:p(k),P.push(k)}):g(S,function(k){if(k.type!=="Feature")throw new Error("invalid features");k.bbox=k.bbox?k.bbox:p(k),P.push(k)}),s.prototype.load.call(this,P)},M.remove=function(S,P){if(S.type!=="Feature")throw new Error("invalid feature");return S.bbox=S.bbox?S.bbox:p(S),s.prototype.remove.call(this,S,P)},M.clear=function(){return s.prototype.clear.call(this)},M.search=function(S){var P=s.prototype.search.call(this,this.toBBox(S));return c(P)},M.collides=function(S){return s.prototype.collides.call(this,this.toBBox(S))},M.all=function(){var S=s.prototype.all.call(this);return c(S)},M.toJSON=function(){return s.prototype.toJSON.call(this)},M.fromJSON=function(S){return s.prototype.fromJSON.call(this,S)},M.toBBox=function(S){var P;if(S.bbox)P=S.bbox;else if(Array.isArray(S)&&S.length===4)P=S;else if(Array.isArray(S)&&S.length===6)P=[S[0],S[1],S[3],S[4]];else if(S.type==="Feature")P=p(S);else{if(S.type!=="FeatureCollection")throw new Error("invalid geojson");P=p(S)}return{minX:P[0],minY:P[1],maxX:P[2],maxY:P[3]}},M}n.exports=_,n.exports.default=_},1989:(n,i,o)=>{var s=o(1789),u=o(401),l=o(7667),p=o(1327),g=o(1866);function c(_){var C=-1,M=_==null?0:_.length;for(this.clear();++C<M;){var S=_[C];this.set(S[0],S[1])}}c.prototype.clear=s,c.prototype.delete=u,c.prototype.get=l,c.prototype.has=p,c.prototype.set=g,n.exports=c},8407:(n,i,o)=>{var s=o(7040),u=o(4125),l=o(2117),p=o(7518),g=o(4705);function c(_){var C=-1,M=_==null?0:_.length;for(this.clear();++C<M;){var S=_[C];this.set(S[0],S[1])}}c.prototype.clear=s,c.prototype.delete=u,c.prototype.get=l,c.prototype.has=p,c.prototype.set=g,n.exports=c},7071:(n,i,o)=>{var s=o(852)(o(5639),"Map");n.exports=s},3369:(n,i,o)=>{var s=o(4785),u=o(1285),l=o(6e3),p=o(9916),g=o(5265);function c(_){var C=-1,M=_==null?0:_.length;for(this.clear();++C<M;){var S=_[C];this.set(S[0],S[1])}}c.prototype.clear=s,c.prototype.delete=u,c.prototype.get=l,c.prototype.has=p,c.prototype.set=g,n.exports=c},6384:(n,i,o)=>{var s=o(8407),u=o(7465),l=o(3779),p=o(7599),g=o(4758),c=o(4309);function _(C){var M=this.__data__=new s(C);this.size=M.size}_.prototype.clear=u,_.prototype.delete=l,_.prototype.get=p,_.prototype.has=g,_.prototype.set=c,n.exports=_},2705:(n,i,o)=>{var s=o(5639).Symbol;n.exports=s},1149:(n,i,o)=>{var s=o(5639).Uint8Array;n.exports=s},6874:n=>{n.exports=function(i,o,s){switch(s.length){case 0:return i.call(o);case 1:return i.call(o,s[0]);case 2:return i.call(o,s[0],s[1]);case 3:return i.call(o,s[0],s[1],s[2])}return i.apply(o,s)}},4636:(n,i,o)=>{var s=o(2545),u=o(5694),l=o(1469),p=o(4144),g=o(5776),c=o(6719),_=Object.prototype.hasOwnProperty;n.exports=function(C,M){var S=l(C),P=!S&&u(C),k=!S&&!P&&p(C),D=!S&&!P&&!k&&c(C),O=S||P||k||D,x=O?s(C.length,String):[],R=x.length;for(var F in C)!M&&!_.call(C,F)||O&&(F=="length"||k&&(F=="offset"||F=="parent")||D&&(F=="buffer"||F=="byteLength"||F=="byteOffset")||g(F,R))||x.push(F);return x}},9932:n=>{n.exports=function(i,o){for(var s=-1,u=i==null?0:i.length,l=Array(u);++s<u;)l[s]=o(i[s],s,i);return l}},6556:(n,i,o)=>{var s=o(9465),u=o(7813);n.exports=function(l,p,g){(g!==void 0&&!u(l[p],g)||g===void 0&&!(p in l))&&s(l,p,g)}},4865:(n,i,o)=>{var s=o(9465),u=o(7813),l=Object.prototype.hasOwnProperty;n.exports=function(p,g,c){var _=p[g];l.call(p,g)&&u(_,c)&&(c!==void 0||g in p)||s(p,g,c)}},8470:(n,i,o)=>{var s=o(7813);n.exports=function(u,l){for(var p=u.length;p--;)if(s(u[p][0],l))return p;return-1}},9465:(n,i,o)=>{var s=o(8777);n.exports=function(u,l,p){l=="__proto__"&&s?s(u,l,{configurable:!0,enumerable:!0,value:p,writable:!0}):u[l]=p}},3118:(n,i,o)=>{var s=o(3218),u=Object.create,l=function(){function p(){}return function(g){if(!s(g))return{};if(u)return u(g);p.prototype=g;var c=new p;return p.prototype=void 0,c}}();n.exports=l},8483:(n,i,o)=>{var s=o(5063)();n.exports=s},7786:(n,i,o)=>{var s=o(1811),u=o(327);n.exports=function(l,p){for(var g=0,c=(p=s(p,l)).length;l!=null&&g<c;)l=l[u(p[g++])];return g&&g==c?l:void 0}},4239:(n,i,o)=>{var s=o(2705),u=o(9607),l=o(2333),p=s?s.toStringTag:void 0;n.exports=function(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":p&&p in Object(g)?u(g):l(g)}},8565:n=>{var i=Object.prototype.hasOwnProperty;n.exports=function(o,s){return o!=null&&i.call(o,s)}},9454:(n,i,o)=>{var s=o(4239),u=o(7005);n.exports=function(l){return u(l)&&s(l)=="[object Arguments]"}},8458:(n,i,o)=>{var s=o(3560),u=o(5346),l=o(3218),p=o(346),g=/^\[object .+?Constructor\]$/,c=Function.prototype,_=Object.prototype,C=c.toString,M=_.hasOwnProperty,S=RegExp("^"+C.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(P){return!(!l(P)||u(P))&&(s(P)?S:g).test(p(P))}},8749:(n,i,o)=>{var s=o(4239),u=o(1780),l=o(7005),p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1,n.exports=function(g){return l(g)&&u(g.length)&&!!p[s(g)]}},313:(n,i,o)=>{var s=o(3218),u=o(5726),l=o(3498),p=Object.prototype.hasOwnProperty;n.exports=function(g){if(!s(g))return l(g);var c=u(g),_=[];for(var C in g)(C!="constructor"||!c&&p.call(g,C))&&_.push(C);return _}},2980:(n,i,o)=>{var s=o(6384),u=o(6556),l=o(8483),p=o(9783),g=o(3218),c=o(1704),_=o(6390);n.exports=function C(M,S,P,k,D){M!==S&&l(S,function(O,x){if(D||(D=new s),g(O))p(M,S,x,P,C,k,D);else{var R=k?k(_(M,x),O,x+"",M,S,D):void 0;R===void 0&&(R=O),u(M,x,R)}},c)}},9783:(n,i,o)=>{var s=o(6556),u=o(4626),l=o(7133),p=o(278),g=o(8517),c=o(5694),_=o(1469),C=o(9246),M=o(4144),S=o(3560),P=o(3218),k=o(8630),D=o(6719),O=o(6390),x=o(9881);n.exports=function(R,F,B,Z,Q,nt,rt){var st=O(R,B),_t=O(F,B),ut=rt.get(_t);if(ut)s(R,B,ut);else{var gt=nt?nt(st,_t,B+"",R,F,rt):void 0,kt=gt===void 0;if(kt){var Vt=_(_t),at=!Vt&&M(_t),Ut=!Vt&&!at&&D(_t);gt=_t,Vt||at||Ut?_(st)?gt=st:C(st)?gt=p(st):at?(kt=!1,gt=u(_t,!0)):Ut?(kt=!1,gt=l(_t,!0)):gt=[]:k(_t)||c(_t)?(gt=st,c(st)?gt=x(st):P(st)&&!S(st)||(gt=g(_t))):kt=!1}kt&&(rt.set(_t,gt),Q(gt,_t,Z,nt,rt),rt.delete(_t)),s(R,B,gt)}}},5976:(n,i,o)=>{var s=o(6557),u=o(5357),l=o(61);n.exports=function(p,g){return l(u(p,g,s),p+"")}},6560:(n,i,o)=>{var s=o(5703),u=o(8777),l=o(6557),p=u?function(g,c){return u(g,"toString",{configurable:!0,enumerable:!1,value:s(c),writable:!0})}:l;n.exports=p},2545:n=>{n.exports=function(i,o){for(var s=-1,u=Array(i);++s<i;)u[s]=o(s);return u}},531:(n,i,o)=>{var s=o(2705),u=o(9932),l=o(1469),p=o(3448),g=s?s.prototype:void 0,c=g?g.toString:void 0;n.exports=function _(C){if(typeof C=="string")return C;if(l(C))return u(C,_)+"";if(p(C))return c?c.call(C):"";var M=C+"";return M=="0"&&1/C==-1/0?"-0":M}},1717:n=>{n.exports=function(i){return function(o){return i(o)}}},1811:(n,i,o)=>{var s=o(1469),u=o(5403),l=o(5514),p=o(9833);n.exports=function(g,c){return s(g)?g:u(g,c)?[g]:l(p(g))}},4318:(n,i,o)=>{var s=o(1149);n.exports=function(u){var l=new u.constructor(u.byteLength);return new s(l).set(new s(u)),l}},4626:(n,i,o)=>{n=o.nmd(n);var s=o(5639),u=i&&!i.nodeType&&i,l=u&&n&&!n.nodeType&&n,p=l&&l.exports===u?s.Buffer:void 0,g=p?p.allocUnsafe:void 0;n.exports=function(c,_){if(_)return c.slice();var C=c.length,M=g?g(C):new c.constructor(C);return c.copy(M),M}},7133:(n,i,o)=>{var s=o(4318);n.exports=function(u,l){var p=l?s(u.buffer):u.buffer;return new u.constructor(p,u.byteOffset,u.length)}},278:n=>{n.exports=function(i,o){var s=-1,u=i.length;for(o||(o=Array(u));++s<u;)o[s]=i[s];return o}},8363:(n,i,o)=>{var s=o(4865),u=o(9465);n.exports=function(l,p,g,c){var _=!g;g||(g={});for(var C=-1,M=p.length;++C<M;){var S=p[C],P=c?c(g[S],l[S],S,g,l):void 0;P===void 0&&(P=l[S]),_?u(g,S,P):s(g,S,P)}return g}},4429:(n,i,o)=>{var s=o(5639)["__core-js_shared__"];n.exports=s},1463:(n,i,o)=>{var s=o(5976),u=o(6612);n.exports=function(l){return s(function(p,g){var c=-1,_=g.length,C=_>1?g[_-1]:void 0,M=_>2?g[2]:void 0;for(C=l.length>3&&typeof C=="function"?(_--,C):void 0,M&&u(g[0],g[1],M)&&(C=_<3?void 0:C,_=1),p=Object(p);++c<_;){var S=g[c];S&&l(p,S,c,C)}return p})}},5063:n=>{n.exports=function(i){return function(o,s,u){for(var l=-1,p=Object(o),g=u(o),c=g.length;c--;){var _=g[i?c:++l];if(s(p[_],_,p)===!1)break}return o}}},8777:(n,i,o)=>{var s=o(852),u=function(){try{var l=s(Object,"defineProperty");return l({},"",{}),l}catch{}}();n.exports=u},1957:(n,i,o)=>{var s=typeof o.g=="object"&&o.g&&o.g.Object===Object&&o.g;n.exports=s},5050:(n,i,o)=>{var s=o(7019);n.exports=function(u,l){var p=u.__data__;return s(l)?p[typeof l=="string"?"string":"hash"]:p.map}},852:(n,i,o)=>{var s=o(8458),u=o(7801);n.exports=function(l,p){var g=u(l,p);return s(g)?g:void 0}},5924:(n,i,o)=>{var s=o(5569)(Object.getPrototypeOf,Object);n.exports=s},9607:(n,i,o)=>{var s=o(2705),u=Object.prototype,l=u.hasOwnProperty,p=u.toString,g=s?s.toStringTag:void 0;n.exports=function(c){var _=l.call(c,g),C=c[g];try{c[g]=void 0;var M=!0}catch{}var S=p.call(c);return M&&(_?c[g]=C:delete c[g]),S}},7801:n=>{n.exports=function(i,o){return i==null?void 0:i[o]}},222:(n,i,o)=>{var s=o(1811),u=o(5694),l=o(1469),p=o(5776),g=o(1780),c=o(327);n.exports=function(_,C,M){for(var S=-1,P=(C=s(C,_)).length,k=!1;++S<P;){var D=c(C[S]);if(!(k=_!=null&&M(_,D)))break;_=_[D]}return k||++S!=P?k:!!(P=_==null?0:_.length)&&g(P)&&p(D,P)&&(l(_)||u(_))}},1789:(n,i,o)=>{var s=o(4536);n.exports=function(){this.__data__=s?s(null):{},this.size=0}},401:n=>{n.exports=function(i){var o=this.has(i)&&delete this.__data__[i];return this.size-=o?1:0,o}},7667:(n,i,o)=>{var s=o(4536),u=Object.prototype.hasOwnProperty;n.exports=function(l){var p=this.__data__;if(s){var g=p[l];return g==="__lodash_hash_undefined__"?void 0:g}return u.call(p,l)?p[l]:void 0}},1327:(n,i,o)=>{var s=o(4536),u=Object.prototype.hasOwnProperty;n.exports=function(l){var p=this.__data__;return s?p[l]!==void 0:u.call(p,l)}},1866:(n,i,o)=>{var s=o(4536);n.exports=function(u,l){var p=this.__data__;return this.size+=this.has(u)?0:1,p[u]=s&&l===void 0?"__lodash_hash_undefined__":l,this}},8517:(n,i,o)=>{var s=o(3118),u=o(5924),l=o(5726);n.exports=function(p){return typeof p.constructor!="function"||l(p)?{}:s(u(p))}},5776:n=>{var i=/^(?:0|[1-9]\d*)$/;n.exports=function(o,s){var u=typeof o;return!!(s=s??9007199254740991)&&(u=="number"||u!="symbol"&&i.test(o))&&o>-1&&o%1==0&&o<s}},6612:(n,i,o)=>{var s=o(7813),u=o(8612),l=o(5776),p=o(3218);n.exports=function(g,c,_){if(!p(_))return!1;var C=typeof c;return!!(C=="number"?u(_)&&l(c,_.length):C=="string"&&c in _)&&s(_[c],g)}},5403:(n,i,o)=>{var s=o(1469),u=o(3448),l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/;n.exports=function(g,c){if(s(g))return!1;var _=typeof g;return!(_!="number"&&_!="symbol"&&_!="boolean"&&g!=null&&!u(g))||p.test(g)||!l.test(g)||c!=null&&g in Object(c)}},7019:n=>{n.exports=function(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}},5346:(n,i,o)=>{var s,u=o(4429),l=(s=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"";n.exports=function(p){return!!l&&l in p}},5726:n=>{var i=Object.prototype;n.exports=function(o){var s=o&&o.constructor;return o===(typeof s=="function"&&s.prototype||i)}},7040:n=>{n.exports=function(){this.__data__=[],this.size=0}},4125:(n,i,o)=>{var s=o(8470),u=Array.prototype.splice;n.exports=function(l){var p=this.__data__,g=s(p,l);return!(g<0)&&(g==p.length-1?p.pop():u.call(p,g,1),--this.size,!0)}},2117:(n,i,o)=>{var s=o(8470);n.exports=function(u){var l=this.__data__,p=s(l,u);return p<0?void 0:l[p][1]}},7518:(n,i,o)=>{var s=o(8470);n.exports=function(u){return s(this.__data__,u)>-1}},4705:(n,i,o)=>{var s=o(8470);n.exports=function(u,l){var p=this.__data__,g=s(p,u);return g<0?(++this.size,p.push([u,l])):p[g][1]=l,this}},4785:(n,i,o)=>{var s=o(1989),u=o(8407),l=o(7071);n.exports=function(){this.size=0,this.__data__={hash:new s,map:new(l||u),string:new s}}},1285:(n,i,o)=>{var s=o(5050);n.exports=function(u){var l=s(this,u).delete(u);return this.size-=l?1:0,l}},6e3:(n,i,o)=>{var s=o(5050);n.exports=function(u){return s(this,u).get(u)}},9916:(n,i,o)=>{var s=o(5050);n.exports=function(u){return s(this,u).has(u)}},5265:(n,i,o)=>{var s=o(5050);n.exports=function(u,l){var p=s(this,u),g=p.size;return p.set(u,l),this.size+=p.size==g?0:1,this}},4523:(n,i,o)=>{var s=o(8306);n.exports=function(u){var l=s(u,function(g){return p.size===500&&p.clear(),g}),p=l.cache;return l}},4536:(n,i,o)=>{var s=o(852)(Object,"create");n.exports=s},3498:n=>{n.exports=function(i){var o=[];if(i!=null)for(var s in Object(i))o.push(s);return o}},1167:(n,i,o)=>{n=o.nmd(n);var s=o(1957),u=i&&!i.nodeType&&i,l=u&&n&&!n.nodeType&&n,p=l&&l.exports===u&&s.process,g=function(){try{var c=l&&l.require&&l.require("util").types;return c||p&&p.binding&&p.binding("util")}catch{}}();n.exports=g},2333:n=>{var i=Object.prototype.toString;n.exports=function(o){return i.call(o)}},5569:n=>{n.exports=function(i,o){return function(s){return i(o(s))}}},5357:(n,i,o)=>{var s=o(6874),u=Math.max;n.exports=function(l,p,g){return p=u(p===void 0?l.length-1:p,0),function(){for(var c=arguments,_=-1,C=u(c.length-p,0),M=Array(C);++_<C;)M[_]=c[p+_];_=-1;for(var S=Array(p+1);++_<p;)S[_]=c[_];return S[p]=g(M),s(l,this,S)}}},5639:(n,i,o)=>{var s=o(1957),u=typeof self=="object"&&self&&self.Object===Object&&self,l=s||u||Function("return this")();n.exports=l},6390:n=>{n.exports=function(i,o){if((o!=="constructor"||typeof i[o]!="function")&&o!="__proto__")return i[o]}},61:(n,i,o)=>{var s=o(6560),u=o(1275)(s);n.exports=u},1275:n=>{var i=Date.now;n.exports=function(o){var s=0,u=0;return function(){var l=i(),p=16-(l-u);if(u=l,p>0){if(++s>=800)return arguments[0]}else s=0;return o.apply(void 0,arguments)}}},7465:(n,i,o)=>{var s=o(8407);n.exports=function(){this.__data__=new s,this.size=0}},3779:n=>{n.exports=function(i){var o=this.__data__,s=o.delete(i);return this.size=o.size,s}},7599:n=>{n.exports=function(i){return this.__data__.get(i)}},4758:n=>{n.exports=function(i){return this.__data__.has(i)}},4309:(n,i,o)=>{var s=o(8407),u=o(7071),l=o(3369);n.exports=function(p,g){var c=this.__data__;if(c instanceof s){var _=c.__data__;if(!u||_.length<199)return _.push([p,g]),this.size=++c.size,this;c=this.__data__=new l(_)}return c.set(p,g),this.size=c.size,this}},5514:(n,i,o)=>{var s=o(4523),u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,p=s(function(g){var c=[];return g.charCodeAt(0)===46&&c.push(""),g.replace(u,function(_,C,M,S){c.push(M?S.replace(l,"$1"):C||_)}),c});n.exports=p},327:(n,i,o)=>{var s=o(3448);n.exports=function(u){if(typeof u=="string"||s(u))return u;var l=u+"";return l=="0"&&1/u==-1/0?"-0":l}},346:n=>{var i=Function.prototype.toString;n.exports=function(o){if(o!=null){try{return i.call(o)}catch{}try{return o+""}catch{}}return""}},5703:n=>{n.exports=function(i){return function(){return i}}},7813:n=>{n.exports=function(i,o){return i===o||i!=i&&o!=o}},7361:(n,i,o)=>{var s=o(7786);n.exports=function(u,l,p){var g=u==null?void 0:s(u,l);return g===void 0?p:g}},8721:(n,i,o)=>{var s=o(8565),u=o(222);n.exports=function(l,p){return l!=null&&u(l,p,s)}},6557:n=>{n.exports=function(i){return i}},5694:(n,i,o)=>{var s=o(9454),u=o(7005),l=Object.prototype,p=l.hasOwnProperty,g=l.propertyIsEnumerable,c=s(function(){return arguments}())?s:function(_){return u(_)&&p.call(_,"callee")&&!g.call(_,"callee")};n.exports=c},1469:n=>{var i=Array.isArray;n.exports=i},8612:(n,i,o)=>{var s=o(3560),u=o(1780);n.exports=function(l){return l!=null&&u(l.length)&&!s(l)}},9246:(n,i,o)=>{var s=o(8612),u=o(7005);n.exports=function(l){return u(l)&&s(l)}},4144:(n,i,o)=>{n=o.nmd(n);var s=o(5639),u=o(5062),l=i&&!i.nodeType&&i,p=l&&n&&!n.nodeType&&n,g=p&&p.exports===l?s.Buffer:void 0,c=(g?g.isBuffer:void 0)||u;n.exports=c},3560:(n,i,o)=>{var s=o(4239),u=o(3218);n.exports=function(l){if(!u(l))return!1;var p=s(l);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}},1780:n=>{n.exports=function(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=9007199254740991}},3218:n=>{n.exports=function(i){var o=typeof i;return i!=null&&(o=="object"||o=="function")}},7005:n=>{n.exports=function(i){return i!=null&&typeof i=="object"}},8630:(n,i,o)=>{var s=o(4239),u=o(5924),l=o(7005),p=Function.prototype,g=Object.prototype,c=p.toString,_=g.hasOwnProperty,C=c.call(Object);n.exports=function(M){if(!l(M)||s(M)!="[object Object]")return!1;var S=u(M);if(S===null)return!0;var P=_.call(S,"constructor")&&S.constructor;return typeof P=="function"&&P instanceof P&&c.call(P)==C}},3448:(n,i,o)=>{var s=o(4239),u=o(7005);n.exports=function(l){return typeof l=="symbol"||u(l)&&s(l)=="[object Symbol]"}},6719:(n,i,o)=>{var s=o(8749),u=o(1717),l=o(1167),p=l&&l.isTypedArray,g=p?u(p):s;n.exports=g},1704:(n,i,o)=>{var s=o(4636),u=o(313),l=o(8612);n.exports=function(p){return l(p)?s(p,!0):u(p)}},8306:(n,i,o)=>{var s=o(3369);function u(l,p){if(typeof l!="function"||p!=null&&typeof p!="function")throw new TypeError("Expected a function");var g=function(){var c=arguments,_=p?p.apply(this,c):c[0],C=g.cache;if(C.has(_))return C.get(_);var M=l.apply(this,c);return g.cache=C.set(_,M)||C,M};return g.cache=new(u.Cache||s),g}u.Cache=s,n.exports=u},2492:(n,i,o)=>{var s=o(2980),u=o(1463)(function(l,p,g){s(l,p,g)});n.exports=u},5062:n=>{n.exports=function(){return!1}},9881:(n,i,o)=>{var s=o(8363),u=o(1704);n.exports=function(l){return s(l,u(l))}},9833:(n,i,o)=>{var s=o(531);n.exports=function(u){return u==null?"":s(u)}},2676:function(n){n.exports=function(){function i(j,I){if(!(j instanceof I))throw new TypeError("Cannot call a class as a function")}function o(j,I){for(var T=0;T<I.length;T++){var z=I[T];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(j,z.key,z)}}function s(j,I,T){return I&&o(j.prototype,I),T&&o(j,T),j}var u=function(){function j(I,T){this.next=null,this.key=I,this.data=T,this.left=null,this.right=null}return j}();function l(j,I){return j>I?1:j<I?-1:0}function p(j,I,T){for(var z=new u(null,null),q=z,W=z;;){var ct=T(j,I.key);if(ct<0){if(I.left===null)break;if(T(j,I.left.key)<0){var ft=I.left;if(I.left=ft.right,ft.right=I,(I=ft).left===null)break}W.left=I,W=I,I=I.left}else{if(!(ct>0)||I.right===null||T(j,I.right.key)>0&&(ft=I.right,I.right=ft.left,ft.left=I,(I=ft).right===null))break;q.right=I,q=I,I=I.right}}return q.right=I.left,W.left=I.right,I.left=z.right,I.right=z.left,I}function g(j,I,T,z){var q=new u(j,I);if(T===null)return q.left=q.right=null,q;var W=z(j,(T=p(j,T,z)).key);return W<0?(q.left=T.left,q.right=T,T.left=null):W>=0&&(q.right=T.right,q.left=T,T.right=null),q}function c(j,I,T){var z=null,q=null;if(I){var W=T((I=p(j,I,T)).key,j);W===0?(z=I.left,q=I.right):W<0?(q=I.right,I.right=null,z=I):(z=I.left,I.left=null,q=I)}return{left:z,right:q}}function _(j,I,T){return I===null?j:(j===null||((I=p(j.key,I,T)).left=j),I)}function C(j,I,T,z,q){if(j){z(I+(T?" ":" ")+q(j)+`
`);var W=I+(T?"    ":"   ");j.left&&C(j.left,W,!1,z,q),j.right&&C(j.right,W,!0,z,q)}}var M=function(){function j(I){I===void 0&&(I=l),this._root=null,this._size=0,this._comparator=I}return j.prototype.insert=function(I,T){return this._size++,this._root=g(I,T,this._root,this._comparator)},j.prototype.add=function(I,T){var z=new u(I,T);this._root===null&&(z.left=z.right=null,this._size++,this._root=z);var q=this._comparator,W=p(I,this._root,q),ct=q(I,W.key);return ct===0?this._root=W:(ct<0?(z.left=W.left,z.right=W,W.left=null):ct>0&&(z.right=W.right,z.left=W,W.right=null),this._size++,this._root=z),this._root},j.prototype.remove=function(I){this._root=this._remove(I,this._root,this._comparator)},j.prototype._remove=function(I,T,z){var q;return T===null?null:z(I,(T=p(I,T,z)).key)===0?(T.left===null?q=T.right:(q=p(I,T.left,z)).right=T.right,this._size--,q):T},j.prototype.pop=function(){var I=this._root;if(I){for(;I.left;)I=I.left;return this._root=p(I.key,this._root,this._comparator),this._root=this._remove(I.key,this._root,this._comparator),{key:I.key,data:I.data}}return null},j.prototype.findStatic=function(I){for(var T=this._root,z=this._comparator;T;){var q=z(I,T.key);if(q===0)return T;T=q<0?T.left:T.right}return null},j.prototype.find=function(I){return this._root&&(this._root=p(I,this._root,this._comparator),this._comparator(I,this._root.key)!==0)?null:this._root},j.prototype.contains=function(I){for(var T=this._root,z=this._comparator;T;){var q=z(I,T.key);if(q===0)return!0;T=q<0?T.left:T.right}return!1},j.prototype.forEach=function(I,T){for(var z=this._root,q=[],W=!1;!W;)z!==null?(q.push(z),z=z.left):q.length!==0?(z=q.pop(),I.call(T,z),z=z.right):W=!0;return this},j.prototype.range=function(I,T,z,q){for(var W=[],ct=this._comparator,ft=this._root;W.length!==0||ft;)if(ft)W.push(ft),ft=ft.left;else{if(ct((ft=W.pop()).key,T)>0)break;if(ct(ft.key,I)>=0&&z.call(q,ft))return this;ft=ft.right}return this},j.prototype.keys=function(){var I=[];return this.forEach(function(T){var z=T.key;return I.push(z)}),I},j.prototype.values=function(){var I=[];return this.forEach(function(T){var z=T.data;return I.push(z)}),I},j.prototype.min=function(){return this._root?this.minNode(this._root).key:null},j.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},j.prototype.minNode=function(I){if(I===void 0&&(I=this._root),I)for(;I.left;)I=I.left;return I},j.prototype.maxNode=function(I){if(I===void 0&&(I=this._root),I)for(;I.right;)I=I.right;return I},j.prototype.at=function(I){for(var T=this._root,z=!1,q=0,W=[];!z;)if(T)W.push(T),T=T.left;else if(W.length>0){if(T=W.pop(),q===I)return T;q++,T=T.right}else z=!0;return null},j.prototype.next=function(I){var T=this._root,z=null;if(I.right){for(z=I.right;z.left;)z=z.left;return z}for(var q=this._comparator;T;){var W=q(I.key,T.key);if(W===0)break;W<0?(z=T,T=T.left):T=T.right}return z},j.prototype.prev=function(I){var T=this._root,z=null;if(I.left!==null){for(z=I.left;z.right;)z=z.right;return z}for(var q=this._comparator;T;){var W=q(I.key,T.key);if(W===0)break;W<0?T=T.left:(z=T,T=T.right)}return z},j.prototype.clear=function(){return this._root=null,this._size=0,this},j.prototype.toList=function(){return k(this._root)},j.prototype.load=function(I,T,z){T===void 0&&(T=[]),z===void 0&&(z=!1);var q=I.length,W=this._comparator;if(z&&x(I,T,0,q-1,W),this._root===null)this._root=S(I,T,0,q),this._size=q;else{var ct=O(this.toList(),P(I,T),W);q=this._size+q,this._root=D({head:ct},0,q)}return this},j.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(j.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(j.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),j.prototype.toString=function(I){I===void 0&&(I=function(z){return String(z.key)});var T=[];return C(this._root,"",!0,function(z){return T.push(z)},I),T.join("")},j.prototype.update=function(I,T,z){var q=this._comparator,W=c(I,this._root,q),ct=W.left,ft=W.right;q(I,T)<0?ft=g(T,z,ft,q):ct=g(T,z,ct,q),this._root=_(ct,ft,q)},j.prototype.split=function(I){return c(I,this._root,this._comparator)},j}();function S(j,I,T,z){var q=z-T;if(q>0){var W=T+Math.floor(q/2),ct=j[W],ft=I[W],St=new u(ct,ft);return St.left=S(j,I,T,W),St.right=S(j,I,W+1,z),St}return null}function P(j,I){for(var T=new u(null,null),z=T,q=0;q<j.length;q++)z=z.next=new u(j[q],I[q]);return z.next=null,T.next}function k(j){for(var I=j,T=[],z=!1,q=new u(null,null),W=q;!z;)I?(T.push(I),I=I.left):T.length>0?I=(I=W=W.next=T.pop()).right:z=!0;return W.next=null,q.next}function D(j,I,T){var z=T-I;if(z>0){var q=I+Math.floor(z/2),W=D(j,I,q),ct=j.head;return ct.left=W,j.head=j.head.next,ct.right=D(j,q+1,T),ct}return null}function O(j,I,T){for(var z=new u(null,null),q=z,W=j,ct=I;W!==null&&ct!==null;)T(W.key,ct.key)<0?(q.next=W,W=W.next):(q.next=ct,ct=ct.next),q=q.next;return W!==null?q.next=W:ct!==null&&(q.next=ct),z.next}function x(j,I,T,z,q){if(!(T>=z)){for(var W=j[T+z>>1],ct=T-1,ft=z+1;;){do ct++;while(q(j[ct],W)<0);do ft--;while(q(j[ft],W)>0);if(ct>=ft)break;var St=j[ct];j[ct]=j[ft],j[ft]=St,St=I[ct],I[ct]=I[ft],I[ft]=St}x(j,I,T,ft,q),x(j,I,ft+1,z,q)}}var R=function(j,I){return j.ll.x<=I.x&&I.x<=j.ur.x&&j.ll.y<=I.y&&I.y<=j.ur.y},F=function(j,I){if(I.ur.x<j.ll.x||j.ur.x<I.ll.x||I.ur.y<j.ll.y||j.ur.y<I.ll.y)return null;var T=j.ll.x<I.ll.x?I.ll.x:j.ll.x,z=j.ur.x<I.ur.x?j.ur.x:I.ur.x;return{ll:{x:T,y:j.ll.y<I.ll.y?I.ll.y:j.ll.y},ur:{x:z,y:j.ur.y<I.ur.y?j.ur.y:I.ur.y}}},B=Number.EPSILON;B===void 0&&(B=Math.pow(2,-52));var Z=B*B,Q=function(j,I){if(-B<j&&j<B&&-B<I&&I<B)return 0;var T=j-I;return T*T<Z*j*I?0:j<I?-1:1},nt=function(){function j(){i(this,j),this.reset()}return s(j,[{key:"reset",value:function(){this.xRounder=new rt,this.yRounder=new rt}},{key:"round",value:function(I,T){return{x:this.xRounder.round(I),y:this.yRounder.round(T)}}}]),j}(),rt=function(){function j(){i(this,j),this.tree=new M,this.round(0)}return s(j,[{key:"round",value:function(I){var T=this.tree.add(I),z=this.tree.prev(T);if(z!==null&&Q(T.key,z.key)===0)return this.tree.remove(I),z.key;var q=this.tree.next(T);return q!==null&&Q(T.key,q.key)===0?(this.tree.remove(I),q.key):I}}]),j}(),st=new nt,_t=function(j,I){return j.x*I.y-j.y*I.x},ut=function(j,I){return j.x*I.x+j.y*I.y},gt=function(j,I,T){var z={x:I.x-j.x,y:I.y-j.y},q={x:T.x-j.x,y:T.y-j.y},W=_t(z,q);return Q(W,0)},kt=function(j){return Math.sqrt(ut(j,j))},Vt=function(j,I,T){var z={x:I.x-j.x,y:I.y-j.y},q={x:T.x-j.x,y:T.y-j.y};return _t(q,z)/kt(q)/kt(z)},at=function(j,I,T){var z={x:I.x-j.x,y:I.y-j.y},q={x:T.x-j.x,y:T.y-j.y};return ut(q,z)/kt(q)/kt(z)},Ut=function(j,I,T){return I.y===0?null:{x:j.x+I.x/I.y*(T-j.y),y:T}},Rt=function(j,I,T){return I.x===0?null:{x:T,y:j.y+I.y/I.x*(T-j.x)}},Tt=function(j,I,T,z){if(I.x===0)return Rt(T,z,j.x);if(z.x===0)return Rt(j,I,T.x);if(I.y===0)return Ut(T,z,j.y);if(z.y===0)return Ut(j,I,T.y);var q=_t(I,z);if(q==0)return null;var W={x:T.x-j.x,y:T.y-j.y},ct=_t(W,I)/q,ft=_t(W,z)/q;return{x:(j.x+ft*I.x+(T.x+ct*z.x))/2,y:(j.y+ft*I.y+(T.y+ct*z.y))/2}},jt=function(){function j(I,T){i(this,j),I.events===void 0?I.events=[this]:I.events.push(this),this.point=I,this.isLeft=T}return s(j,null,[{key:"compare",value:function(I,T){var z=j.comparePoints(I.point,T.point);return z!==0?z:(I.point!==T.point&&I.link(T),I.isLeft!==T.isLeft?I.isLeft?1:-1:Fe.compare(I.segment,T.segment))}},{key:"comparePoints",value:function(I,T){return I.x<T.x?-1:I.x>T.x?1:I.y<T.y?-1:I.y>T.y?1:0}}]),s(j,[{key:"link",value:function(I){if(I.point===this.point)throw new Error("Tried to link already linked events");for(var T=I.point.events,z=0,q=T.length;z<q;z++){var W=T[z];this.point.events.push(W),W.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var I=this.point.events.length,T=0;T<I;T++){var z=this.point.events[T];if(z.segment.consumedBy===void 0)for(var q=T+1;q<I;q++){var W=this.point.events[q];W.consumedBy===void 0&&z.otherSE.point.events===W.otherSE.point.events&&z.segment.consume(W.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var I=[],T=0,z=this.point.events.length;T<z;T++){var q=this.point.events[T];q!==this&&!q.segment.ringOut&&q.segment.isInResult()&&I.push(q)}return I}},{key:"getLeftmostComparator",value:function(I){var T=this,z=new Map,q=function(W){var ct=W.otherSE;z.set(W,{sine:Vt(T.point,I.point,ct.point),cosine:at(T.point,I.point,ct.point)})};return function(W,ct){z.has(W)||q(W),z.has(ct)||q(ct);var ft=z.get(W),St=ft.sine,K=ft.cosine,ue=z.get(ct),Pe=ue.sine,be=ue.cosine;return St>=0&&Pe>=0?K<be?1:K>be?-1:0:St<0&&Pe<0?K<be?-1:K>be?1:0:Pe<St?-1:Pe>St?1:0}}}]),j}(),Be=0,Fe=function(){function j(I,T,z,q){i(this,j),this.id=++Be,this.leftSE=I,I.segment=this,I.otherSE=T,this.rightSE=T,T.segment=this,T.otherSE=I,this.rings=z,this.windings=q}return s(j,null,[{key:"compare",value:function(I,T){var z=I.leftSE.point.x,q=T.leftSE.point.x,W=I.rightSE.point.x,ct=T.rightSE.point.x;if(ct<z)return 1;if(W<q)return-1;var ft=I.leftSE.point.y,St=T.leftSE.point.y,K=I.rightSE.point.y,ue=T.rightSE.point.y;if(z<q){if(St<ft&&St<K)return 1;if(St>ft&&St>K)return-1;var Pe=I.comparePoint(T.leftSE.point);if(Pe<0)return 1;if(Pe>0)return-1;var be=T.comparePoint(I.rightSE.point);return be!==0?be:-1}if(z>q){if(ft<St&&ft<ue)return-1;if(ft>St&&ft>ue)return 1;var Je=T.comparePoint(I.leftSE.point);if(Je!==0)return Je;var he=I.comparePoint(T.rightSE.point);return he<0?1:he>0?-1:1}if(ft<St)return-1;if(ft>St)return 1;if(W<ct){var Xe=T.comparePoint(I.rightSE.point);if(Xe!==0)return Xe}if(W>ct){var gn=I.comparePoint(T.rightSE.point);if(gn<0)return 1;if(gn>0)return-1}if(W!==ct){var Vn=K-ft,Pn=W-z,or=ue-St,sr=ct-q;if(Vn>Pn&&or<sr)return 1;if(Vn<Pn&&or>sr)return-1}return W>ct?1:W<ct||K<ue?-1:K>ue?1:I.id<T.id?-1:I.id>T.id?1:0}}]),s(j,[{key:"replaceRightSE",value:function(I){this.rightSE=I,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var I=this.leftSE.point.y,T=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:I<T?I:T},ur:{x:this.rightSE.point.x,y:I>T?I:T}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(I){return I.x===this.leftSE.point.x&&I.y===this.leftSE.point.y||I.x===this.rightSE.point.x&&I.y===this.rightSE.point.y}},{key:"comparePoint",value:function(I){if(this.isAnEndpoint(I))return 0;var T=this.leftSE.point,z=this.rightSE.point,q=this.vector();if(T.x===z.x)return I.x===T.x?0:I.x<T.x?1:-1;var W=(I.y-T.y)/q.y,ct=T.x+W*q.x;if(I.x===ct)return 0;var ft=(I.x-T.x)/q.x,St=T.y+ft*q.y;return I.y===St?0:I.y<St?-1:1}},{key:"getIntersection",value:function(I){var T=this.bbox(),z=I.bbox(),q=F(T,z);if(q===null)return null;var W=this.leftSE.point,ct=this.rightSE.point,ft=I.leftSE.point,St=I.rightSE.point,K=R(T,ft)&&this.comparePoint(ft)===0,ue=R(z,W)&&I.comparePoint(W)===0,Pe=R(T,St)&&this.comparePoint(St)===0,be=R(z,ct)&&I.comparePoint(ct)===0;if(ue&&K)return be&&!Pe?ct:!be&&Pe?St:null;if(ue)return Pe&&W.x===St.x&&W.y===St.y?null:W;if(K)return be&&ct.x===ft.x&&ct.y===ft.y?null:ft;if(be&&Pe)return null;if(be)return ct;if(Pe)return St;var Je=Tt(W,this.vector(),ft,I.vector());return Je===null?null:R(q,Je)?st.round(Je.x,Je.y):null}},{key:"split",value:function(I){var T=[],z=I.events!==void 0,q=new jt(I,!0),W=new jt(I,!1),ct=this.rightSE;this.replaceRightSE(W),T.push(W),T.push(q);var ft=new j(q,ct,this.rings.slice(),this.windings.slice());return jt.comparePoints(ft.leftSE.point,ft.rightSE.point)>0&&ft.swapEvents(),jt.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),z&&(q.checkForConsuming(),W.checkForConsuming()),T}},{key:"swapEvents",value:function(){var I=this.rightSE;this.rightSE=this.leftSE,this.leftSE=I,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var T=0,z=this.windings.length;T<z;T++)this.windings[T]*=-1}},{key:"consume",value:function(I){for(var T=this,z=I;T.consumedBy;)T=T.consumedBy;for(;z.consumedBy;)z=z.consumedBy;var q=j.compare(T,z);if(q!==0){if(q>0){var W=T;T=z,z=W}if(T.prev===z){var ct=T;T=z,z=ct}for(var ft=0,St=z.rings.length;ft<St;ft++){var K=z.rings[ft],ue=z.windings[ft],Pe=T.rings.indexOf(K);Pe===-1?(T.rings.push(K),T.windings.push(ue)):T.windings[Pe]+=ue}z.rings=null,z.windings=null,z.consumedBy=T,z.leftSE.consumedBy=T.leftSE,z.rightSE.consumedBy=T.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var I=this.prev.consumedBy||this.prev;this._beforeState=I.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var I=this.beforeState();this._afterState={rings:I.rings.slice(0),windings:I.windings.slice(0),multiPolys:[]};for(var T=this._afterState.rings,z=this._afterState.windings,q=this._afterState.multiPolys,W=0,ct=this.rings.length;W<ct;W++){var ft=this.rings[W],St=this.windings[W],K=T.indexOf(ft);K===-1?(T.push(ft),z.push(St)):z[K]+=St}for(var ue=[],Pe=[],be=0,Je=T.length;be<Je;be++)if(z[be]!==0){var he=T[be],Xe=he.poly;if(Pe.indexOf(Xe)===-1)if(he.isExterior)ue.push(Xe);else{Pe.indexOf(Xe)===-1&&Pe.push(Xe);var gn=ue.indexOf(he.poly);gn!==-1&&ue.splice(gn,1)}}for(var Vn=0,Pn=ue.length;Vn<Pn;Vn++){var or=ue[Vn].multiPoly;q.indexOf(or)===-1&&q.push(or)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var I=this.beforeState().multiPolys,T=this.afterState().multiPolys;switch(Xn.type){case"union":var z=I.length===0,q=T.length===0;this._isInResult=z!==q;break;case"intersection":var W,ct;I.length<T.length?(W=I.length,ct=T.length):(W=T.length,ct=I.length),this._isInResult=ct===Xn.numMultiPolys&&W<ct;break;case"xor":var ft=Math.abs(I.length-T.length);this._isInResult=ft%2==1;break;case"difference":var St=function(K){return K.length===1&&K[0].isSubject};this._isInResult=St(I)!==St(T);break;default:throw new Error("Unrecognized operation type found ".concat(Xn.type))}return this._isInResult}}],[{key:"fromRing",value:function(I,T,z){var q,W,ct,ft=jt.comparePoints(I,T);if(ft<0)q=I,W=T,ct=1;else{if(!(ft>0))throw new Error("Tried to create degenerate segment at [".concat(I.x,", ").concat(I.y,"]"));q=T,W=I,ct=-1}return new j(new jt(q,!0),new jt(W,!1),[z],[ct])}}]),j}(),le=function(){function j(I,T,z){if(i(this,j),!Array.isArray(I)||I.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=T,this.isExterior=z,this.segments=[],typeof I[0][0]!="number"||typeof I[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var q=st.round(I[0][0],I[0][1]);this.bbox={ll:{x:q.x,y:q.y},ur:{x:q.x,y:q.y}};for(var W=q,ct=1,ft=I.length;ct<ft;ct++){if(typeof I[ct][0]!="number"||typeof I[ct][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var St=st.round(I[ct][0],I[ct][1]);St.x===W.x&&St.y===W.y||(this.segments.push(Fe.fromRing(W,St,this)),St.x<this.bbox.ll.x&&(this.bbox.ll.x=St.x),St.y<this.bbox.ll.y&&(this.bbox.ll.y=St.y),St.x>this.bbox.ur.x&&(this.bbox.ur.x=St.x),St.y>this.bbox.ur.y&&(this.bbox.ur.y=St.y),W=St)}q.x===W.x&&q.y===W.y||this.segments.push(Fe.fromRing(W,q,this))}return s(j,[{key:"getSweepEvents",value:function(){for(var I=[],T=0,z=this.segments.length;T<z;T++){var q=this.segments[T];I.push(q.leftSE),I.push(q.rightSE)}return I}}]),j}(),Le=function(){function j(I,T){if(i(this,j),!Array.isArray(I))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new le(I[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var z=1,q=I.length;z<q;z++){var W=new le(I[z],this,!1);W.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=W.bbox.ll.x),W.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=W.bbox.ll.y),W.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=W.bbox.ur.x),W.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=W.bbox.ur.y),this.interiorRings.push(W)}this.multiPoly=T}return s(j,[{key:"getSweepEvents",value:function(){for(var I=this.exteriorRing.getSweepEvents(),T=0,z=this.interiorRings.length;T<z;T++)for(var q=this.interiorRings[T].getSweepEvents(),W=0,ct=q.length;W<ct;W++)I.push(q[W]);return I}}]),j}(),pr=function(){function j(I,T){if(i(this,j),!Array.isArray(I))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof I[0][0][0]=="number"&&(I=[I])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var z=0,q=I.length;z<q;z++){var W=new Le(I[z],this);W.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=W.bbox.ll.x),W.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=W.bbox.ll.y),W.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=W.bbox.ur.x),W.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=W.bbox.ur.y),this.polys.push(W)}this.isSubject=T}return s(j,[{key:"getSweepEvents",value:function(){for(var I=[],T=0,z=this.polys.length;T<z;T++)for(var q=this.polys[T].getSweepEvents(),W=0,ct=q.length;W<ct;W++)I.push(q[W]);return I}}]),j}(),Mn=function(){function j(I){i(this,j),this.events=I;for(var T=0,z=I.length;T<z;T++)I[T].segment.ringOut=this;this.poly=null}return s(j,null,[{key:"factory",value:function(I){for(var T=[],z=0,q=I.length;z<q;z++){var W=I[z];if(W.isInResult()&&!W.ringOut){for(var ct=null,ft=W.leftSE,St=W.rightSE,K=[ft],ue=ft.point,Pe=[];ct=ft,ft=St,K.push(ft),ft.point!==ue;)for(;;){var be=ft.getAvailableLinkedEvents();if(be.length===0){var Je=K[0].point,he=K[K.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(Je.x,",")+" ".concat(Je.y,"]. Last matching segment found ends at")+" [".concat(he.x,", ").concat(he.y,"]."))}if(be.length===1){St=be[0].otherSE;break}for(var Xe=null,gn=0,Vn=Pe.length;gn<Vn;gn++)if(Pe[gn].point===ft.point){Xe=gn;break}if(Xe===null){Pe.push({index:K.length,point:ft.point});var Pn=ft.getLeftmostComparator(ct);St=be.sort(Pn)[0].otherSE;break}var or=Pe.splice(Xe)[0],sr=K.splice(or.index);sr.unshift(sr[0].otherSE),T.push(new j(sr.reverse()))}T.push(new j(K))}}return T}}]),s(j,[{key:"getGeom",value:function(){for(var I=this.events[0].point,T=[I],z=1,q=this.events.length-1;z<q;z++){var W=this.events[z].point,ct=this.events[z+1].point;gt(W,I,ct)!==0&&(T.push(W),I=W)}if(T.length===1)return null;var ft=T[0],St=T[1];gt(ft,I,St)===0&&T.shift(),T.push(T[0]);for(var K=this.isExteriorRing()?1:-1,ue=this.isExteriorRing()?0:T.length-1,Pe=this.isExteriorRing()?T.length:-1,be=[],Je=ue;Je!=Pe;Je+=K)be.push([T[Je].x,T[Je].y]);return be}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var I=this.enclosingRing();this._isExteriorRing=!I||!I.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var I=this.events[0],T=1,z=this.events.length;T<z;T++){var q=this.events[T];jt.compare(I,q)>0&&(I=q)}for(var W=I.segment.prevInResult(),ct=W?W.prevInResult():null;;){if(!W)return null;if(!ct)return W.ringOut;if(ct.ringOut!==W.ringOut)return ct.ringOut.enclosingRing()!==W.ringOut?W.ringOut:W.ringOut.enclosingRing();W=ct.prevInResult(),ct=W?W.prevInResult():null}}}]),j}(),Hi=function(){function j(I){i(this,j),this.exteriorRing=I,I.poly=this,this.interiorRings=[]}return s(j,[{key:"addInterior",value:function(I){this.interiorRings.push(I),I.poly=this}},{key:"getGeom",value:function(){var I=[this.exteriorRing.getGeom()];if(I[0]===null)return null;for(var T=0,z=this.interiorRings.length;T<z;T++){var q=this.interiorRings[T].getGeom();q!==null&&I.push(q)}return I}}]),j}(),kr=function(){function j(I){i(this,j),this.rings=I,this.polys=this._composePolys(I)}return s(j,[{key:"getGeom",value:function(){for(var I=[],T=0,z=this.polys.length;T<z;T++){var q=this.polys[T].getGeom();q!==null&&I.push(q)}return I}},{key:"_composePolys",value:function(I){for(var T=[],z=0,q=I.length;z<q;z++){var W=I[z];if(!W.poly)if(W.isExteriorRing())T.push(new Hi(W));else{var ct=W.enclosingRing();ct.poly||T.push(new Hi(ct)),ct.poly.addInterior(W)}}return T}}]),j}(),_o=function(){function j(I){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fe.compare;i(this,j),this.queue=I,this.tree=new M(T),this.segments=[]}return s(j,[{key:"process",value:function(I){var T=I.segment,z=[];if(I.consumedBy)return I.isLeft?this.queue.remove(I.otherSE):this.tree.remove(T),z;var q=I.isLeft?this.tree.insert(T):this.tree.find(T);if(!q)throw new Error("Unable to find segment #".concat(T.id," ")+"[".concat(T.leftSE.point.x,", ").concat(T.leftSE.point.y,"] -> ")+"[".concat(T.rightSE.point.x,", ").concat(T.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var W=q,ct=q,ft=void 0,St=void 0;ft===void 0;)(W=this.tree.prev(W))===null?ft=null:W.key.consumedBy===void 0&&(ft=W.key);for(;St===void 0;)(ct=this.tree.next(ct))===null?St=null:ct.key.consumedBy===void 0&&(St=ct.key);if(I.isLeft){var K=null;if(ft){var ue=ft.getIntersection(T);if(ue!==null&&(T.isAnEndpoint(ue)||(K=ue),!ft.isAnEndpoint(ue)))for(var Pe=this._splitSafely(ft,ue),be=0,Je=Pe.length;be<Je;be++)z.push(Pe[be])}var he=null;if(St){var Xe=St.getIntersection(T);if(Xe!==null&&(T.isAnEndpoint(Xe)||(he=Xe),!St.isAnEndpoint(Xe)))for(var gn=this._splitSafely(St,Xe),Vn=0,Pn=gn.length;Vn<Pn;Vn++)z.push(gn[Vn])}if(K!==null||he!==null){var or=null;or=K===null?he:he===null||jt.comparePoints(K,he)<=0?K:he,this.queue.remove(T.rightSE),z.push(T.rightSE);for(var sr=T.split(or),ti=0,Gr=sr.length;ti<Gr;ti++)z.push(sr[ti])}z.length>0?(this.tree.remove(T),z.push(I)):(this.segments.push(T),T.prev=ft)}else{if(ft&&St){var dr=ft.getIntersection(St);if(dr!==null){if(!ft.isAnEndpoint(dr))for(var Vr=this._splitSafely(ft,dr),Pi=0,vo=Vr.length;Pi<vo;Pi++)z.push(Vr[Pi]);if(!St.isAnEndpoint(dr))for(var ar=this._splitSafely(St,dr),Un=0,qi=ar.length;Un<qi;Un++)z.push(ar[Un])}}this.tree.remove(T)}return z}},{key:"_splitSafely",value:function(I,T){this.tree.remove(I);var z=I.rightSE;this.queue.remove(z);var q=I.split(T);return q.push(z),I.consumedBy===void 0&&this.tree.insert(I),q}}]),j}(),$r=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Zi=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Xn=new(function(){function j(){i(this,j)}return s(j,[{key:"run",value:function(I,T,z){Xn.type=I,st.reset();for(var q=[new pr(T,!0)],W=0,ct=z.length;W<ct;W++)q.push(new pr(z[W],!1));if(Xn.numMultiPolys=q.length,Xn.type==="difference")for(var ft=q[0],St=1;St<q.length;)F(q[St].bbox,ft.bbox)!==null?St++:q.splice(St,1);if(Xn.type==="intersection"){for(var K=0,ue=q.length;K<ue;K++)for(var Pe=q[K],be=K+1,Je=q.length;be<Je;be++)if(F(Pe.bbox,q[be].bbox)===null)return[]}for(var he=new M(jt.compare),Xe=0,gn=q.length;Xe<gn;Xe++)for(var Vn=q[Xe].getSweepEvents(),Pn=0,or=Vn.length;Pn<or;Pn++)if(he.insert(Vn[Pn]),he.size>$r)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var sr=new _o(he),ti=he.size,Gr=he.pop();Gr;){var dr=Gr.key;if(he.size===ti){var Vr=dr.segment;throw new Error("Unable to pop() ".concat(dr.isLeft?"left":"right"," SweepEvent ")+"[".concat(dr.point.x,", ").concat(dr.point.y,"] from segment #").concat(Vr.id," ")+"[".concat(Vr.leftSE.point.x,", ").concat(Vr.leftSE.point.y,"] -> ")+"[".concat(Vr.rightSE.point.x,", ").concat(Vr.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(he.size>$r)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(sr.segments.length>Zi)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var Pi=sr.process(dr),vo=0,ar=Pi.length;vo<ar;vo++){var Un=Pi[vo];Un.consumedBy===void 0&&he.insert(Un)}ti=he.size,Gr=he.pop()}st.reset();var qi=Mn.factory(sr.segments);return new kr(qi).getGeom()}}]),j}()),Go=function(j){for(var I=arguments.length,T=new Array(I>1?I-1:0),z=1;z<I;z++)T[z-1]=arguments[z];return Xn.run("union",j,T)},ji=function(j){for(var I=arguments.length,T=new Array(I>1?I-1:0),z=1;z<I;z++)T[z-1]=arguments[z];return Xn.run("intersection",j,T)},mo=function(j){for(var I=arguments.length,T=new Array(I>1?I-1:0),z=1;z<I;z++)T[z-1]=arguments[z];return Xn.run("xor",j,T)},Mi=function(j){for(var I=arguments.length,T=new Array(I>1?I-1:0),z=1;z<I;z++)T[z-1]=arguments[z];return Xn.run("difference",j,T)};return{union:Go,intersection:ji,xor:mo,difference:Mi}}()},2582:function(n){n.exports=function(){function i(x,R,F,B,Z){(function Q(nt,rt,st,_t,ut){for(;_t>st;){if(_t-st>600){var gt=_t-st+1,kt=rt-st+1,Vt=Math.log(gt),at=.5*Math.exp(2*Vt/3),Ut=.5*Math.sqrt(Vt*at*(gt-at)/gt)*(kt-gt/2<0?-1:1);Q(nt,rt,Math.max(st,Math.floor(rt-kt*at/gt+Ut)),Math.min(_t,Math.floor(rt+(gt-kt)*at/gt+Ut)),ut)}var Rt=nt[rt],Tt=st,jt=_t;for(o(nt,st,rt),ut(nt[_t],Rt)>0&&o(nt,st,_t);Tt<jt;){for(o(nt,Tt,jt),Tt++,jt--;ut(nt[Tt],Rt)<0;)Tt++;for(;ut(nt[jt],Rt)>0;)jt--}ut(nt[st],Rt)===0?o(nt,st,jt):o(nt,++jt,_t),jt<=rt&&(st=jt+1),rt<=jt&&(_t=jt-1)}})(x,R,F||0,B||x.length-1,Z||s)}function o(x,R,F){var B=x[R];x[R]=x[F],x[F]=B}function s(x,R){return x<R?-1:x>R?1:0}var u=function(x){x===void 0&&(x=9),this._maxEntries=Math.max(4,x),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function l(x,R,F){if(!F)return R.indexOf(x);for(var B=0;B<R.length;B++)if(F(x,R[B]))return B;return-1}function p(x,R){g(x,0,x.children.length,R,x)}function g(x,R,F,B,Z){Z||(Z=D(null)),Z.minX=1/0,Z.minY=1/0,Z.maxX=-1/0,Z.maxY=-1/0;for(var Q=R;Q<F;Q++){var nt=x.children[Q];c(Z,x.leaf?B(nt):nt)}return Z}function c(x,R){return x.minX=Math.min(x.minX,R.minX),x.minY=Math.min(x.minY,R.minY),x.maxX=Math.max(x.maxX,R.maxX),x.maxY=Math.max(x.maxY,R.maxY),x}function _(x,R){return x.minX-R.minX}function C(x,R){return x.minY-R.minY}function M(x){return(x.maxX-x.minX)*(x.maxY-x.minY)}function S(x){return x.maxX-x.minX+(x.maxY-x.minY)}function P(x,R){return x.minX<=R.minX&&x.minY<=R.minY&&R.maxX<=x.maxX&&R.maxY<=x.maxY}function k(x,R){return R.minX<=x.maxX&&R.minY<=x.maxY&&R.maxX>=x.minX&&R.maxY>=x.minY}function D(x){return{children:x,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function O(x,R,F,B,Z){for(var Q=[R,F];Q.length;)if(!((F=Q.pop())-(R=Q.pop())<=B)){var nt=R+Math.ceil((F-R)/B/2)*B;i(x,nt,R,F,Z),Q.push(R,nt,nt,F)}}return u.prototype.all=function(){return this._all(this.data,[])},u.prototype.search=function(x){var R=this.data,F=[];if(!k(x,R))return F;for(var B=this.toBBox,Z=[];R;){for(var Q=0;Q<R.children.length;Q++){var nt=R.children[Q],rt=R.leaf?B(nt):nt;k(x,rt)&&(R.leaf?F.push(nt):P(x,rt)?this._all(nt,F):Z.push(nt))}R=Z.pop()}return F},u.prototype.collides=function(x){var R=this.data;if(!k(x,R))return!1;for(var F=[];R;){for(var B=0;B<R.children.length;B++){var Z=R.children[B],Q=R.leaf?this.toBBox(Z):Z;if(k(x,Q)){if(R.leaf||P(x,Q))return!0;F.push(Z)}}R=F.pop()}return!1},u.prototype.load=function(x){if(!x||!x.length)return this;if(x.length<this._minEntries){for(var R=0;R<x.length;R++)this.insert(x[R]);return this}var F=this._build(x.slice(),0,x.length-1,0);if(this.data.children.length)if(this.data.height===F.height)this._splitRoot(this.data,F);else{if(this.data.height<F.height){var B=this.data;this.data=F,F=B}this._insert(F,this.data.height-F.height-1,!0)}else this.data=F;return this},u.prototype.insert=function(x){return x&&this._insert(x,this.data.height-1),this},u.prototype.clear=function(){return this.data=D([]),this},u.prototype.remove=function(x,R){if(!x)return this;for(var F,B,Z,Q=this.data,nt=this.toBBox(x),rt=[],st=[];Q||rt.length;){if(Q||(Q=rt.pop(),B=rt[rt.length-1],F=st.pop(),Z=!0),Q.leaf){var _t=l(x,Q.children,R);if(_t!==-1)return Q.children.splice(_t,1),rt.push(Q),this._condense(rt),this}Z||Q.leaf||!P(Q,nt)?B?(F++,Q=B.children[F],Z=!1):Q=null:(rt.push(Q),st.push(F),F=0,B=Q,Q=Q.children[0])}return this},u.prototype.toBBox=function(x){return x},u.prototype.compareMinX=function(x,R){return x.minX-R.minX},u.prototype.compareMinY=function(x,R){return x.minY-R.minY},u.prototype.toJSON=function(){return this.data},u.prototype.fromJSON=function(x){return this.data=x,this},u.prototype._all=function(x,R){for(var F=[];x;)x.leaf?R.push.apply(R,x.children):F.push.apply(F,x.children),x=F.pop();return R},u.prototype._build=function(x,R,F,B){var Z,Q=F-R+1,nt=this._maxEntries;if(Q<=nt)return p(Z=D(x.slice(R,F+1)),this.toBBox),Z;B||(B=Math.ceil(Math.log(Q)/Math.log(nt)),nt=Math.ceil(Q/Math.pow(nt,B-1))),(Z=D([])).leaf=!1,Z.height=B;var rt=Math.ceil(Q/nt),st=rt*Math.ceil(Math.sqrt(nt));O(x,R,F,st,this.compareMinX);for(var _t=R;_t<=F;_t+=st){var ut=Math.min(_t+st-1,F);O(x,_t,ut,rt,this.compareMinY);for(var gt=_t;gt<=ut;gt+=rt){var kt=Math.min(gt+rt-1,ut);Z.children.push(this._build(x,gt,kt,B-1))}}return p(Z,this.toBBox),Z},u.prototype._chooseSubtree=function(x,R,F,B){for(;B.push(R),!R.leaf&&B.length-1!==F;){for(var Z=1/0,Q=1/0,nt=void 0,rt=0;rt<R.children.length;rt++){var st=R.children[rt],_t=M(st),ut=(gt=x,kt=st,(Math.max(kt.maxX,gt.maxX)-Math.min(kt.minX,gt.minX))*(Math.max(kt.maxY,gt.maxY)-Math.min(kt.minY,gt.minY))-_t);ut<Q?(Q=ut,Z=_t<Z?_t:Z,nt=st):ut===Q&&_t<Z&&(Z=_t,nt=st)}R=nt||R.children[0]}var gt,kt;return R},u.prototype._insert=function(x,R,F){var B=F?x:this.toBBox(x),Z=[],Q=this._chooseSubtree(B,this.data,R,Z);for(Q.children.push(x),c(Q,B);R>=0&&Z[R].children.length>this._maxEntries;)this._split(Z,R),R--;this._adjustParentBBoxes(B,Z,R)},u.prototype._split=function(x,R){var F=x[R],B=F.children.length,Z=this._minEntries;this._chooseSplitAxis(F,Z,B);var Q=this._chooseSplitIndex(F,Z,B),nt=D(F.children.splice(Q,F.children.length-Q));nt.height=F.height,nt.leaf=F.leaf,p(F,this.toBBox),p(nt,this.toBBox),R?x[R-1].children.push(nt):this._splitRoot(F,nt)},u.prototype._splitRoot=function(x,R){this.data=D([x,R]),this.data.height=x.height+1,this.data.leaf=!1,p(this.data,this.toBBox)},u.prototype._chooseSplitIndex=function(x,R,F){for(var B,Z,Q,nt,rt,st,_t,ut=1/0,gt=1/0,kt=R;kt<=F-R;kt++){var Vt=g(x,0,kt,this.toBBox),at=g(x,kt,F,this.toBBox),Ut=(Z=Vt,Q=at,nt=void 0,rt=void 0,st=void 0,_t=void 0,nt=Math.max(Z.minX,Q.minX),rt=Math.max(Z.minY,Q.minY),st=Math.min(Z.maxX,Q.maxX),_t=Math.min(Z.maxY,Q.maxY),Math.max(0,st-nt)*Math.max(0,_t-rt)),Rt=M(Vt)+M(at);Ut<ut?(ut=Ut,B=kt,gt=Rt<gt?Rt:gt):Ut===ut&&Rt<gt&&(gt=Rt,B=kt)}return B||F-R},u.prototype._chooseSplitAxis=function(x,R,F){var B=x.leaf?this.compareMinX:_,Z=x.leaf?this.compareMinY:C;this._allDistMargin(x,R,F,B)<this._allDistMargin(x,R,F,Z)&&x.children.sort(B)},u.prototype._allDistMargin=function(x,R,F,B){x.children.sort(B);for(var Z=this.toBBox,Q=g(x,0,R,Z),nt=g(x,F-R,F,Z),rt=S(Q)+S(nt),st=R;st<F-R;st++){var _t=x.children[st];c(Q,x.leaf?Z(_t):_t),rt+=S(Q)}for(var ut=F-R-1;ut>=R;ut--){var gt=x.children[ut];c(nt,x.leaf?Z(gt):gt),rt+=S(nt)}return rt},u.prototype._adjustParentBBoxes=function(x,R,F){for(var B=F;B>=0;B--)c(R[B],x)},u.prototype._condense=function(x){for(var R=x.length-1,F=void 0;R>=0;R--)x[R].children.length===0?R>0?(F=x[R-1].children).splice(F.indexOf(x[R]),1):this.clear():p(x[R],this.toBBox)},u}()}},t={};function e(n){var i=t[n];if(i!==void 0)return i.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return r[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}e.n=n=>{var i=n&&n.__esModule?()=>n.default:()=>n;return e.d(i,{a:i}),i},e.d=(n,i)=>{for(var o in i)e.o(i,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:i[o]})},e.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),e.o=(n,i)=>Object.prototype.hasOwnProperty.call(n,i),e.nmd=n=>(n.paths=[],n.children||(n.children=[]),n),e(5975)})();const ju=Symbol(),xv=r=>{const t="https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",e=Wn.map(r,{preferCanvas:!0,zoomControl:!1,doubleClickZoom:!1,markerZoomAnimation:!1}).setView([35.132454,136.978166],13);return Wn.tileLayer(t,{attribution:`&copy;<a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a>,
	        &copy;<a href="https://carto.com/attributions" target="_blank">CARTO</a>`,subdomains:"abcd"}).addTo(e),e},Tv=()=>Wn.icon({iconRetinaUrl:yg,iconUrl:vg,shadowUrl:mg,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]}),Hf=()=>Wn.divIcon({html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#1fad19;}</style></defs><g id="_2" data-name=" 2"><g id="_1-2" data-name=" 1"><circle class="cls-1" cx="7" cy="7" r="6.5"/><path class="cls-2" d="M7,1A6,6,0,1,1,1,7,6,6,0,0,1,7,1M7,0a7,7,0,1,0,7,7A7,7,0,0,0,7,0Z"/></g></g></svg>',iconSize:[14,14],iconAnchor:[7,7],className:""}),Zf=()=>Wn.divIcon({html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8"><defs><style>.cls-12{fill:#fff;}.cls-22{fill:#c70143;}</style></defs><g id="_2" data-name=" 2"><g id="_1-2" data-name=" 1"><circle class="cls-12" cx="4" cy="4" r="3.5"/><path class="cls-22" d="M4,1A3,3,0,1,1,1,4,3,3,0,0,1,4,1M4,0A4,4,0,1,0,8,4,4,4,0,0,0,4,0Z"/></g></g></svg>',iconSize:[8,8],iconAnchor:[4,4],className:""}),Nv=()=>Wn.divIcon({html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#1fad19;}</style></defs><g id="_2" data-name=" 2"><g id="_1-2" data-name=" 1"><circle class="cls-1" cx="7" cy="7" r="6.5"/><path class="cls-2" d="M7,1A6,6,0,1,1,1,7,6,6,0,0,1,7,1M7,0a7,7,0,1,0,7,7A7,7,0,0,0,7,0Z"/></g></g></svg>',iconSize:[16,16],iconAnchor:[8,8],className:""}),Ov=()=>Wn.divIcon({html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8"><defs><style>.cls-12{fill:#fff;}.cls-22{fill:#c70143;}</style></defs><g id="_2" data-name=" 2"><g id="_1-2" data-name=" 1"><circle class="cls-12" cx="4" cy="4" r="3.5"/><path class="cls-22" d="M4,1A3,3,0,1,1,1,4,3,3,0,0,1,4,1M4,0A4,4,0,1,0,8,4,4,4,0,0,0,4,0Z"/></g></g></svg>',iconSize:[16,16],iconAnchor:[8,8],className:""});function Dv(r,t,e){let n,i;Dn(r,ul,p=>e(0,n=p)),Dn(r,yh,p=>e(1,i=p));const o=Pl(),{getMap:s}=fs(ju),u=s();let l=Wn.lasso(u);return u.on(pd,p=>{console.log("lasso.finished in LassoControl"),ul.set(!1),o("mergedLasso",p),i&&ul.set(!0)}),r.$$.update=()=>{r.$$.dirty&1&&(console.log(n),n?l.enable():l.disable())},[n]}class Rv extends we{constructor(t){super(),Ee(this,t,Dv,null,Me,{})}}function jf(r){let t;const e=r[3].default,n=Qt(e,r,r[2],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),t=!0},p(i,o){n&&n.p&&(!t||o&4)&&$t(n,e,i,i[2],t?ee(e,i[2],o,null):te(i[2]),null)},i(i){t||(dt(n,i),t=!0)},o(i){mt(n,i),t=!1},d(i){n&&n.d(i)}}}function Av(r){let t,e,n,i,o=r[1]&&jf(r);return{c(){t=bt("div"),e=De(),o&&o.c(),n=so(),this.h()},l(s){t=Ct(s,"DIV",{style:!0}),pt(t).forEach(Y),e=Re(s),o&&o.l(s),n=so(),this.h()},h(){ha(t,"height","100%"),ha(t,"width","100%")},m(s,u){wt(s,t,u),r[4](t),wt(s,e,u),o&&o.m(s,u),wt(s,n,u),i=!0},p(s,[u]){s[1]?o?(o.p(s,u),u&2&&dt(o,1)):(o=jf(s),o.c(),dt(o,1),o.m(n.parentNode,n)):o&&(no(),mt(o,1,1,()=>{o=null}),ro())},i(s){i||(dt(o),i=!0)},o(s){mt(o),i=!1},d(s){s&&Y(t),r[4](null),s&&Y(e),o&&o.d(s),s&&Y(n)}}}function Bv(r,t,e){let{$$slots:n={},$$scope:i}=t,o,s;Oa(ju,{getMap:()=>s}),Tu(()=>{e(1,s=xv(o)),s.createPane("tempZone").style.zIndex="250",s.createPane("zone").style.zIndex="350"});function u(l){re[l?"unshift":"push"](()=>{o=l,e(0,o)})}return r.$$set=l=>{"$$scope"in l&&e(2,i=l.$$scope)},[o,s,i,n,u]}class zv extends we{constructor(t){super(),Ee(this,t,Bv,Av,Me,{})}}async function Fv(r){const{pid:t,prefCode:e}=r.properties;return(await Fo("curves",{curveId:{pid:t,pref_code:e}})).curves.map(o=>{const u=o.segments.split("\\\\r\\\\n").map(l=>{const p=l.split(" ");return[parseFloat(p[1]),parseFloat(p[0])]});return{curveId:o.id,segments:u}})}async function Gv(r){return(await Fo("get_curves",{curveKey:r})).curves.map(e=>{const i=e.segments.split("\\\\r\\\\n").map(o=>{const s=o.split(" ");return[parseFloat(s[1]),parseFloat(s[0])]});return{curveId:e.id,segments:i}})}function Vv(r,t,e){let n,i,o,s;Dn(r,_u,B=>e(7,n=B)),Dn(r,Is,B=>e(8,i=B)),Dn(r,eu,B=>e(10,o=B)),Dn(r,Lh,B=>e(11,s=B));const{getMap:u}=fs(ju),l=u(),p=Wn.geoJson();p.options={onEachFeature:(B,Z)=>{const Q=p.getLayerId(Z);B.properties.layerId=Q,Z instanceof Wn.Path&&(Z.on("pm:disable",nt=>{console.log(nt)}),Z.on("click",nt=>{const rt=B.properties.id.split(":")[0],st=o.get(rt);nt.originalEvent.shiftKey?Is.add(rt,st):Is.set(rt,st)}))},style:B=>{if(!B)return{};switch(B.properties.kind){case"SegmentLine":return{color:B.properties.color,weight:B.properties.weight};case"SegmentZone":return{color:B.properties.color,weight:B.properties.weight,fillOpacity:B.properties.fillOpacity,pane:"buffers"};default:return{}}},pointToLayer(B,Z){return Wn.marker(Z,{icon:B.properties.icon,zIndexOffset:B.properties.zIndexOffset})}},p.addTo(l);const g=Wn.geoJson();g.options={onEachFeature:(B,Z)=>{const Q=g.getLayerId(Z);B.properties.layerId=Q,Z instanceof Wn.Path&&Z.on("pm:disable",nt=>{console.log(nt)})},style:B=>{if(!B)return{};switch(B.properties.kind){case"SegmentLine":return{color:B.properties.color,weight:B.properties.weight};case"SegmentZone":return{color:B.properties.color,weight:B.properties.weight,fillOpacity:B.properties.fillOpacity,pane:"tempZone"};default:return{}}}},g.addTo(l);const c=async B=>{const Z=await Fv(B);k(Z)},_=async B=>{const Z=await Gv(B);k(Z)},C=async B=>{const Z=B.detail;console.log("lasso.finished in SegmentMerger",Z);const Q=Wn.GeoJSON.latLngsToCoords(Z.latLngs),nt=Z.layers.map(st=>st.feature),rt={lassoShape:Q,targetFeatures:nt};console.dir(rt),F(rt.targetFeatures)},M=()=>{const B=i.keys();for(const Z of B)O(Z),Is.remove(Z)},S=()=>{for(const B of i.keys())x(B)},P=()=>{g.clearLayers();for(const B of i.values()){ll(Lh,s=!0,s),B.zone;const Z=B.line,Q=m_(Z,100,{units:"meters"}),nt=100*25e-7,rt=P_(Q,{tolerance:nt});rt.properties.id=`${B.curveId}:zone`,rt.properties.kind="SegmentZone",rt.properties.color="#00FF00",rt.properties.fillOpacity=.3,rt.properties.weight=1,g.addData(rt)}console.log(i)},k=B=>{for(const Z of B)D(Z)},D=B=>{if(o.has(B.curveId))return;const Z=Lg(B.segments,{id:`${B.curveId}:line`,layerId:void 0,kind:"SegmentLine",weight:5,color:"#0000FF"}),Q=gu(B.segments[0],{id:`${B.curveId}:start`,layerId:void 0,kind:"SegmentStart",icon:Hf(),zIndexOffset:1e3}),nt=gu(B.segments[B.segments.length-1],{id:`${B.curveId}:end`,layerId:void 0,kind:"SegmentEnd",icon:Zf(),zIndexOffset:2e3}),rt=[Z,Q,nt];p.addData(Z),p.addData(Q),p.addData(nt),eu.add(B.curveId,{id:B.curveId,features:rt,line:Z,start:Q,end:nt})},O=B=>{const Z=o.get(B);p.removeLayer(Z.line.properties.layerId),p.removeLayer(Z.start.properties.layerId),p.removeLayer(Z.end.properties.layerId),eu.remove(B)},x=B=>{const Z=o.get(B),nt=`swapedLine-${_h()}`,rt=fu(Z.line);rt.properties.id=`${nt}:line`,rt.properties.layerId=void 0;const st=fu(Z.end);st.properties.id=`${nt}:start`,st.properties.layerId=void 0,st.properties.icon=Hf();const _t=fu(Z.start);_t.properties.id=`${nt}:end`,_t.properties.layerId=void 0,_t.properties.icon=Zf();const ut=[rt,st,_t];p.addData(rt),p.addData(st),p.addData(_t),eu.add(nt,{id:nt,features:ut,line:rt,start:st,end:_t}),O(B),Is.reset()},R=()=>{p.resetStyle(),p.eachLayer(B=>{var Z,Q;B instanceof Wn.Marker&&(B.setIcon((Z=B.feature)==null?void 0:Z.properties.icon),B.setZIndexOffset((Q=B.feature)==null?void 0:Q.properties.zIndexOffset))})},F=B=>{const Z=B.filter(jt=>jt.properties.kind==="SegmentStart"),Q=B.filter(jt=>jt.properties.kind==="SegmentEnd");if(Z.length!==1||Q.length!==1){alert("no single conjunction");return}const nt=Q[0].properties.id.split(":")[0],rt=Z[0].properties.id.split(":")[0],st=o.get(nt),_t=o.get(rt),ut=st.line,gt=_t.line,kt=ut.geometry.coordinates,Vt=gt.geometry.coordinates,at=kt.concat(Vt),Tt={curveId:`mergedLine-${_h()}`,segments:at};D(Tt),O(nt),O(rt)};return l.on("pm:create",B=>{const Z=B.layer.toGeoJSON(),rt={curveId:`drawedSegment-${_h()}`,segments:Z.geometry.coordinates};D(rt),ll(_u,n=!1,n),l.removeLayer(B.layer)}),r.$$.update=()=>{if(r.$$.dirty&448){if(i.size===0&&R(),i.size>0){R();for(const B of i.values()){const Z=p.getLayer(B.line.properties.layerId),Q=p.getLayer(B.start.properties.layerId),nt=p.getLayer(B.end.properties.layerId);Z==null||Z.setStyle({color:"#FF0000"}),Q==null||Q.setIcon(Nv()).setZIndexOffset(1e4),nt==null||nt.setIcon(Ov()).setZIndexOffset(2e4)}}n?l.pm.enableDraw("Line",{snappable:!0,snapDistance:20}):l.pm.disableDraw()}},[c,_,C,M,S,P,p,n,i]}class Uv extends we{constructor(t){super(),Ee(this,t,Vv,null,Me,{loadCurve:0,loadCurveByKey:1,onMergedLasso:2,removeSelectingSegments:3,swapStartEndSelectingSegment:4,buildZone:5})}get loadCurve(){return this.$$.ctx[0]}get loadCurveByKey(){return this.$$.ctx[1]}get onMergedLasso(){return this.$$.ctx[2]}get removeSelectingSegments(){return this.$$.ctx[3]}get swapStartEndSelectingSegment(){return this.$$.ctx[4]}get buildZone(){return this.$$.ctx[5]}}function Hv(r,t,e){const n=Pl(),{getMap:i}=fs(ju),o=i(),s=Wn.markerClusterGroup();s.addTo(o);const u=async()=>{const g=o.getBounds(),c={min:g.getSouthWest(),max:g.getNorthEast()},_=await Fo("search_points",{bounds:c});lu.set(_.points)},l=async()=>{lu.set([])},p=lu.subscribe(async g=>{s.clearLayers();for(const c of g){let _=`${c.lat}${c.lng}`,C=gu([c.lng,c.lat],{id:_,pid:c.id,kind:"StartingPoint",icon:Tv(),zIndexOffset:3e3,riverName:c.river_name,riverCode:c.river_code,prefCode:c.prefecture_code}),M=Wn.geoJSON(C,{onEachFeature:(S,P)=>{P.bindTooltip(`${S.properties.riverName} (${S.properties.riverCode})`),P.on("click",()=>{n("clickedPoint",{feature:S})})},pointToLayer(S,P){return Wn.marker(P,{icon:S.properties.icon,zIndexOffset:S.properties.zIndexOffset})}});s.addLayer(M)}});return ua(p),[u,l]}class Zv extends we{constructor(t){super(),Ee(this,t,Hv,null,Me,{load:0,unload:1})}get load(){return this.$$.ctx[0]}get unload(){return this.$$.ctx[1]}}function jv(r){let t,e,n,i,o,s,u={};t=new Zv({props:u}),r[10](t),t.$on("clickedPoint",r[4]);let l={};return n=new Uv({props:l}),r[11](n),o=new Rv({}),o.$on("mergedLasso",r[6]),{c(){pe(t.$$.fragment),e=De(),pe(n.$$.fragment),i=De(),pe(o.$$.fragment)},l(p){me(t.$$.fragment,p),e=Re(p),me(n.$$.fragment,p),i=Re(p),me(o.$$.fragment,p)},m(p,g){de(t,p,g),wt(p,e,g),de(n,p,g),wt(p,i,g),de(o,p,g),s=!0},p(p,g){const c={};t.$set(c);const _={};n.$set(_)},i(p){s||(dt(t.$$.fragment,p),dt(n.$$.fragment,p),dt(o.$$.fragment,p),s=!0)},o(p){mt(t.$$.fragment,p),mt(n.$$.fragment,p),mt(o.$$.fragment,p),s=!1},d(p){r[10](null),ge(t,p),p&&Y(e),r[11](null),ge(n,p),p&&Y(i),ge(o,p)}}}function qv(r){let t,e,n,i,o,s,u,l,p,g,c;return i=new um({}),i.$on("clickedSearchRiver",r[5]),u=new Iv({}),u.$on("clickedPin",r[2]),u.$on("clickedOffPin",r[3]),u.$on("clickedRemoveSegment",r[7]),u.$on("clickedSwapStartEnd",r[8]),u.$on("createZoneEvent",r[9]),g=new zv({props:{$$slots:{default:[jv]},$$scope:{ctx:r}}}),{c(){t=bt("div"),e=bt("div"),n=bt("div"),pe(i.$$.fragment),o=De(),s=bt("div"),pe(u.$$.fragment),l=De(),p=bt("div"),pe(g.$$.fragment),this.h()},l(_){t=Ct(_,"DIV",{class:!0});var C=pt(t);e=Ct(C,"DIV",{class:!0});var M=pt(e);n=Ct(M,"DIV",{class:!0});var S=pt(n);me(i.$$.fragment,S),S.forEach(Y),o=Re(M),s=Ct(M,"DIV",{class:!0});var P=pt(s);me(u.$$.fragment,P),P.forEach(Y),M.forEach(Y),l=Re(C),p=Ct(C,"DIV",{class:!0});var k=pt(p);me(g.$$.fragment,k),k.forEach(Y),C.forEach(Y),this.h()},h(){yt(n,"class","pl-2 pt-2"),yt(s,"class","pl-2 pt-2"),yt(e,"class","pointer-events-none absolute inset-0 z-20"),yt(p,"class","absolute inset-0 z-10"),yt(t,"class","relative h-full w-full")},m(_,C){wt(_,t,C),It(t,e),It(e,n),de(i,n,null),It(e,o),It(e,s),de(u,s,null),It(t,l),It(t,p),de(g,p,null),c=!0},p(_,[C]){const M={};C&4099&&(M.$$scope={dirty:C,ctx:_}),g.$set(M)},i(_){c||(dt(i.$$.fragment,_),dt(u.$$.fragment,_),dt(g.$$.fragment,_),c=!0)},o(_){mt(i.$$.fragment,_),mt(u.$$.fragment,_),mt(g.$$.fragment,_),c=!1},d(_){_&&Y(t),ge(i),ge(u),ge(g)}}}function Xv(r,t,e){let n,i;const o=()=>{n.load()},s=()=>{n.unload()},u=S=>{i.loadCurve(S.detail.feature)},l=S=>{i.loadCurveByKey(S.detail.curveKey)},p=S=>{i.onMergedLasso(S)},g=()=>{i.removeSelectingSegments()},c=()=>{i.swapStartEndSelectingSegment()},_=()=>{i.buildZone()};function C(S){re[S?"unshift":"push"](()=>{n=S,e(0,n)})}function M(S){re[S?"unshift":"push"](()=>{i=S,e(1,i)})}return[n,i,o,s,u,l,p,g,c,_,C,M]}class Yv extends we{constructor(t){super(),Ee(this,t,Xv,qv,Me,{})}}function Wv(r){let t,e,n=[{xmlns:"http://www.w3.org/2000/svg"},{width:r[0]},{height:r[0]},{fill:r[1]},{class:e=r[4].class},r[5],{"aria-label":r[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<n.length;o+=1)i=Pt(i,n[o]);return{c(){t=Sn("svg"),this.h()},l(o){t=In(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=pt(t);s.forEach(Y),this.h()},h(){on(t,i)},m(o,s){wt(o,t,s),t.innerHTML=r[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),on(t,i=qt(n,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&e!==(e=o[4].class)&&{class:e},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Xt,o:Xt,d(o){o&&Y(t)}}}let Kv='<path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"/>',qf='<path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 9h10.5v3.5H4V9zm0 5.5h10.5V18H4v-3.5zM20 18h-3.5V9H20v9z"/>',Jv='<path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 9h10.5v3.5H4V9zm0 5.5h10.5V18H5c-.55 0-1-.45-1-1v-2.5zM19 18h-2.5V9H20v8c0 .55-.45 1-1 1z"/>',Qv='<path d="M22 4H2v16h20V4zM4 9h10.5v3.5H4V9zm0 5.5h10.5V18H4v-3.5zM20 18h-3.5V9H20v9z"/>',$v='<path d="M4 9h10.5v3.5H4zm0 5.5h10.5V18H4zM16.5 9H20v9h-3.5z" opacity=".3"/><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5.5 14H4v-3.5h10.5V18zm0-5.5H4V9h10.5v3.5zM20 18h-3.5V9H20v9z"/>';function ty(r,t,e){const n=["size","color","variation","ariaLabel"];let i=Ae(t,n),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=Kv;break;case"outlined":l=qf;break;case"round":l=Jv;break;case"sharp":l=Qv;break;case"two-tone":l=$v;break;default:l=qf}let{ariaLabel:p="web"}=t;return r.$$set=g=>{e(4,t=Pt(Pt({},t),je(g))),e(5,i=Ae(t,n)),"size"in g&&e(0,o=g.size),"color"in g&&e(1,s=g.color),"variation"in g&&e(6,u=g.variation),"ariaLabel"in g&&e(2,p=g.ariaLabel)},t=je(t),[o,s,p,l,t,i,u]}class ey extends we{constructor(t){super(),Ee(this,t,ty,Wv,Me,{size:0,color:1,variation:6,ariaLabel:2})}}function ny(r){let t,e,n;return e=new ey({props:{tabindex:"-1"}}),{c(){t=bt("button"),pe(e.$$.fragment),this.h()},l(i){t=Ct(i,"BUTTON",{class:!0,type:!0});var o=pt(t);me(e.$$.fragment,o),o.forEach(Y),this.h()},h(){yt(t,"class","w-min rounded-md bg-white py-1 px-2 hover:bg-gray-200"),yt(t,"type","button")},m(i,o){wt(i,t,o),de(e,t,null),n=!0},p:Xt,i(i){n||(dt(e.$$.fragment,i),n=!0)},o(i){mt(e.$$.fragment,i),n=!1},d(i){i&&Y(t),ge(e)}}}class ry extends we{constructor(t){super(),Ee(this,t,null,ny,Me,{})}}function iy(r){let t,e,n=[{xmlns:"http://www.w3.org/2000/svg"},{width:r[0]},{height:r[0]},{fill:r[1]},{class:e=r[4].class},r[5],{"aria-label":r[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<n.length;o+=1)i=Pt(i,n[o]);return{c(){t=Sn("svg"),this.h()},l(o){t=In(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=pt(t);s.forEach(Y),this.h()},h(){on(t,i)},m(o,s){wt(o,t,s),t.innerHTML=r[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),on(t,i=qt(n,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&e!==(e=o[4].class)&&{class:e},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Xt,o:Xt,d(o){o&&Y(t)}}}let oy='<path d="M6 11c2.76 0 5-2.24 5-5S8.76 1 6 1 1 3.24 1 6s2.24 5 5 5zm15 3h-5c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h5c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2z"/><path d="M17.71 7.7c.4.19.83.3 1.29.3 1.65 0 3-1.35 3-3s-1.35-3-3-3-3 1.35-3 3c0 .46.11.89.3 1.29L6.29 16.3c-.4-.19-.83-.3-1.29-.3-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3c0-.46-.11-.89-.3-1.29L17.71 7.7z"/>',Xf='<path d="M6 11c2.76 0 5-2.24 5-5S8.76 1 6 1 1 3.24 1 6s2.24 5 5 5zm0-8c1.65 0 3 1.35 3 3S7.65 9 6 9 3 7.65 3 6s1.35-3 3-3zm15 11h-5c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h5c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2zm0 7h-5v-5h5v5z"/><path d="M17.71 7.7c.4.19.83.3 1.29.3 1.65 0 3-1.35 3-3s-1.35-3-3-3-3 1.35-3 3c0 .46.11.89.3 1.29L6.29 16.3c-.4-.19-.83-.3-1.29-.3-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3c0-.46-.11-.89-.3-1.29L17.71 7.7z"/>',sy='<path d="M6 11c2.76 0 5-2.24 5-5S8.76 1 6 1 1 3.24 1 6s2.24 5 5 5zm15 3h-5c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h5c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2z"/><path d="M17.71 7.7c.4.19.83.3 1.29.3 1.65 0 3-1.35 3-3s-1.35-3-3-3-3 1.35-3 3c0 .46.11.89.3 1.29L6.29 16.3c-.4-.19-.83-.3-1.29-.3-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3c0-.46-.11-.89-.3-1.29L17.71 7.7z"/>',ay='<path d="M6 11c2.76 0 5-2.24 5-5S8.76 1 6 1 1 3.24 1 6s2.24 5 5 5zm17 3h-9v9h9v-9z"/><path d="M17.71 7.7c.4.19.83.3 1.29.3 1.65 0 3-1.35 3-3s-1.35-3-3-3-3 1.35-3 3c0 .46.11.89.3 1.29L6.29 16.3c-.4-.19-.83-.3-1.29-.3-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3c0-.46-.11-.89-.3-1.29L17.71 7.7z"/>',ly='<path d="M16 16h5v5h-5z" opacity=".3"/><circle cx="6" cy="6" r="3" opacity=".3"/><path d="M6 11c2.76 0 5-2.24 5-5S8.76 1 6 1 1 3.24 1 6s2.24 5 5 5zm0-8c1.65 0 3 1.35 3 3S7.65 9 6 9 3 7.65 3 6s1.35-3 3-3zm15 11h-5c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h5c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2zm0 7h-5v-5h5v5z"/><path d="M17.71 7.7c.4.19.83.3 1.29.3 1.65 0 3-1.35 3-3s-1.35-3-3-3-3 1.35-3 3c0 .46.11.89.3 1.29L6.29 16.3c-.4-.19-.83-.3-1.29-.3-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3c0-.46-.11-.89-.3-1.29L17.71 7.7z"/>';function uy(r,t,e){const n=["size","color","variation","ariaLabel"];let i=Ae(t,n),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=oy;break;case"outlined":l=Xf;break;case"round":l=sy;break;case"sharp":l=ay;break;case"two-tone":l=ly;break;default:l=Xf}let{ariaLabel:p="shape line"}=t;return r.$$set=g=>{e(4,t=Pt(Pt({},t),je(g))),e(5,i=Ae(t,n)),"size"in g&&e(0,o=g.size),"color"in g&&e(1,s=g.color),"variation"in g&&e(6,u=g.variation),"ariaLabel"in g&&e(2,p=g.ariaLabel)},t=je(t),[o,s,p,l,t,i,u]}class hy extends we{constructor(t){super(),Ee(this,t,uy,iy,Me,{size:0,color:1,variation:6,ariaLabel:2})}}async function gs(r){return Fo("tauri",r)}var cy={};ic(cy,{ask:()=>dy,confirm:()=>gy,message:()=>py,open:()=>qu,save:()=>fy});async function qu(r={}){return typeof r=="object"&&Object.freeze(r),gs({__tauriModule:"Dialog",message:{cmd:"openDialog",options:r}})}async function fy(r={}){return typeof r=="object"&&Object.freeze(r),gs({__tauriModule:"Dialog",message:{cmd:"saveDialog",options:r}})}async function py(r,t){var e;let n=typeof t=="string"?{title:t}:t;return gs({__tauriModule:"Dialog",message:{cmd:"messageDialog",message:r.toString(),title:(e=n==null?void 0:n.title)==null?void 0:e.toString(),type:n==null?void 0:n.type}})}async function dy(r,t){var e;let n=typeof t=="string"?{title:t}:t;return gs({__tauriModule:"Dialog",message:{cmd:"askDialog",message:r.toString(),title:(e=n==null?void 0:n.title)==null?void 0:e.toString(),type:n==null?void 0:n.type}})}async function gy(r,t){var e;let n=typeof t=="string"?{title:t}:t;return gs({__tauriModule:"Dialog",message:{cmd:"confirmDialog",message:r.toString(),title:(e=n==null?void 0:n.title)==null?void 0:e.toString(),type:n==null?void 0:n.type}})}function _y(r){let t,e,n,i,o;return e=new hy({props:{tabindex:"-1"}}),{c(){t=bt("button"),pe(e.$$.fragment),this.h()},l(s){t=Ct(s,"BUTTON",{class:!0,type:!0});var u=pt(t);me(e.$$.fragment,u),u.forEach(Y),this.h()},h(){yt(t,"class","w-min rounded-md bg-white py-1 px-2 hover:bg-gray-200"),yt(t,"type","button")},m(s,u){wt(s,t,u),de(e,t,null),n=!0,i||(o=un(t,"click",r[0]),i=!0)},p:Xt,i(s){n||(dt(e.$$.fragment,s),n=!0)},o(s){mt(e.$$.fragment,s),n=!1},d(s){s&&Y(t),ge(e),i=!1,o()}}}function my(r){return[async()=>{const e=await qu({multiple:!1,filters:[{name:"Image",extensions:["png","jpeg","zip"]}]});console.dir(e),await Fo("greet",{name:e})}]}class vy extends we{constructor(t){super(),Ee(this,t,my,_y,Me,{})}}function yy(r){let t,e;return{c(){t=bt("h1"),e=mn("RMv3"),this.h()},l(n){t=Ct(n,"H1",{class:!0});var i=pt(t);e=vn(i,"RMv3"),i.forEach(Y),this.h()},h(){yt(t,"class","text-2xl text-gray-600")},m(n,i){wt(n,t,i),It(t,e)},p:Xt,i:Xt,o:Xt,d(n){n&&Y(t)}}}class Ly extends we{constructor(t){super(),Ee(this,t,null,yy,Me,{})}}function by(r){let t,e,n,i;return{c(){t=bt("button"),e=mn("logout"),this.h()},l(o){t=Ct(o,"BUTTON",{class:!0,type:!0});var s=pt(t);e=vn(s,"logout"),s.forEach(Y),this.h()},h(){yt(t,"class","w-min rounded-md border border-gray-300 bg-white py-1 px-4 text-base font-normal"),yt(t,"type","button")},m(o,s){wt(o,t,s),It(t,e),n||(i=un(t,"click",r[0]),n=!0)},p:Xt,i:Xt,o:Xt,d(o){o&&Y(t),n=!1,i()}}}function Cy(r){async function t(){await gg()}return[t]}class wy extends we{constructor(t){super(),Ee(this,t,Cy,by,Me,{})}}function Yf(r){let t,e,n=r[0].displayName+"",i;return{c(){t=bt("div"),e=bt("h2"),i=mn(n)},l(o){t=Ct(o,"DIV",{});var s=pt(t);e=Ct(s,"H2",{});var u=pt(e);i=vn(u,n),u.forEach(Y),s.forEach(Y)},m(o,s){wt(o,t,s),It(t,e),It(e,i)},p(o,s){s&1&&n!==(n=o[0].displayName+"")&&$o(i,n)},d(o){o&&Y(t)}}}function Ey(r){let t,e=r[0]&&Yf(r);return{c(){e&&e.c(),t=so()},l(n){e&&e.l(n),t=so()},m(n,i){e&&e.m(n,i),wt(n,t,i)},p(n,[i]){n[0]?e?e.p(n,i):(e=Yf(n),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:Xt,o:Xt,d(n){e&&e.d(n),n&&Y(t)}}}function My(r,t,e){let n;const i=_g();return Dn(r,i,o=>e(0,n=o)),[n,i]}class Py extends we{constructor(t){super(),Ee(this,t,My,Ey,Me,{})}}function Sy(r){let t,e,n,i,o,s,u,l,p,g,c,_,C,M,S,P,k,D;return e=new Ly({}),o=new vy({}),u=new ry({}),C=new Py({}),S=new wy({}),{c(){t=bt("div"),pe(e.$$.fragment),n=De(),i=bt("div"),pe(o.$$.fragment),s=De(),pe(u.$$.fragment),l=De(),p=bt("button"),g=mn("btn"),c=De(),_=bt("div"),pe(C.$$.fragment),M=De(),pe(S.$$.fragment),this.h()},l(O){t=Ct(O,"DIV",{class:!0});var x=pt(t);me(e.$$.fragment,x),n=Re(x),i=Ct(x,"DIV",{class:!0});var R=pt(i);me(o.$$.fragment,R),s=Re(R),me(u.$$.fragment,R),l=Re(R),p=Ct(R,"BUTTON",{type:!0});var F=pt(p);g=vn(F,"btn"),F.forEach(Y),R.forEach(Y),c=Re(x),_=Ct(x,"DIV",{class:!0});var B=pt(_);me(C.$$.fragment,B),M=Re(B),me(S.$$.fragment,B),B.forEach(Y),x.forEach(Y),this.h()},h(){yt(p,"type","button"),yt(i,"class","ml-8 flex gap-x-2"),yt(_,"class","ml-auto flex items-center gap-x-2"),yt(t,"class","flex w-full grow-0 items-center justify-start border-t border-gray-200 py-2 px-6 shadow-md")},m(O,x){wt(O,t,x),de(e,t,null),It(t,n),It(t,i),de(o,i,null),It(i,s),de(u,i,null),It(i,l),It(i,p),It(p,g),It(t,c),It(t,_),de(C,_,null),It(_,M),de(S,_,null),P=!0,k||(D=un(p,"click",r[0]),k=!0)},p:Xt,i(O){P||(dt(e.$$.fragment,O),dt(o.$$.fragment,O),dt(u.$$.fragment,O),dt(C.$$.fragment,O),dt(S.$$.fragment,O),P=!0)},o(O){mt(e.$$.fragment,O),mt(o.$$.fragment,O),mt(u.$$.fragment,O),mt(C.$$.fragment,O),mt(S.$$.fragment,O),P=!1},d(O){O&&Y(t),ge(e),ge(o),ge(u),ge(C),ge(S),k=!1,D()}}}function Iy(r){return[async()=>{const e=await qu({multiple:!1,filters:[{name:"Image",extensions:["png","jpeg","zip"]}]});console.dir(e)}]}class ky extends we{constructor(t){super(),Ee(this,t,Iy,Sy,Me,{})}}var hl;(function(r){r[r.Open=0]="Open",r[r.Closed=1]="Closed"})(hl||(hl={}));const xy="headlessui-open-closed-context";function Ty(){return fs(xy)}function Dh(r,t,...e){if(r in t){let i=t[r];return typeof i=="function"?i(...e):i}let n=new Error(`Tried to handle "${r}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Dh),n}let Ny=0;function Oy(){return++Ny}function gd(){return Oy()}let aa=new Set,Ko=new Map;function Wf(r){r.setAttribute("aria-hidden","true"),r.inert=!0}function Kf(r){let t=Ko.get(r);t&&(t["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",t["aria-hidden"]),r.inert=t.inert)}function Dy(r,t=!0){if(!t||!r)return;let e=r;aa.add(e);for(let n of Ko.keys())n.contains(e)&&(Kf(n),Ko.delete(n));return document.querySelectorAll("body > *").forEach(n=>{if(n instanceof HTMLElement){for(let i of aa)if(n.contains(i))return;aa.size===1&&(Ko.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),Wf(n))}}),()=>{if(aa.delete(e),aa.size>0)document.querySelectorAll("body > *").forEach(n=>{if(n instanceof HTMLElement&&!Ko.has(n)){for(let i of aa)if(n.contains(i))return;Ko.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),Wf(n)}});else for(let n of Ko.keys())Kf(n),Ko.delete(n)}}function Rh(r,t){for(let e of r)if(e.contains(t))return!0;return!1}var ku;(function(r){r.Space=" ",r.Enter="Enter",r.Escape="Escape",r.Backspace="Backspace",r.ArrowLeft="ArrowLeft",r.ArrowUp="ArrowUp",r.ArrowRight="ArrowRight",r.ArrowDown="ArrowDown",r.Home="Home",r.End="End",r.PageUp="PageUp",r.PageDown="PageDown",r.Tab="Tab"})(ku||(ku={}));let Ry=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(r=>`${r}:not([tabindex='-1'])`).join(",");var gr;(function(r){r[r.First=1]="First",r[r.Previous=2]="Previous",r[r.Next=4]="Next",r[r.Last=8]="Last",r[r.WrapAround=16]="WrapAround",r[r.NoScroll=32]="NoScroll"})(gr||(gr={}));var Qo;(function(r){r[r.Error=0]="Error",r[r.Overflow=1]="Overflow",r[r.Success=2]="Success",r[r.Underflow=3]="Underflow"})(Qo||(Qo={}));var xu;(function(r){r[r.Previous=-1]="Previous",r[r.Next=1]="Next"})(xu||(xu={}));function Ay(r=document.body){return r==null?[]:Array.from(r.querySelectorAll(Ry))}var Jf;(function(r){r[r.Strict=0]="Strict",r[r.Loose=1]="Loose"})(Jf||(Jf={}));function ol(r){r==null||r.focus({preventScroll:!0})}function Qf(r,t){let e=Array.isArray(r)?r:Ay(r),n=document.activeElement,i=(()=>{if(t&(gr.First|gr.Next))return xu.Next;if(t&(gr.Previous|gr.Last))return xu.Previous;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),o=(()=>{if(t&gr.First)return 0;if(t&gr.Previous)return Math.max(0,e.indexOf(n))-1;if(t&gr.Next)return Math.max(0,e.indexOf(n))+1;if(t&gr.Last)return e.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),s=t&gr.NoScroll?{preventScroll:!0}:{},u=0,l=e.length,p;do{if(u>=l||u+l<=0)return Qo.Error;let g=o+u;if(t&gr.WrapAround)g=(g+l)%l;else{if(g<0)return Qo.Underflow;if(g>=l)return Qo.Overflow}p=e[g],p==null||p.focus(s),u+=i}while(p!==document.activeElement);return p.hasAttribute("tabindex")||p.setAttribute("tabindex","0"),Qo.Success}const{window:$f}=dp;function By(r){let t,e;return{c:Xt,l:Xt,m(n,i){t||(e=[un($f,"keydown",r[0]),un($f,"focus",r[1],!0)],t=!0)},p:Xt,i:Xt,o:Xt,d(n){t=!1,ie(e)}}}function zy(r,t,e){let{containers:n}=t,{enabled:i=!0}=t,{options:o={}}=t,s=typeof window<"u"?document.activeElement:null,u=null;async function l(){if(!i||n.size!==1)return;let{initialFocus:C}=o;await zh();let M=document.activeElement;if(C){if(C===M)return}else if(Rh(n,M))return;if(s=M,C)ol(C);else{let S=!1;for(let P of n)if(Qf(P,gr.First)===Qo.Success){S=!0;break}S||console.warn("There are no focusable elements inside the <FocusTrap />")}u=document.activeElement}function p(){ol(s),s=null,u=null}Tu(l);let g=!1;ua(()=>{g=!0,p()});function c(C){if(i&&C.key===ku.Tab&&document.activeElement&&n.size===1){C.preventDefault();for(let M of n)if(Qf(M,(C.shiftKey?gr.Previous:gr.Next)|gr.WrapAround)===Qo.Success){u=document.activeElement;break}}}function _(C){if(C.target===window.document.body||!i||n.size!==1||g)return;let M=u;if(!M)return;let S=C.target;S&&S instanceof HTMLElement?Rh(n,S)?(u=S,ol(S)):(C.preventDefault(),C.stopPropagation(),ol(M)):ol(u)}return r.$$set=C=>{"containers"in C&&e(2,n=C.containers),"enabled"in C&&e(3,i=C.enabled),"options"in C&&e(4,o=C.options)},r.$$.update=()=>{r.$$.dirty&12&&(i&&n?l():p())},[c,_,n,i,o]}class Fy extends we{constructor(t){super(),Ee(this,t,zy,By,Me,{containers:2,enabled:3,options:4})}}function Gy(r){let t;const e=r[4].default,n=Qt(e,r,r[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),t=!0},p(i,[o]){n&&n.p&&(!t||o&8)&&$t(n,e,i,i[3],t?ee(e,i[3],o,null):te(i[3]),null)},i(i){t||(dt(n,i),t=!0)},o(i){mt(n,i),t=!1},d(i){n&&n.d(i)}}}var Na;(function(r){r[r.Add=0]="Add",r[r.Remove=1]="Remove"})(Na||(Na={}));const tp="headlessui-stack-context";function Vy(r,t,e){let n,{$$slots:i={},$$scope:o}=t,{onUpdate:s}=t,{element:u}=t;function l(...g){s==null||s(...g),p==null||p(...g)}let p=fs(tp);return Oa(tp,l),ua(()=>{n&&n()}),r.$$set=g=>{"onUpdate"in g&&e(0,s=g.onUpdate),"element"in g&&e(1,u=g.element),"$$scope"in g&&e(3,o=g.$$scope)},r.$$.update=()=>{r.$$.dirty&6&&e(2,n=(()=>{if(n&&n(),!u)return null;let g=u;return l(Na.Add,g),()=>l(Na.Remove,g)})())},[s,u,n,o,i]}class Uy extends we{constructor(t){super(),Ee(this,t,Vy,Gy,Me,{onUpdate:0,element:1})}}const Hy=r=>({describedby:r&1}),ep=r=>({describedby:r[0].descriptionIds});function Zy(r){let t;const e=r[6].default,n=Qt(e,r,r[5],ep);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),t=!0},p(i,[o]){n&&n.p&&(!t||o&33)&&$t(n,e,i,i[5],t?ee(e,i[5],o,Hy):te(i[5]),ep)},i(i){t||(dt(n,i),t=!0)},o(i){mt(n,i),t=!1},d(i){n&&n.d(i)}}}const jy="headlessui-description-context";function qy(r,t,e){const n=["name","slotProps"];let i=Ae(t,n),o,{$$slots:s={},$$scope:u}=t,{name:l}=t,{slotProps:p={}}=t,g=[],c=Ci({name:l,slotProps:p,props:i,register:_});Dn(r,c,C=>e(0,o=C)),Oa(jy,c);function _(C){return e(4,g=[...g,C]),()=>{e(4,g=g.filter(M=>M!==C))}}return r.$$set=C=>{t=Pt(Pt({},t),je(C)),e(8,i=Ae(t,n)),"name"in C&&e(2,l=C.name),"slotProps"in C&&e(3,p=C.slotProps),"$$scope"in C&&e(5,u=C.$$scope)},r.$$.update=()=>{c.set({name:l,slotProps:p,props:i,register:_,descriptionIds:g.length>0?g.join(" "):void 0})},[o,c,l,p,g,u,s]}class Xy extends we{constructor(t){super(),Ee(this,t,qy,Zy,Me,{name:2,slotProps:3})}}function Yy(r){let t;const e=r[2].default,n=Qt(e,r,r[1],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),t=!0},p(i,[o]){n&&n.p&&(!t||o&2)&&$t(n,e,i,i[1],t?ee(e,i[1],o,null):te(i[1]),null)},i(i){t||(dt(n,i),t=!0)},o(i){mt(n,i),t=!1},d(i){n&&n.d(i)}}}const _d="headlessui-force-portal-root-context";function Wy(){return fs(_d)}function Ky(r,t,e){let{$$slots:n={},$$scope:i}=t,{force:o}=t;return Oa(_d,Ci(o)),r.$$set=s=>{"force"in s&&e(0,o=s.force),"$$scope"in s&&e(1,i=s.$$scope)},[o,i,n]}class md extends we{constructor(t){super(),Ee(this,t,Ky,Yy,Me,{force:0})}}function Jy(r){let t;const e=r[2].default,n=Qt(e,r,r[1],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),t=!0},p(i,[o]){n&&n.p&&(!t||o&2)&&$t(n,e,i,i[1],t?ee(e,i[1],o,null):te(i[1]),null)},i(i){t||(dt(n,i),t=!0)},o(i){mt(n,i),t=!1},d(i){n&&n.d(i)}}}const vd="headlessui-portal-group-context";function Qy(){return fs(vd)}function $y(r,t,e){let{$$slots:n={},$$scope:i}=t,{target:o}=t,s=Ci(o);return Oa(vd,s),r.$$set=u=>{"target"in u&&e(0,o=u.target),"$$scope"in u&&e(1,i=u.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&s.set(o)},[o,i,n]}class t0 extends we{constructor(t){super(),Ee(this,t,$y,Jy,Me,{target:0})}}function e0(r,t){return t&&t.append(r),{update(e){t=e,e.append(r)},destroy(){var e;t!=null&&t.contains(r)&&t.removeChild(r),t&&t.childNodes.length<=0&&((e=t.parentElement)==null||e.removeChild(t))}}}function n0(r){let t,e,n,i,o;const s=r[6].default,u=Qt(s,r,r[5],null);return{c(){t=bt("div"),u&&u.c()},l(l){t=Ct(l,"DIV",{});var p=pt(t);u&&u.l(p),p.forEach(Y)},m(l,p){wt(l,t,p),u&&u.m(t,null),n=!0,i||(o=Nt(e=e0.call(null,t,r[0])),i=!0)},p(l,[p]){u&&u.p&&(!n||p&32)&&$t(u,s,l,l[5],n?ee(s,l[5],p,null):te(l[5]),null),e&&ye(e.update)&&p&1&&e.update.call(null,l[0])},i(l){n||(dt(u,l),n=!0)},o(l){mt(u,l),n=!1},d(l){l&&Y(t),u&&u.d(l),i=!1,o()}}}function r0(r,t,e){let n,i,o,{$$slots:s={},$$scope:u}=t,l=Wy();Dn(r,l,g=>e(4,o=g));let p=Qy();return Dn(r,p,g=>e(3,i=g)),r.$$set=g=>{"$$scope"in g&&e(5,u=g.$$scope)},r.$$.update=()=>{r.$$.dirty&24&&e(0,n=(()=>{if(!(l&&o)&&p!==void 0&&i!==null)return i;if(typeof window>"u")return null;let g=document.getElementById("headlessui-portal-root");if(g)return g;let c=document.createElement("div");return c.setAttribute("id","headlessui-portal-root"),zh().then(()=>{c!==document.body.lastChild&&document.body.appendChild(c)}),document.body.appendChild(c)})())},[n,l,p,i,o,u,s]}class i0 extends we{constructor(t){super(),Ee(this,t,r0,n0,Me,{})}}const Ah="!",o0=new RegExp(`^[^${Ah}]+(?:${Ah}(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$`);function ac(r,t=[]){let e,n=[];r.$on=(o,s)=>{let u=o,l=()=>{};for(let p of t){if(typeof p=="string"&&p===u){const g=r.$$.callbacks[u]||(r.$$.callbacks[u]=[]);return g.push(s),()=>{const c=g.indexOf(s);c!==-1&&g.splice(c,1)}}if(typeof p=="object"&&p.name===u){let g=s;s=(...c)=>{typeof p=="object"&&p.shouldExclude()||g(...c)}}}return e?l=e(u,s):n.push([u,s]),()=>{l()}};function i(o){fg(r,o)}return o=>{const s=[],u={};e=(l,p)=>{let g=l,c=p,_=!1;if(g.match(o0)){const P=g.split(Ah);g=P[0];const k=Object.fromEntries(P.slice(1).map(D=>[D,!0]));k.passive&&(_=_||{},_.passive=!0),k.nonpassive&&(_=_||{},_.passive=!1),k.capture&&(_=_||{},_.capture=!0),k.once&&(_=_||{},_.once=!0),k.preventDefault&&(c=pg(c)),k.stopPropagation&&(c=dg(c))}const M=un(o,g,c,_),S=()=>{M();const P=s.indexOf(S);P>-1&&s.splice(P,1)};return s.push(S),g in u||(u[g]=un(o,g,i)),S};for(let l=0;l<n.length;l++)e(n[l][0],n[l][1]);return{destroy:()=>{for(let l=0;l<s.length;l++)s[l]();for(let l of Object.entries(u))l[1]()}}}}const s0=["a","address","article","aside","b","bdi","bdo","blockquote","button","cite","code","data","datalist","dd","dl","dt","div","em","footer","form","h1","h2","h3","h4","h5","h6","header","i","input","label","li","main","nav","ol","p","section","span","strong","ul"];function a0(r){return!(typeof r=="string"&&!s0.includes(r))}function Ce(r,t){let e=[];if(t)for(let n=0;n<t.length;n++){const i=t[n],o=Array.isArray(i)?i[0]:i;Array.isArray(i)&&i.length>1?e.push(o(r,i[1])):e.push(o(r))}return{update(n){if((n&&n.length||0)!=e.length)throw new Error("You must not change the length of an actions array.");if(n)for(let i=0;i<n.length;i++){const o=e[i];if(o&&o.update){const s=n[i];Array.isArray(s)&&s.length>1?o.update(s[1]):o.update()}}},destroy(){for(let n=0;n<e.length;n++){const i=e[n];i&&i.destroy&&i.destroy()}}}}var xi;(function(r){r[r.None=0]="None",r[r.RenderStrategy=1]="RenderStrategy",r[r.Static=2]="Static"})(xi||(xi={}));function np(r){let t,e,n,i;const o=[X0,q0,j0,Z0,H0,U0,V0,G0,F0,z0,B0,A0,R0,D0,O0,N0,T0,x0,k0,I0,S0,P0,M0,E0,w0,C0,b0,L0,y0,v0,m0,_0,g0,d0,p0,f0,c0,h0,u0,l0],s=[];function u(l,p){return l[1]==="a"?0:l[1]==="address"?1:l[1]==="article"?2:l[1]==="aside"?3:l[1]==="b"?4:l[1]==="bdi"?5:l[1]==="bdo"?6:l[1]==="blockquote"?7:l[1]==="button"?8:l[1]==="cite"?9:l[1]==="code"?10:l[1]==="data"?11:l[1]==="datalist"?12:l[1]==="dd"?13:l[1]==="dl"?14:l[1]==="dt"?15:l[1]==="div"?16:l[1]==="em"?17:l[1]==="footer"?18:l[1]==="form"?19:l[1]==="h1"?20:l[1]==="h2"?21:l[1]==="h3"?22:l[1]==="h4"?23:l[1]==="h5"?24:l[1]==="h6"?25:l[1]==="header"?26:l[1]==="i"?27:l[1]==="input"?28:l[1]==="label"?29:l[1]==="li"?30:l[1]==="main"?31:l[1]==="nav"?32:l[1]==="ol"?33:l[1]==="p"?34:l[1]==="section"?35:l[1]==="span"?36:l[1]==="strong"?37:l[1]==="ul"?38:39}return t=u(r),e=s[t]=o[t](r),{c(){e.c(),n=so()},l(l){e.l(l),n=so()},m(l,p){s[t].m(l,p),wt(l,n,p),i=!0},p(l,p){let g=t;t=u(l),t===g?s[t].p(l,p):(no(),mt(s[g],1,1,()=>{s[g]=null}),ro(),e=s[t],e?e.p(l,p):(e=s[t]=o[t](l),e.c()),dt(e,1),e.m(n.parentNode,n))},i(l){i||(dt(e),i=!0)},o(l){mt(e),i=!1},d(l){s[t].d(l),l&&Y(n)}}}function l0(r){let t,e,n,i;const o=[{use:[...r[2],r[6]]},r[7],r[3],{hidden:r[4]||void 0}];function s(p){r[58](p)}var u=r[1];function l(p){let g={$$slots:{default:[Y0]},$$scope:{ctx:p}};for(let c=0;c<o.length;c+=1)g=Pt(g,o[c]);return p[0]!==void 0&&(g.el=p[0]),{props:g}}return u&&(t=Uc(u,l(r)),re.push(()=>mh(t,"el",s))),{c(){t&&pe(t.$$.fragment),n=so()},l(p){t&&me(t.$$.fragment,p),n=so()},m(p,g){t&&de(t,p,g),wt(p,n,g),i=!0},p(p,g){const c=g[0]&220?qt(o,[g[0]&68&&{use:[...p[2],p[6]]},g[0]&128&&Hc(p[7]),g[0]&8&&Hc(p[3]),g[0]&16&&{hidden:p[4]||void 0}]):{};if(g[1]&268435456&&(c.$$scope={dirty:g,ctx:p}),!e&&g[0]&1&&(e=!0,c.el=p[0],gp(()=>e=!1)),u!==(u=p[1])){if(t){no();const _=t;mt(_.$$.fragment,1,0,()=>{ge(_,1)}),ro()}u?(t=Uc(u,l(p)),re.push(()=>mh(t,"el",s)),pe(t.$$.fragment),dt(t.$$.fragment,1),de(t,n.parentNode,n)):t=null}else u&&t.$set(c)},i(p){i||(t&&dt(t.$$.fragment,p),i=!0)},o(p){t&&mt(t.$$.fragment,p),i=!1},d(p){p&&Y(n),t&&ge(t,p)}}}function u0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("ul"),l&&l.c(),this.h()},l(c){t=Ct(c,"UL",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[57](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[57](null),o=!1,ie(s)}}}function h0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("strong"),l&&l.c(),this.h()},l(c){t=Ct(c,"STRONG",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[56](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[56](null),o=!1,ie(s)}}}function c0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("span"),l&&l.c(),this.h()},l(c){t=Ct(c,"SPAN",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[55](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[55](null),o=!1,ie(s)}}}function f0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("section"),l&&l.c(),this.h()},l(c){t=Ct(c,"SECTION",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[54](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[54](null),o=!1,ie(s)}}}function p0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("p"),l&&l.c(),this.h()},l(c){t=Ct(c,"P",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[53](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[53](null),o=!1,ie(s)}}}function d0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("ol"),l&&l.c(),this.h()},l(c){t=Ct(c,"OL",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[52](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[52](null),o=!1,ie(s)}}}function g0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("nav"),l&&l.c(),this.h()},l(c){t=Ct(c,"NAV",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[51](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[51](null),o=!1,ie(s)}}}function _0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("main"),l&&l.c(),this.h()},l(c){t=Ct(c,"MAIN",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[50](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[50](null),o=!1,ie(s)}}}function m0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("li"),l&&l.c(),this.h()},l(c){t=Ct(c,"LI",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[49](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[49](null),o=!1,ie(s)}}}function v0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("label"),l&&l.c(),this.h()},l(c){t=Ct(c,"LABEL",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[48](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[48](null),o=!1,ie(s)}}}function y0(r){let t,e,n,i,o,s=[r[7],r[3],{hidden:e=r[4]||void 0}],u={};for(let l=0;l<s.length;l+=1)u=Pt(u,s[l]);return{c(){t=bt("input"),this.h()},l(l){t=Ct(l,"INPUT",{}),this.h()},h(){Ot(t,u)},m(l,p){wt(l,t,p),t.autofocus&&t.focus(),r[47](t),i||(o=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],i=!0)},p(l,p){Ot(t,u=qt(s,[p[0]&128&&l[7],p[0]&8&&l[3],p[0]&16&&e!==(e=l[4]||void 0)&&{hidden:e}])),n&&ye(n.update)&&p[0]&4&&n.update.call(null,l[2])},i:Xt,o:Xt,d(l){l&&Y(t),r[47](null),i=!1,ie(o)}}}function L0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("i"),l&&l.c(),this.h()},l(c){t=Ct(c,"I",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[46](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[46](null),o=!1,ie(s)}}}function b0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("header"),l&&l.c(),this.h()},l(c){t=Ct(c,"HEADER",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[45](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[45](null),o=!1,ie(s)}}}function C0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("h6"),l&&l.c(),this.h()},l(c){t=Ct(c,"H6",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[44](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[44](null),o=!1,ie(s)}}}function w0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("h5"),l&&l.c(),this.h()},l(c){t=Ct(c,"H5",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[43](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[43](null),o=!1,ie(s)}}}function E0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("h4"),l&&l.c(),this.h()},l(c){t=Ct(c,"H4",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[42](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[42](null),o=!1,ie(s)}}}function M0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("h3"),l&&l.c(),this.h()},l(c){t=Ct(c,"H3",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[41](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[41](null),o=!1,ie(s)}}}function P0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("h2"),l&&l.c(),this.h()},l(c){t=Ct(c,"H2",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[40](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[40](null),o=!1,ie(s)}}}function S0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("h1"),l&&l.c(),this.h()},l(c){t=Ct(c,"H1",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[39](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[39](null),o=!1,ie(s)}}}function I0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("form"),l&&l.c(),this.h()},l(c){t=Ct(c,"FORM",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[38](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[38](null),o=!1,ie(s)}}}function k0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("footer"),l&&l.c(),this.h()},l(c){t=Ct(c,"FOOTER",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[37](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[37](null),o=!1,ie(s)}}}function x0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("em"),l&&l.c(),this.h()},l(c){t=Ct(c,"EM",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[36](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[36](null),o=!1,ie(s)}}}function T0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("div"),l&&l.c(),this.h()},l(c){t=Ct(c,"DIV",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[35](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[35](null),o=!1,ie(s)}}}function N0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("dt"),l&&l.c(),this.h()},l(c){t=Ct(c,"DT",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[34](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[34](null),o=!1,ie(s)}}}function O0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("dl"),l&&l.c(),this.h()},l(c){t=Ct(c,"DL",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[33](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[33](null),o=!1,ie(s)}}}function D0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("dd"),l&&l.c(),this.h()},l(c){t=Ct(c,"DD",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[32](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[32](null),o=!1,ie(s)}}}function R0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("datalist"),l&&l.c(),this.h()},l(c){t=Ct(c,"DATALIST",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[31](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[31](null),o=!1,ie(s)}}}function A0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("data"),l&&l.c(),this.h()},l(c){t=Ct(c,"DATA",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[30](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[30](null),o=!1,ie(s)}}}function B0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("code"),l&&l.c(),this.h()},l(c){t=Ct(c,"CODE",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[29](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[29](null),o=!1,ie(s)}}}function z0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("cite"),l&&l.c(),this.h()},l(c){t=Ct(c,"CITE",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[28](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[28](null),o=!1,ie(s)}}}function F0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("button"),l&&l.c(),this.h()},l(c){t=Ct(c,"BUTTON",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),t.autofocus&&t.focus(),r[27](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[27](null),o=!1,ie(s)}}}function G0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("blockquote"),l&&l.c(),this.h()},l(c){t=Ct(c,"BLOCKQUOTE",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[26](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[26](null),o=!1,ie(s)}}}function V0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("bdo"),l&&l.c(),this.h()},l(c){t=Ct(c,"BDO",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[25](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[25](null),o=!1,ie(s)}}}function U0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("bdi"),l&&l.c(),this.h()},l(c){t=Ct(c,"BDI",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[24](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[24](null),o=!1,ie(s)}}}function H0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("b"),l&&l.c(),this.h()},l(c){t=Ct(c,"B",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[23](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[23](null),o=!1,ie(s)}}}function Z0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("aside"),l&&l.c(),this.h()},l(c){t=Ct(c,"ASIDE",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[22](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[22](null),o=!1,ie(s)}}}function j0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("article"),l&&l.c(),this.h()},l(c){t=Ct(c,"ARTICLE",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[21](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[21](null),o=!1,ie(s)}}}function q0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("address"),l&&l.c(),this.h()},l(c){t=Ct(c,"ADDRESS",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[20](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[20](null),o=!1,ie(s)}}}function X0(r){let t,e,n,i,o,s;const u=r[18].default,l=Qt(u,r,r[59],null);let p=[r[7],r[3],{hidden:e=r[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=bt("a"),l&&l.c(),this.h()},l(c){t=Ct(c,"A",{});var _=pt(t);l&&l.l(_),_.forEach(Y),this.h()},h(){Ot(t,g)},m(c,_){wt(c,t,_),l&&l.m(t,null),r[19](t),i=!0,o||(s=[Nt(n=Ce.call(null,t,r[2])),Nt(r[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&$t(l,u,c,c[59],i?ee(u,c[59],_,null):te(c[59]),null),Ot(t,g=qt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&e!==(e=c[4]||void 0))&&{hidden:e}])),n&&ye(n.update)&&_[0]&4&&n.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){mt(l,c),i=!1},d(c){c&&Y(t),l&&l.d(c),r[19](null),o=!1,ie(s)}}}function Y0(r){let t;const e=r[18].default,n=Qt(e,r,r[59],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),t=!0},p(i,o){n&&n.p&&(!t||o[1]&268435456)&&$t(n,e,i,i[59],t?ee(e,i[59],o,null):te(i[59]),null)},i(i){t||(dt(n,i),t=!0)},o(i){mt(n,i),t=!1},d(i){n&&n.d(i)}}}function W0(r){let t,e,n=r[5]&&np(r);return{c(){n&&n.c(),t=so()},l(i){n&&n.l(i),t=so()},m(i,o){n&&n.m(i,o),wt(i,t,o),e=!0},p(i,o){i[5]?n?(n.p(i,o),o[0]&32&&dt(n,1)):(n=np(i),n.c(),dt(n,1),n.m(t.parentNode,t)):n&&(no(),mt(n,1,1,()=>{n=null}),ro())},i(i){e||(dt(n),e=!0)},o(i){mt(n),e=!1},d(i){n&&n.d(i),i&&Y(t)}}}var rp;(function(r){r[r.Unmount=0]="Unmount",r[r.Hidden=1]="Hidden"})(rp||(rp={}));function K0(r,t,e){let n,i,o,s,u;const l=["name","as","slotProps","el","use","visible","features","unmount","static","class","style"];let p=Ae(t,l),{$$slots:g={},$$scope:c}=t;const _=ac(Fh());let{name:C}=t,{as:M}=t,{slotProps:S}=t,{el:P=null}=t,{use:k=[]}=t,{visible:D=!0}=t,{features:O=xi.None}=t,{unmount:x=!0}=t,{static:R=!1}=t,{class:F=void 0}=t,{style:B=void 0}=t;if(!M)throw new Error(`<${C}> did not provide an \`as\` value to <Render>`);if(!a0(M))throw new Error(`<${C}> has an invalid or unsupported \`as\` prop: ${M}`);function Z(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function Q(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function nt(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function rt(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function st(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function _t(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function ut(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function gt(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function kt(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function Vt(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function at(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function Ut(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function Rt(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function Tt(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function jt(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function Be(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function Fe(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function le(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function Le(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function pr(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function Mn(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function Hi(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function kr(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function _o(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function $r(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function Zi(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function Xn(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function Go(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function ji(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function mo(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function Mi(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function j(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function I(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function T(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function z(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function q(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function W(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function ct(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function ft(K){re[K?"unshift":"push"](()=>{P=K,e(0,P)})}function St(K){P=K,e(0,P)}return r.$$set=K=>{t=Pt(Pt({},t),je(K)),e(7,p=Ae(t,l)),"name"in K&&e(8,C=K.name),"as"in K&&e(1,M=K.as),"slotProps"in K&&e(9,S=K.slotProps),"el"in K&&e(0,P=K.el),"use"in K&&e(2,k=K.use),"visible"in K&&e(10,D=K.visible),"features"in K&&e(11,O=K.features),"unmount"in K&&e(12,x=K.unmount),"static"in K&&e(13,R=K.static),"class"in K&&e(14,F=K.class),"style"in K&&e(15,B=K.style),"$$scope"in K&&e(59,c=K.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&16896&&e(17,n=typeof F=="function"?F(S):F),r.$$.dirty[0]&33280&&e(16,i=typeof B=="function"?B(S):B),r.$$.dirty[0]&15360&&e(5,o=D||O&xi.Static&&R||!(O&xi.RenderStrategy&&x)),r.$$.dirty[0]&15360&&e(4,s=!D&&!(O&xi.Static&&R)&&O&xi.RenderStrategy&&!x),r.$$.dirty[0]&196624&&e(3,u={class:n,style:`${i??""}${s?" display: none":""}`||void 0}),r.$$.dirty[0]&8&&u.style===void 0&&delete u.style},[P,M,k,u,s,o,_,p,C,S,D,O,x,R,F,B,i,n,g,Z,Q,nt,rt,st,_t,ut,gt,kt,Vt,at,Ut,Rt,Tt,jt,Be,Fe,le,Le,pr,Mn,Hi,kr,_o,$r,Zi,Xn,Go,ji,mo,Mi,j,I,T,z,q,W,ct,ft,St,c]}class yd extends we{constructor(t){super(),Ee(this,t,K0,W0,Me,{name:8,as:1,slotProps:9,el:0,use:2,visible:10,features:11,unmount:12,static:13,class:14,style:15},null,[-1,-1])}}const{window:ip}=dp,J0=r=>r&64,Q0=r=>({}),op=r=>({...r[6]});function $0(r){let t;const e=r[24].default,n=Qt(e,r,r[27],op);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),t=!0},p(i,o){n&&n.p&&(!t||o&134217792)&&$t(n,e,i,i[27],J0(o)||!t?te(i[27]):ee(e,i[27],o,Q0),op)},i(i){t||(dt(n,i),t=!0)},o(i){mt(n,i),t=!1},d(i){n&&n.d(i)}}}function t1(r){let t,e,n;const i=[{...r[14],...r[7]},{as:r[0]},{slotProps:r[6]},{use:[...r[1],r[9]]},{name:"Dialog"},{"aria-describedby":r[30]},{visible:r[8]},{features:xi.RenderStrategy|xi.Static}];function o(u){r[25](u)}let s={$$slots:{default:[$0]},$$scope:{ctx:r}};for(let u=0;u<i.length;u+=1)s=Pt(s,i[u]);return r[3]!==void 0&&(s.el=r[3]),t=new yd({props:s}),re.push(()=>mh(t,"el",o)),t.$on("click",l1),{c(){pe(t.$$.fragment)},l(u){me(t.$$.fragment,u)},m(u,l){de(t,u,l),n=!0},p(u,l){const p=l&1073759171?qt(i,[l&16512&&{...u[14],...u[7]},l&1&&{as:u[0]},l&64&&{slotProps:u[6]},l&514&&{use:[...u[1],u[9]]},i[4],l&1073741824&&{"aria-describedby":u[30]},l&256&&{visible:u[8]},l&0&&{features:xi.RenderStrategy|xi.Static}]):{};l&134217792&&(p.$$scope={dirty:l,ctx:u}),!e&&l&8&&(e=!0,p.el=u[3],gp(()=>e=!1)),t.$set(p)},i(u){n||(dt(t.$$.fragment,u),n=!0)},o(u){mt(t.$$.fragment,u),n=!1},d(u){ge(t,u)}}}function e1(r){let t,e;return t=new Xy({props:{name:"DialogDescription",slotProps:r[6],$$slots:{default:[t1,({describedby:n})=>({30:n}),({describedby:n})=>n?1073741824:0]},$$scope:{ctx:r}}}),{c(){pe(t.$$.fragment)},l(n){me(t.$$.fragment,n)},m(n,i){de(t,n,i),e=!0},p(n,i){const o={};i&64&&(o.slotProps=n[6]),i&1207976395&&(o.$$scope={dirty:i,ctx:n}),t.$set(o)},i(n){e||(dt(t.$$.fragment,n),e=!0)},o(n){mt(t.$$.fragment,n),e=!1},d(n){ge(t,n)}}}function n1(r){let t,e;return t=new md({props:{force:!1,$$slots:{default:[e1]},$$scope:{ctx:r}}}),{c(){pe(t.$$.fragment)},l(n){me(t.$$.fragment,n)},m(n,i){de(t,n,i),e=!0},p(n,i){const o={};i&134234571&&(o.$$scope={dirty:i,ctx:n}),t.$set(o)},i(n){e||(dt(t.$$.fragment,n),e=!0)},o(n){mt(t.$$.fragment,n),e=!1},d(n){ge(t,n)}}}function r1(r){let t,e;return t=new t0({props:{target:r[3],$$slots:{default:[n1]},$$scope:{ctx:r}}}),{c(){pe(t.$$.fragment)},l(n){me(t.$$.fragment,n)},m(n,i){de(t,n,i),e=!0},p(n,i){const o={};i&8&&(o.target=n[3]),i&134234571&&(o.$$scope={dirty:i,ctx:n}),t.$set(o)},i(n){e||(dt(t.$$.fragment,n),e=!0)},o(n){mt(t.$$.fragment,n),e=!1},d(n){ge(t,n)}}}function i1(r){let t,e;return t=new i0({props:{$$slots:{default:[r1]},$$scope:{ctx:r}}}),{c(){pe(t.$$.fragment)},l(n){me(t.$$.fragment,n)},m(n,i){de(t,n,i),e=!0},p(n,i){const o={};i&134234571&&(o.$$scope={dirty:i,ctx:n}),t.$set(o)},i(n){e||(dt(t.$$.fragment,n),e=!0)},o(n){mt(t.$$.fragment,n),e=!1},d(n){ge(t,n)}}}function o1(r){let t,e;return t=new md({props:{force:!0,$$slots:{default:[i1]},$$scope:{ctx:r}}}),{c(){pe(t.$$.fragment)},l(n){me(t.$$.fragment,n)},m(n,i){de(t,n,i),e=!0},p(n,i){const o={};i&134234571&&(o.$$scope={dirty:i,ctx:n}),t.$set(o)},i(n){e||(dt(t.$$.fragment,n),e=!0)},o(n){mt(t.$$.fragment,n),e=!1},d(n){ge(t,n)}}}function s1(r){let t,e,n,i,o,s;return t=new Fy({props:{containers:r[5],enabled:r[4],options:{initialFocus:r[2]}}}),n=new Uy({props:{element:r[3],onUpdate:r[26],$$slots:{default:[o1]},$$scope:{ctx:r}}}),{c(){pe(t.$$.fragment),e=De(),pe(n.$$.fragment)},l(u){me(t.$$.fragment,u),e=Re(u),me(n.$$.fragment,u)},m(u,l){de(t,u,l),wt(u,e,l),de(n,u,l),i=!0,o||(s=[un(ip,"mousedown",r[12]),un(ip,"keydown",r[13])],o=!0)},p(u,[l]){const p={};l&32&&(p.containers=u[5]),l&16&&(p.enabled=u[4]),l&4&&(p.options={initialFocus:u[2]}),t.$set(p);const g={};l&8&&(g.element=u[3]),l&32&&(g.onUpdate=u[26]),l&134234571&&(g.$$scope={dirty:l,ctx:u}),n.$set(g)},i(u){i||(dt(t.$$.fragment,u),dt(n.$$.fragment,u),i=!0)},o(u){mt(t.$$.fragment,u),mt(n.$$.fragment,u),i=!1},d(u){ge(t,u),u&&Y(e),ge(n,u),o=!1,ie(s)}}}var ai;(function(r){r[r.Open=0]="Open",r[r.Closed=1]="Closed"})(ai||(ai={}));const Ld="headlessui-dialog-context";function a1(r){let t=fs(Ld);if(t===void 0)throw new Error(`<${r} /> is missing a parent <Dialog /> component.`);return t}function l1(r){r.stopPropagation()}function u1(r,t,e){let n,i,o,s,u,l,p,g;const c=["as","use","open","initialFocus"];let _=Ae(t,c),C,M,{$$slots:S={},$$scope:P}=t,{as:k="div"}=t,{use:D=[]}=t,{open:O=void 0}=t,{initialFocus:x=null}=t;const R=ac(Fh(),["close"]),F=Pl();let B=new Set,Z=Ty();Dn(r,Z,at=>e(23,M=at));let Q=null;const nt=`headlessui-dialog-${gd()}`;ua(()=>{s&&s()});let rt,st=Ci({titleId:rt,dialogState:n,setTitleId(at){rt!==at&&e(16,rt=at)},close(){F("close",!1)}});Dn(r,st,at=>e(22,C=at)),Oa(Ld,st);async function _t(at){let Ut=at.target;n===ai.Open&&B.size===1&&(Rh(B,Ut)||(C.close(),await zh(),Ut==null||Ut.focus()))}function ut(at){at.key===ku.Escape&&n===ai.Open&&(B.size>1||(at.preventDefault(),at.stopPropagation(),C.close()))}let gt=!1;Tu(()=>e(17,gt=!0)),ua(()=>{u&&u()}),ua(()=>{l&&l()});function kt(at){Q=at,e(3,Q)}const Vt=(at,Ut)=>Dh(at,{[Na.Add](){e(5,B=new Set([...B,Ut]))},[Na.Remove](){B.delete(Ut),e(5,B=new Set([...B]))}});return r.$$set=at=>{t=Pt(Pt({},t),je(at)),e(14,_=Ae(t,c)),"as"in at&&e(0,k=at.as),"use"in at&&e(1,D=at.use),"open"in at&&e(15,O=at.open),"initialFocus"in at&&e(2,x=at.initialFocus),"$$scope"in at&&e(27,P=at.$$scope)},r.$$.update=()=>{if(r.$$.dirty&8421376){if(e(15,O=O===void 0&&Z!==void 0?Dh(M,{[hl.Open]:!0,[hl.Closed]:!1}):O),!(O!==void 0||Z!==void 0))throw new Error("You forgot to provide an `open` prop to the `Dialog` component.");if(typeof O!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${O}`)}r.$$.dirty&32768&&e(18,n=O?ai.Open:ai.Closed),r.$$.dirty&8650752&&e(8,i=Z!==void 0?M===hl.Open:n===ai.Open),r.$$.dirty&262144&&e(4,o=n===ai.Open),r.$$.dirty&2097176&&e(21,s=(()=>(s&&s(),Dy(Q,o)))()),r.$$.dirty&327680&&st.update(at=>({...at,titleId:rt,dialogState:n})),r.$$.dirty&1441792&&e(20,u=(()=>{if(u&&u(),n!==ai.Open||!gt)return;let at=document.documentElement.style.overflow,Ut=document.documentElement.style.paddingRight,Rt=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${Rt}px`,()=>{document.documentElement.style.overflow=at,document.documentElement.style.paddingRight=Ut}})()),r.$$.dirty&4980744&&e(19,l=(()=>{if(l&&l(),n!==ai.Open)return;let at=Q;if(!at)return;let Ut=new IntersectionObserver(Rt=>{for(let Tt of Rt)Tt.boundingClientRect.x===0&&Tt.boundingClientRect.y===0&&Tt.boundingClientRect.width===0&&Tt.boundingClientRect.height===0&&C.close()});return Ut.observe(at),()=>Ut.disconnect()})()),r.$$.dirty&327680&&e(7,p={id:nt,role:"dialog","aria-modal":n===ai.Open?!0:void 0,"aria-labelledby":rt}),r.$$.dirty&32768&&e(6,g={open:O})},[k,D,x,Q,o,B,g,p,i,R,Z,st,_t,ut,_,O,rt,gt,n,l,u,s,C,M,S,kt,Vt,P]}class h1 extends we{constructor(t){super(),Ee(this,t,u1,s1,Me,{as:0,use:1,open:15,initialFocus:2})}}const c1=r=>r&4,f1=r=>({}),sp=r=>({...r[2]});function p1(r){let t;const e=r[9].default,n=Qt(e,r,r[10],sp);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),t=!0},p(i,o){n&&n.p&&(!t||o&1028)&&$t(n,e,i,i[10],c1(o)||!t?te(i[10]):ee(e,i[10],o,f1),sp)},i(i){t||(dt(n,i),t=!0)},o(i){mt(n,i),t=!1},d(i){n&&n.d(i)}}}function d1(r){let t,e;const n=[{...r[7],...r[3]},{as:r[0]},{slotProps:r[2]},{use:[...r[1],r[4]]},{name:"DialogOverlay"}];let i={$$slots:{default:[p1]},$$scope:{ctx:r}};for(let o=0;o<n.length;o+=1)i=Pt(i,n[o]);return t=new yd({props:i}),t.$on("click",r[6]),{c(){pe(t.$$.fragment)},l(o){me(t.$$.fragment,o)},m(o,s){de(t,o,s),e=!0},p(o,[s]){const u=s&159?qt(n,[s&136&&{...o[7],...o[3]},s&1&&{as:o[0]},s&4&&{slotProps:o[2]},s&18&&{use:[...o[1],o[4]]},n[4]]):{};s&1028&&(u.$$scope={dirty:s,ctx:o}),t.$set(u)},i(o){e||(dt(t.$$.fragment,o),e=!0)},o(o){mt(t.$$.fragment,o),e=!1},d(o){ge(t,o)}}}function g1(r,t,e){let n,i;const o=["as","use"];let s=Ae(t,o),u,{$$slots:l={},$$scope:p}=t,{as:g="div"}=t,{use:c=[]}=t;const _=ac(Fh());let C=a1("DialogOverlay");Dn(r,C,P=>e(8,u=P));let M=`headlessui-dialog-overlay-${gd()}`;function S(P){let k=P;k.target===k.currentTarget&&(k.preventDefault(),k.stopPropagation(),u.close())}return r.$$set=P=>{t=Pt(Pt({},t),je(P)),e(7,s=Ae(t,o)),"as"in P&&e(0,g=P.as),"use"in P&&e(1,c=P.use),"$$scope"in P&&e(10,p=P.$$scope)},r.$$.update=()=>{r.$$.dirty&256&&e(2,i={open:u.dialogState===ai.Open})},e(3,n={id:M,"aria-hidden":!0}),[g,c,i,n,_,C,S,s,u,l,p]}class _1 extends we{constructor(t){super(),Ee(this,t,g1,d1,Me,{as:0,use:1})}}var ap;(function(r){r[r.Open=0]="Open",r[r.Closed=1]="Closed"})(ap||(ap={}));var lp;(function(r){r[r.First=0]="First",r[r.Previous=1]="Previous",r[r.Next=2]="Next",r[r.Last=3]="Last",r[r.Specific=4]="Specific",r[r.Nothing=5]="Nothing"})(lp||(lp={}));var up;(function(r){r[r.Open=0]="Open",r[r.Closed=1]="Closed"})(up||(up={}));var hp;(function(r){r[r.Open=0]="Open",r[r.Closed=1]="Closed"})(hp||(hp={}));var cp;(function(r){r[r.Open=0]="Open",r[r.Closed=1]="Closed"})(cp||(cp={}));var fp;(function(r){r.Finished="finished",r.Cancelled="cancelled"})(fp||(fp={}));var pp;(function(r){r.Visible="visible",r.Hidden="hidden"})(pp||(pp={}));var m1={};ic(m1,{TauriEvent:()=>wd,emit:()=>b1,listen:()=>Ed,once:()=>L1});async function bd(r,t){return gs({__tauriModule:"Event",message:{cmd:"unlisten",event:r,eventId:t}})}async function v1(r,t,e){await gs({__tauriModule:"Event",message:{cmd:"emit",event:r,windowLabel:t,payload:e}})}async function Cd(r,t,e){return gs({__tauriModule:"Event",message:{cmd:"listen",event:r,windowLabel:t,handler:Su(e)}}).then(n=>async()=>bd(r,n))}async function y1(r,t,e){return Cd(r,t,n=>{e(n),bd(r,n.id).catch(()=>{})})}var wd=(r=>(r.WINDOW_RESIZED="tauri://resize",r.WINDOW_MOVED="tauri://move",r.WINDOW_CLOSE_REQUESTED="tauri://close-requested",r.WINDOW_CREATED="tauri://window-created",r.WINDOW_DESTROYED="tauri://destroyed",r.WINDOW_FOCUS="tauri://focus",r.WINDOW_BLUR="tauri://blur",r.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",r.WINDOW_THEME_CHANGED="tauri://theme-changed",r.WINDOW_FILE_DROP="tauri://file-drop",r.WINDOW_FILE_DROP_HOVER="tauri://file-drop-hover",r.WINDOW_FILE_DROP_CANCELLED="tauri://file-drop-cancelled",r.MENU="tauri://menu",r.CHECK_UPDATE="tauri://update",r.UPDATE_AVAILABLE="tauri://update-available",r.INSTALL_UPDATE="tauri://update-install",r.STATUS_UPDATE="tauri://update-status",r.DOWNLOAD_PROGRESS="tauri://update-download-progress",r))(wd||{});async function Ed(r,t){return Cd(r,null,t)}async function L1(r,t){return y1(r,null,t)}async function b1(r,t){return v1(r,void 0,t)}function C1(r){let t,e,n,i,o,s,u,l,p,g,c;return{c(){t=bt("div"),e=Sn("svg"),n=Sn("circle"),i=Sn("circle"),o=De(),s=bt("div"),u=bt("div"),l=bt("span"),p=mn(r[0]),g=bt("span"),c=mn("%"),this.h()},l(_){t=Ct(_,"DIV",{class:!0});var C=pt(t);e=In(C,"svg",{class:!0,viewBox:!0,xmlns:!0});var M=pt(e);n=In(M,"circle",{class:!0,r:!0,cx:!0,cy:!0}),pt(n).forEach(Y),i=In(M,"circle",{class:!0,r:!0,cx:!0,cy:!0,style:!0}),pt(i).forEach(Y),M.forEach(Y),o=Re(C),s=Ct(C,"DIV",{class:!0});var S=pt(s);u=Ct(S,"DIV",{});var P=pt(u);l=Ct(P,"SPAN",{class:!0});var k=pt(l);p=vn(k,r[0]),k.forEach(Y),g=Ct(P,"SPAN",{class:!0});var D=pt(g);c=vn(D,"%"),D.forEach(Y),P.forEach(Y),S.forEach(Y),C.forEach(Y),this.h()},h(){yt(n,"class","circle-container__background svelte-o54wqb"),yt(n,"r","16"),yt(n,"cx","16"),yt(n,"cy","16"),yt(i,"class","circle-container__progress svelte-o54wqb"),yt(i,"r","16"),yt(i,"cx","16"),yt(i,"cy","16"),ha(i,"stroke-dashoffset",r[1]),yt(e,"class","circle-container h-full w-full svelte-o54wqb"),yt(e,"viewBox","2 -2 28 36"),yt(e,"xmlns","http://www.w3.org/2000/svg"),yt(l,"class","text-3xl text-gray-800"),yt(g,"class","text-gray-600"),yt(s,"class","absolute inset-0 flex items-center justify-center"),yt(t,"class","relative h-full w-full")},m(_,C){wt(_,t,C),It(t,e),It(e,n),It(e,i),It(t,o),It(t,s),It(s,u),It(u,l),It(l,p),It(u,g),It(g,c)},p(_,[C]){C&2&&ha(i,"stroke-dashoffset",_[1]),C&1&&$o(p,_[0])},i:Xt,o:Xt,d(_){_&&Y(t)}}}function w1(r,t,e){let{progress:n=0}=t,i=100;return r.$$set=o=>{"progress"in o&&e(0,n=o.progress)},r.$$.update=()=>{r.$$.dirty&1&&e(1,i=100-n)},[n,i]}class E1 extends we{constructor(t){super(),Ee(this,t,w1,C1,Me,{progress:0})}}function M1(r){let t,e;return{c(){t=bt("div"),e=mn("data checking..."),this.h()},l(n){t=Ct(n,"DIV",{class:!0});var i=pt(t);e=vn(i,"data checking..."),i.forEach(Y),this.h()},h(){yt(t,"class","animate-pulse")},m(n,i){wt(n,t,i),It(t,e)},p:Xt,i:Xt,o:Xt,d(n){n&&Y(t)}}}function P1(r){let t,e,n,i,o,s,u,l,p,g,c,_,C,M,S,P,k,D,O,x,R,F,B;return O=new E1({props:{progress:r[6]}}),{c(){t=bt("div"),e=bt("div"),n=bt("h1"),i=mn("Importing..."),o=De(),s=bt("p"),u=mn(r[3]),l=mn(" / "),p=mn(r[4]),g=bt("br"),c=De(),_=mn(r[5]),C=De(),M=bt("div"),S=bt("button"),P=mn("Cancel"),k=De(),D=bt("div"),pe(O.$$.fragment),this.h()},l(Z){t=Ct(Z,"DIV",{class:!0});var Q=pt(t);e=Ct(Q,"DIV",{class:!0});var nt=pt(e);n=Ct(nt,"H1",{class:!0});var rt=pt(n);i=vn(rt,"Importing..."),rt.forEach(Y),o=Re(nt),s=Ct(nt,"P",{class:!0});var st=pt(s);u=vn(st,r[3]),l=vn(st," / "),p=vn(st,r[4]),g=Ct(st,"BR",{}),c=Re(st),_=vn(st,r[5]),st.forEach(Y),C=Re(nt),M=Ct(nt,"DIV",{class:!0});var _t=pt(M);S=Ct(_t,"BUTTON",{class:!0});var ut=pt(S);P=vn(ut,"Cancel"),ut.forEach(Y),_t.forEach(Y),nt.forEach(Y),k=Re(Q),D=Ct(Q,"DIV",{class:!0});var gt=pt(D);me(O.$$.fragment,gt),gt.forEach(Y),Q.forEach(Y),this.h()},h(){yt(n,"class","mb-4 text-3xl text-gray-800"),yt(s,"class","mb-4 max-w-xs"),yt(S,"class","rounded-md bg-gray-100 py-1 px-4 text-gray-700 hover:bg-gray-200"),yt(M,"class","mt-auto block"),yt(e,"class","flex flex-col"),yt(D,"class","h-40 w-40"),yt(t,"class","flex flex-wrap gap-4")},m(Z,Q){wt(Z,t,Q),It(t,e),It(e,n),It(n,i),It(e,o),It(e,s),It(s,u),It(s,l),It(s,p),It(s,g),It(s,c),It(s,_),It(e,C),It(e,M),It(M,S),It(S,P),It(t,k),It(t,D),de(O,D,null),R=!0,F||(B=un(S,"click",r[8]),F=!0)},p(Z,Q){(!R||Q&8)&&$o(u,Z[3]),(!R||Q&16)&&$o(p,Z[4]),(!R||Q&32)&&$o(_,Z[5]);const nt={};Q&64&&(nt.progress=Z[6]),O.$set(nt)},i(Z){R||(dt(O.$$.fragment,Z),x||Bh(()=>{x=_p(t,dd,{}),x.start()}),R=!0)},o(Z){mt(O.$$.fragment,Z),R=!1},d(Z){Z&&Y(t),ge(O),F=!1,B()}}}function S1(r){let t,e,n,i,o,s,u,l,p,g,c,_,C,M;return{c(){t=bt("div"),e=bt("h1"),n=mn("First in first."),i=De(),o=bt("p"),s=mn("Import source.zip for registered points and streams."),u=bt("br"),l=mn(`
						If not, it's no reason to use this App.`),p=De(),g=bt("button"),c=mn("Import"),this.h()},l(S){t=Ct(S,"DIV",{class:!0});var P=pt(t);e=Ct(P,"H1",{class:!0});var k=pt(e);n=vn(k,"First in first."),k.forEach(Y),i=Re(P),o=Ct(P,"P",{class:!0});var D=pt(o);s=vn(D,"Import source.zip for registered points and streams."),u=Ct(D,"BR",{}),l=vn(D,`
						If not, it's no reason to use this App.`),D.forEach(Y),p=Re(P),g=Ct(P,"BUTTON",{class:!0});var O=pt(g);c=vn(O,"Import"),O.forEach(Y),P.forEach(Y),this.h()},h(){yt(e,"class","mb-4 text-3xl text-gray-800"),yt(o,"class","mb-4"),yt(g,"class","rounded-md bg-indigo-500 py-1 px-4 text-white hover:bg-indigo-600"),yt(t,"class","block")},m(S,P){wt(S,t,P),It(t,e),It(e,n),It(t,i),It(t,o),It(o,s),It(o,u),It(o,l),It(t,p),It(t,g),It(g,c),C||(M=un(g,"click",r[7]),C=!0)},p:Xt,i(S){_||Bh(()=>{_=_p(t,dd,{}),_.start()})},o:Xt,d(S){S&&Y(t),C=!1,M()}}}function I1(r){let t,e,n,i,o,s,u;t=new _1({props:{class:"absolute inset-0 z-10 bg-black/80"}});const l=[S1,P1,M1],p=[];function g(c,_){return c[1]&&!c[2]?0:c[1]&&c[2]?1:2}return o=g(r),s=p[o]=l[o](r),{c(){pe(t.$$.fragment),e=De(),n=bt("div"),i=bt("div"),s.c(),this.h()},l(c){me(t.$$.fragment,c),e=Re(c),n=Ct(c,"DIV",{class:!0});var _=pt(n);i=Ct(_,"DIV",{class:!0});var C=pt(i);s.l(C),C.forEach(Y),_.forEach(Y),this.h()},h(){yt(i,"class","relative z-20 rounded-sm bg-white p-8"),yt(n,"class","absolute inset-0 z-20 flex items-center justify-center")},m(c,_){de(t,c,_),wt(c,e,_),wt(c,n,_),It(n,i),p[o].m(i,null),u=!0},p(c,_){let C=o;o=g(c),o===C?p[o].p(c,_):(no(),mt(p[C],1,1,()=>{p[C]=null}),ro(),s=p[o],s?s.p(c,_):(s=p[o]=l[o](c),s.c()),dt(s,1),s.m(i,null))},i(c){u||(dt(t.$$.fragment,c),dt(s),u=!0)},o(c){mt(t.$$.fragment,c),mt(s),u=!1},d(c){ge(t,c),c&&Y(e),c&&Y(n),p[o].d()}}}function k1(r){let t,e;return t=new h1({props:{open:r[0],class:"fixed inset-0 z-20",$$slots:{default:[I1]},$$scope:{ctx:r}}}),{c(){pe(t.$$.fragment)},l(n){me(t.$$.fragment,n)},m(n,i){de(t,n,i),e=!0},p(n,[i]){const o={};i&1&&(o.open=n[0]),i&1150&&(o.$$scope={dirty:i,ctx:n}),t.$set(o)},i(n){e||(dt(t.$$.fragment,n),e=!0)},o(n){mt(t.$$.fragment,n),e=!1},d(n){ge(t,n)}}}function x1(r,t,e){let n=!0,i=!1,o=!1,s="-",u="-",l="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolor fugit, nihil unde neque quaerat reiciendis. Et est unde placeat, possimus architecto quod praesentium ad eius saepe ex maiores. Ab, eos!",p=0;return Tu(async()=>{await Ed("import-progress",C=>{console.log("event arrived",C),e(3,s=C.payload.current),e(4,u=C.payload.total),e(5,l=C.payload.message),e(6,p=Math.round(C.payload.current/C.payload.total*100))});const _=await Fo("check_initiation");e(1,i=!0),e(0,n=!_)}),[n,i,o,s,u,l,p,async()=>{const _=await qu({multiple:!1,filters:[{name:"Image",extensions:["png","jpeg","zip"]}]});console.dir(_),e(2,o=!0),Array.isArray(_)||_===null||await Fo("greet",{name:_}),e(0,n=!1)},async()=>{alert("not implemented yet")}]}class T1 extends we{constructor(t){super(),Ee(this,t,x1,k1,Me,{})}}function N1(r){let t,e,n,i,o,s,u;return t=new T1({}),i=new Yv({}),s=new ky({}),{c(){pe(t.$$.fragment),e=De(),n=bt("div"),pe(i.$$.fragment),o=De(),pe(s.$$.fragment),this.h()},l(l){me(t.$$.fragment,l),e=Re(l),n=Ct(l,"DIV",{class:!0});var p=pt(n);me(i.$$.fragment,p),o=Re(p),me(s.$$.fragment,p),p.forEach(Y),this.h()},h(){yt(n,"class","grid h-full w-full grid-rows-[auto,_min-content]")},m(l,p){de(t,l,p),wt(l,e,p),wt(l,n,p),de(i,n,null),It(n,o),de(s,n,null),u=!0},p:Xt,i(l){u||(dt(t.$$.fragment,l),dt(i.$$.fragment,l),dt(s.$$.fragment,l),u=!0)},o(l){mt(t.$$.fragment,l),mt(i.$$.fragment,l),mt(s.$$.fragment,l),u=!1},d(l){ge(t,l),l&&Y(e),l&&Y(n),ge(i),ge(s)}}}class A1 extends we{constructor(t){super(),Ee(this,t,null,N1,Me,{})}}export{A1 as default};
