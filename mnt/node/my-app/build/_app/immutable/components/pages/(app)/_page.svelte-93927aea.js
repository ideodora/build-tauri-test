import{S as re,i as oe,s as ae,I as vt,J as De,K as Ie,m as at,h as K,L as Pe,b as gt,M as zt,B as Ot,N as pe,O as me,P as hl,k as pt,a as fe,w as Xt,l as _t,c as de,x as $t,n as ct,G as Lt,Q as ea,y as Jt,R as Ce,f as st,g as wn,t as ut,d as Pn,z as Qt,T as Vt,H as Ge,U as er,V as _o,W as na,X as cl,q as xe,r as Be,u as Yn,Y as Ei,p as Ti,Z as Pr,_ as Jn,e as Cn,$ as Bi,o as Ar,C as Rt,D as Nt,E as Ht,F as Zt,a0 as Gt,a1 as Si,a2 as is,A as go,a3 as kt,a4 as te,a5 as fl,a6 as dl,a7 as pl,a8 as mo,v as ia,a9 as ro,aa as ra,ab as rs,ac as Mt,ad as os}from"../../../chunks/index-fe7b48ea.js";import{w as pn}from"../../../chunks/index-52c8aabd.js";import{s as _l,u as gl}from"../../../chunks/firebase-a8362361.js";const ml="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",vl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",yl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==";function as(h,n,f){f===void 0&&(f={});var u={type:"Feature"};return(f.id===0||f.id)&&(u.id=f.id),f.bbox&&(u.bbox=f.bbox),u.properties=n||{},u.geometry=h,u}function oo(h,n,f){if(f===void 0&&(f={}),!h)throw new Error("coordinates is required");if(!Array.isArray(h))throw new Error("coordinates must be an Array");if(h.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!oa(h[0])||!oa(h[1]))throw new Error("coordinates must contain numbers");var u={type:"Point",coordinates:h};return as(u,n,f)}function Ll(h,n,f){if(f===void 0&&(f={}),h.length<2)throw new Error("coordinates must be an array of two or more positions");var u={type:"LineString",coordinates:h};return as(u,n,f)}function oa(h){return!isNaN(h)&&h!==null&&!Array.isArray(h)}var ss=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},we={},bl={get exports(){return we},set exports(h){we=h}};/* @preserve
 * Leaflet 1.9.3, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(h,n){(function(f,u){u(n)})(ss,function(f){var u="1.9.3";function a(t){var r,d,y,k;for(d=1,y=arguments.length;d<y;d++){k=arguments[d];for(r in k)t[r]=k[r]}return t}var i=Object.create||function(){function t(){}return function(r){return t.prototype=r,new t}}();function c(t,r){var d=Array.prototype.slice;if(t.bind)return t.bind.apply(t,d.call(arguments,1));var y=d.call(arguments,2);return function(){return t.apply(r,y.length?y.concat(d.call(arguments)):arguments)}}var p=0;function o(t){return"_leaflet_id"in t||(t._leaflet_id=++p),t._leaflet_id}function m(t,r,d){var y,k,E,U;return U=function(){y=!1,k&&(E.apply(d,k),k=!1)},E=function(){y?k=arguments:(t.apply(d,arguments),setTimeout(U,r),y=!0)},E}function v(t,r,d){var y=r[1],k=r[0],E=y-k;return t===y&&d?t:((t-k)%E+E)%E+k}function s(){return!1}function g(t,r){if(r===!1)return t;var d=Math.pow(10,r===void 0?6:r);return Math.round(t*d)/d}function S(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function z(t){return S(t).split(/\s+/)}function x(t,r){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?i(t.options):{});for(var d in r)t.options[d]=r[d];return t.options}function T(t,r,d){var y=[];for(var k in t)y.push(encodeURIComponent(d?k.toUpperCase():k)+"="+encodeURIComponent(t[k]));return(!r||r.indexOf("?")===-1?"?":"&")+y.join("&")}var A=/\{ *([\w_ -]+) *\}/g;function H(t,r){return t.replace(A,function(d,y){var k=r[y];if(k===void 0)throw new Error("No value provided for variable "+d);return typeof k=="function"&&(k=k(r)),k})}var I=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function P(t,r){for(var d=0;d<t.length;d++)if(t[d]===r)return d;return-1}var O="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Z(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var Y=0;function Q(t){var r=+new Date,d=Math.max(0,16-(r-Y));return Y=r+d,window.setTimeout(t,d)}var et=window.requestAnimationFrame||Z("RequestAnimationFrame")||Q,lt=window.cancelAnimationFrame||Z("CancelAnimationFrame")||Z("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function ft(t,r,d){if(d&&et===Q)t.call(r);else return et.call(window,c(t,r))}function dt(t){t&&lt.call(window,t)}var bt={__proto__:null,extend:a,create:i,bind:c,get lastId(){return p},stamp:o,throttle:m,wrapNum:v,falseFn:s,formatNum:g,trim:S,splitWords:z,setOptions:x,getParamString:T,template:H,isArray:I,indexOf:P,emptyImageUrl:O,requestFn:et,cancelFn:lt,requestAnimFrame:ft,cancelAnimFrame:dt};function At(){}At.extend=function(t){var r=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=r.__super__=this.prototype,y=i(d);y.constructor=r,r.prototype=y;for(var k in this)Object.prototype.hasOwnProperty.call(this,k)&&k!=="prototype"&&k!=="__super__"&&(r[k]=this[k]);return t.statics&&a(r,t.statics),t.includes&&(Pt(t.includes),a.apply(null,[y].concat(t.includes))),a(y,t),delete y.statics,delete y.includes,y.options&&(y.options=d.options?i(d.options):{},a(y.options,t.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,U=y._initHooks.length;E<U;E++)y._initHooks[E].call(this)}},r},At.include=function(t){var r=this.prototype.options;return a(this.prototype,t),t.options&&(this.prototype.options=r,this.mergeOptions(t.options)),this},At.mergeOptions=function(t){return a(this.prototype.options,t),this},At.addInitHook=function(t){var r=Array.prototype.slice.call(arguments,1),d=typeof t=="function"?t:function(){this[t].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function Pt(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=I(t)?t:[t];for(var r=0;r<t.length;r++)t[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var xt={on:function(t,r,d){if(typeof t=="object")for(var y in t)this._on(y,t[y],r);else{t=z(t);for(var k=0,E=t.length;k<E;k++)this._on(t[k],r,d)}return this},off:function(t,r,d){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var y in t)this._off(y,t[y],r);else{t=z(t);for(var k=arguments.length===1,E=0,U=t.length;E<U;E++)k?this._off(t[E]):this._off(t[E],r,d)}return this},_on:function(t,r,d,y){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(t,r,d)===!1){d===this&&(d=void 0);var k={fn:r,ctx:d};y&&(k.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(k)}},_off:function(t,r,d){var y,k,E;if(this._events&&(y=this._events[t],!!y)){if(arguments.length===1){if(this._firingCount)for(k=0,E=y.length;k<E;k++)y[k].fn=s;delete this._events[t];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var U=this._listens(t,r,d);if(U!==!1){var J=y[U];this._firingCount&&(J.fn=s,this._events[t]=y=y.slice()),y.splice(U,1)}}},fire:function(t,r,d){if(!this.listens(t,d))return this;var y=a({},r,{type:t,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var k=this._events[t];if(k){this._firingCount=this._firingCount+1||1;for(var E=0,U=k.length;E<U;E++){var J=k[E],$=J.fn;J.once&&this.off(t,$,J.ctx),$.call(J.ctx||this,y)}this._firingCount--}}return d&&this._propagateEvent(y),this},listens:function(t,r,d,y){typeof t!="string"&&console.warn('"string" type argument expected');var k=r;typeof r!="function"&&(y=!!r,k=void 0,d=void 0);var E=this._events&&this._events[t];if(E&&E.length&&this._listens(t,k,d)!==!1)return!0;if(y){for(var U in this._eventParents)if(this._eventParents[U].listens(t,r,d,y))return!0}return!1},_listens:function(t,r,d){if(!this._events)return!1;var y=this._events[t]||[];if(!r)return!!y.length;d===this&&(d=void 0);for(var k=0,E=y.length;k<E;k++)if(y[k].fn===r&&y[k].ctx===d)return k;return!1},once:function(t,r,d){if(typeof t=="object")for(var y in t)this._on(y,t[y],r,!0);else{t=z(t);for(var k=0,E=t.length;k<E;k++)this._on(t[k],r,d,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[o(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[o(t)],this},_propagateEvent:function(t){for(var r in this._eventParents)this._eventParents[r].fire(t.type,a({layer:t.target,propagatedFrom:t.target},t),!0)}};xt.addEventListener=xt.on,xt.removeEventListener=xt.clearAllEventListeners=xt.off,xt.addOneTimeEventListener=xt.once,xt.fireEvent=xt.fire,xt.hasEventListeners=xt.listens;var se=At.extend(xt);function rt(t,r,d){this.x=d?Math.round(t):t,this.y=d?Math.round(r):r}var It=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};rt.prototype={clone:function(){return new rt(this.x,this.y)},add:function(t){return this.clone()._add(St(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(St(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new rt(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new rt(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=It(this.x),this.y=It(this.y),this},distanceTo:function(t){t=St(t);var r=t.x-this.x,d=t.y-this.y;return Math.sqrt(r*r+d*d)},equals:function(t){return t=St(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=St(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function St(t,r,d){return t instanceof rt?t:I(t)?new rt(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new rt(t.x,t.y):new rt(t,r,d)}function Et(t,r){if(t)for(var d=r?[t,r]:t,y=0,k=d.length;y<k;y++)this.extend(d[y])}Et.prototype={extend:function(t){var r,d;if(!t)return this;if(t instanceof rt||typeof t[0]=="number"||"x"in t)r=d=St(t);else if(t=Ut(t),r=t.min,d=t.max,!r||!d)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=d.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(t){return St((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return St(this.min.x,this.max.y)},getTopRight:function(){return St(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var r,d;return typeof t[0]=="number"||t instanceof rt?t=St(t):t=Ut(t),t instanceof Et?(r=t.min,d=t.max):r=d=t,r.x>=this.min.x&&d.x<=this.max.x&&r.y>=this.min.y&&d.y<=this.max.y},intersects:function(t){t=Ut(t);var r=this.min,d=this.max,y=t.min,k=t.max,E=k.x>=r.x&&y.x<=d.x,U=k.y>=r.y&&y.y<=d.y;return E&&U},overlaps:function(t){t=Ut(t);var r=this.min,d=this.max,y=t.min,k=t.max,E=k.x>r.x&&y.x<d.x,U=k.y>r.y&&y.y<d.y;return E&&U},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var r=this.min,d=this.max,y=Math.abs(r.x-d.x)*t,k=Math.abs(r.y-d.y)*t;return Ut(St(r.x-y,r.y-k),St(d.x+y,d.y+k))},equals:function(t){return t?(t=Ut(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Ut(t,r){return!t||t instanceof Et?t:new Et(t,r)}function Ee(t,r){if(t)for(var d=r?[t,r]:t,y=0,k=d.length;y<k;y++)this.extend(d[y])}Ee.prototype={extend:function(t){var r=this._southWest,d=this._northEast,y,k;if(t instanceof he)y=t,k=t;else if(t instanceof Ee){if(y=t._southWest,k=t._northEast,!y||!k)return this}else return t?this.extend(ee(t)||be(t)):this;return!r&&!d?(this._southWest=new he(y.lat,y.lng),this._northEast=new he(k.lat,k.lng)):(r.lat=Math.min(y.lat,r.lat),r.lng=Math.min(y.lng,r.lng),d.lat=Math.max(k.lat,d.lat),d.lng=Math.max(k.lng,d.lng)),this},pad:function(t){var r=this._southWest,d=this._northEast,y=Math.abs(r.lat-d.lat)*t,k=Math.abs(r.lng-d.lng)*t;return new Ee(new he(r.lat-y,r.lng-k),new he(d.lat+y,d.lng+k))},getCenter:function(){return new he((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new he(this.getNorth(),this.getWest())},getSouthEast:function(){return new he(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof he||"lat"in t?t=ee(t):t=be(t);var r=this._southWest,d=this._northEast,y,k;return t instanceof Ee?(y=t.getSouthWest(),k=t.getNorthEast()):y=k=t,y.lat>=r.lat&&k.lat<=d.lat&&y.lng>=r.lng&&k.lng<=d.lng},intersects:function(t){t=be(t);var r=this._southWest,d=this._northEast,y=t.getSouthWest(),k=t.getNorthEast(),E=k.lat>=r.lat&&y.lat<=d.lat,U=k.lng>=r.lng&&y.lng<=d.lng;return E&&U},overlaps:function(t){t=be(t);var r=this._southWest,d=this._northEast,y=t.getSouthWest(),k=t.getNorthEast(),E=k.lat>r.lat&&y.lat<d.lat,U=k.lng>r.lng&&y.lng<d.lng;return E&&U},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,r){return t?(t=be(t),this._southWest.equals(t.getSouthWest(),r)&&this._northEast.equals(t.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function be(t,r){return t instanceof Ee?t:new Ee(t,r)}function he(t,r,d){if(isNaN(t)||isNaN(r))throw new Error("Invalid LatLng object: ("+t+", "+r+")");this.lat=+t,this.lng=+r,d!==void 0&&(this.alt=+d)}he.prototype={equals:function(t,r){if(!t)return!1;t=ee(t);var d=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return d<=(r===void 0?1e-9:r)},toString:function(t){return"LatLng("+g(this.lat,t)+", "+g(this.lng,t)+")"},distanceTo:function(t){return ze.distance(this,ee(t))},wrap:function(){return ze.wrapLatLng(this)},toBounds:function(t){var r=180*t/40075017,d=r/Math.cos(Math.PI/180*this.lat);return be([this.lat-r,this.lng-d],[this.lat+r,this.lng+d])},clone:function(){return new he(this.lat,this.lng,this.alt)}};function ee(t,r,d){return t instanceof he?t:I(t)&&typeof t[0]!="object"?t.length===3?new he(t[0],t[1],t[2]):t.length===2?new he(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new he(t.lat,"lng"in t?t.lng:t.lon,t.alt):r===void 0?null:new he(t,r,d)}var Ke={latLngToPoint:function(t,r){var d=this.projection.project(t),y=this.scale(r);return this.transformation._transform(d,y)},pointToLatLng:function(t,r){var d=this.scale(r),y=this.transformation.untransform(t,d);return this.projection.unproject(y)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var r=this.projection.bounds,d=this.scale(t),y=this.transformation.transform(r.min,d),k=this.transformation.transform(r.max,d);return new Et(y,k)},infinite:!1,wrapLatLng:function(t){var r=this.wrapLng?v(t.lng,this.wrapLng,!0):t.lng,d=this.wrapLat?v(t.lat,this.wrapLat,!0):t.lat,y=t.alt;return new he(d,r,y)},wrapLatLngBounds:function(t){var r=t.getCenter(),d=this.wrapLatLng(r),y=r.lat-d.lat,k=r.lng-d.lng;if(y===0&&k===0)return t;var E=t.getSouthWest(),U=t.getNorthEast(),J=new he(E.lat-y,E.lng-k),$=new he(U.lat-y,U.lng-k);return new Ee(J,$)}},ze=a({},Ke,{wrapLng:[-180,180],R:6371e3,distance:function(t,r){var d=Math.PI/180,y=t.lat*d,k=r.lat*d,E=Math.sin((r.lat-t.lat)*d/2),U=Math.sin((r.lng-t.lng)*d/2),J=E*E+Math.cos(y)*Math.cos(k)*U*U,$=2*Math.atan2(Math.sqrt(J),Math.sqrt(1-J));return this.R*$}}),_n=6378137,Xe={R:_n,MAX_LATITUDE:85.0511287798,project:function(t){var r=Math.PI/180,d=this.MAX_LATITUDE,y=Math.max(Math.min(d,t.lat),-d),k=Math.sin(y*r);return new rt(this.R*t.lng*r,this.R*Math.log((1+k)/(1-k))/2)},unproject:function(t){var r=180/Math.PI;return new he((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*r,t.x*r/this.R)},bounds:function(){var t=_n*Math.PI;return new Et([-t,-t],[t,t])}()};function En(t,r,d,y){if(I(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=r,this._c=d,this._d=y}En.prototype={transform:function(t,r){return this._transform(t.clone(),r)},_transform:function(t,r){return r=r||1,t.x=r*(this._a*t.x+this._b),t.y=r*(this._c*t.y+this._d),t},untransform:function(t,r){return r=r||1,new rt((t.x/r-this._b)/this._a,(t.y/r-this._d)/this._c)}};function en(t,r,d,y){return new En(t,r,d,y)}var gn=a({},ze,{code:"EPSG:3857",projection:Xe,transformation:function(){var t=.5/(Math.PI*Xe.R);return en(t,.5,-t,.5)}()}),Ze=a({},gn,{code:"EPSG:900913"});function Hn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function mn(t,r){var d="",y,k,E,U,J,$;for(y=0,E=t.length;y<E;y++){for(J=t[y],k=0,U=J.length;k<U;k++)$=J[k],d+=(k?"L":"M")+$.x+" "+$.y;d+=r?Tt.svg?"z":"x":""}return d||"M0 0"}var Sn=document.documentElement.style,un="ActiveXObject"in window,V=un&&!document.addEventListener,w="msLaunchUri"in navigator&&!("documentMode"in document),C=Je("webkit"),D=Je("android"),F=Je("android 2")||Je("android 3"),q=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),it=D&&Je("Google")&&q<537&&!("AudioNode"in window),ot=!!window.opera,yt=!w&&Je("chrome"),W=Je("gecko")&&!C&&!ot&&!un,Kt=!yt&&Je("safari"),le=Je("phantom"),ne="OTransition"in Sn,ke=navigator.platform.indexOf("Win")===0,qt=un&&"transition"in Sn,ve="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!F,Se="MozPerspective"in Sn,Ne=!window.L_DISABLE_3D&&(qt||ve||Se)&&!ne&&!le,Ae=typeof orientation<"u"||Je("mobile"),Ve=Ae&&C,Fe=Ae&&ve,nn=!window.PointerEvent&&window.MSPointerEvent,$e=!!(window.PointerEvent||nn),qe="ontouchstart"in window||!!window.TouchEvent,tn=!window.L_NO_TOUCH&&(qe||$e),hn=Ae&&ot,Tn=Ae&&W,Ue=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,He=function(){var t=!1;try{var r=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",s,r),window.removeEventListener("testPassiveEventSupport",s,r)}catch{}return t}(),vn=function(){return!!document.createElement("canvas").getContext}(),fi=!!(document.createElementNS&&Hn("svg").createSVGRect),Oi=!!fi&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),$n=!fi&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var r=t.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}(),Rr=navigator.platform.indexOf("Mac")===0,zi=navigator.platform.indexOf("Linux")===0;function Je(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Tt={ie:un,ielt9:V,edge:w,webkit:C,android:D,android23:F,androidStock:it,opera:ot,chrome:yt,gecko:W,safari:Kt,phantom:le,opera12:ne,win:ke,ie3d:qt,webkit3d:ve,gecko3d:Se,any3d:Ne,mobile:Ae,mobileWebkit:Ve,mobileWebkit3d:Fe,msPointer:nn,pointer:$e,touch:tn,touchNative:qe,mobileOpera:hn,mobileGecko:Tn,retina:Ue,passiveEvents:He,canvas:vn,svg:fi,vml:$n,inlineSvg:Oi,mac:Rr,linux:zi},Ai=Tt.msPointer?"MSPointerDown":"pointerdown",yn=Tt.msPointer?"MSPointerMove":"pointermove",Ln=Tt.msPointer?"MSPointerUp":"pointerup",nr=Tt.msPointer?"MSPointerCancel":"pointercancel",ti={touchstart:Ai,touchmove:yn,touchend:Ln,touchcancel:nr},Zn={touchstart:pi,touchmove:di,touchend:di,touchcancel:di},jn={},Di=!1;function ir(t,r,d){return r==="touchstart"&&Ni(),Zn[r]?(d=Zn[r].bind(this,d),t.addEventListener(ti[r],d,!1),d):(console.warn("wrong event specified:",r),s)}function Nr(t,r,d){if(!ti[r]){console.warn("wrong event specified:",r);return}t.removeEventListener(ti[r],d,!1)}function rr(t){jn[t.pointerId]=t}function Ii(t){jn[t.pointerId]&&(jn[t.pointerId]=t)}function Ri(t){delete jn[t.pointerId]}function Ni(){Di||(document.addEventListener(Ai,rr,!0),document.addEventListener(yn,Ii,!0),document.addEventListener(Ln,Ri,!0),document.addEventListener(nr,Ri,!0),Di=!0)}function di(t,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var d in jn)r.touches.push(jn[d]);r.changedTouches=[r],t(r)}}function pi(t,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&G(r),di(t,r)}function or(t){var r={},d,y;for(y in t)d=t[y],r[y]=d&&d.bind?d.bind(t):d;return t=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var Hr=200;function ei(t,r){t.addEventListener("dblclick",r);var d=0,y;function k(E){if(E.detail!==1){y=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var U=nt(E);if(!(U.some(function($){return $ instanceof HTMLLabelElement&&$.attributes.for})&&!U.some(function($){return $ instanceof HTMLInputElement||$ instanceof HTMLSelectElement}))){var J=Date.now();J-d<=Hr?(y++,y===2&&r(or(E))):y=1,d=J}}}return t.addEventListener("click",k),{dblclick:r,simDblclick:k}}function Zr(t,r){t.removeEventListener("dblclick",r.dblclick),t.removeEventListener("click",r.simDblclick)}var _i=mi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),xn=mi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ar=xn==="webkitTransition"||xn==="OTransition"?xn+"End":"transitionend";function sr(t){return typeof t=="string"?document.getElementById(t):t}function Gn(t,r){var d=t.style[r]||t.currentStyle&&t.currentStyle[r];if((!d||d==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(t,null);d=y?y[r]:null}return d==="auto"?null:d}function ue(t,r,d){var y=document.createElement(t);return y.className=r||"",d&&d.appendChild(y),y}function ye(t){var r=t.parentNode;r&&r.removeChild(t)}function ni(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Bn(t){var r=t.parentNode;r&&r.lastChild!==t&&r.appendChild(t)}function On(t){var r=t.parentNode;r&&r.firstChild!==t&&r.insertBefore(t,r.firstChild)}function gi(t,r){if(t.classList!==void 0)return t.classList.contains(r);var d=ii(t);return d.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(d)}function Wt(t,r){if(t.classList!==void 0)for(var d=z(r),y=0,k=d.length;y<k;y++)t.classList.add(d[y]);else if(!gi(t,r)){var E=ii(t);Hi(t,(E?E+" ":"")+r)}}function Te(t,r){t.classList!==void 0?t.classList.remove(r):Hi(t,S((" "+ii(t)+" ").replace(" "+r+" "," ")))}function Hi(t,r){t.className.baseVal===void 0?t.className=r:t.className.baseVal=r}function ii(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Qe(t,r){"opacity"in t.style?t.style.opacity=r:"filter"in t.style&&Zi(t,r)}function Zi(t,r){var d=!1,y="DXImageTransform.Microsoft.Alpha";try{d=t.filters.item(y)}catch{if(r===1)return}r=Math.round(r*100),d?(d.Enabled=r!==100,d.Opacity=r):t.style.filter+=" progid:"+y+"(opacity="+r+")"}function mi(t){for(var r=document.documentElement.style,d=0;d<t.length;d++)if(t[d]in r)return t[d];return!1}function bn(t,r,d){var y=r||new rt(0,0);t.style[_i]=(Tt.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(d?" scale("+d+")":"")}function Me(t,r){t._leaflet_pos=r,Tt.any3d?bn(t,r):(t.style.left=r.x+"px",t.style.top=r.y+"px")}function rn(t){return t._leaflet_pos||new rt(0,0)}var ri,oi,Oe;if("onselectstart"in document)ri=function(){Ft(window,"selectstart",G)},oi=function(){l(window,"selectstart",G)};else{var kn=mi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ri=function(){if(kn){var t=document.documentElement.style;Oe=t[kn],t[kn]="none"}},oi=function(){kn&&(document.documentElement.style[kn]=Oe,Oe=void 0)}}function ai(){Ft(window,"dragstart",G)}function ji(){l(window,"dragstart",G)}var vi,yi;function Gi(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Vn(),vi=t,yi=t.style.outline,t.style.outline="none",Ft(window,"keydown",Vn))}function Vn(){vi&&(vi.style.outline=yi,vi=void 0,yi=void 0,l(window,"keydown",Vn))}function Li(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Vi(t){var r=t.getBoundingClientRect();return{x:r.width/t.offsetWidth||1,y:r.height/t.offsetHeight||1,boundingClientRect:r}}var jr={__proto__:null,TRANSFORM:_i,TRANSITION:xn,TRANSITION_END:ar,get:sr,getStyle:Gn,create:ue,remove:ye,empty:ni,toFront:Bn,toBack:On,hasClass:gi,addClass:Wt,removeClass:Te,setClass:Hi,getClass:ii,setOpacity:Qe,testProp:mi,setTransform:bn,setPosition:Me,getPosition:rn,get disableTextSelection(){return ri},get enableTextSelection(){return oi},disableImageDrag:ai,enableImageDrag:ji,preventOutline:Gi,restoreOutline:Vn,getSizedParentNode:Li,getScale:Vi};function Ft(t,r,d,y){if(r&&typeof r=="object")for(var k in r)M(t,k,r[k],d);else{r=z(r);for(var E=0,U=r.length;E<U;E++)M(t,r[E],d,y)}return this}var e="_leaflet_events";function l(t,r,d,y){if(arguments.length===1)_(t),delete t[e];else if(r&&typeof r=="object")for(var k in r)B(t,k,r[k],d);else if(r=z(r),arguments.length===2)_(t,function(J){return P(r,J)!==-1});else for(var E=0,U=r.length;E<U;E++)B(t,r[E],d,y);return this}function _(t,r){for(var d in t[e]){var y=d.split(/\d/)[0];(!r||r(y))&&B(t,y,null,null,d)}}var b={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function M(t,r,d,y){var k=r+o(d)+(y?"_"+o(y):"");if(t[e]&&t[e][k])return this;var E=function(J){return d.call(y||t,J||window.event)},U=E;!Tt.touchNative&&Tt.pointer&&r.indexOf("touch")===0?E=ir(t,r,E):Tt.touch&&r==="dblclick"?E=ei(t,E):"addEventListener"in t?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?t.addEventListener(b[r]||r,E,Tt.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(E=function(J){J=J||window.event,Dt(t,J)&&U(J)},t.addEventListener(b[r],E,!1)):t.addEventListener(r,U,!1):t.attachEvent("on"+r,E),t[e]=t[e]||{},t[e][k]=E}function B(t,r,d,y,k){k=k||r+o(d)+(y?"_"+o(y):"");var E=t[e]&&t[e][k];if(!E)return this;!Tt.touchNative&&Tt.pointer&&r.indexOf("touch")===0?Nr(t,r,E):Tt.touch&&r==="dblclick"?Zr(t,E):"removeEventListener"in t?t.removeEventListener(b[r]||r,E,!1):t.detachEvent("on"+r,E),t[e][k]=null}function R(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function j(t){return M(t,"wheel",R),this}function N(t){return Ft(t,"mousedown touchstart dblclick contextmenu",R),t._leaflet_disable_click=!0,this}function G(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function X(t){return G(t),R(t),this}function nt(t){if(t.composedPath)return t.composedPath();for(var r=[],d=t.target;d;)r.push(d),d=d.parentNode;return r}function tt(t,r){if(!r)return new rt(t.clientX,t.clientY);var d=Vi(r),y=d.boundingClientRect;return new rt((t.clientX-y.left)/d.x-r.clientLeft,(t.clientY-y.top)/d.y-r.clientTop)}var mt=Tt.linux&&Tt.chrome?window.devicePixelRatio:Tt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function wt(t){return Tt.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/mt:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Dt(t,r){var d=r.relatedTarget;if(!d)return!0;try{for(;d&&d!==t;)d=d.parentNode}catch{return!1}return d!==t}var Yt={__proto__:null,on:Ft,off:l,stopPropagation:R,disableScrollPropagation:j,disableClickPropagation:N,preventDefault:G,stop:X,getPropagationPath:nt,getMousePosition:tt,getWheelDelta:wt,isExternalTarget:Dt,addListener:Ft,removeListener:l},_e=se.extend({run:function(t,r,d,y){this.stop(),this._el=t,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=rn(t),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ft(this._animate,this),this._step()},_step:function(t){var r=+new Date-this._startTime,d=this._duration*1e3;r<d?this._runFrame(this._easeOut(r/d),t):(this._runFrame(1),this._complete())},_runFrame:function(t,r){var d=this._startPos.add(this._offset.multiplyBy(t));r&&d._round(),Me(this._el,d),this.fire("step")},_complete:function(){dt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Bt=se.extend({options:{crs:gn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,r){r=x(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(ee(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=xn&&Tt.any3d&&!Tt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ft(this._proxy,ar,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,r,d){if(r=r===void 0?this._zoom:this._limitZoom(r),t=this._limitCenter(ee(t),r,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=a({animate:d.animate},d.zoom),d.pan=a({animate:d.animate,duration:d.duration},d.pan));var y=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,r,d.zoom):this._tryAnimatedPan(t,d.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(t,r,d.pan&&d.pan.noMoveStart),this},setZoom:function(t,r){return this._loaded?this.setView(this.getCenter(),t,{zoom:r}):(this._zoom=t,this)},zoomIn:function(t,r){return t=t||(Tt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,r)},zoomOut:function(t,r){return t=t||(Tt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,r)},setZoomAround:function(t,r,d){var y=this.getZoomScale(r),k=this.getSize().divideBy(2),E=t instanceof rt?t:this.latLngToContainerPoint(t),U=E.subtract(k).multiplyBy(1-1/y),J=this.containerPointToLatLng(k.add(U));return this.setView(J,r,{zoom:d})},_getBoundsCenterZoom:function(t,r){r=r||{},t=t.getBounds?t.getBounds():be(t);var d=St(r.paddingTopLeft||r.padding||[0,0]),y=St(r.paddingBottomRight||r.padding||[0,0]),k=this.getBoundsZoom(t,!1,d.add(y));if(k=typeof r.maxZoom=="number"?Math.min(r.maxZoom,k):k,k===1/0)return{center:t.getCenter(),zoom:k};var E=y.subtract(d).divideBy(2),U=this.project(t.getSouthWest(),k),J=this.project(t.getNorthEast(),k),$=this.unproject(U.add(J).divideBy(2).add(E),k);return{center:$,zoom:k}},fitBounds:function(t,r){if(t=be(t),!t.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(t,r);return this.setView(d.center,d.zoom,r)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,r){return this.setView(t,this._zoom,{pan:r})},panBy:function(t,r){if(t=St(t).round(),r=r||{},!t.x&&!t.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new _e,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){Wt(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,d,r.duration||.25,r.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,r,d){if(d=d||{},d.animate===!1||!Tt.any3d)return this.setView(t,r,d);this._stop();var y=this.project(this.getCenter()),k=this.project(t),E=this.getSize(),U=this._zoom;t=ee(t),r=r===void 0?U:r;var J=Math.max(E.x,E.y),$=J*this.getZoomScale(U,r),ht=k.distanceTo(y)||1,Ct=1.42,jt=Ct*Ct;function ce(Re){var kr=Re?-1:1,al=Re?$:J,sl=$*$-J*J+kr*jt*jt*ht*ht,ll=2*al*jt*ht,Qr=sl/ll,ta=Math.sqrt(Qr*Qr+1)-Qr,ul=ta<1e-9?-18:Math.log(ta);return ul}function sn(Re){return(Math.exp(Re)-Math.exp(-Re))/2}function hi(Re){return(Math.exp(Re)+Math.exp(-Re))/2}function br(Re){return sn(Re)/hi(Re)}var Kn=ce(0);function Jr(Re){return J*(hi(Kn)/hi(Kn+Ct*Re))}function nl(Re){return J*(hi(Kn)*br(Kn+Ct*Re)-sn(Kn))/jt}function il(Re){return 1-Math.pow(1-Re,1.5)}var rl=Date.now(),Qo=(ce(1)-Kn)/Ct,ol=d.duration?1e3*d.duration:1e3*Qo*.8;function $o(){var Re=(Date.now()-rl)/ol,kr=il(Re)*Qo;Re<=1?(this._flyToFrame=ft($o,this),this._move(this.unproject(y.add(k.subtract(y).multiplyBy(nl(kr)/ht)),U),this.getScaleZoom(J/Jr(kr),U),{flyTo:!0})):this._move(t,r)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),$o.call(this),this},flyToBounds:function(t,r){var d=this._getBoundsCenterZoom(t,r);return this.flyTo(d.center,d.zoom,r)},setMaxBounds:function(t){return t=be(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var r=this.options.minZoom;return this.options.minZoom=t,this._loaded&&r!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var r=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&r!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,r){this._enforcingBounds=!0;var d=this.getCenter(),y=this._limitCenter(d,this._zoom,be(t));return d.equals(y)||this.panTo(y,r),this._enforcingBounds=!1,this},panInside:function(t,r){r=r||{};var d=St(r.paddingTopLeft||r.padding||[0,0]),y=St(r.paddingBottomRight||r.padding||[0,0]),k=this.project(this.getCenter()),E=this.project(t),U=this.getPixelBounds(),J=Ut([U.min.add(d),U.max.subtract(y)]),$=J.getSize();if(!J.contains(E)){this._enforcingBounds=!0;var ht=E.subtract(J.getCenter()),Ct=J.extend(E).getSize().subtract($);k.x+=ht.x<0?-Ct.x:Ct.x,k.y+=ht.y<0?-Ct.y:Ct.y,this.panTo(this.unproject(k),r),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=a({animate:!1,pan:!0},t===!0?{animate:!0}:t);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),y=r.divideBy(2).round(),k=d.divideBy(2).round(),E=y.subtract(k);return!E.x&&!E.y?this:(t.animate&&t.pan?this.panBy(E):(t.pan&&this._rawPanBy(E),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=a({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=c(this._handleGeolocationResponse,this),d=c(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,d,t):navigator.geolocation.getCurrentPosition(r,d,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var r=t.code,d=t.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var r=t.coords.latitude,d=t.coords.longitude,y=new he(r,d),k=y.toBounds(t.coords.accuracy*2),E=this._locateOptions;if(E.setView){var U=this.getBoundsZoom(k);this.setView(y,E.maxZoom?Math.min(U,E.maxZoom):U)}var J={latlng:y,bounds:k,timestamp:t.timestamp};for(var $ in t.coords)typeof t.coords[$]=="number"&&(J[$]=t.coords[$]);this.fire("locationfound",J)}},addHandler:function(t,r){if(!r)return this;var d=this[t]=new r(this);return this._handlers.push(d),this.options[t]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ye(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(dt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ye(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,r){var d="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),y=ue("div",d,r||this._mapPane);return t&&(this._panes[t]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),r=this.unproject(t.getBottomLeft()),d=this.unproject(t.getTopRight());return new Ee(r,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,r,d){t=be(t),d=St(d||[0,0]);var y=this.getZoom()||0,k=this.getMinZoom(),E=this.getMaxZoom(),U=t.getNorthWest(),J=t.getSouthEast(),$=this.getSize().subtract(d),ht=Ut(this.project(J,y),this.project(U,y)).getSize(),Ct=Tt.any3d?this.options.zoomSnap:1,jt=$.x/ht.x,ce=$.y/ht.y,sn=r?Math.max(jt,ce):Math.min(jt,ce);return y=this.getScaleZoom(sn,y),Ct&&(y=Math.round(y/(Ct/100))*(Ct/100),y=r?Math.ceil(y/Ct)*Ct:Math.floor(y/Ct)*Ct),Math.max(k,Math.min(E,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new rt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,r){var d=this._getTopLeftPoint(t,r);return new Et(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,r){var d=this.options.crs;return r=r===void 0?this._zoom:r,d.scale(t)/d.scale(r)},getScaleZoom:function(t,r){var d=this.options.crs;r=r===void 0?this._zoom:r;var y=d.zoom(t*d.scale(r));return isNaN(y)?1/0:y},project:function(t,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(ee(t),r)},unproject:function(t,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(St(t),r)},layerPointToLatLng:function(t){var r=St(t).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(t){var r=this.project(ee(t))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(ee(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(be(t))},distance:function(t,r){return this.options.crs.distance(ee(t),ee(r))},containerPointToLayerPoint:function(t){return St(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return St(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var r=this.containerPointToLayerPoint(St(t));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ee(t)))},mouseEventToContainerPoint:function(t){return tt(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var r=this._container=sr(t);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ft(r,"scroll",this._onScroll,this),this._containerId=o(r)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Tt.any3d,Wt(t,"leaflet-container"+(Tt.touch?" leaflet-touch":"")+(Tt.retina?" leaflet-retina":"")+(Tt.ielt9?" leaflet-oldie":"")+(Tt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=Gn(t,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Me(this._mapPane,new rt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Wt(t.markerPane,"leaflet-zoom-hide"),Wt(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,r,d){Me(this._mapPane,new rt(0,0));var y=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var k=this._zoom!==r;this._moveStart(k,d)._move(t,r)._moveEnd(k),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(t,r){return t&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(t,r,d,y){r===void 0&&(r=this._zoom);var k=this._zoom!==r;return this._zoom=r,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),y?d&&d.pinch&&this.fire("zoom",d):((k||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return dt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Me(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[o(this._container)]=this;var r=t?l:Ft;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),Tt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){dt(this._resizeRequest),this._resizeRequest=ft(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,r){for(var d=[],y,k=r==="mouseout"||r==="mouseover",E=t.target||t.srcElement,U=!1;E;){if(y=this._targets[o(E)],y&&(r==="click"||r==="preclick")&&this._draggableMoved(y)){U=!0;break}if(y&&y.listens(r,!0)&&(k&&!Dt(E,t)||(d.push(y),k))||E===this._container)break;E=E.parentNode}return!d.length&&!U&&!k&&this.listens(r,!0)&&(d=[this]),d},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var r=t.target||t.srcElement;if(!(!this._loaded||r._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(r))){var d=t.type;d==="mousedown"&&Gi(r),this._fireDOMEvent(t,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,r,d){if(t.type==="click"){var y=a({},t);y.type="preclick",this._fireDOMEvent(y,y.type,d)}var k=this._findEventTargets(t,r);if(d){for(var E=[],U=0;U<d.length;U++)d[U].listens(r,!0)&&E.push(d[U]);k=E.concat(k)}if(k.length){r==="contextmenu"&&G(t);var J=k[0],$={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var ht=J.getLatLng&&(!J._radius||J._radius<=10);$.containerPoint=ht?this.latLngToContainerPoint(J.getLatLng()):this.mouseEventToContainerPoint(t),$.layerPoint=this.containerPointToLayerPoint($.containerPoint),$.latlng=ht?J.getLatLng():this.layerPointToLatLng($.layerPoint)}for(U=0;U<k.length;U++)if(k[U].fire(r,$,!0),$.originalEvent._stopped||k[U].options.bubblingMouseEvents===!1&&P(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,r=this._handlers.length;t<r;t++)this._handlers[t].disable()},whenReady:function(t,r){return this._loaded?t.call(r||this,{target:this}):this.on("load",t,r),this},_getMapPanePos:function(){return rn(this._mapPane)||new rt(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,r){var d=t&&r!==void 0?this._getNewPixelOrigin(t,r):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,r){var d=this.getSize()._divideBy(2);return this.project(t,r)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,r,d){var y=this._getNewPixelOrigin(d,r);return this.project(t,r)._subtract(y)},_latLngBoundsToNewLayerBounds:function(t,r,d){var y=this._getNewPixelOrigin(d,r);return Ut([this.project(t.getSouthWest(),r)._subtract(y),this.project(t.getNorthWest(),r)._subtract(y),this.project(t.getSouthEast(),r)._subtract(y),this.project(t.getNorthEast(),r)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,r,d){if(!d)return t;var y=this.project(t,r),k=this.getSize().divideBy(2),E=new Et(y.subtract(k),y.add(k)),U=this._getBoundsOffset(E,d,r);return Math.abs(U.x)<=1&&Math.abs(U.y)<=1?t:this.unproject(y.add(U),r)},_limitOffset:function(t,r){if(!r)return t;var d=this.getPixelBounds(),y=new Et(d.min.add(t),d.max.add(t));return t.add(this._getBoundsOffset(y,r))},_getBoundsOffset:function(t,r,d){var y=Ut(this.project(r.getNorthEast(),d),this.project(r.getSouthWest(),d)),k=y.min.subtract(t.min),E=y.max.subtract(t.max),U=this._rebound(k.x,-E.x),J=this._rebound(k.y,-E.y);return new rt(U,J)},_rebound:function(t,r){return t+r>0?Math.round(t-r)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(r))},_limitZoom:function(t){var r=this.getMinZoom(),d=this.getMaxZoom(),y=Tt.any3d?this.options.zoomSnap:1;return y&&(t=Math.round(t/y)*y),Math.max(r,Math.min(d,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Te(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,r){var d=this._getCenterOffset(t)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,r),!0)},_createAnimProxy:function(){var t=this._proxy=ue("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(r){var d=_i,y=this._proxy.style[d];bn(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),y===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ye(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),r=this.getZoom();bn(this._proxy,this.project(t,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,r,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(r),k=this._getCenterOffset(t)._divideBy(1-1/y);return d.animate!==!0&&!this.getSize().contains(k)?!1:(ft(function(){this._moveStart(!0,!1)._animateZoom(t,r,!0)},this),!0)},_animateZoom:function(t,r,d,y){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=r,Wt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:r,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Te(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ge(t,r){return new Bt(t,r)}var Le=At.extend({options:{position:"topright"},initialize:function(t){x(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var r=this._map;return r&&r.removeControl(this),this.options.position=t,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var r=this._container=this.onAdd(t),d=this.getPosition(),y=t._controlCorners[d];return Wt(r,"leaflet-control"),d.indexOf("bottom")!==-1?y.insertBefore(r,y.firstChild):y.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ye(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),je=function(t){return new Le(t)};Bt.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},r="leaflet-",d=this._controlContainer=ue("div",r+"control-container",this._container);function y(k,E){var U=r+k+" "+r+E;t[k+E]=ue("div",U,d)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ye(this._controlCorners[t]);ye(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var cn=Le.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,r,d,y){return d<y?-1:y<d?1:0}},initialize:function(t,r,d){x(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var y in t)this._addLayer(t[y],y);for(y in r)this._addLayer(r[y],y,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Le.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,r){return this._addLayer(t,r),this._map?this._update():this},addOverlay:function(t,r){return this._addLayer(t,r,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var r=this._getLayer(o(t));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){Wt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Wt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Te(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Te(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",r=this._container=ue("div",t),d=this.options.collapsed;r.setAttribute("aria-haspopup",!0),N(r),j(r);var y=this._section=ue("section",t+"-list");d&&(this._map.on("click",this.collapse,this),Ft(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var k=this._layersLink=ue("a",t+"-toggle",r);k.href="#",k.title="Layers",k.setAttribute("role","button"),Ft(k,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){G(E),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=ue("div",t+"-base",y),this._separator=ue("div",t+"-separator",y),this._overlaysList=ue("div",t+"-overlays",y),r.appendChild(y)},_getLayer:function(t){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&o(this._layers[r].layer)===t)return this._layers[r]},_addLayer:function(t,r,d){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:r,overlay:d}),this.options.sortLayers&&this._layers.sort(c(function(y,k){return this.options.sortFunction(y.layer,k.layer,y.name,k.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ni(this._baseLayersList),ni(this._overlaysList),this._layerControlInputs=[];var t,r,d,y,k=0;for(d=0;d<this._layers.length;d++)y=this._layers[d],this._addItem(y),r=r||y.overlay,t=t||!y.overlay,k+=y.overlay?0:1;return this.options.hideSingleBase&&(t=t&&k>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=r&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var r=this._getLayer(o(t.target)),d=r.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;d&&this._map.fire(d,r)},_createRadioElement:function(t,r){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(r?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=d,y.firstChild},_addItem:function(t){var r=document.createElement("label"),d=this._map.hasLayer(t.layer),y;t.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=d):y=this._createRadioElement("leaflet-base-layers_"+o(this),d),this._layerControlInputs.push(y),y.layerId=o(t.layer),Ft(y,"click",this._onInputClick,this);var k=document.createElement("span");k.innerHTML=" "+t.name;var E=document.createElement("span");r.appendChild(E),E.appendChild(y),E.appendChild(k);var U=t.overlay?this._overlaysList:this._baseLayersList;return U.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){var t=this._layerControlInputs,r,d,y=[],k=[];this._handlingClick=!0;for(var E=t.length-1;E>=0;E--)r=t[E],d=this._getLayer(r.layerId).layer,r.checked?y.push(d):r.checked||k.push(d);for(E=0;E<k.length;E++)this._map.hasLayer(k[E])&&this._map.removeLayer(k[E]);for(E=0;E<y.length;E++)this._map.hasLayer(y[E])||this._map.addLayer(y[E]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,r,d,y=this._map.getZoom(),k=t.length-1;k>=0;k--)r=t[k],d=this._getLayer(r.layerId).layer,r.disabled=d.options.minZoom!==void 0&&y<d.options.minZoom||d.options.maxZoom!==void 0&&y>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;Ft(t,"click",G),this.expand(),setTimeout(function(){l(t,"click",G)})}}),lr=function(t,r,d){return new cn(t,r,d)},si=Le.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var r="leaflet-control-zoom",d=ue("div",r+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,r+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,r+"-out",d,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,r,d,y,k){var E=ue("a",d,y);return E.innerHTML=t,E.href="#",E.title=r,E.setAttribute("role","button"),E.setAttribute("aria-label",r),N(E),Ft(E,"click",X),Ft(E,"click",k,this),Ft(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var t=this._map,r="leaflet-disabled";Te(this._zoomInButton,r),Te(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Wt(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Wt(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});Bt.mergeOptions({zoomControl:!0}),Bt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new si,this.addControl(this.zoomControl))});var zn=function(t){return new si(t)},Fi=Le.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var r="leaflet-control-scale",d=ue("div",r),y=this.options;return this._addScales(y,r+"-line",d),t.on(y.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),d},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,r,d){t.metric&&(this._mScale=ue("div",r,d)),t.imperial&&(this._iScale=ue("div",r,d))},_update:function(){var t=this._map,r=t.getSize().y/2,d=t.distance(t.containerPointToLatLng([0,r]),t.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(d)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var r=this._getRoundNum(t),d=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,d,r/t)},_updateImperial:function(t){var r=t*3.2808399,d,y,k;r>5280?(d=r/5280,y=this._getRoundNum(d),this._updateScale(this._iScale,y+" mi",y/d)):(k=this._getRoundNum(r),this._updateScale(this._iScale,k+" ft",k/r))},_updateScale:function(t,r,d){t.style.width=Math.round(this.options.maxWidth*d)+"px",t.innerHTML=r},_getRoundNum:function(t){var r=Math.pow(10,(Math.floor(t)+"").length-1),d=t/r;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,r*d}}),ur=function(t){return new Fi(t)},Gr='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',li=Le.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Tt.inlineSvg?Gr+" ":"")+"Leaflet</a>"},initialize:function(t){x(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=ue("div","leaflet-control-attribution"),N(this._container);for(var r in t._layers)t._layers[r].getAttribution&&this.addAttribution(t._layers[r].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var r in this._attributions)this._attributions[r]&&t.push(r);var d=[];this.options.prefix&&d.push(this.options.prefix),t.length&&d.push(t.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Bt.mergeOptions({attributionControl:!0}),Bt.addInitHook(function(){this.options.attributionControl&&new li().addTo(this)});var Vr=function(t){return new li(t)};Le.Layers=cn,Le.Zoom=si,Le.Scale=Fi,Le.Attribution=li,je.layers=lr,je.zoom=zn,je.scale=ur,je.attribution=Vr;var on=At.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});on.addTo=function(t,r){return t.addHandler(r,this),this};var Ps={Events:xt},Mo=Tt.touch?"touchstart mousedown":"mousedown",Fn=se.extend({options:{clickTolerance:3},initialize:function(t,r,d,y){x(this,y),this._element=t,this._dragStartTarget=r||t,this._preventOutline=d},enable:function(){this._enabled||(Ft(this._dragStartTarget,Mo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Fn._dragging===this&&this.finishDrag(!0),l(this._dragStartTarget,Mo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!gi(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Fn._dragging===this&&this.finishDrag();return}if(!(Fn._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Fn._dragging=this,this._preventOutline&&Gi(this._element),ai(),ri(),!this._moving)){this.fire("down");var r=t.touches?t.touches[0]:t,d=Li(this._element);this._startPoint=new rt(r.clientX,r.clientY),this._startPos=rn(this._element),this._parentScale=Vi(d);var y=t.type==="mousedown";Ft(document,y?"mousemove":"touchmove",this._onMove,this),Ft(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var r=t.touches&&t.touches.length===1?t.touches[0]:t,d=new rt(r.clientX,r.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,G(t),this._moved||(this.fire("dragstart"),this._moved=!0,Wt(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Wt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Me(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Te(document.body,"leaflet-dragging"),this._lastTarget&&(Te(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),l(document,"mousemove touchmove",this._onMove,this),l(document,"mouseup touchend touchcancel",this._onUp,this),ji(),oi(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Fn._dragging=!1}});function wo(t,r){if(!r||!t.length)return t.slice();var d=r*r;return t=Ss(t,d),t=Es(t,d),t}function Po(t,r,d){return Math.sqrt(Ui(t,r,d,!0))}function Cs(t,r,d){return Ui(t,r,d)}function Es(t,r){var d=t.length,y=typeof Uint8Array!=void 0+""?Uint8Array:Array,k=new y(d);k[0]=k[d-1]=1,Fr(t,k,r,0,d-1);var E,U=[];for(E=0;E<d;E++)k[E]&&U.push(t[E]);return U}function Fr(t,r,d,y,k){var E=0,U,J,$;for(J=y+1;J<=k-1;J++)$=Ui(t[J],t[y],t[k],!0),$>E&&(U=J,E=$);E>d&&(r[U]=1,Fr(t,r,d,y,U),Fr(t,r,d,U,k))}function Ss(t,r){for(var d=[t[0]],y=1,k=0,E=t.length;y<E;y++)Ts(t[y],t[k])>r&&(d.push(t[y]),k=y);return k<E-1&&d.push(t[E-1]),d}var Co;function Eo(t,r,d,y,k){var E=y?Co:ui(t,d),U=ui(r,d),J,$,ht;for(Co=U;;){if(!(E|U))return[t,r];if(E&U)return!1;J=E||U,$=hr(t,r,J,d,k),ht=ui($,d),J===E?(t=$,E=ht):(r=$,U=ht)}}function hr(t,r,d,y,k){var E=r.x-t.x,U=r.y-t.y,J=y.min,$=y.max,ht,Ct;return d&8?(ht=t.x+E*($.y-t.y)/U,Ct=$.y):d&4?(ht=t.x+E*(J.y-t.y)/U,Ct=J.y):d&2?(ht=$.x,Ct=t.y+U*($.x-t.x)/E):d&1&&(ht=J.x,Ct=t.y+U*(J.x-t.x)/E),new rt(ht,Ct,k)}function ui(t,r){var d=0;return t.x<r.min.x?d|=1:t.x>r.max.x&&(d|=2),t.y<r.min.y?d|=4:t.y>r.max.y&&(d|=8),d}function Ts(t,r){var d=r.x-t.x,y=r.y-t.y;return d*d+y*y}function Ui(t,r,d,y){var k=r.x,E=r.y,U=d.x-k,J=d.y-E,$=U*U+J*J,ht;return $>0&&(ht=((t.x-k)*U+(t.y-E)*J)/$,ht>1?(k=d.x,E=d.y):ht>0&&(k+=U*ht,E+=J*ht)),U=t.x-k,J=t.y-E,y?U*U+J*J:new rt(k,E)}function an(t){return!I(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function So(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),an(t)}function To(t,r){var d,y,k,E,U,J,$,ht;if(!t||t.length===0)throw new Error("latlngs not passed");an(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Ct=[];for(var jt in t)Ct.push(r.project(ee(t[jt])));var ce=Ct.length;for(d=0,y=0;d<ce-1;d++)y+=Ct[d].distanceTo(Ct[d+1])/2;if(y===0)ht=Ct[0];else for(d=0,E=0;d<ce-1;d++)if(U=Ct[d],J=Ct[d+1],k=U.distanceTo(J),E+=k,E>y){$=(E-y)/k,ht=[J.x-$*(J.x-U.x),J.y-$*(J.y-U.y)];break}return r.unproject(St(ht))}var xs={__proto__:null,simplify:wo,pointToSegmentDistance:Po,closestPointOnSegment:Cs,clipSegment:Eo,_getEdgeIntersection:hr,_getBitCode:ui,_sqClosestPointOnSegment:Ui,isFlat:an,_flat:So,polylineCenter:To};function xo(t,r,d){var y,k=[1,4,2,8],E,U,J,$,ht,Ct,jt,ce;for(E=0,Ct=t.length;E<Ct;E++)t[E]._code=ui(t[E],r);for(J=0;J<4;J++){for(jt=k[J],y=[],E=0,Ct=t.length,U=Ct-1;E<Ct;U=E++)$=t[E],ht=t[U],$._code&jt?ht._code&jt||(ce=hr(ht,$,jt,r,d),ce._code=ui(ce,r),y.push(ce)):(ht._code&jt&&(ce=hr(ht,$,jt,r,d),ce._code=ui(ce,r),y.push(ce)),y.push($));t=y}return t}function Bo(t,r){var d,y,k,E,U,J,$,ht,Ct;if(!t||t.length===0)throw new Error("latlngs not passed");an(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var jt=[];for(var ce in t)jt.push(r.project(ee(t[ce])));var sn=jt.length;for(J=$=ht=0,d=0,y=sn-1;d<sn;y=d++)k=jt[d],E=jt[y],U=k.y*E.x-E.y*k.x,$+=(k.x+E.x)*U,ht+=(k.y+E.y)*U,J+=U*3;return J===0?Ct=jt[0]:Ct=[$/J,ht/J],r.unproject(St(Ct))}var Bs={__proto__:null,clipPolygon:xo,polygonCenter:Bo},Ur={project:function(t){return new rt(t.lng,t.lat)},unproject:function(t){return new he(t.y,t.x)},bounds:new Et([-180,-90],[180,90])},Kr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Et([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var r=Math.PI/180,d=this.R,y=t.lat*r,k=this.R_MINOR/d,E=Math.sqrt(1-k*k),U=E*Math.sin(y),J=Math.tan(Math.PI/4-y/2)/Math.pow((1-U)/(1+U),E/2);return y=-d*Math.log(Math.max(J,1e-10)),new rt(t.lng*r*d,y)},unproject:function(t){for(var r=180/Math.PI,d=this.R,y=this.R_MINOR/d,k=Math.sqrt(1-y*y),E=Math.exp(-t.y/d),U=Math.PI/2-2*Math.atan(E),J=0,$=.1,ht;J<15&&Math.abs($)>1e-7;J++)ht=k*Math.sin(U),ht=Math.pow((1-ht)/(1+ht),k/2),$=Math.PI/2-2*Math.atan(E*ht)-U,U+=$;return new he(U*r,t.x*r/d)}},Os={__proto__:null,LonLat:Ur,Mercator:Kr,SphericalMercator:Xe},zs=a({},ze,{code:"EPSG:3395",projection:Kr,transformation:function(){var t=.5/(Math.PI*Kr.R);return en(t,.5,-t,.5)}()}),Oo=a({},ze,{code:"EPSG:4326",projection:Ur,transformation:en(1/180,1,-1/180,.5)}),As=a({},Ke,{projection:Ur,transformation:en(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,r){var d=r.lng-t.lng,y=r.lat-t.lat;return Math.sqrt(d*d+y*y)},infinite:!0});Ke.Earth=ze,Ke.EPSG3395=zs,Ke.EPSG3857=gn,Ke.EPSG900913=Ze,Ke.EPSG4326=Oo,Ke.Simple=As;var fn=se.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[o(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[o(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var r=t.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var d=this.getEvents();r.on(d,this),this.once("remove",function(){r.off(d,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});Bt.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var r=o(t);return this._layers[r]?this:(this._layers[r]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var r=o(t);return this._layers[r]?(this._loaded&&t.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return o(t)in this._layers},eachLayer:function(t,r){for(var d in this._layers)t.call(r,this._layers[d]);return this},_addLayers:function(t){t=t?I(t)?t:[t]:[];for(var r=0,d=t.length;r<d;r++)this.addLayer(t[r])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[o(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var r=o(t);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,r=-1/0,d=this._getZoomSpan();for(var y in this._zoomBoundLayers){var k=this._zoomBoundLayers[y].options;t=k.minZoom===void 0?t:Math.min(t,k.minZoom),r=k.maxZoom===void 0?r:Math.max(r,k.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=t===1/0?void 0:t,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var bi=fn.extend({initialize:function(t,r){x(this,r),this._layers={};var d,y;if(t)for(d=0,y=t.length;d<y;d++)this.addLayer(t[d])},addLayer:function(t){var r=this.getLayerId(t);return this._layers[r]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var r=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(t){var r=typeof t=="number"?t:this.getLayerId(t);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var r=Array.prototype.slice.call(arguments,1),d,y;for(d in this._layers)y=this._layers[d],y[t]&&y[t].apply(y,r);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,r){for(var d in this._layers)t.call(r,this._layers[d]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return o(t)}}),Ds=function(t,r){return new bi(t,r)},An=bi.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),bi.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),bi.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new Ee;for(var r in this._layers){var d=this._layers[r];t.extend(d.getBounds?d.getBounds():d.getLatLng())}return t}}),Is=function(t,r){return new An(t,r)},ki=At.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){x(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,r){var d=this._getIconUrl(t);if(!d){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(d,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(y,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(t,r){var d=this.options,y=d[r+"Size"];typeof y=="number"&&(y=[y,y]);var k=St(y),E=St(r==="shadow"&&d.shadowAnchor||d.iconAnchor||k&&k.divideBy(2,!0));t.className="leaflet-marker-"+r+" "+(d.className||""),E&&(t.style.marginLeft=-E.x+"px",t.style.marginTop=-E.y+"px"),k&&(t.style.width=k.x+"px",t.style.height=k.y+"px")},_createImg:function(t,r){return r=r||document.createElement("img"),r.src=t,r},_getIconUrl:function(t){return Tt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Rs(t){return new ki(t)}var Ki=ki.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Ki.imagePath!="string"&&(Ki.imagePath=this._detectIconPath()),(this.options.imagePath||Ki.imagePath)+ki.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var r=function(d,y,k){var E=y.exec(d);return E&&E[k]};return t=r(t,/^url\((['"])?(.+)\1\)$/,2),t&&r(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=ue("div","leaflet-default-icon-path",document.body),r=Gn(t,"background-image")||Gn(t,"backgroundImage");if(document.body.removeChild(t),r=this._stripUrl(r),r)return r;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),zo=on.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Fn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Wt(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Te(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var r=this._marker,d=r._map,y=this._marker.options.autoPanSpeed,k=this._marker.options.autoPanPadding,E=rn(r._icon),U=d.getPixelBounds(),J=d.getPixelOrigin(),$=Ut(U.min._subtract(J).add(k),U.max._subtract(J).subtract(k));if(!$.contains(E)){var ht=St((Math.max($.max.x,E.x)-$.max.x)/(U.max.x-$.max.x)-(Math.min($.min.x,E.x)-$.min.x)/(U.min.x-$.min.x),(Math.max($.max.y,E.y)-$.max.y)/(U.max.y-$.max.y)-(Math.min($.min.y,E.y)-$.min.y)/(U.min.y-$.min.y)).multiplyBy(y);d.panBy(ht,{animate:!1}),this._draggable._newPos._add(ht),this._draggable._startPos._add(ht),Me(r._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=ft(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(dt(this._panRequest),this._panRequest=ft(this._adjustPan.bind(this,t)))},_onDrag:function(t){var r=this._marker,d=r._shadow,y=rn(r._icon),k=r._map.layerPointToLatLng(y);d&&Me(d,y),r._latlng=k,t.latlng=k,t.oldLatLng=this._oldLatLng,r.fire("move",t).fire("drag",t)},_onDragEnd:function(t){dt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),cr=fn.extend({options:{icon:new Ki,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,r){x(this,r),this._latlng=ee(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var r=this._latlng;return this._latlng=ee(t),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=t.icon.createIcon(this._icon),y=!1;d!==this._icon&&(this._icon&&this._removeIcon(),y=!0,t.title&&(d.title=t.title),d.tagName==="IMG"&&(d.alt=t.alt||"")),Wt(d,r),t.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ft(d,"focus",this._panOnFocus,this);var k=t.icon.createShadow(this._shadow),E=!1;k!==this._shadow&&(this._removeShadow(),E=!0),k&&(Wt(k,r),k.alt=""),this._shadow=k,t.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),k&&E&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&l(this._icon,"focus",this._panOnFocus,this),ye(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ye(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Me(this._icon,t),this._shadow&&Me(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var r=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(Wt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),zo)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new zo(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Qe(this._icon,t),this._shadow&&Qe(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var r=this.options.icon.options,d=r.iconSize?St(r.iconSize):St(0,0),y=r.iconAnchor?St(r.iconAnchor):St(0,0);t.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:d.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ns(t,r){return new cr(t,r)}var Un=fn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return x(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),fr=Un.extend({options:{fill:!0,radius:10},initialize:function(t,r){x(this,r),this._latlng=ee(t),this._radius=this.options.radius},setLatLng:function(t){var r=this._latlng;return this._latlng=ee(t),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var r=t&&t.radius||this._radius;return Un.prototype.setStyle.call(this,t),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,r=this._radiusY||t,d=this._clickTolerance(),y=[t+d,r+d];this._pxBounds=new Et(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Hs(t,r){return new fr(t,r)}var qr=fr.extend({initialize:function(t,r,d){if(typeof r=="number"&&(r=a({},d,{radius:r})),x(this,r),this._latlng=ee(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Ee(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Un.prototype.setStyle,_project:function(){var t=this._latlng.lng,r=this._latlng.lat,d=this._map,y=d.options.crs;if(y.distance===ze.distance){var k=Math.PI/180,E=this._mRadius/ze.R/k,U=d.project([r+E,t]),J=d.project([r-E,t]),$=U.add(J).divideBy(2),ht=d.unproject($).lat,Ct=Math.acos((Math.cos(E*k)-Math.sin(r*k)*Math.sin(ht*k))/(Math.cos(r*k)*Math.cos(ht*k)))/k;(isNaN(Ct)||Ct===0)&&(Ct=E/Math.cos(Math.PI/180*r)),this._point=$.subtract(d.getPixelOrigin()),this._radius=isNaN(Ct)?0:$.x-d.project([ht,t-Ct]).x,this._radiusY=$.y-U.y}else{var jt=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(jt).x}this._updateBounds()}});function Zs(t,r,d){return new qr(t,r,d)}var Dn=Un.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,r){x(this,r),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var r=1/0,d=null,y=Ui,k,E,U=0,J=this._parts.length;U<J;U++)for(var $=this._parts[U],ht=1,Ct=$.length;ht<Ct;ht++){k=$[ht-1],E=$[ht];var jt=y(t,k,E,!0);jt<r&&(r=jt,d=y(t,k,E))}return d&&(d.distance=Math.sqrt(r)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return To(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,r){return r=r||this._defaultShape(),t=ee(t),r.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new Ee,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return an(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var r=[],d=an(t),y=0,k=t.length;y<k;y++)d?(r[y]=ee(t[y]),this._bounds.extend(r[y])):r[y]=this._convertLatLngs(t[y]);return r},_project:function(){var t=new Et;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),r=new rt(t,t);this._rawPxBounds&&(this._pxBounds=new Et([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(t,r,d){var y=t[0]instanceof he,k=t.length,E,U;if(y){for(U=[],E=0;E<k;E++)U[E]=this._map.latLngToLayerPoint(t[E]),d.extend(U[E]);r.push(U)}else for(E=0;E<k;E++)this._projectLatlngs(t[E],r,d)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,d,y,k,E,U,J,$;for(d=0,k=0,E=this._rings.length;d<E;d++)for($=this._rings[d],y=0,U=$.length;y<U-1;y++)J=Eo($[y],$[y+1],t,y,!0),J&&(r[k]=r[k]||[],r[k].push(J[0]),(J[1]!==$[y+1]||y===U-2)&&(r[k].push(J[1]),k++))}},_simplifyPoints:function(){for(var t=this._parts,r=this.options.smoothFactor,d=0,y=t.length;d<y;d++)t[d]=wo(t[d],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,r){var d,y,k,E,U,J,$=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(d=0,E=this._parts.length;d<E;d++)for(J=this._parts[d],y=0,U=J.length,k=U-1;y<U;k=y++)if(!(!r&&y===0)&&Po(t,J[k],J[y])<=$)return!0;return!1}});function js(t,r){return new Dn(t,r)}Dn._flat=So;var Mi=Dn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var r=Dn.prototype._convertLatLngs.call(this,t),d=r.length;return d>=2&&r[0]instanceof he&&r[0].equals(r[d-1])&&r.pop(),r},_setLatLngs:function(t){Dn.prototype._setLatLngs.call(this,t),an(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return an(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,r=this.options.weight,d=new rt(r,r);if(t=new Et(t.min.subtract(d),t.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,k=this._rings.length,E;y<k;y++)E=xo(this._rings[y],t,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var r=!1,d,y,k,E,U,J,$,ht;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(E=0,$=this._parts.length;E<$;E++)for(d=this._parts[E],U=0,ht=d.length,J=ht-1;U<ht;J=U++)y=d[U],k=d[J],y.y>t.y!=k.y>t.y&&t.x<(k.x-y.x)*(t.y-y.y)/(k.y-y.y)+y.x&&(r=!r);return r||Dn.prototype._containsPoint.call(this,t,!0)}});function Gs(t,r){return new Mi(t,r)}var In=An.extend({initialize:function(t,r){x(this,r),this._layers={},t&&this.addData(t)},addData:function(t){var r=I(t)?t:t.features,d,y,k;if(r){for(d=0,y=r.length;d<y;d++)k=r[d],(k.geometries||k.geometry||k.features||k.coordinates)&&this.addData(k);return this}var E=this.options;if(E.filter&&!E.filter(t))return this;var U=dr(t,E);return U?(U.feature=gr(t),U.defaultOptions=U.options,this.resetStyle(U),E.onEachFeature&&E.onEachFeature(t,U),this.addLayer(U)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=a({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(r){this._setLayerStyle(r,t)},this)},_setLayerStyle:function(t,r){t.setStyle&&(typeof r=="function"&&(r=r(t.feature)),t.setStyle(r))}});function dr(t,r){var d=t.type==="Feature"?t.geometry:t,y=d?d.coordinates:null,k=[],E=r&&r.pointToLayer,U=r&&r.coordsToLatLng||Wr,J,$,ht,Ct;if(!y&&!d)return null;switch(d.type){case"Point":return J=U(y),Ao(E,t,J,r);case"MultiPoint":for(ht=0,Ct=y.length;ht<Ct;ht++)J=U(y[ht]),k.push(Ao(E,t,J,r));return new An(k);case"LineString":case"MultiLineString":return $=pr(y,d.type==="LineString"?0:1,U),new Dn($,r);case"Polygon":case"MultiPolygon":return $=pr(y,d.type==="Polygon"?1:2,U),new Mi($,r);case"GeometryCollection":for(ht=0,Ct=d.geometries.length;ht<Ct;ht++){var jt=dr({geometry:d.geometries[ht],type:"Feature",properties:t.properties},r);jt&&k.push(jt)}return new An(k);case"FeatureCollection":for(ht=0,Ct=d.features.length;ht<Ct;ht++){var ce=dr(d.features[ht],r);ce&&k.push(ce)}return new An(k);default:throw new Error("Invalid GeoJSON object.")}}function Ao(t,r,d,y){return t?t(r,d):new cr(d,y&&y.markersInheritOptions&&y)}function Wr(t){return new he(t[1],t[0],t[2])}function pr(t,r,d){for(var y=[],k=0,E=t.length,U;k<E;k++)U=r?pr(t[k],r-1,d):(d||Wr)(t[k]),y.push(U);return y}function Yr(t,r){return t=ee(t),t.alt!==void 0?[g(t.lng,r),g(t.lat,r),g(t.alt,r)]:[g(t.lng,r),g(t.lat,r)]}function _r(t,r,d,y){for(var k=[],E=0,U=t.length;E<U;E++)k.push(r?_r(t[E],an(t[E])?0:r-1,d,y):Yr(t[E],y));return!r&&d&&k.push(k[0].slice()),k}function wi(t,r){return t.feature?a({},t.feature,{geometry:r}):gr(r)}function gr(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Xr={toGeoJSON:function(t){return wi(this,{type:"Point",coordinates:Yr(this.getLatLng(),t)})}};cr.include(Xr),qr.include(Xr),fr.include(Xr),Dn.include({toGeoJSON:function(t){var r=!an(this._latlngs),d=_r(this._latlngs,r?1:0,!1,t);return wi(this,{type:(r?"Multi":"")+"LineString",coordinates:d})}}),Mi.include({toGeoJSON:function(t){var r=!an(this._latlngs),d=r&&!an(this._latlngs[0]),y=_r(this._latlngs,d?2:r?1:0,!0,t);return r||(y=[y]),wi(this,{type:(d?"Multi":"")+"Polygon",coordinates:y})}}),bi.include({toMultiPoint:function(t){var r=[];return this.eachLayer(function(d){r.push(d.toGeoJSON(t).geometry.coordinates)}),wi(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(t){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(t);var d=r==="GeometryCollection",y=[];return this.eachLayer(function(k){if(k.toGeoJSON){var E=k.toGeoJSON(t);if(d)y.push(E.geometry);else{var U=gr(E);U.type==="FeatureCollection"?y.push.apply(y,U.features):y.push(U)}}}),d?wi(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function Do(t,r){return new In(t,r)}var Vs=Do,mr=fn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,r,d){this._url=t,this._bounds=be(r),x(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Wt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ye(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Bn(this._image),this},bringToBack:function(){return this._map&&On(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=be(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",r=this._image=t?this._url:ue("img");if(Wt(r,"leaflet-image-layer"),this._zoomAnimated&&Wt(r,"leaflet-zoom-animated"),this.options.className&&Wt(r,this.options.className),r.onselectstart=s,r.onmousemove=s,r.onload=c(this.fire,this,"load"),r.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(t){var r=this._map.getZoomScale(t.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;bn(this._image,d,r)},_reset:function(){var t=this._image,r=new Et(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=r.getSize();Me(t,r.min),t.style.width=d.x+"px",t.style.height=d.y+"px"},_updateOpacity:function(){Qe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Fs=function(t,r,d){return new mr(t,r,d)},Io=mr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",r=this._image=t?this._url:ue("video");if(Wt(r,"leaflet-image-layer"),this._zoomAnimated&&Wt(r,"leaflet-zoom-animated"),this.options.className&&Wt(r,this.options.className),r.onselectstart=s,r.onmousemove=s,r.onloadeddata=c(this.fire,this,"load"),t){for(var d=r.getElementsByTagName("source"),y=[],k=0;k<d.length;k++)y.push(d[k].src);this._url=d.length>0?y:[r.src];return}I(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var U=ue("source");U.src=this._url[E],r.appendChild(U)}}});function Us(t,r,d){return new Io(t,r,d)}var Ro=mr.extend({_initImage:function(){var t=this._image=this._url;Wt(t,"leaflet-image-layer"),this._zoomAnimated&&Wt(t,"leaflet-zoom-animated"),this.options.className&&Wt(t,this.options.className),t.onselectstart=s,t.onmousemove=s}});function Ks(t,r,d){return new Ro(t,r,d)}var Mn=fn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,r){t&&(t instanceof he||I(t))?(this._latlng=ee(t),x(this,r)):(x(this,t),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Qe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Qe(this._container,1),this.bringToFront(),this.options.interactive&&(Wt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Qe(this._container,0),this._removeTimeout=setTimeout(c(ye,void 0,this._container),200)):ye(this._container),this.options.interactive&&(Te(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=ee(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Bn(this._container),this},bringToBack:function(){return this._map&&On(this._container),this},_prepareOpen:function(t){var r=this._source;if(!r._map)return!1;if(r instanceof An){r=null;var d=this._source._layers;for(var y in d)if(d[y]._map){r=d[y];break}if(!r)return!1;this._source=r}if(!t)if(r.getCenter)t=r.getCenter();else if(r.getLatLng)t=r.getLatLng();else if(r.getBounds)t=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")t.innerHTML=r;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),r=St(this.options.offset),d=this._getAnchor();this._zoomAnimated?Me(this._container,t.add(d)):r=r.add(t).add(d);var y=this._containerBottom=-r.y,k=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=y+"px",this._container.style.left=k+"px"}},_getAnchor:function(){return[0,0]}});Bt.include({_initOverlay:function(t,r,d,y){var k=r;return k instanceof t||(k=new t(y).setContent(r)),d&&k.setLatLng(d),k}}),fn.include({_initOverlay:function(t,r,d,y){var k=d;return k instanceof t?(x(k,y),k._source=this):(k=r&&!y?r:new t(y,this),k.setContent(d)),k}});var vr=Mn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Mn.prototype.openOn.call(this,t)},onAdd:function(t){Mn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Un||this._source.on("preclick",R))},onRemove:function(t){Mn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Un||this._source.off("preclick",R))},getEvents:function(){var t=Mn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",r=this._container=ue("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=ue("div",t+"-content-wrapper",r);if(this._contentNode=ue("div",t+"-content",d),N(r),j(this._contentNode),Ft(r,"contextmenu",R),this._tipContainer=ue("div",t+"-tip-container",r),this._tip=ue("div",t+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=ue("a",t+"-close-button",r);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',Ft(y,"click",function(k){G(k),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,r=t.style;r.width="",r.whiteSpace="nowrap";var d=t.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),r.width=d+1+"px",r.whiteSpace="",r.height="";var y=t.offsetHeight,k=this.options.maxHeight,E="leaflet-popup-scrolled";k&&y>k?(r.height=k+"px",Wt(t,E)):Te(t,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var r=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),d=this._getAnchor();Me(this._container,r.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,r=parseInt(Gn(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+r,y=this._containerWidth,k=new rt(this._containerLeft,-d-this._containerBottom);k._add(rn(this._container));var E=t.layerPointToContainerPoint(k),U=St(this.options.autoPanPadding),J=St(this.options.autoPanPaddingTopLeft||U),$=St(this.options.autoPanPaddingBottomRight||U),ht=t.getSize(),Ct=0,jt=0;E.x+y+$.x>ht.x&&(Ct=E.x+y-ht.x+$.x),E.x-Ct-J.x<0&&(Ct=E.x-J.x),E.y+d+$.y>ht.y&&(jt=E.y+d-ht.y+$.y),E.y-jt-J.y<0&&(jt=E.y-J.y),(Ct||jt)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([Ct,jt]))}},_getAnchor:function(){return St(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),qs=function(t,r){return new vr(t,r)};Bt.mergeOptions({closePopupOnClick:!0}),Bt.include({openPopup:function(t,r,d){return this._initOverlay(vr,t,r,d).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),fn.include({bindPopup:function(t,r){return this._popup=this._initOverlay(vr,this._popup,t,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof An||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){X(t);var r=t.layer||t.target;if(this._popup._source===r&&!(r instanceof Un)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=r,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var yr=Mn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Mn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Mn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Mn.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",r=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ue("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+o(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var r,d,y=this._map,k=this._container,E=y.latLngToContainerPoint(y.getCenter()),U=y.layerPointToContainerPoint(t),J=this.options.direction,$=k.offsetWidth,ht=k.offsetHeight,Ct=St(this.options.offset),jt=this._getAnchor();J==="top"?(r=$/2,d=ht):J==="bottom"?(r=$/2,d=0):J==="center"?(r=$/2,d=ht/2):J==="right"?(r=0,d=ht/2):J==="left"?(r=$,d=ht/2):U.x<E.x?(J="right",r=0,d=ht/2):(J="left",r=$+(Ct.x+jt.x)*2,d=ht/2),t=t.subtract(St(r,d,!0)).add(Ct).add(jt),Te(k,"leaflet-tooltip-right"),Te(k,"leaflet-tooltip-left"),Te(k,"leaflet-tooltip-top"),Te(k,"leaflet-tooltip-bottom"),Wt(k,"leaflet-tooltip-"+J),Me(k,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Qe(this._container,t)},_animateZoom:function(t){var r=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(r)},_getAnchor:function(){return St(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ws=function(t,r){return new yr(t,r)};Bt.include({openTooltip:function(t,r,d){return this._initOverlay(yr,t,r,d).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),fn.include({bindTooltip:function(t,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(yr,this._tooltip,t,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var r=t?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[r](d),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof An||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var r=t.getElement();r&&(Ft(r,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Ft(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var r=t.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var r=t.latlng,d,y;this._tooltip.options.sticky&&t.originalEvent&&(d=this._map.mouseEventToContainerPoint(t.originalEvent),y=this._map.containerPointToLayerPoint(d),r=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(r)}});var No=ki.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var r=t&&t.tagName==="DIV"?t:document.createElement("div"),d=this.options;if(d.html instanceof Element?(ni(r),r.appendChild(d.html)):r.innerHTML=d.html!==!1?d.html:"",d.bgPos){var y=St(d.bgPos);r.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function Ys(t){return new No(t)}ki.Default=Ki;var qi=fn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Tt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){x(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ye(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Bn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(On(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof rt?t:new rt(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var r=this.getPane().children,d=-t(-1/0,1/0),y=0,k=r.length,E;y<k;y++)E=r[y].style.zIndex,r[y]!==this._container&&E&&(d=t(d,+E));isFinite(d)&&(this.options.zIndex=d+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Tt.ielt9){Qe(this._container,this.options.opacity);var t=+new Date,r=!1,d=!1;for(var y in this._tiles){var k=this._tiles[y];if(!(!k.current||!k.loaded)){var E=Math.min(1,(t-k.loaded)/200);Qe(k.el,E),E<1?r=!0:(k.active?d=!0:this._onOpaqueTile(k),k.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),r&&(dt(this._fadeFrame),this._fadeFrame=ft(this._updateOpacity,this))}},_onOpaqueTile:s,_initContainer:function(){this._container||(this._container=ue("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,r=this.options.maxZoom;if(t!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===t?(this._levels[d].el.style.zIndex=r-Math.abs(t-d),this._onUpdateLevel(d)):(ye(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var y=this._levels[t],k=this._map;return y||(y=this._levels[t]={},y.el=ue("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=r,y.origin=k.project(k.unproject(k.getPixelOrigin()),t).round(),y.zoom=t,this._setZoomTransform(y,k.getCenter(),k.getZoom()),s(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:s,_onRemoveLevel:s,_onCreateLevel:s,_pruneTiles:function(){if(this._map){var t,r,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)r=this._tiles[t],r.retain=r.current;for(t in this._tiles)if(r=this._tiles[t],r.current&&!r.active){var y=r.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var r in this._tiles)this._tiles[r].coords.z===t&&this._removeTile(r)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ye(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,r,d,y){var k=Math.floor(t/2),E=Math.floor(r/2),U=d-1,J=new rt(+k,+E);J.z=+U;var $=this._tileCoordsToKey(J),ht=this._tiles[$];return ht&&ht.active?(ht.retain=!0,!0):(ht&&ht.loaded&&(ht.retain=!0),U>y?this._retainParent(k,E,U,y):!1)},_retainChildren:function(t,r,d,y){for(var k=2*t;k<2*t+2;k++)for(var E=2*r;E<2*r+2;E++){var U=new rt(k,E);U.z=d+1;var J=this._tileCoordsToKey(U),$=this._tiles[J];if($&&$.active){$.retain=!0;continue}else $&&$.loaded&&($.retain=!0);d+1<y&&this._retainChildren(k,E,d+1,y)}},_resetView:function(t){var r=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var r=this.options;return r.minNativeZoom!==void 0&&t<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<t?r.maxNativeZoom:t},_setView:function(t,r,d,y){var k=Math.round(r);this.options.maxZoom!==void 0&&k>this.options.maxZoom||this.options.minZoom!==void 0&&k<this.options.minZoom?k=void 0:k=this._clampZoom(k);var E=this.options.updateWhenZooming&&k!==this._tileZoom;(!y||E)&&(this._tileZoom=k,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),k!==void 0&&this._update(t),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(t,r)},_setZoomTransforms:function(t,r){for(var d in this._levels)this._setZoomTransform(this._levels[d],t,r)},_setZoomTransform:function(t,r,d){var y=this._map.getZoomScale(d,t.zoom),k=t.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(r,d)).round();Tt.any3d?bn(t.el,k,y):Me(t.el,k)},_resetGrid:function(){var t=this._map,r=t.options.crs,d=this._tileSize=this.getTileSize(),y=this._tileZoom,k=this._map.getPixelWorldBounds(this._tileZoom);k&&(this._globalTileRange=this._pxBoundsToTileRange(k)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,r.wrapLng[0]],y).x/d.x),Math.ceil(t.project([0,r.wrapLng[1]],y).x/d.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([r.wrapLat[0],0],y).y/d.x),Math.ceil(t.project([r.wrapLat[1],0],y).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var r=this._map,d=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),y=r.getZoomScale(d,this._tileZoom),k=r.project(t,this._tileZoom).floor(),E=r.getSize().divideBy(y*2);return new Et(k.subtract(E),k.add(E))},_update:function(t){var r=this._map;if(r){var d=this._clampZoom(r.getZoom());if(t===void 0&&(t=r.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(t),k=this._pxBoundsToTileRange(y),E=k.getCenter(),U=[],J=this.options.keepBuffer,$=new Et(k.getBottomLeft().subtract([J,-J]),k.getTopRight().add([J,-J]));if(!(isFinite(k.min.x)&&isFinite(k.min.y)&&isFinite(k.max.x)&&isFinite(k.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ht in this._tiles){var Ct=this._tiles[ht].coords;(Ct.z!==this._tileZoom||!$.contains(new rt(Ct.x,Ct.y)))&&(this._tiles[ht].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(t,d);return}for(var jt=k.min.y;jt<=k.max.y;jt++)for(var ce=k.min.x;ce<=k.max.x;ce++){var sn=new rt(ce,jt);if(sn.z=this._tileZoom,!!this._isValidTile(sn)){var hi=this._tiles[this._tileCoordsToKey(sn)];hi?hi.current=!0:U.push(sn)}}if(U.sort(function(Kn,Jr){return Kn.distanceTo(E)-Jr.distanceTo(E)}),U.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var br=document.createDocumentFragment();for(ce=0;ce<U.length;ce++)this._addTile(U[ce],br);this._level.el.appendChild(br)}}}},_isValidTile:function(t){var r=this._map.options.crs;if(!r.infinite){var d=this._globalTileRange;if(!r.wrapLng&&(t.x<d.min.x||t.x>d.max.x)||!r.wrapLat&&(t.y<d.min.y||t.y>d.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(t);return be(this.options.bounds).overlaps(y)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var r=this._map,d=this.getTileSize(),y=t.scaleBy(d),k=y.add(d),E=r.unproject(y,t.z),U=r.unproject(k,t.z);return[E,U]},_tileCoordsToBounds:function(t){var r=this._tileCoordsToNwSe(t),d=new Ee(r[0],r[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var r=t.split(":"),d=new rt(+r[0],+r[1]);return d.z=+r[2],d},_removeTile:function(t){var r=this._tiles[t];r&&(ye(r.el),delete this._tiles[t],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Wt(t,"leaflet-tile");var r=this.getTileSize();t.style.width=r.x+"px",t.style.height=r.y+"px",t.onselectstart=s,t.onmousemove=s,Tt.ielt9&&this.options.opacity<1&&Qe(t,this.options.opacity)},_addTile:function(t,r){var d=this._getTilePos(t),y=this._tileCoordsToKey(t),k=this.createTile(this._wrapCoords(t),c(this._tileReady,this,t));this._initTile(k),this.createTile.length<2&&ft(c(this._tileReady,this,t,null,k)),Me(k,d),this._tiles[y]={el:k,coords:t,current:!0},r.appendChild(k),this.fire("tileloadstart",{tile:k,coords:t})},_tileReady:function(t,r,d){r&&this.fire("tileerror",{error:r,tile:d,coords:t});var y=this._tileCoordsToKey(t);d=this._tiles[y],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Qe(d.el,0),dt(this._fadeFrame),this._fadeFrame=ft(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),r||(Wt(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Tt.ielt9||!this._map._fadeAnimated?ft(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var r=new rt(this._wrapX?v(t.x,this._wrapX):t.x,this._wrapY?v(t.y,this._wrapY):t.y);return r.z=t.z,r},_pxBoundsToTileRange:function(t){var r=this.getTileSize();return new Et(t.min.unscaleBy(r).floor(),t.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Xs(t){return new qi(t)}var Pi=qi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,r){this._url=t,r=x(this,r),r.detectRetina&&Tt.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,r){return this._url===t&&r===void 0&&(r=!0),this._url=t,r||this.redraw(),this},createTile:function(t,r){var d=document.createElement("img");return Ft(d,"load",c(this._tileOnLoad,this,r,d)),Ft(d,"error",c(this._tileOnError,this,r,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(t),d},getTileUrl:function(t){var r={r:Tt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-t.y;this.options.tms&&(r.y=d),r["-y"]=d}return H(this._url,a(r,this.options))},_tileOnLoad:function(t,r){Tt.ielt9?setTimeout(c(t,this,null,r),0):t(null,r)},_tileOnError:function(t,r,d){var y=this.options.errorTileUrl;y&&r.getAttribute("src")!==y&&(r.src=y),t(d,r)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,r=this.options.maxZoom,d=this.options.zoomReverse,y=this.options.zoomOffset;return d&&(t=r-t),t+y},_getSubdomain:function(t){var r=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var t,r;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(r=this._tiles[t].el,r.onload=s,r.onerror=s,!r.complete)){r.src=O;var d=this._tiles[t].coords;ye(r),delete this._tiles[t],this.fire("tileabort",{tile:r,coords:d})}},_removeTile:function(t){var r=this._tiles[t];if(r)return r.el.setAttribute("src",O),qi.prototype._removeTile.call(this,t)},_tileReady:function(t,r,d){if(!(!this._map||d&&d.getAttribute("src")===O))return qi.prototype._tileReady.call(this,t,r,d)}});function Ho(t,r){return new Pi(t,r)}var Zo=Pi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,r){this._url=t;var d=a({},this.defaultWmsParams);for(var y in r)y in this.options||(d[y]=r[y]);r=x(this,r);var k=r.detectRetina&&Tt.retina?2:1,E=this.getTileSize();d.width=E.x*k,d.height=E.y*k,this.wmsParams=d},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,Pi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var r=this._tileCoordsToNwSe(t),d=this._crs,y=Ut(d.project(r[0]),d.project(r[1])),k=y.min,E=y.max,U=(this._wmsVersion>=1.3&&this._crs===Oo?[k.y,k.x,E.y,E.x]:[k.x,k.y,E.x,E.y]).join(","),J=Pi.prototype.getTileUrl.call(this,t);return J+T(this.wmsParams,J,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+U},setParams:function(t,r){return a(this.wmsParams,t),r||this.redraw(),this}});function Js(t,r){return new Zo(t,r)}Pi.WMS=Zo,Ho.wms=Js;var Rn=fn.extend({options:{padding:.1},initialize:function(t){x(this,t),o(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Wt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,r){var d=this._map.getZoomScale(r,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),k=this._map.project(this._center,r),E=y.multiplyBy(-d).add(k).subtract(this._map._getNewPixelOrigin(t,r));Tt.any3d?bn(this._container,E,d):Me(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,r=this._map.getSize(),d=this._map.containerPointToLayerPoint(r.multiplyBy(-t)).round();this._bounds=new Et(d,d.add(r.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),jo=Rn.extend({options:{tolerance:0},getEvents:function(){var t=Rn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Rn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Ft(t,"mousemove",this._onMouseMove,this),Ft(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ft(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){dt(this._redrawRequest),delete this._ctx,ye(this._container),l(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var r in this._layers)t=this._layers[r],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Rn.prototype._update.call(this);var t=this._bounds,r=this._container,d=t.getSize(),y=Tt.retina?2:1;Me(r,t.min),r.width=y*d.x,r.height=y*d.y,r.style.width=d.x+"px",r.style.height=d.y+"px",Tt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Rn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[o(t)]=t;var r=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var r=t._order,d=r.next,y=r.prev;d?d.prev=y:this._drawLast=y,y?y.next=d:this._drawFirst=d,delete t._order,delete this._layers[o(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var r=t.options.dashArray.split(/[, ]+/),d=[],y,k;for(k=0;k<r.length;k++){if(y=Number(r[k]),isNaN(y))return;d.push(y)}t.options._dashArray=d}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||ft(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var r=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Et,this._redrawBounds.extend(t._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(t._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var r=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,r=this._redrawBounds;if(this._ctx.save(),r){var d=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)t=y.layer,(!r||t._pxBounds&&t._pxBounds.intersects(r))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,r){if(this._drawing){var d,y,k,E,U=t._parts,J=U.length,$=this._ctx;if(J){for($.beginPath(),d=0;d<J;d++){for(y=0,k=U[d].length;y<k;y++)E=U[d][y],$[y?"lineTo":"moveTo"](E.x,E.y);r&&$.closePath()}this._fillStroke($,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var r=t._point,d=this._ctx,y=Math.max(Math.round(t._radius),1),k=(Math.max(Math.round(t._radiusY),1)||y)/y;k!==1&&(d.save(),d.scale(1,k)),d.beginPath(),d.arc(r.x,r.y/k,y,0,Math.PI*2,!1),k!==1&&d.restore(),this._fillStroke(d,t)}},_fillStroke:function(t,r){var d=r.options;d.fill&&(t.globalAlpha=d.fillOpacity,t.fillStyle=d.fillColor||d.color,t.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(t.setLineDash&&t.setLineDash(r.options&&r.options._dashArray||[]),t.globalAlpha=d.opacity,t.lineWidth=d.weight,t.strokeStyle=d.color,t.lineCap=d.lineCap,t.lineJoin=d.lineJoin,t.stroke())},_onClick:function(t){for(var r=this._map.mouseEventToLayerPoint(t),d,y,k=this._drawFirst;k;k=k.next)d=k.layer,d.options.interactive&&d._containsPoint(r)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(d))&&(y=d);this._fireEvent(y?[y]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,r)}},_handleMouseOut:function(t){var r=this._hoveredLayer;r&&(Te(this._container,"leaflet-interactive"),this._fireEvent([r],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,r){if(!this._mouseHoverThrottled){for(var d,y,k=this._drawFirst;k;k=k.next)d=k.layer,d.options.interactive&&d._containsPoint(r)&&(y=d);y!==this._hoveredLayer&&(this._handleMouseOut(t),y&&(Wt(this._container,"leaflet-interactive"),this._fireEvent([y],t,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,r,d){this._map._fireDOMEvent(r,d||r.type,t)},_bringToFront:function(t){var r=t._order;if(r){var d=r.next,y=r.prev;if(d)d.prev=y;else return;y?y.next=d:d&&(this._drawFirst=d),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(t)}},_bringToBack:function(t){var r=t._order;if(r){var d=r.next,y=r.prev;if(y)y.next=d;else return;d?d.prev=y:y&&(this._drawLast=y),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(t)}}});function Go(t){return Tt.canvas?new jo(t):null}var Wi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Qs={_initContainer:function(){this._container=ue("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Rn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var r=t._container=Wi("shape");Wt(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",t._path=Wi("path"),r.appendChild(t._path),this._updateStyle(t),this._layers[o(t)]=t},_addPath:function(t){var r=t._container;this._container.appendChild(r),t.options.interactive&&t.addInteractiveTarget(r)},_removePath:function(t){var r=t._container;ye(r),t.removeInteractiveTarget(r),delete this._layers[o(t)]},_updateStyle:function(t){var r=t._stroke,d=t._fill,y=t.options,k=t._container;k.stroked=!!y.stroke,k.filled=!!y.fill,y.stroke?(r||(r=t._stroke=Wi("stroke")),k.appendChild(r),r.weight=y.weight+"px",r.color=y.color,r.opacity=y.opacity,y.dashArray?r.dashStyle=I(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=y.lineCap.replace("butt","flat"),r.joinstyle=y.lineJoin):r&&(k.removeChild(r),t._stroke=null),y.fill?(d||(d=t._fill=Wi("fill")),k.appendChild(d),d.color=y.fillColor||y.color,d.opacity=y.fillOpacity):d&&(k.removeChild(d),t._fill=null)},_updateCircle:function(t){var r=t._point.round(),d=Math.round(t._radius),y=Math.round(t._radiusY||d);this._setPath(t,t._empty()?"M0 0":"AL "+r.x+","+r.y+" "+d+","+y+" 0,"+65535*360)},_setPath:function(t,r){t._path.v=r},_bringToFront:function(t){Bn(t._container)},_bringToBack:function(t){On(t._container)}},Lr=Tt.vml?Wi:Hn,Yi=Rn.extend({_initContainer:function(){this._container=Lr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Lr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ye(this._container),l(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Rn.prototype._update.call(this);var t=this._bounds,r=t.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,d.setAttribute("width",r.x),d.setAttribute("height",r.y)),Me(d,t.min),d.setAttribute("viewBox",[t.min.x,t.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(t){var r=t._path=Lr("path");t.options.className&&Wt(r,t.options.className),t.options.interactive&&Wt(r,"leaflet-interactive"),this._updateStyle(t),this._layers[o(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ye(t._path),t.removeInteractiveTarget(t._path),delete this._layers[o(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var r=t._path,d=t.options;r&&(d.stroke?(r.setAttribute("stroke",d.color),r.setAttribute("stroke-opacity",d.opacity),r.setAttribute("stroke-width",d.weight),r.setAttribute("stroke-linecap",d.lineCap),r.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?r.setAttribute("stroke-dasharray",d.dashArray):r.removeAttribute("stroke-dasharray"),d.dashOffset?r.setAttribute("stroke-dashoffset",d.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),d.fill?(r.setAttribute("fill",d.fillColor||d.color),r.setAttribute("fill-opacity",d.fillOpacity),r.setAttribute("fill-rule",d.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(t,r){this._setPath(t,mn(t._parts,r))},_updateCircle:function(t){var r=t._point,d=Math.max(Math.round(t._radius),1),y=Math.max(Math.round(t._radiusY),1)||d,k="a"+d+","+y+" 0 1,0 ",E=t._empty()?"M0 0":"M"+(r.x-d)+","+r.y+k+d*2+",0 "+k+-d*2+",0 ";this._setPath(t,E)},_setPath:function(t,r){t._path.setAttribute("d",r)},_bringToFront:function(t){Bn(t._path)},_bringToBack:function(t){On(t._path)}});Tt.vml&&Yi.include(Qs);function Vo(t){return Tt.svg||Tt.vml?new Yi(t):null}Bt.include({getRenderer:function(t){var r=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var r=this._paneRenderers[t];return r===void 0&&(r=this._createRenderer({pane:t}),this._paneRenderers[t]=r),r},_createRenderer:function(t){return this.options.preferCanvas&&Go(t)||Vo(t)}});var Fo=Mi.extend({initialize:function(t,r){Mi.prototype.initialize.call(this,this._boundsToLatLngs(t),r)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=be(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function $s(t,r){return new Fo(t,r)}Yi.create=Lr,Yi.pointsToPath=mn,In.geometryToLayer=dr,In.coordsToLatLng=Wr,In.coordsToLatLngs=pr,In.latLngToCoords=Yr,In.latLngsToCoords=_r,In.getFeature=wi,In.asFeature=gr,Bt.mergeOptions({boxZoom:!0});var Uo=on.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Ft(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){l(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ye(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ri(),ai(),this._startPoint=this._map.mouseEventToContainerPoint(t),Ft(document,{contextmenu:X,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ue("div","leaflet-zoom-box",this._container),Wt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var r=new Et(this._point,this._startPoint),d=r.getSize();Me(this._box,r.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(ye(this._box),Te(this._container,"leaflet-crosshair")),oi(),ji(),l(document,{contextmenu:X,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var r=new Ee(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Bt.addInitHook("addHandler","boxZoom",Uo),Bt.mergeOptions({doubleClickZoom:!0});var Ko=on.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var r=this._map,d=r.getZoom(),y=r.options.zoomDelta,k=t.originalEvent.shiftKey?d-y:d+y;r.options.doubleClickZoom==="center"?r.setZoom(k):r.setZoomAround(t.containerPoint,k)}});Bt.addInitHook("addHandler","doubleClickZoom",Ko),Bt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var qo=on.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Fn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Wt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Te(this._map._container,"leaflet-grab"),Te(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=be(this._map.options.maxBounds);this._offsetLimit=Ut(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var r=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(r),this._prunePositions(r)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,r){return t-(t-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;t.x<r.min.x&&(t.x=this._viscousLimit(t.x,r.min.x)),t.y<r.min.y&&(t.y=this._viscousLimit(t.y,r.min.y)),t.x>r.max.x&&(t.x=this._viscousLimit(t.x,r.max.x)),t.y>r.max.y&&(t.y=this._viscousLimit(t.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,r=Math.round(t/2),d=this._initialWorldOffset,y=this._draggable._newPos.x,k=(y-r+d)%t+r-d,E=(y+r+d)%t-r-d,U=Math.abs(k+d)<Math.abs(E+d)?k:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=U},_onDragEnd:function(t){var r=this._map,d=r.options,y=!d.inertia||t.noInertia||this._times.length<2;if(r.fire("dragend",t),y)r.fire("moveend");else{this._prunePositions(+new Date);var k=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,U=d.easeLinearity,J=k.multiplyBy(U/E),$=J.distanceTo([0,0]),ht=Math.min(d.inertiaMaxSpeed,$),Ct=J.multiplyBy(ht/$),jt=ht/(d.inertiaDeceleration*U),ce=Ct.multiplyBy(-jt/2).round();!ce.x&&!ce.y?r.fire("moveend"):(ce=r._limitOffset(ce,r.options.maxBounds),ft(function(){r.panBy(ce,{duration:jt,easeLinearity:U,noMoveStart:!0,animate:!0})}))}}});Bt.addInitHook("addHandler","dragging",qo),Bt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Wo=on.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Ft(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),l(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,r=document.documentElement,d=t.scrollTop||r.scrollTop,y=t.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(y,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var r=this._panKeys={},d=this.keyCodes,y,k;for(y=0,k=d.left.length;y<k;y++)r[d.left[y]]=[-1*t,0];for(y=0,k=d.right.length;y<k;y++)r[d.right[y]]=[t,0];for(y=0,k=d.down.length;y<k;y++)r[d.down[y]]=[0,t];for(y=0,k=d.up.length;y<k;y++)r[d.up[y]]=[0,-1*t]},_setZoomDelta:function(t){var r=this._zoomKeys={},d=this.keyCodes,y,k;for(y=0,k=d.zoomIn.length;y<k;y++)r[d.zoomIn[y]]=t;for(y=0,k=d.zoomOut.length;y<k;y++)r[d.zoomOut[y]]=-t},_addHooks:function(){Ft(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){l(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var r=t.keyCode,d=this._map,y;if(r in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(y=this._panKeys[r],t.shiftKey&&(y=St(y).multiplyBy(3)),d.options.maxBounds&&(y=d._limitOffset(St(y),d.options.maxBounds)),d.options.worldCopyJump){var k=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(y)));d.panTo(k)}else d.panBy(y)}else if(r in this._zoomKeys)d.setZoom(d.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;X(t)}}});Bt.addInitHook("addHandler","keyboard",Wo),Bt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Yo=on.extend({addHooks:function(){Ft(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){l(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var r=wt(t),d=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var y=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),y),X(t)},_performZoom:function(){var t=this._map,r=t.getZoom(),d=this._map.options.zoomSnap||0;t._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),k=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,E=d?Math.ceil(k/d)*d:k,U=t._limitZoom(r+(this._delta>0?E:-E))-r;this._delta=0,this._startTime=null,U&&(t.options.scrollWheelZoom==="center"?t.setZoom(r+U):t.setZoomAround(this._lastMousePos,r+U))}});Bt.addInitHook("addHandler","scrollWheelZoom",Yo);var tl=600;Bt.mergeOptions({tapHold:Tt.touchNative&&Tt.safari&&Tt.mobile,tapTolerance:15});var Xo=on.extend({addHooks:function(){Ft(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){l(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var r=t.touches[0];this._startPos=this._newPos=new rt(r.clientX,r.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(Ft(document,"touchend",G),Ft(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),tl),Ft(document,"touchend touchcancel contextmenu",this._cancel,this),Ft(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){l(document,"touchend",G),l(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),l(document,"touchend touchcancel contextmenu",this._cancel,this),l(document,"touchmove",this._onMove,this)},_onMove:function(t){var r=t.touches[0];this._newPos=new rt(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,r){var d=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});d._simulated=!0,r.target.dispatchEvent(d)}});Bt.addInitHook("addHandler","tapHold",Xo),Bt.mergeOptions({touchZoom:Tt.touch,bounceAtZoomLimits:!0});var Jo=on.extend({addHooks:function(){Wt(this._map._container,"leaflet-touch-zoom"),Ft(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Te(this._map._container,"leaflet-touch-zoom"),l(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var r=this._map;if(!(!t.touches||t.touches.length!==2||r._animatingZoom||this._zooming)){var d=r.mouseEventToContainerPoint(t.touches[0]),y=r.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(d.add(y)._divideBy(2))),this._startDist=d.distanceTo(y),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),Ft(document,"touchmove",this._onTouchMove,this),Ft(document,"touchend touchcancel",this._onTouchEnd,this),G(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var r=this._map,d=r.mouseEventToContainerPoint(t.touches[0]),y=r.mouseEventToContainerPoint(t.touches[1]),k=d.distanceTo(y)/this._startDist;if(this._zoom=r.getScaleZoom(k,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&k<1||this._zoom>r.getMaxZoom()&&k>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,k===1)return}else{var E=d._add(y)._divideBy(2)._subtract(this._centerPoint);if(k===1&&E.x===0&&E.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),dt(this._animRequest);var U=c(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ft(U,this,!0),G(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,dt(this._animRequest),l(document,"touchmove",this._onTouchMove,this),l(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Bt.addInitHook("addHandler","touchZoom",Jo),Bt.BoxZoom=Uo,Bt.DoubleClickZoom=Ko,Bt.Drag=qo,Bt.Keyboard=Wo,Bt.ScrollWheelZoom=Yo,Bt.TapHold=Xo,Bt.TouchZoom=Jo,f.Bounds=Et,f.Browser=Tt,f.CRS=Ke,f.Canvas=jo,f.Circle=qr,f.CircleMarker=fr,f.Class=At,f.Control=Le,f.DivIcon=No,f.DivOverlay=Mn,f.DomEvent=Yt,f.DomUtil=jr,f.Draggable=Fn,f.Evented=se,f.FeatureGroup=An,f.GeoJSON=In,f.GridLayer=qi,f.Handler=on,f.Icon=ki,f.ImageOverlay=mr,f.LatLng=he,f.LatLngBounds=Ee,f.Layer=fn,f.LayerGroup=bi,f.LineUtil=xs,f.Map=Bt,f.Marker=cr,f.Mixin=Ps,f.Path=Un,f.Point=rt,f.PolyUtil=Bs,f.Polygon=Mi,f.Polyline=Dn,f.Popup=vr,f.PosAnimation=_e,f.Projection=Os,f.Rectangle=Fo,f.Renderer=Rn,f.SVG=Yi,f.SVGOverlay=Ro,f.TileLayer=Pi,f.Tooltip=yr,f.Transformation=En,f.Util=bt,f.VideoOverlay=Io,f.bind=c,f.bounds=Ut,f.canvas=Go,f.circle=Zs,f.circleMarker=Hs,f.control=je,f.divIcon=Ys,f.extend=a,f.featureGroup=Is,f.geoJSON=Do,f.geoJson=Vs,f.gridLayer=Xs,f.icon=Rs,f.imageOverlay=Fs,f.latLng=ee,f.latLngBounds=be,f.layerGroup=Ds,f.map=ge,f.marker=Ns,f.point=St,f.polygon=Gs,f.polyline=js,f.popup=qs,f.rectangle=$s,f.setOptions=x,f.stamp=o,f.svg=Vo,f.svgOverlay=Ks,f.tileLayer=Ho,f.tooltip=Ws,f.transformation=en,f.version=u,f.videoOverlay=Us;var el=window.L;f.noConflict=function(){return window.L=el,this},window.L=f})})(bl,we);const Ye=we,Cr=pn([]),kl=pn([]),Qi=pn(!1),ao=pn(!1),Tr=pn(!1);function Ml(){const{subscribe:h,set:n,update:f}=pn(new Map([]));return{subscribe:h,add:(u,a)=>f(i=>new Map(i.set(u,a))),remove:u=>f(a=>(a.delete(u),new Map(a)))}}const Mr=Ml();function wl(){const{subscribe:h,set:n,update:f}=pn(new Map([]));return{subscribe:h,reset:()=>n(new Map([])),set:(u,a)=>n(new Map([[u,a]])),add:(u,a)=>f(i=>i.get(u)?(i.delete(u),new Map(i)):new Map(i.set(u,a))),remove:u=>f(a=>(a.delete(u),new Map(a)))}}const ci=wl();function $r(h){if(!h)throw new Error("geojson is required");switch(h.type){case"Feature":return ls(h);case"FeatureCollection":return Pl(h);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return vo(h);default:throw new Error("unknown GeoJSON type")}}function ls(h){var n={type:"Feature"};return Object.keys(h).forEach(function(f){switch(f){case"type":case"properties":case"geometry":return;default:n[f]=h[f]}}),n.properties=us(h.properties),n.geometry=vo(h.geometry),n}function us(h){var n={};return h&&Object.keys(h).forEach(function(f){var u=h[f];typeof u=="object"?u===null?n[f]=null:Array.isArray(u)?n[f]=u.map(function(a){return a}):n[f]=us(u):n[f]=u}),n}function Pl(h){var n={type:"FeatureCollection"};return Object.keys(h).forEach(function(f){switch(f){case"type":case"features":return;default:n[f]=h[f]}}),n.features=h.features.map(function(f){return ls(f)}),n}function vo(h){var n={type:h.type};return h.bbox&&(n.bbox=h.bbox),h.type==="GeometryCollection"?(n.geometries=h.geometries.map(function(f){return vo(f)}),n):(n.coordinates=hs(h.coordinates),n)}function hs(h){var n=h;return typeof n[0]!="object"?n.slice():n.map(function(f){return hs(f)})}var Cl=Object.defineProperty,yo=(h,n)=>{for(var f in n)Cl(h,f,{get:n[f],enumerable:!0})},El={};yo(El,{convertFileSrc:()=>Tl,invoke:()=>Nn,transformCallback:()=>xr});function Sl(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function xr(h,n=!1){let f=Sl(),u=`_${f}`;return Object.defineProperty(window,u,{value:a=>(n&&Reflect.deleteProperty(window,u),h==null?void 0:h(a)),writable:!1,configurable:!0}),f}async function Nn(h,n={}){return new Promise((f,u)=>{let a=xr(c=>{f(c),Reflect.deleteProperty(window,`_${i}`)},!0),i=xr(c=>{u(c),Reflect.deleteProperty(window,`_${a}`)},!0);window.__TAURI_IPC__({cmd:h,callback:a,error:i,...n})})}function Tl(h,n="asset"){let f=encodeURIComponent(h);return navigator.userAgent.includes("Windows")?`https://${n}.localhost/${f}`:`${n}://localhost/${f}`}/* @preserve
* @terraformer/spatial - v2.1.1 - MIT
* Copyright (c) 2012-2022 Environmental Systems Research Institute, Inc.
* Tue Aug 02 2022 14:23:50 GMT-0700 (Pacific Daylight Time)
*/var aa=function(n){for(var f=null,u=null,a=null,i=null,c=0;c<n.length;c++)for(var p=n[c],o=0;o<p.length;o++){var m=p[o],v=m[0],s=m[1];(f===null||v<f)&&(f=v),(u===null||v>u)&&(u=v),(a===null||s<a)&&(a=s),(i===null||s>i)&&(i=s)}return[f,a,u,i]},xl=function(n){for(var f=null,u=null,a=null,i=null,c=0;c<n.length;c++)for(var p=n[c],o=0;o<p.length;o++)for(var m=p[o],v=0;v<m.length;v++){var s=m[v],g=s[0],S=s[1];(f===null||g<f)&&(f=g),(u===null||g>u)&&(u=g),(a===null||S<a)&&(a=S),(i===null||S>i)&&(i=S)}return[f,a,u,i]},Br=function(n){for(var f=null,u=null,a=null,i=null,c=0;c<n.length;c++){var p=n[c],o=p[0],m=p[1];(f===null||o<f)&&(f=o),(u===null||o>u)&&(u=o),(a===null||m<a)&&(a=m),(i===null||m>i)&&(i=m)}return[f,a,u,i]},Bl=function(n){for(var f=[],u=n.features.length-1;u>=0;u--){var a=Lo(n.features[u].geometry);f.push([a[0],a[1]]),f.push([a[2],a[3]])}return Br(f)},Ol=function(n){for(var f=[],u=n.geometries.length-1;u>=0;u--){var a=Lo(n.geometries[u]);f.push([a[0],a[1]]),f.push([a[2],a[3]])}return Br(f)},Lo=function h(n){if(n.type)switch(n.type){case"Point":return[n.coordinates[0],n.coordinates[1],n.coordinates[0],n.coordinates[1]];case"MultiPoint":return Br(n.coordinates);case"LineString":return Br(n.coordinates);case"MultiLineString":return aa(n.coordinates);case"Polygon":return aa(n.coordinates);case"MultiPolygon":return xl(n.coordinates);case"Feature":return n.geometry?h(n.geometry):null;case"FeatureCollection":return Bl(n);case"GeometryCollection":return Ol(n);default:throw new Error("Unknown type: "+n.type)}return null},sa=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},zl=function(n,f,u,a){var i=(a[0]-u[0])*(n[1]-u[1])-(a[1]-u[1])*(n[0]-u[0]),c=(f[0]-n[0])*(n[1]-u[1])-(f[1]-n[1])*(n[0]-u[0]),p=(a[1]-u[1])*(f[0]-n[0])-(a[0]-u[0])*(f[1]-n[1]);if(p!==0){var o=i/p,m=c/p;if(o>=0&&o<=1&&m>=0&&m<=1)return!0}return!1},Er=function h(n,f){if(sa(n[0][0])){if(sa(f[0][0])){for(var u=0;u<n.length-1;u++)for(var a=0;a<f.length-1;a++)if(zl(n[u],n[u+1],f[a],f[a+1]))return!0}else for(var i=0;i<f.length;i++)if(h(n,f[i]))return!0}else for(var c=0;c<n.length;c++)if(h(n[c],f))return!0;return!1},to=function(n,f){for(var u=!1,a=-1,i=n.length,c=i-1;++a<i;c=a)(n[a][1]<=f[1]&&f[1]<n[c][1]||n[c][1]<=f[1]&&f[1]<n[a][1])&&f[0]<(n[c][0]-n[a][0])*(f[1]-n[a][1])/(n[c][1]-n[a][1])+n[a][0]&&(u=!u);return u},so=function(n,f){for(var u=0;u<n.length;u++)if(n[u]!==f[u])return!1;return!0},la=function(n,f){return n[0]>f[0]?-1:n[0]<f[0]?1:n[1]>f[1]?-1:n[1]<f[1]?1:0},lo=function(n){for(var f=[],u=0;u<n.length;u++){var a=n[u].slice();so(a[0],a[a.length-1])===!1&&a.push(a[0]),f.push(a)}return f};function Al(){var h=Array.prototype.slice.apply(arguments);typeof console<"u"&&console.warn&&console.warn.apply(console,h)}var ua=function(n,f){if(n.length!==f.length)return!1;for(var u=n.slice().sort(la),a=f.slice().sort(la),i=0;i<u.length;i++){if(u[i].length!==a[i].length)return!1;for(var c=0;c<u.length;c++)if(u[i][c]!==a[i][c])return!1}return!0},Xi=function(n,f){if(n&&n.length){if(n.length===1)return to(n[0],f);if(to(n[0],f)){for(var u=1;u<n.length;u++)if(to(n[u],f))return!1;return!0}else return!1}else return!1},tr=function h(n,f){var u,a,i;if(f.type==="Feature"&&(f=f.geometry),f.type==="Point"&&n.type==="Point")return so(n.coordinates,f.coordinates);if(f.type==="MultiLineString"&&n.type==="Point")for(a=0;a<n.coordinates.length;a++){var c={type:"LineString",coordinates:f.coordinates[a]};if(h(n,c))return!0}if((f.type==="LineString"||f.type==="MultiPoint")&&n.type==="Point")for(a=0;a<f.coordinates.length;a++){if(n.coordinates.length!==f.coordinates[a].length)return!1;if(so(n.coordinates,f.coordinates[a]))return!0}if(f.type==="Polygon")if(n.type==="Polygon"){if(f.coordinates.length===n.coordinates.length){for(a=0;a<n.coordinates.length;a++)if(ua(n.coordinates[a],f.coordinates[a]))return!0}return n.coordinates.length&&Xi(f.coordinates,n.coordinates[0][0])?!Er(lo(n.coordinates),lo(f.coordinates)):!1}else{if(n.type==="Point")return Xi(f.coordinates,n.coordinates);if(n.type==="LineString"||n.type==="MultiPoint"){if(!n.coordinates||n.coordinates.length===0)return!1;for(a=0;a<n.coordinates.length;a++)if(Xi(f.coordinates,n.coordinates[a])===!1)return!1;return!0}else if(n.type==="MultiLineString"){for(a=0;a<n.coordinates.length;a++){var p={type:"LineString",coordinates:n.coordinates[a]};if(h(p,f)===!1)return i++,!1}return!0}else if(n.type==="MultiPolygon"){for(a=0;a<n.coordinates.length;a++){var o={type:"Polygon",coordinates:n.coordinates[a]};if(h(o,f)===!1)return!1}return!0}}if(f.type==="MultiPolygon"){if(n.type==="Point"){if(f.coordinates.length){for(a=0;a<f.coordinates.length;a++)if(u=f.coordinates[a],Xi(u,n.coordinates)&&Er([n.coordinates],f.coordinates)===!1)return!0}return!1}else if(n.type==="Polygon"){for(a=0;a<n.coordinates.length;a++)if(f.coordinates[a].length===n.coordinates.length){for(var m=0;m<n.coordinates.length;m++)if(ua(n.coordinates[m],f.coordinates[a][m]))return!0}if(Er(n.coordinates,f.coordinates)===!1&&f.coordinates.length){for(a=0;a<f.coordinates.length;a++)u=f.coordinates[a],Xi(u,n.coordinates[0][0])===!1?i=!1:i=!0;return i}}else if(n.type==="LineString"||n.type==="MultiPoint")for(a=0;a<f.coordinates.length;a++){var v={type:"Polygon",coordinates:f.coordinates[a]};return!!h(n,v)}else if(n.type==="MultiLineString"){for(a=0;a<n.coordinates.length;a++){var s={type:"LineString",coordinates:n.coordinates[a]};if(h(s,f)===!1)return!1}return!0}else if(n.type==="MultiPolygon"){for(a=0;a<f.coordinates.length;a++){var g={type:"Polygon",coordinates:f.coordinates[a]};if(h(n,g)===!1)return!1}return!0}}return!1},cs=function(n,f){return tr(f,n)},Dl=function h(n,f){if(f.type==="Feature"&&(f=f.geometry),tr(n,f)||tr(f,n)||n.type==="MultiPolygon"&&Il(n,f))return!0;if(n.type!=="Point"&&n.type!=="MultiPoint"&&f.type!=="Point"&&f.type!=="MultiPoint")return Er(n.coordinates,f.coordinates);if(n.type==="Feature"){var u=n.geometry;return h(u,f)}return Al("Type "+n.type+" to "+f.type+" intersection is not supported by intersects"),!1};function Il(h,n){return h.coordinates.some(function(f){var u={type:"Polygon",coordinates:f};return tr(u,n)||tr(n,u)})}var eo={a:6378137,b:63567523142e-4,f:1/298.257223563},Rl=function(n,f,u){var a=u||64,i=f||250;if(!n||n.length<2||!i||!a)throw new Error("Terraformer: missing parameter for Terraformer.Circle");return{type:"Feature",geometry:Nl(n,i,a),properties:{radius:i,center:n,steps:a}}},Nl=function(n,f,u){for(var a=u||64,i={type:"Polygon",coordinates:[[]]},c,p=0;p<a;p++)c=p*360/a,i.coordinates[0].push(Hl(n,c,f));return i.coordinates=lo(i.coordinates),i},Hl=function(n,f,u){for(var a,i,c,p,o=eo.a,m=eo.b,v=eo.f,s=n[0],g=n[1],S=u,z=Math.PI,x=f*z/180,T=Math.sin(x),A=Math.cos(x),H=(1-v)*Math.tan(g*z/180),I=1/Math.sqrt(1+H*H),P=H*I,O=Math.atan2(H,A),Z=I*T,Y=1-Z*Z,Q=Y*(o*o-m*m)/(m*m),et=1+Q/16384*(4096+Q*(-768+Q*(320-175*Q))),lt=Q/1024*(256+Q*(-128+Q*(74-47*Q))),ft=S/(m*et),dt=2*Math.PI;Math.abs(ft-dt)>1e-12;)a=Math.cos(2*O+ft),i=Math.sin(ft),c=Math.cos(ft),p=lt*i*(a+lt/4*(c*(-1+2*a*a)-lt/6*a*(-3+4*i*i)*(-3+4*a*a))),dt=ft,ft=S/(m*et)+p;var bt=P*i-I*c*A,At=Math.atan2(P*c+I*i*A,(1-v)*Math.sqrt(Z*Z+bt*bt)),Pt=Math.atan2(i*T,I*c-P*i*A),xt=v/16*Y*(4+v*(4-3*Y)),se=Pt-(1-xt)*v*Z*(ft+xt*i*(a+xt*c*(-1+2*a*a))),rt=s+se*180/z,It=At*180/z;return[rt,It]},uo=function(h,n){return uo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&(f[a]=u[a])},uo(h,n)};function bo(h,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");uo(h,n);function f(){this.constructor=h}h.prototype=n===null?Object.create(n):(f.prototype=n.prototype,new f)}var Xn=function(){return Xn=Object.assign||function(n){for(var f,u=1,a=arguments.length;u<a;u++){f=arguments[u];for(var i in f)Object.prototype.hasOwnProperty.call(f,i)&&(n[i]=f[i])}return n},Xn.apply(this,arguments)};function ha(h,n,f){if(f||arguments.length===2)for(var u=0,a=n.length,i;u<a;u++)(i||!(u in n))&&(i||(i=Array.prototype.slice.call(n,0,u)),i[u]=n[u]);return h.concat(i||Array.prototype.slice.call(n))}var Zl=function(h){bo(n,h);function n(f,u){var a=h.call(this)||this;return a.polyline=we.polyline(f,u),a.polygon=we.polygon(f,Xn(Xn({},u),{weight:0})),a}return n.prototype.onAdd=function(f){return this.polyline.addTo(f),this.polygon.addTo(f),this},n.prototype.onRemove=function(){return this.polyline.remove(),this.polygon.remove(),this},n.prototype.addLatLng=function(f){return this.polyline.addLatLng(f),this.polygon.addLatLng(f),this},n.prototype.getLatLngs=function(){return this.polygon.getLatLngs()[0]},n.prototype.toGeoJSON=function(){return this.polygon.toGeoJSON()},n}(we.Layer);function jl(h){var n=Lo(h),f=we.latLngBounds([n[1],n[0]],[n[3],n[2]]);return f}function Gl(h,n,f){var u=h.getLatLng(),a=n.latLngToPoint(u,f),i=h.getRadius()/Math.SQRT2,c=we.point([a.x-i,a.y-i]),p=n.pointToLatLng(c,f),o=n.distance(u,p);return o}function ca(h,n){return Rl(we.GeoJSON.latLngToCoords(h),n).geometry}function fa(h,n){if(n===void 0&&(n={}),h instanceof we.Circle){var f=h.getLatLng(),u=h.getRadius();return ca(f,u)}else if(h instanceof we.CircleMarker)if(n.zoom!=null&&n.crs!=null){var f=h.getLatLng(),u=Gl(h,n.crs,n.zoom);return ca(f,u)}else return console.warn("Zoom and CRS is required for calculating CircleMarker polygon, falling back to center point only"),h.toGeoJSON().geometry;else{if(h instanceof we.Marker||h instanceof we.Polyline)return h.toGeoJSON().geometry;console.warn("Layer GeoJSON geometry is not available",h);return}}function Vl(h,n){return cs(h,n)}function Fl(h,n){return n.type==="Point"?cs(h,n):Dl(h,n)}function Ul(h,n,f){f===void 0&&(f={});var u=h.toGeoJSON().geometry,a=h.getBounds(),i=n.filter(function(c){var p,o;if(c instanceof we.Polyline?o=c.getBounds():(p=fa(c,f),p&&(o=jl(p))),!o||!o.isValid())return!1;var m=f.intersect?a.intersects(o):a.contains(o);if(!m||(p||(p=fa(c,f)),!p))return!1;var v=f.intersect?Fl(u,p):Vl(u,p);return v});return i}function fs(h,n){n===void 0&&(n={});var f=n.insertAt;if(!(!h||typeof document>"u")){var u=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",f==="top"&&u.firstChild?u.insertBefore(a,u.firstChild):u.appendChild(a),a.styleSheet?a.styleSheet.cssText=h:a.appendChild(document.createTextNode(h))}}var Kl=`.leaflet-lasso-active {
    cursor: crosshair;
    -webkit-user-select: none;
       -moz-user-select: none;
            user-select: none;
}

.leaflet-lasso-active .leaflet-interactive {
    cursor: crosshair;
    pointer-events: none;
}`;fs(Kl);var ql="lasso.enabled",Wl="lasso.disabled",ds="lasso.finished",wr="leaflet-lasso-active",Sr=function(h){bo(n,h);function n(f,u){u===void 0&&(u={});var a=h.call(this,f)||this;return a.options={polygon:{color:"#00C3FF",weight:2},intersect:!1},a.onMapMouseDownBound=a.onMapMouseDown.bind(a),a.onDocumentMouseMoveBound=a.onDocumentMouseMove.bind(a),a.onDocumentMouseUpBound=a.onDocumentMouseUp.bind(a),a.map=f,we.Util.setOptions(a,u),a}return n.prototype.setOptions=function(f){this.options=Xn(Xn({},this.options),f)},n.prototype.toggle=function(){this.enabled()?this.disable():this.enable()},n.prototype.addHooks=function(){this.map.getPane("mapPane"),this.map.getContainer().addEventListener("mousedown",this.onMapMouseDownBound),this.map.getContainer().addEventListener("touchstart",this.onMapMouseDownBound);var f=this.map.getContainer();f.classList.add(wr),this.map.dragging.disable(),this.map.fire(ql)},n.prototype.removeHooks=function(){this.polygon&&(this.map.removeLayer(this.polygon),this.polygon=void 0),this.map.getContainer().removeEventListener("mousedown",this.onMapMouseDownBound),this.map.getContainer().removeEventListener("touchstart",this.onMapMouseDownBound),document.removeEventListener("mousemove",this.onDocumentMouseMoveBound),document.removeEventListener("touchmove",this.onDocumentMouseMoveBound),document.removeEventListener("mouseup",this.onDocumentMouseUpBound),document.removeEventListener("touchend",this.onDocumentMouseUpBound),this.map.getContainer().classList.remove(wr),document.body.classList.remove(wr),this.map.dragging.enable(),this.map.fire(Wl)},n.prototype.onMapMouseDown=function(f){f.stopPropagation();var u=this.eventToMouseEvent("down",f);if(u){if(f instanceof MouseEvent&&!f._simulated&&f.buttons!==1){this.disable();return}if(!f.target.closest(".leaflet-control-container")){var a=this.map.mouseEventToLatLng(u);this.polygon=new Zl([a],this.options.polygon).addTo(this.map),document.body.classList.add(wr),document.addEventListener("mousemove",this.onDocumentMouseMoveBound),document.addEventListener("touchmove",this.onDocumentMouseMoveBound),document.addEventListener("mouseup",this.onDocumentMouseUpBound),document.addEventListener("touchend",this.onDocumentMouseUpBound),f.preventDefault()}}},n.prototype.onDocumentMouseMove=function(f){f.stopPropagation();var u=this.eventToMouseEvent("move",f);if(u&&this.polygon){if(f instanceof MouseEvent&&!f._simulated&&f.buttons!==1){this.finish(f);return}var a=this.map.mouseEventToLatLng(u);this.polygon.addLatLng(a),f.preventDefault()}},n.prototype.onDocumentMouseUp=function(f){this.finish(f),f.stopPropagation(),f.preventDefault()},n.prototype.eventToMouseEvent=function(f,u){if(u instanceof MouseEvent)return u;if(u instanceof TouchEvent&&u.touches.length===1)return new MouseEvent(f,{screenX:u.touches[0].screenX,screenY:u.touches[0].screenY,clientX:u.touches[0].clientX,clientY:u.touches[0].clientY,buttons:1})},n.prototype.finish=function(f){var u=this;if(this.polygon){var a=[];this.map.eachLayer(function(c){c===u.polygon||c===u.polygon.polyline||c===u.polygon.polygon||(we.MarkerCluster&&c instanceof we.MarkerCluster?a.push.apply(a,c.getAllChildMarkers()):(c instanceof we.Marker||c instanceof we.Path)&&a.push(c))});var i=Ul(this.polygon.polygon,a,{zoom:this.map.getZoom(),crs:this.map.options.crs,intersect:this.options.intersect});this.map.fire(ds,{originalEvent:f,latLngs:this.polygon.getLatLngs(),layers:i}),this.disable()}},n}(we.Handler),Yl=`.leaflet-control-lasso {
    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsSAAALEgHS3X78AAAD6UlEQVR4nO1b7XHbMAwFfP0fdYKqE8QbRJ0gGUEjaAR3A4/gbuBOUHWCKhs4E1SegD06jzmYpWhJpiRKNu58Tix+AA8gCQIQK6Xolml109LfAbgDcAfg5gH4NPQEzJwSkf4kRLR2NKmJqNLfSqlqaH7+4y/0McjML0SUQdinHkO8ApCSiPZKqToogxYFAQBC50T03NDkN74raFzSGtahreSLo+9PALG7mlEXaQD6fMD0BgIp8TkQ0ZaINChpl7ExZoZxK2vcGr8nfXl2ztm5g1twI/Q6KHPvVlFg/DMgJgEAWpWCay3lIYX2zJ1bQFQhAO+i9b2l8VEEd/BSWEooBgUAm5REPvg67AGCrZDdIABgQ6qF1oOu8QBAbK4FwTd4bq23SbXeks/OIPg0f7V5TQRCpz3BNdhamH30wgu+CwFC66VqD5IIByRas/eAYDbGqi8AW+FszEp4ocC6y1KQneW6z+YmvJDDLIVDVwBKdNzPVXghi/FbLjprp4AIM2fi6loMcusal8zN8eXirOp885jNrn/BAlKxnL17GWPj+As8viqlDguwAG3V+hR7JKJvSqmyqd1KmMnrUoQHGaEzX6OVaLAfg6sRyUSeUt+UKxGobDSTmZKR5yIAj/h79IhsDPSRFxg6+ho9AAukpI1IgydGxiY4dSRON+/SXgwAyE1sHbkF79JmeEuaPs91H4DWf+Ffk1nSgDwQ0RH5iUbZqgXcAI0MG/FbKn7f+i5DZo14PabISR/lb0qpjWETXq252LmSsidaCYfh8s0pbnKZuFHuEzNvmNl5MiR9YmmRLYHaxb8VJ3SG+UzD3ZyvwyI/UEPozMoZFE2xTjOADId1yuhGBMLO0raSUSE74HsGgDoPiZULsIISPkFqtUlEuOx0YsiHadeIakTC57bGPW0zAVRiP+yVXJhY+M6JHLFcCtfDvUAoahCseoXW0Wz0Oy1310O5WUQLgmX2ZddEzkffhoc2CJMUQ3h4kzt+v7S4ke/CRKWYaBtBYURmF2tcMda7bC0absWEk5TG4ISyS3Suury1BqAB+XIMIDCv7eAEsUTvHtDQoak8bhPSexSlcXadYBlqHu8p0BMIZRVIti9QeD/Hc/S1hVawgKDuufQDriqVZeYcAjeVyL4BGBc1lcaSKY8dolaYmTXgf0ykKFStcCIKpM33Q8vuR1EcXeEuMkhoDnyWCKB81wGUQV+aEhFaJ/mSlgPwYvyHZ8QN9SlS38RbY3hnYQ/NHyH8KVq0+DdGdCgMS+sRe1ImX8xYvAUw8wGb7Q9c88/2l1sAIEPBlPM0ur85GgEPk9IdgAh4mJTuAETAw3RERP8Ab2Uzgrad13wAAAAASUVORK5CYII=');
    background-size: 22px;
}`;fs(Yl);var no=function(h){bo(n,h);function n(f){f===void 0&&(f={});var u=h.call(this)||this;return u.options={position:"topright",title:"Toggle Lasso"},we.Util.setOptions(u,f),u}return n.prototype.setOptions=function(f){this.options=Xn(Xn({},this.options),f),this.lasso&&this.lasso.setOptions(this.options)},n.prototype.onAdd=function(f){this.lasso=new Sr(f,this.options);var u=we.DomUtil.create("div","leaflet-bar leaflet-control"),a=we.DomUtil.create("a","leaflet-control-lasso",u);return a.href="javascript:void(0)",a.title=this.options.title,a.setAttribute("role","button"),a.setAttribute("aria-label",a.title),we.DomEvent.addListener(a,"click",this.toggle,this),we.DomEvent.disableClickPropagation(a),u},n.prototype.enabled=function(){return this.lasso?this.lasso.enabled():!1},n.prototype.enable=function(){this.lasso&&this.lasso.enable()},n.prototype.disable=function(){this.lasso&&this.lasso.disable()},n.prototype.toggle=function(){this.lasso&&this.lasso.toggle()},n}(we.Control);typeof window.L<"u"&&(window.L.Lasso=Sr,window.L.lasso=function(){for(var h=[],n=0;n<arguments.length;n++)h[n]=arguments[n];return new(Sr.bind.apply(Sr,ha([void 0],h,!1)))},window.L.Control.Lasso=no,window.L.control.lasso=function(){for(var h=[],n=0;n<arguments.length;n++)h[n]=arguments[n];return new(no.bind.apply(no,ha([void 0],h,!1)))});let io=(h=21)=>crypto.getRandomValues(new Uint8Array(h)).reduce((n,f)=>(f&=63,f<36?n+=f.toString(36):f<62?n+=(f-26).toString(36).toUpperCase():f>62?n+="-":n+="_",n),"");function Xl(h){let n,f,u=[{xmlns:"http://www.w3.org/2000/svg"},{width:h[0]},{height:h[0]},{fill:h[1]},{class:f=h[4].class},h[5],{"aria-label":h[2]},{viewBox:"0 0 24 24"}],a={};for(let i=0;i<u.length;i+=1)a=vt(a,u[i]);return{c(){n=De("svg"),this.h()},l(i){n=Ie(i,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var c=at(n);c.forEach(K),this.h()},h(){Pe(n,a)},m(i,c){gt(i,n,c),n.innerHTML=h[3]},p(i,[c]){c&8&&(n.innerHTML=i[3]),Pe(n,a=zt(u,[{xmlns:"http://www.w3.org/2000/svg"},c&1&&{width:i[0]},c&1&&{height:i[0]},c&2&&{fill:i[1]},c&16&&f!==(f=i[4].class)&&{class:f},c&32&&i[5],c&4&&{"aria-label":i[2]},{viewBox:"0 0 24 24"}]))},i:Ot,o:Ot,d(i){i&&K(n)}}}let Jl='<path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>',da='<path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>',Ql='<path d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 0 0 1.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 0 0-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 0 0 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>',$l='<path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>',tu='<path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>';function eu(h,n,f){const u=["size","color","variation","ariaLabel"];let a=pe(n,u),{size:i="24"}=n,{color:c="currentColor"}=n,{variation:p="outlined"}=n,o;switch(p){case"filled":o=Jl;break;case"outlined":o=da;break;case"round":o=Ql;break;case"sharp":o=$l;break;case"two-tone":o=tu;break;default:o=da}let{ariaLabel:m="search"}=n;return h.$$set=v=>{f(4,n=vt(vt({},n),me(v))),f(5,a=pe(n,u)),"size"in v&&f(0,i=v.size),"color"in v&&f(1,c=v.color),"variation"in v&&f(6,p=v.variation),"ariaLabel"in v&&f(2,m=v.ariaLabel)},n=me(n),[i,c,m,o,n,a,p]}class nu extends re{constructor(n){super(),oe(this,n,eu,Xl,ae,{size:0,color:1,variation:6,ariaLabel:2})}}function iu(h){const n=h-1;return n*n*n+1}function ps(h,{delay:n=0,duration:f=400,easing:u=hl}={}){const a=+getComputedStyle(h).opacity;return{delay:n,duration:f,easing:u,css:i=>`opacity: ${i*a}`}}function pa(h,{delay:n=0,duration:f=400,easing:u=iu,x:a=0,y:i=0,opacity:c=0}={}){const p=getComputedStyle(h),o=+p.opacity,m=p.transform==="none"?"":p.transform,v=o*(1-c);return{delay:n,duration:f,easing:u,css:(s,g)=>`
			transform: ${m} translate(${(1-s)*a}px, ${(1-s)*i}px);
			opacity: ${o-v*g}`}}function _a(h,n,f){const u=h.slice();return u[9]=n[f],u}function ga(h){let n,f,u,a=h[1],i=[];for(let c=0;c<a.length;c+=1)i[c]=ma(_a(h,a,c));return{c(){n=pt("ul");for(let c=0;c<i.length;c+=1)i[c].c();this.h()},l(c){n=_t(c,"UL",{class:!0});var p=at(n);for(let o=0;o<i.length;o+=1)i[o].l(p);p.forEach(K),this.h()},h(){ct(n,"class","max-h-64 overflow-auto py-2")},m(c,p){gt(c,n,p);for(let o=0;o<i.length;o+=1)i[o].m(n,null);u=!0},p(c,p){if(p&18){a=c[1];let o;for(o=0;o<a.length;o+=1){const m=_a(c,a,o);i[o]?i[o].p(m,p):(i[o]=ma(m),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=a.length}},i(c){u||(_o(()=>{f||(f=na(n,pa,{y:-200,duration:2e3},!0)),f.run(1)}),u=!0)},o(c){f||(f=na(n,pa,{y:-200,duration:2e3},!1)),f.run(0),u=!1},d(c){c&&K(n),cl(i,c),c&&f&&f.end()}}}function ma(h){let n,f,u=h[9].river_name+"",a,i,c=h[9].river_code+"",p,o,m=h[9].prefecture_name+"",v,s,g,S,z;function x(){return h[6](h[9])}return{c(){n=pt("li"),f=pt("a"),a=xe(u),i=xe(":"),p=xe(c),o=xe(" ("),v=xe(m),s=xe(")"),g=fe(),this.h()},l(T){n=_t(T,"LI",{});var A=at(n);f=_t(A,"A",{href:!0,class:!0});var H=at(f);a=Be(H,u),i=Be(H,":"),p=Be(H,c),o=Be(H," ("),v=Be(H,m),s=Be(H,")"),H.forEach(K),g=de(A),A.forEach(K),this.h()},h(){ct(f,"href","/"),ct(f,"class","block px-4 py-2 text-sm text-gray-800 hover:bg-gray-100")},m(T,A){gt(T,n,A),Lt(n,f),Lt(f,a),Lt(f,i),Lt(f,p),Lt(f,o),Lt(f,v),Lt(f,s),Lt(n,g),S||(z=Ce(f,"click",x),S=!0)},p(T,A){h=T,A&2&&u!==(u=h[9].river_name+"")&&Yn(a,u),A&2&&c!==(c=h[9].river_code+"")&&Yn(p,c),A&2&&m!==(m=h[9].prefecture_name+"")&&Yn(v,m)},d(T){T&&K(n),S=!1,z()}}}function ru(h){let n,f,u,a,i,c,p,o,m,v;i=new nu({props:{tabindex:"-1"}});let s=h[2]&&ga(h);return{c(){n=pt("div"),f=pt("input"),u=fe(),a=pt("button"),Xt(i.$$.fragment),c=fe(),p=pt("div"),s&&s.c(),this.h()},l(g){n=_t(g,"DIV",{class:!0});var S=at(n);f=_t(S,"INPUT",{type:!0,class:!0}),u=de(S),a=_t(S,"BUTTON",{type:!0,class:!0});var z=at(a);$t(i.$$.fragment,z),z.forEach(K),S.forEach(K),c=de(g),p=_t(g,"DIV",{class:!0});var x=at(p);s&&s.l(x),x.forEach(K),this.h()},h(){ct(f,"type","text"),ct(f,"class","rounded-l-sm border-0 text-sm outline outline-1 outline-gray-400"),ct(a,"type","button"),ct(a,"class","rounded-r-sm bg-indigo-500 px-2 text-white outline outline-1 outline-gray-400 hover:bg-indigo-600 focus:bg-indigo-600"),ct(n,"class","pointer-events-auto grid w-min grid-cols-[20rem,_max-content] gap-x-px shadow-md shadow-indigo-600/30 transition hover:-translate-y-px hover:shadow-lg hover:shadow-indigo-600/20"),ct(p,"class","pointer-events-auto mt-1 w-80 bg-white shadow-md shadow-indigo-600/30 transition hover:-translate-y-px hover:shadow-lg hover:shadow-indigo-600/20")},m(g,S){gt(g,n,S),Lt(n,f),ea(f,h[0]),Lt(n,u),Lt(n,a),Jt(i,a,null),gt(g,c,S),gt(g,p,S),s&&s.m(p,null),o=!0,m||(v=[Ce(f,"input",h[5]),Ce(a,"click",h[3])],m=!0)},p(g,[S]){S&1&&f.value!==g[0]&&ea(f,g[0]),g[2]?s?(s.p(g,S),S&4&&st(s,1)):(s=ga(g),s.c(),st(s,1),s.m(p,null)):s&&(wn(),ut(s,1,1,()=>{s=null}),Pn())},i(g){o||(st(i.$$.fragment,g),st(s),o=!0)},o(g){ut(i.$$.fragment,g),ut(s),o=!1},d(g){g&&K(n),Qt(i),g&&K(c),g&&K(p),s&&s.d(),m=!1,Vt(v)}}}function ou(h,n,f){let u;Ge(h,kl,s=>f(7,s));const a=er();let i="植田",c=[];const p=async()=>{f(2,u=!0);const s=await Nn("candidates",{query:i});console.log(s),f(1,c=s.candidates)},o=async s=>{console.log(s);const g={name:s.river_name,river_code:s.river_code};a("clickedSearchRiver",{curveKey:g})};function m(){i=this.value,f(0,i)}const v=s=>o(s);return f(2,u=!1),[i,c,u,p,o,m,v]}class au extends re{constructor(n){super(),oe(this,n,ou,ru,ae,{})}}function su(h){let n,f,u=[{xmlns:"http://www.w3.org/2000/svg"},{width:h[0]},{height:h[0]},{fill:h[1]},{class:f=h[4].class},h[5],{"aria-label":h[2]},{viewBox:"0 0 24 24"}],a={};for(let i=0;i<u.length;i+=1)a=vt(a,u[i]);return{c(){n=De("svg"),this.h()},l(i){n=Ie(i,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var c=at(n);c.forEach(K),this.h()},h(){Pe(n,a)},m(i,c){gt(i,n,c),n.innerHTML=h[3]},p(i,[c]){c&8&&(n.innerHTML=i[3]),Pe(n,a=zt(u,[{xmlns:"http://www.w3.org/2000/svg"},c&1&&{width:i[0]},c&1&&{height:i[0]},c&2&&{fill:i[1]},c&16&&f!==(f=i[4].class)&&{class:f},c&32&&i[5],c&4&&{"aria-label":i[2]},{viewBox:"0 0 24 24"}]))},i:Ot,o:Ot,d(i){i&&K(n)}}}let lu='<path d="M23 8c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2z"/>',va='<path d="M23 8c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2z"/>',uu='<path d="M23 8c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2zm0 0c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2z"/>',hu='<path d="M23 8c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2zm0 0c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2z"/>',cu='<path d="M23 8c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2z"/>';function fu(h,n,f){const u=["size","color","variation","ariaLabel"];let a=pe(n,u),{size:i="24"}=n,{color:c="currentColor"}=n,{variation:p="outlined"}=n,o;switch(p){case"filled":o=lu;break;case"outlined":o=va;break;case"round":o=uu;break;case"sharp":o=hu;break;case"two-tone":o=cu;break;default:o=va}let{ariaLabel:m="timeline"}=n;return h.$$set=v=>{f(4,n=vt(vt({},n),me(v))),f(5,a=pe(n,u)),"size"in v&&f(0,i=v.size),"color"in v&&f(1,c=v.color),"variation"in v&&f(6,p=v.variation),"ariaLabel"in v&&f(2,m=v.ariaLabel)},n=me(n),[i,c,m,o,n,a,p]}class du extends re{constructor(n){super(),oe(this,n,fu,su,ae,{size:0,color:1,variation:6,ariaLabel:2})}}function pu(h){let n,f,u=[{xmlns:"http://www.w3.org/2000/svg"},{width:h[0]},{height:h[0]},{fill:h[1]},{class:f=h[4].class},h[5],{"aria-label":h[2]},{viewBox:"0 0 24 24"}],a={};for(let i=0;i<u.length;i+=1)a=vt(a,u[i]);return{c(){n=De("svg"),this.h()},l(i){n=Ie(i,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var c=at(n);c.forEach(K),this.h()},h(){Pe(n,a)},m(i,c){gt(i,n,c),n.innerHTML=h[3]},p(i,[c]){c&8&&(n.innerHTML=i[3]),Pe(n,a=zt(u,[{xmlns:"http://www.w3.org/2000/svg"},c&1&&{width:i[0]},c&1&&{height:i[0]},c&2&&{fill:i[1]},c&16&&f!==(f=i[4].class)&&{class:f},c&32&&i[5],c&4&&{"aria-label":i[2]},{viewBox:"0 0 24 24"}]))},i:Ot,o:Ot,d(i){i&&K(n)}}}let _u='<path d="M16.9 11a5 5 0 0 0-9.8 0H2v2h5.1a5 5 0 0 0 9.8 0H22v-2h-5.1zM12 15c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/>',ya='<path d="M16.9 11a5 5 0 0 0-9.8 0H2v2h5.1a5 5 0 0 0 9.8 0H22v-2h-5.1zM12 15c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/>',gu='<path d="M21 13c.55 0 1-.45 1-1s-.45-1-1-1h-4.1a5 5 0 0 0-9.8 0H3c-.55 0-1 .45-1 1s.45 1 1 1h4.1a5 5 0 0 0 9.8 0H21zm-9 2c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/>',mu='<path d="M16.9 11a5 5 0 0 0-9.8 0H2v2h5.1a5 5 0 0 0 9.8 0H22v-2h-5.1zM12 15c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/>',vu='<path d="M16.9 11a5 5 0 0 0-9.8 0H2v2h5.1a5 5 0 0 0 9.8 0H22v-2h-5.1zM12 15c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/>';function yu(h,n,f){const u=["size","color","variation","ariaLabel"];let a=pe(n,u),{size:i="24"}=n,{color:c="currentColor"}=n,{variation:p="outlined"}=n,o;switch(p){case"filled":o=_u;break;case"outlined":o=ya;break;case"round":o=gu;break;case"sharp":o=mu;break;case"two-tone":o=vu;break;default:o=ya}let{ariaLabel:m="commit"}=n;return h.$$set=v=>{f(4,n=vt(vt({},n),me(v))),f(5,a=pe(n,u)),"size"in v&&f(0,i=v.size),"color"in v&&f(1,c=v.color),"variation"in v&&f(6,p=v.variation),"ariaLabel"in v&&f(2,m=v.ariaLabel)},n=me(n),[i,c,m,o,n,a,p]}class Lu extends re{constructor(n){super(),oe(this,n,yu,pu,ae,{size:0,color:1,variation:6,ariaLabel:2})}}function bu(h){let n,f,u=[{xmlns:"http://www.w3.org/2000/svg"},{width:h[0]},{height:h[0]},{fill:h[1]},{class:f=h[4].class},h[5],{"aria-label":h[2]},{viewBox:"0 0 24 24"}],a={};for(let i=0;i<u.length;i+=1)a=vt(a,u[i]);return{c(){n=De("svg"),this.h()},l(i){n=Ie(i,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var c=at(n);c.forEach(K),this.h()},h(){Pe(n,a)},m(i,c){gt(i,n,c),n.innerHTML=h[3]},p(i,[c]){c&8&&(n.innerHTML=i[3]),Pe(n,a=zt(u,[{xmlns:"http://www.w3.org/2000/svg"},c&1&&{width:i[0]},c&1&&{height:i[0]},c&2&&{fill:i[1]},c&16&&f!==(f=i[4].class)&&{class:f},c&32&&i[5],c&4&&{"aria-label":i[2]},{viewBox:"0 0 24 24"}]))},i:Ot,o:Ot,d(i){i&&K(n)}}}let ku='<path d="M18 8c0-3.31-2.69-6-6-6S6 4.69 6 8c0 4.5 6 11 6 11s6-6.5 6-11zm-8 0c0-1.1.9-2 2-2s2 .9 2 2a2 2 0 1 1-4 0zM5 20v2h14v-2H5z"/>',La='<path d="M12 4c1.93 0 5 1.4 5 5.15 0 2.16-1.72 4.67-5 7.32-3.28-2.65-5-5.17-5-7.32C7 5.4 10.07 4 12 4m0-2C8.73 2 5 4.46 5 9.15c0 3.12 2.33 6.41 7 9.85 4.67-3.44 7-6.73 7-9.85C19 4.46 15.27 2 12 2z"/><path d="M12 7c-1.1 0-2 .9-2 2s.9 2 2 2a2 2 0 1 0 0-4zM5 20h14v2H5v-2z"/>',Mu='<path d="M6 20h12c.55 0 1 .45 1 1s-.45 1-1 1H6c-.55 0-1-.45-1-1s.45-1 1-1zm6-13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-5c3.27 0 7 2.46 7 7.15 0 2.98-2.13 6.12-6.39 9.39-.36.28-.86.28-1.22 0C7.13 15.26 5 12.13 5 9.15 5 4.46 8.73 2 12 2z"/>',wu='<path fill-rule="evenodd" d="M5 20h14v2H5v-2zm7-13c-1.1 0-2 .9-2 2s.9 2 2 2a2 2 0 1 0 0-4zm0-5c3.27 0 7 2.46 7 7.15 0 3.12-2.33 6.41-7 9.85-4.67-3.44-7-6.73-7-9.85C5 4.46 8.73 2 12 2z"/>',Pu='<path fill-opacity=".3" d="M12 3C9.19 3 6 5.11 6 9.13c0 2.68 2 5.49 6 8.44 4-2.95 6-5.77 6-8.44C18 5.11 14.81 3 12 3z"/><path d="M12 4c1.93 0 5 1.4 5 5.15 0 2.16-1.72 4.67-5 7.32-3.28-2.65-5-5.17-5-7.32C7 5.4 10.07 4 12 4m0-2C8.73 2 5 4.46 5 9.15c0 3.12 2.33 6.41 7 9.85 4.67-3.44 7-6.73 7-9.85C19 4.46 15.27 2 12 2z"/><path d="M12 7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM5 20h14v2H5v-2z"/>';function Cu(h,n,f){const u=["size","color","variation","ariaLabel"];let a=pe(n,u),{size:i="24"}=n,{color:c="currentColor"}=n,{variation:p="outlined"}=n,o;switch(p){case"filled":o=ku;break;case"outlined":o=La;break;case"round":o=Mu;break;case"sharp":o=wu;break;case"two-tone":o=Pu;break;default:o=La}let{ariaLabel:m="pin drop"}=n;return h.$$set=v=>{f(4,n=vt(vt({},n),me(v))),f(5,a=pe(n,u)),"size"in v&&f(0,i=v.size),"color"in v&&f(1,c=v.color),"variation"in v&&f(6,p=v.variation),"ariaLabel"in v&&f(2,m=v.ariaLabel)},n=me(n),[i,c,m,o,n,a,p]}class Eu extends re{constructor(n){super(),oe(this,n,Cu,bu,ae,{size:0,color:1,variation:6,ariaLabel:2})}}function Su(h){let n,f,u=[{xmlns:"http://www.w3.org/2000/svg"},{width:h[0]},{height:h[0]},{fill:h[1]},{class:f=h[4].class},h[5],{"aria-label":h[2]},{viewBox:"0 0 24 24"}],a={};for(let i=0;i<u.length;i+=1)a=vt(a,u[i]);return{c(){n=De("svg"),this.h()},l(i){n=Ie(i,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var c=at(n);c.forEach(K),this.h()},h(){Pe(n,a)},m(i,c){gt(i,n,c),n.innerHTML=h[3]},p(i,[c]){c&8&&(n.innerHTML=i[3]),Pe(n,a=zt(u,[{xmlns:"http://www.w3.org/2000/svg"},c&1&&{width:i[0]},c&1&&{height:i[0]},c&2&&{fill:i[1]},c&16&&f!==(f=i[4].class)&&{class:f},c&32&&i[5],c&4&&{"aria-label":i[2]},{viewBox:"0 0 24 24"}]))},i:Ot,o:Ot,d(i){i&&K(n)}}}let Tu='<path d="M12 6.5A2.5 2.5 0 0 1 14.5 9c0 .74-.33 1.39-.83 1.85l3.63 3.63c.98-1.86 1.7-3.8 1.7-5.48 0-3.87-3.13-7-7-7a7 7 0 0 0-5.04 2.15l3.19 3.19c.46-.52 1.11-.84 1.85-.84zm4.37 9.6-4.63-4.63-.11-.11L3.27 3 2 4.27l3.18 3.18C5.07 7.95 5 8.47 5 9c0 5.25 7 13 7 13s1.67-1.85 3.38-4.35L18.73 21 20 19.73l-3.63-3.63z"/>',ba='<path d="M12 4c2.76 0 5 2.24 5 5 0 1.06-.39 2.32-1 3.62l1.49 1.49C18.37 12.36 19 10.57 19 9c0-3.87-3.13-7-7-7-1.84 0-3.5.71-4.75 1.86l1.43 1.43C9.56 4.5 10.72 4 12 4zm0 2.5c-.59 0-1.13.21-1.56.56l3.5 3.5c.35-.43.56-.97.56-1.56A2.5 2.5 0 0 0 12 6.5zM3.41 2.86 2 4.27l3.18 3.18C5.07 7.95 5 8.47 5 9c0 5.25 7 13 7 13s1.67-1.85 3.38-4.35L18.73 21l1.41-1.41L3.41 2.86zM12 18.88c-2.01-2.58-4.8-6.74-4.98-9.59l6.92 6.92c-.65.98-1.33 1.89-1.94 2.67z"/>',xu='<path d="M2.71 3.56a.996.996 0 0 0 0 1.41l2.47 2.47C5.07 7.95 5 8.47 5 9c0 4.17 4.42 9.92 6.23 12.11.4.48 1.13.48 1.53 0 .65-.78 1.62-2.01 2.61-3.46l2.65 2.65a.996.996 0 1 0 1.41-1.41L4.12 3.56a.996.996 0 0 0-1.41 0zM12 2c-1.84 0-3.5.71-4.75 1.86l3.19 3.19c.43-.34.97-.55 1.56-.55A2.5 2.5 0 0 1 14.5 9c0 .59-.21 1.13-.56 1.56l3.55 3.55C18.37 12.36 19 10.57 19 9c0-3.87-3.13-7-7-7z"/>',Bu='<path d="M3.41 2.86 2 4.27l3.18 3.18C5.07 7.95 5 8.47 5 9c0 5.25 7 13 7 13s1.67-1.85 3.38-4.35L18.73 21l1.41-1.41L3.41 2.86zM12 2c-1.84 0-3.5.71-4.75 1.86l3.19 3.19c.43-.34.97-.55 1.56-.55A2.5 2.5 0 0 1 14.5 9c0 .59-.21 1.13-.56 1.56l3.55 3.55C18.37 12.36 19 10.57 19 9c0-3.87-3.13-7-7-7z"/>',Ou='<path d="M17 9c0 1.06-.39 2.32-1 3.62l1.49 1.49C18.37 12.36 19 10.57 19 9c0-3.87-3.13-7-7-7-1.84 0-3.5.71-4.75 1.86l1.43 1.43C9.56 4.5 10.72 4 12 4c2.76 0 5 2.24 5 5zm-5-2.5c-.59 0-1.13.21-1.56.56l3.5 3.5c.35-.43.56-.97.56-1.56A2.5 2.5 0 0 0 12 6.5zM3.41 2.86 2 4.27l3.18 3.18C5.07 7.95 5 8.47 5 9c0 5.25 7 13 7 13s1.67-1.85 3.38-4.35L18.73 21l1.41-1.41L3.41 2.86zM12 18.88c-2.01-2.58-4.8-6.74-4.98-9.59l6.92 6.92c-.65.98-1.33 1.89-1.94 2.67z"/>';function zu(h,n,f){const u=["size","color","variation","ariaLabel"];let a=pe(n,u),{size:i="24"}=n,{color:c="currentColor"}=n,{variation:p="outlined"}=n,o;switch(p){case"filled":o=Tu;break;case"outlined":o=ba;break;case"round":o=xu;break;case"sharp":o=Bu;break;case"two-tone":o=Ou;break;default:o=ba}let{ariaLabel:m="location off"}=n;return h.$$set=v=>{f(4,n=vt(vt({},n),me(v))),f(5,a=pe(n,u)),"size"in v&&f(0,i=v.size),"color"in v&&f(1,c=v.color),"variation"in v&&f(6,p=v.variation),"ariaLabel"in v&&f(2,m=v.ariaLabel)},n=me(n),[i,c,m,o,n,a,p]}class Au extends re{constructor(n){super(),oe(this,n,zu,Su,ae,{size:0,color:1,variation:6,ariaLabel:2})}}function Du(h){let n,f,u=[{xmlns:"http://www.w3.org/2000/svg"},{width:h[0]},{height:h[0]},{fill:h[1]},{class:f=h[4].class},h[5],{"aria-label":h[2]},{viewBox:"0 0 24 24"}],a={};for(let i=0;i<u.length;i+=1)a=vt(a,u[i]);return{c(){n=De("svg"),this.h()},l(i){n=Ie(i,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var c=at(n);c.forEach(K),this.h()},h(){Pe(n,a)},m(i,c){gt(i,n,c),n.innerHTML=h[3]},p(i,[c]){c&8&&(n.innerHTML=i[3]),Pe(n,a=zt(u,[{xmlns:"http://www.w3.org/2000/svg"},c&1&&{width:i[0]},c&1&&{height:i[0]},c&2&&{fill:i[1]},c&16&&f!==(f=i[4].class)&&{class:f},c&32&&i[5],c&4&&{"aria-label":i[2]},{viewBox:"0 0 24 24"}]))},i:Ot,o:Ot,d(i){i&&K(n)}}}let Iu='<path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"/>',ka='<path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"/>',Ru='<path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM8 17h8c.55 0 1-.45 1-1V8c0-.55-.45-1-1-1H8c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1zm1-8h6v6H9V9z"/>',Nu='<path d="M3 13h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zM3 17h2v-2H3v2zM9 3H7v2h2V3zM5 3H3v2h2V3zm6 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0-4h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zm4 0h2V3h-2v2zm0 16h2v-2h-2v2zM3 21h2v-2H3v2zm4-4h10V7H7v10zm2-8h6v6H9V9z"/>',Hu='<path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"/>';function Zu(h,n,f){const u=["size","color","variation","ariaLabel"];let a=pe(n,u),{size:i="24"}=n,{color:c="currentColor"}=n,{variation:p="outlined"}=n,o;switch(p){case"filled":o=Iu;break;case"outlined":o=ka;break;case"round":o=Ru;break;case"sharp":o=Nu;break;case"two-tone":o=Hu;break;default:o=ka}let{ariaLabel:m="select all"}=n;return h.$$set=v=>{f(4,n=vt(vt({},n),me(v))),f(5,a=pe(n,u)),"size"in v&&f(0,i=v.size),"color"in v&&f(1,c=v.color),"variation"in v&&f(6,p=v.variation),"ariaLabel"in v&&f(2,m=v.ariaLabel)},n=me(n),[i,c,m,o,n,a,p]}class ju extends re{constructor(n){super(),oe(this,n,Zu,Du,ae,{size:0,color:1,variation:6,ariaLabel:2})}}function Gu(h){let n,f,u=[{xmlns:"http://www.w3.org/2000/svg"},{width:h[0]},{height:h[0]},{fill:h[1]},{class:f=h[4].class},h[5],{"aria-label":h[2]},{viewBox:"0 0 24 24"}],a={};for(let i=0;i<u.length;i+=1)a=vt(a,u[i]);return{c(){n=De("svg"),this.h()},l(i){n=Ie(i,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var c=at(n);c.forEach(K),this.h()},h(){Pe(n,a)},m(i,c){gt(i,n,c),n.innerHTML=h[3]},p(i,[c]){c&8&&(n.innerHTML=i[3]),Pe(n,a=zt(u,[{xmlns:"http://www.w3.org/2000/svg"},c&1&&{width:i[0]},c&1&&{height:i[0]},c&2&&{fill:i[1]},c&16&&f!==(f=i[4].class)&&{class:f},c&32&&i[5],c&4&&{"aria-label":i[2]},{viewBox:"0 0 24 24"}]))},i:Ot,o:Ot,d(i){i&&K(n)}}}let Vu='<path d="M21 12.4V7l-4-4H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7.4l8.6-8.6zM15 15c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zM6 6h9v4H6V6zm13.99 10.25 1.77 1.77L16.77 23H15v-1.77l4.99-4.98zm3.26.26-.85.85-1.77-1.77.85-.85c.2-.2.51-.2.71 0l1.06 1.06c.2.2.2.52 0 .71z"/>',Ma='<path d="M21 12.4V7l-4-4H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7.4l2-2H5V5h11.17L19 7.83v6.57l2-2zM15 15c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zM6 6h9v4H6V6zm13.99 10.25 1.77 1.77L16.77 23H15v-1.77l4.99-4.98zm3.26.26-.85.85-1.77-1.77.85-.85c.2-.2.51-.2.71 0l1.06 1.06c.2.2.2.52 0 .71z"/>',Fu='<path d="m20.41 6.41-2.83-2.83c-.37-.37-.88-.58-1.41-.58H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h7.4l8.6-8.6V7.83c0-.53-.21-1.04-.59-1.42zM12 18c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-9c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1V7c0-.55.45-1 1-1h7c.55 0 1 .45 1 1v2zm4.99 7.25 1.77 1.77-4.84 4.84c-.1.09-.23.14-.36.14H15.5c-.28 0-.5-.22-.5-.5v-1.06c0-.13.05-.26.15-.35l4.84-4.84zm3.26.26-.85.85-1.77-1.77.85-.85c.2-.2.51-.2.71 0l1.06 1.06c.2.2.2.52 0 .71z"/>',Uu='<path d="M21 12.4V7l-4-4H3v18h9.4l8.6-8.6zM15 15c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zM6 6h9v4H6V6zm13.99 10.25 1.77 1.77L16.77 23H15v-1.77l4.99-4.98zm3.62-.09-1.2 1.2-1.77-1.77 1.2-1.2 1.77 1.77z"/>',Ku='<path d="M16.17 5H5v14h9.4l4.6-4.6V7.83L16.17 5zM12 18c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-8H6V6h9v4z" opacity=".3"/><path d="M21 12.4V7l-4-4H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7.4l2-2H5V5h11.17L19 7.83v6.57l2-2zM15 15c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zM6 6h9v4H6V6zm13.99 10.25 1.77 1.77L16.77 23H15v-1.77l4.99-4.98zm3.26.26-.85.85-1.77-1.77.85-.85c.2-.2.51-.2.71 0l1.06 1.06c.2.2.2.52 0 .71z"/>';function qu(h,n,f){const u=["size","color","variation","ariaLabel"];let a=pe(n,u),{size:i="24"}=n,{color:c="currentColor"}=n,{variation:p="outlined"}=n,o;switch(p){case"filled":o=Vu;break;case"outlined":o=Ma;break;case"round":o=Fu;break;case"sharp":o=Uu;break;case"two-tone":o=Ku;break;default:o=Ma}let{ariaLabel:m="save as"}=n;return h.$$set=v=>{f(4,n=vt(vt({},n),me(v))),f(5,a=pe(n,u)),"size"in v&&f(0,i=v.size),"color"in v&&f(1,c=v.color),"variation"in v&&f(6,p=v.variation),"ariaLabel"in v&&f(2,m=v.ariaLabel)},n=me(n),[i,c,m,o,n,a,p]}class Wu extends re{constructor(n){super(),oe(this,n,qu,Gu,ae,{size:0,color:1,variation:6,ariaLabel:2})}}function Yu(h){let n,f,u=[{xmlns:"http://www.w3.org/2000/svg"},{width:h[0]},{height:h[0]},{fill:h[1]},{class:f=h[4].class},h[5],{"aria-label":h[2]},{viewBox:"0 0 24 24"}],a={};for(let i=0;i<u.length;i+=1)a=vt(a,u[i]);return{c(){n=De("svg"),this.h()},l(i){n=Ie(i,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var c=at(n);c.forEach(K),this.h()},h(){Pe(n,a)},m(i,c){gt(i,n,c),n.innerHTML=h[3]},p(i,[c]){c&8&&(n.innerHTML=i[3]),Pe(n,a=zt(u,[{xmlns:"http://www.w3.org/2000/svg"},c&1&&{width:i[0]},c&1&&{height:i[0]},c&2&&{fill:i[1]},c&16&&f!==(f=i[4].class)&&{class:f},c&32&&i[5],c&4&&{"aria-label":i[2]},{viewBox:"0 0 24 24"}]))},i:Ot,o:Ot,d(i){i&&K(n)}}}let Xu='<path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"/>',wa='<path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"/>',Ju='<path d="M7 7h10v1.79c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.79a.5.5 0 0 0-.85.36V5H6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7zm10 10H7v-1.79c0-.45-.54-.67-.85-.35l-2.79 2.79c-.2.2-.2.51 0 .71l2.79 2.79a.5.5 0 0 0 .85-.36V19h11c.55 0 1-.45 1-1v-4c0-.55-.45-1-1-1s-1 .45-1 1v3z"/>',Qu='<path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"/>',$u='<path d="M7 22v-3h12v-6h-2v4H7v-3l-4 4zM21 6l-4-4v3H5v6h2V7h10v3z"/>';function th(h,n,f){const u=["size","color","variation","ariaLabel"];let a=pe(n,u),{size:i="24"}=n,{color:c="currentColor"}=n,{variation:p="outlined"}=n,o;switch(p){case"filled":o=Xu;break;case"outlined":o=wa;break;case"round":o=Ju;break;case"sharp":o=Qu;break;case"two-tone":o=$u;break;default:o=wa}let{ariaLabel:m="repeat"}=n;return h.$$set=v=>{f(4,n=vt(vt({},n),me(v))),f(5,a=pe(n,u)),"size"in v&&f(0,i=v.size),"color"in v&&f(1,c=v.color),"variation"in v&&f(6,p=v.variation),"ariaLabel"in v&&f(2,m=v.ariaLabel)},n=me(n),[i,c,m,o,n,a,p]}class eh extends re{constructor(n){super(),oe(this,n,th,Yu,ae,{size:0,color:1,variation:6,ariaLabel:2})}}function nh(h){let n,f,u=[{xmlns:"http://www.w3.org/2000/svg"},{width:h[0]},{height:h[0]},{fill:h[1]},{class:f=h[4].class},h[5],{"aria-label":h[2]},{viewBox:"0 0 24 24"}],a={};for(let i=0;i<u.length;i+=1)a=vt(a,u[i]);return{c(){n=De("svg"),this.h()},l(i){n=Ie(i,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var c=at(n);c.forEach(K),this.h()},h(){Pe(n,a)},m(i,c){gt(i,n,c),n.innerHTML=h[3]},p(i,[c]){c&8&&(n.innerHTML=i[3]),Pe(n,a=zt(u,[{xmlns:"http://www.w3.org/2000/svg"},c&1&&{width:i[0]},c&1&&{height:i[0]},c&2&&{fill:i[1]},c&16&&f!==(f=i[4].class)&&{class:f},c&32&&i[5],c&4&&{"aria-label":i[2]},{viewBox:"0 0 24 24"}]))},i:Ot,o:Ot,d(i){i&&K(n)}}}let ih='<path d="m19.81 14.99 1.19-.92-1.43-1.43-1.19.92 1.43 1.43zm-.45-4.72L21 9l-9-7-2.91 2.27 7.87 7.88 2.4-1.88zM3.27 1 2 2.27l4.22 4.22L3 9l1.63 1.27L12 16l2.1-1.63 1.43 1.43L12 18.54l-7.37-5.73L3 14.07l9 7 4.95-3.85L20.73 21 22 19.73 3.27 1z"/>',Pa='<path d="M12 4.53 17.74 9l-1.89 1.47 1.43 1.42L21 9l-9-7-2.59 2.02 1.42 1.42zm9 9.54-1.63-1.27-.67.52 1.43 1.43zM3.41.86 2 2.27l4.22 4.22L3 9l9 7 2.1-1.63 1.42 1.42-3.53 2.75-7.37-5.73L3 14.07l9 7 4.95-3.85L20.73 21l1.41-1.41L3.41.86zM12 13.47 6.26 9l1.39-1.08 5.02 5.02-.67.53z"/>',rh='<path d="M19.99 9.79c.51-.4.51-1.18 0-1.58l-6.76-5.26c-.72-.56-1.73-.56-2.46 0L9.41 4.02l7.88 7.88 2.7-2.11zm0 3.49-.01-.01a.991.991 0 0 0-1.22 0l-.05.04 1.4 1.4a.982.982 0 0 0-.12-1.43zm1.45 5.6L4.12 1.56a.996.996 0 1 0-1.41 1.41l3.52 3.52-2.22 1.72c-.51.4-.51 1.18 0 1.58l6.76 5.26c.72.56 1.73.56 2.46 0l.87-.68 1.42 1.42-2.92 2.27c-.36.28-.87.28-1.23 0l-6.15-4.78a.991.991 0 0 0-1.22 0 .997.997 0 0 0 0 1.57l6.76 5.26c.72.56 1.73.56 2.46 0l3.72-2.89 3.07 3.07c.39.39 1.02.39 1.41 0 .41-.39.41-1.02.02-1.41z"/>',oh='<path d="m21 9-9-7-2.59 2.02 7.87 7.87zm0 5.07-1.63-1.27-.67.52 1.43 1.43zM3.41.86 2 2.27l4.22 4.22L3 9l9 7 2.1-1.63 1.42 1.42-3.53 2.75-7.37-5.73L3 14.07l9 7 4.95-3.85L20.73 21l1.41-1.41z"/>',ah='<path d="m12 13.47.67-.53-5.02-5.02L6.26 9zm0-8.94-1.17.91 5.02 5.03L17.74 9z" opacity=".3"/><path d="M12 4.53 17.74 9l-1.89 1.47 1.43 1.42L21 9l-9-7-2.59 2.02 1.42 1.42zm9 9.54-1.63-1.27-.67.52 1.43 1.43zM3.41.86 2 2.27l4.22 4.22L3 9l9 7 2.1-1.63 1.42 1.42-3.53 2.75-7.37-5.73L3 14.07l9 7 4.95-3.85L20.73 21l1.41-1.41L3.41.86zM12 13.47 6.26 9l1.39-1.08 5.02 5.02-.67.53z"/>';function sh(h,n,f){const u=["size","color","variation","ariaLabel"];let a=pe(n,u),{size:i="24"}=n,{color:c="currentColor"}=n,{variation:p="outlined"}=n,o;switch(p){case"filled":o=ih;break;case"outlined":o=Pa;break;case"round":o=rh;break;case"sharp":o=oh;break;case"two-tone":o=ah;break;default:o=Pa}let{ariaLabel:m="layers clear"}=n;return h.$$set=v=>{f(4,n=vt(vt({},n),me(v))),f(5,a=pe(n,u)),"size"in v&&f(0,i=v.size),"color"in v&&f(1,c=v.color),"variation"in v&&f(6,p=v.variation),"ariaLabel"in v&&f(2,m=v.ariaLabel)},n=me(n),[i,c,m,o,n,a,p]}class lh extends re{constructor(n){super(),oe(this,n,sh,nh,ae,{size:0,color:1,variation:6,ariaLabel:2})}}function uh(h){let n,f,u=[{xmlns:"http://www.w3.org/2000/svg"},{width:h[0]},{height:h[0]},{fill:h[1]},{class:f=h[4].class},h[5],{"aria-label":h[2]},{viewBox:"0 0 24 24"}],a={};for(let i=0;i<u.length;i+=1)a=vt(a,u[i]);return{c(){n=De("svg"),this.h()},l(i){n=Ie(i,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var c=at(n);c.forEach(K),this.h()},h(){Pe(n,a)},m(i,c){gt(i,n,c),n.innerHTML=h[3]},p(i,[c]){c&8&&(n.innerHTML=i[3]),Pe(n,a=zt(u,[{xmlns:"http://www.w3.org/2000/svg"},c&1&&{width:i[0]},c&1&&{height:i[0]},c&2&&{fill:i[1]},c&16&&f!==(f=i[4].class)&&{class:f},c&32&&i[5],c&4&&{"aria-label":i[2]},{viewBox:"0 0 24 24"}]))},i:Ot,o:Ot,d(i){i&&K(n)}}}let hh='<path d="M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3z"/>',Ca='<path d="M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3h-3z"/>',ch='<path d="M9.64 7.64c.29-.62.42-1.33.34-2.09-.19-1.73-1.54-3.2-3.26-3.49a4.008 4.008 0 0 0-4.66 4.65c.3 1.72 1.76 3.07 3.49 3.26.76.08 1.46-.05 2.09-.34L10 12l-2.36 2.36c-.62-.29-1.33-.42-2.09-.34-1.73.19-3.2 1.54-3.49 3.26a4.002 4.002 0 0 0 4.65 4.65c1.72-.3 3.07-1.76 3.26-3.49.08-.76-.05-1.46-.34-2.09L12 14l7.59 7.59c.89.89 2.41.26 2.41-1v-.01c0-.37-.15-.73-.41-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zm7.59-10.09L13 9l2 2 6.59-6.59c.26-.26.41-.62.41-1V3.4c0-1.25-1.52-1.88-2.41-.99z"/>',fh='<path d="M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3h-3z"/>',dh='<path d="m19 3-6 6 2 2 7-7V3zm-9 3c0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64c.23-.5.36-1.05.36-1.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-8.5c.28 0 .5.22.5.5s-.22.5-.5.5-.5-.22-.5-.5.22-.5.5-.5z"/>';function ph(h,n,f){const u=["size","color","variation","ariaLabel"];let a=pe(n,u),{size:i="24"}=n,{color:c="currentColor"}=n,{variation:p="outlined"}=n,o;switch(p){case"filled":o=hh;break;case"outlined":o=Ca;break;case"round":o=ch;break;case"sharp":o=fh;break;case"two-tone":o=dh;break;default:o=Ca}let{ariaLabel:m="content cut"}=n;return h.$$set=v=>{f(4,n=vt(vt({},n),me(v))),f(5,a=pe(n,u)),"size"in v&&f(0,i=v.size),"color"in v&&f(1,c=v.color),"variation"in v&&f(6,p=v.variation),"ariaLabel"in v&&f(2,m=v.ariaLabel)},n=me(n),[i,c,m,o,n,a,p]}class _h extends re{constructor(n){super(),oe(this,n,ph,uh,ae,{size:0,color:1,variation:6,ariaLabel:2})}}function gh(h){let n,f,u=[{xmlns:"http://www.w3.org/2000/svg"},{width:h[0]},{height:h[0]},{fill:h[1]},{class:f=h[4].class},h[5],{"aria-label":h[2]},{viewBox:"0 0 24 24"}],a={};for(let i=0;i<u.length;i+=1)a=vt(a,u[i]);return{c(){n=De("svg"),this.h()},l(i){n=Ie(i,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var c=at(n);c.forEach(K),this.h()},h(){Pe(n,a)},m(i,c){gt(i,n,c),n.innerHTML=h[3]},p(i,[c]){c&8&&(n.innerHTML=i[3]),Pe(n,a=zt(u,[{xmlns:"http://www.w3.org/2000/svg"},c&1&&{width:i[0]},c&1&&{height:i[0]},c&2&&{fill:i[1]},c&16&&f!==(f=i[4].class)&&{class:f},c&32&&i[5],c&4&&{"aria-label":i[2]},{viewBox:"0 0 24 24"}]))},i:Ot,o:Ot,d(i){i&&K(n)}}}let mh='<path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3 5 6.99h3V14h2V6.99h3L9 3z"/>',Ea='<path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3 5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3 5 6.99h3V14h2V6.99h3L9 3z"/>',vh='<path d="M16 17.01V11c0-.55-.45-1-1-1s-1 .45-1 1v6.01h-1.79c-.45 0-.67.54-.35.85l2.79 2.78c.2.19.51.19.71 0l2.79-2.78c.32-.31.09-.85-.35-.85H16zM8.65 3.35 5.86 6.14c-.32.31-.1.85.35.85H8V13c0 .55.45 1 1 1s1-.45 1-1V6.99h1.79c.45 0 .67-.54.35-.85L9.35 3.35a.501.501 0 0 0-.7 0z"/>',yh='<path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3 5 6.99h3V14h2V6.99h3L9 3z"/>',Lh='<path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3 5 6.99h3V14h2V6.99h3L9 3z"/>';function bh(h,n,f){const u=["size","color","variation","ariaLabel"];let a=pe(n,u),{size:i="24"}=n,{color:c="currentColor"}=n,{variation:p="outlined"}=n,o;switch(p){case"filled":o=mh;break;case"outlined":o=Ea;break;case"round":o=vh;break;case"sharp":o=yh;break;case"two-tone":o=Lh;break;default:o=Ea}let{ariaLabel:m="swap vert"}=n;return h.$$set=v=>{f(4,n=vt(vt({},n),me(v))),f(5,a=pe(n,u)),"size"in v&&f(0,i=v.size),"color"in v&&f(1,c=v.color),"variation"in v&&f(6,p=v.variation),"ariaLabel"in v&&f(2,m=v.ariaLabel)},n=me(n),[i,c,m,o,n,a,p]}class kh extends re{constructor(n){super(),oe(this,n,bh,gh,ae,{size:0,color:1,variation:6,ariaLabel:2})}}function Sa(h){let n,f,u,a,i;return f=new eh({props:{tabindex:"-1",class:"outline-none"}}),{c(){n=pt("button"),Xt(f.$$.fragment),this.h()},l(c){n=_t(c,"BUTTON",{class:!0,type:!0});var p=at(n);$t(f.$$.fragment,p),p.forEach(K),this.h()},h(){ct(n,"class","btn svelte-1fo0nmr"),ct(n,"type","button"),Ei(n,"!bg-red-200",h[3])},m(c,p){gt(c,n,p),Jt(f,n,null),u=!0,a||(i=Ce(n,"click",h[14]),a=!0)},p(c,p){(!u||p&8)&&Ei(n,"!bg-red-200",c[3])},i(c){u||(st(f.$$.fragment,c),u=!0)},o(c){ut(f.$$.fragment,c),u=!1},d(c){c&&K(n),Qt(f),a=!1,i()}}}function Ta(h){let n,f,u,a,i;return f=new Au({props:{tabindex:"-1",class:"outline-none",variation:"filled"}}),{c(){n=pt("button"),Xt(f.$$.fragment),this.h()},l(c){n=_t(c,"BUTTON",{class:!0,type:!0});var p=at(n);$t(f.$$.fragment,p),p.forEach(K),this.h()},h(){ct(n,"class","btn svelte-1fo0nmr"),ct(n,"type","button")},m(c,p){gt(c,n,p),Jt(f,n,null),u=!0,a||(i=Ce(n,"click",h[6]),a=!0)},p:Ot,i(c){u||(st(f.$$.fragment,c),u=!0)},o(c){ut(f.$$.fragment,c),u=!1},d(c){c&&K(n),Qt(f),a=!1,i()}}}function xa(h){let n,f,u,a,i,c,p,o,m,v,s;return f=new ju({props:{class:"outline-none",tabindex:"-1"}}),i=new kh({props:{tabindex:"-1"}}),o=new _h({props:{class:"outline-none",tabindex:"-1"}}),{c(){n=pt("button"),Xt(f.$$.fragment),u=fe(),a=pt("button"),Xt(i.$$.fragment),c=fe(),p=pt("button"),Xt(o.$$.fragment),this.h()},l(g){n=_t(g,"BUTTON",{class:!0,type:!0});var S=at(n);$t(f.$$.fragment,S),S.forEach(K),u=de(g),a=_t(g,"BUTTON",{class:!0,type:!0});var z=at(a);$t(i.$$.fragment,z),z.forEach(K),c=de(g),p=_t(g,"BUTTON",{class:!0,type:!0});var x=at(p);$t(o.$$.fragment,x),x.forEach(K),this.h()},h(){ct(n,"class","btn svelte-1fo0nmr"),ct(n,"type","button"),ct(a,"class","btn svelte-1fo0nmr"),ct(a,"type","button"),ct(p,"class","btn svelte-1fo0nmr"),ct(p,"type","button")},m(g,S){gt(g,n,S),Jt(f,n,null),gt(g,u,S),gt(g,a,S),Jt(i,a,null),gt(g,c,S),gt(g,p,S),Jt(o,p,null),m=!0,v||(s=[Ce(n,"click",h[8]),Ce(a,"click",h[10]),Ce(p,"click",h[7])],v=!0)},p:Ot,i(g){m||(st(f.$$.fragment,g),st(i.$$.fragment,g),st(o.$$.fragment,g),m=!0)},o(g){ut(f.$$.fragment,g),ut(i.$$.fragment,g),ut(o.$$.fragment,g),m=!1},d(g){g&&K(n),Qt(f),g&&K(u),g&&K(a),Qt(i),g&&K(c),g&&K(p),Qt(o),v=!1,Vt(s)}}}function Ba(h){let n,f,u,a,i,c,p,o,m,v,s,g,S,z,x;return f=new Wu({props:{class:"outline-none",tabindex:"-1"}}),i=new lh({props:{class:"outline-none",tabindex:"-1"}}),{c(){n=pt("button"),Xt(f.$$.fragment),u=fe(),a=pt("button"),Xt(i.$$.fragment),c=fe(),p=pt("button"),o=De("svg"),m=De("g"),v=De("g"),s=De("g"),g=De("path"),this.h()},l(T){n=_t(T,"BUTTON",{class:!0,type:!0});var A=at(n);$t(f.$$.fragment,A),A.forEach(K),u=de(T),a=_t(T,"BUTTON",{class:!0,type:!0});var H=at(a);$t(i.$$.fragment,H),H.forEach(K),c=de(T),p=_t(T,"BUTTON",{class:!0,type:!0});var I=at(p);o=Ie(I,"svg",{xmlns:!0,x:!0,y:!0,width:!0,height:!0,viewBox:!0,style:!0});var P=at(o);m=Ie(P,"g",{transform:!0});var O=at(m);v=Ie(O,"g",{fill:!0,"fill-rule":!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-miterlimit":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"font-family":!0,"font-weight":!0,"font-size":!0,"text-anchor":!0,style:!0});var Z=at(v);s=Ie(Z,"g",{transform:!0});var Y=at(s);g=Ie(Y,"path",{d:!0}),at(g).forEach(K),Y.forEach(K),Z.forEach(K),O.forEach(K),P.forEach(K),I.forEach(K),this.h()},h(){ct(n,"class","btn svelte-1fo0nmr"),ct(n,"type","button"),ct(a,"class","btn !bg-red-200 svelte-1fo0nmr"),ct(a,"type","button"),ct(g,"d","M7,2.01563l13.16016,12.32813l-5.375,0.48438l-0.97656,0.08984l0.40625,0.89453l3.26172,7.14453l-2.40625,1.05859l-3.11328,-7.22266l-0.39062,-0.91016l-0.72266,0.67969l-3.81641,3.58203l-0.02734,-18.12891M7,0.01563c-0.26953,0 -0.53906,0.05078 -0.79687,0.16406c-0.73047,0.31641 -1.20312,1.03906 -1.20312,1.83594l0.02734,18.12891c0,0.79688 0.47656,1.51563 1.20313,1.83203c0.25781,0.10938 0.52734,0.16406 0.79297,0.16406c0.5,0 0.99219,-0.1875 1.37109,-0.53906l2.46094,-2.3125l2.37891,5.51563c0.21094,0.49219 0.60938,0.875 1.10547,1.07031c0.23438,0.09375 0.48047,0.14063 0.73047,0.14063c0.27344,0 0.54688,-0.05859 0.80469,-0.17187l2.40625,-1.05859c0.48828,-0.21484 0.875,-0.61719 1.0625,-1.11719c0.19141,-0.5 0.17578,-1.05469 -0.04687,-1.54297l-2.5,-5.46875l3.54297,-0.32422c0.78516,-0.07031 1.45703,-0.59375 1.71094,-1.33984c0.25781,-0.74609 0.05078,-1.57031 -0.52344,-2.10937l-13.16016,-12.32812c-0.37891,-0.35547 -0.87109,-0.53906 -1.36719,-0.53906z"),ct(s,"transform","scale(9.84615,9.84615)"),ct(v,"fill","#000000"),ct(v,"fill-rule","nonzero"),ct(v,"stroke","none"),ct(v,"stroke-width","1"),ct(v,"stroke-linecap","butt"),ct(v,"stroke-linejoin","miter"),ct(v,"stroke-miterlimit","10"),ct(v,"stroke-dasharray",""),ct(v,"stroke-dashoffset","0"),ct(v,"font-family","none"),ct(v,"font-weight","none"),ct(v,"font-size","none"),ct(v,"text-anchor","none"),Ti(v,"mix-blend-mode","normal"),ct(m,"transform","translate(19.69231,19.69231) scale(0.84615,0.84615)"),ct(o,"xmlns","http://www.w3.org/2000/svg"),ct(o,"x","0px"),ct(o,"y","0px"),ct(o,"width","24"),ct(o,"height","24"),ct(o,"viewBox","0,0,256,256"),Ti(o,"fill","#000000"),ct(p,"class","btn svelte-1fo0nmr"),ct(p,"type","button")},m(T,A){gt(T,n,A),Jt(f,n,null),gt(T,u,A),gt(T,a,A),Jt(i,a,null),gt(T,c,A),gt(T,p,A),Lt(p,o),Lt(o,m),Lt(m,v),Lt(v,s),Lt(s,g),S=!0,z||(x=[Ce(n,"click",h[7]),Ce(a,"click",h[9]),Ce(p,"click",h[7])],z=!0)},p:Ot,i(T){S||(st(f.$$.fragment,T),st(i.$$.fragment,T),S=!0)},o(T){ut(f.$$.fragment,T),ut(i.$$.fragment,T),S=!1},d(T){T&&K(n),Qt(f),T&&K(u),T&&K(a),Qt(i),T&&K(c),T&&K(p),z=!1,Vt(x)}}}function Mh(h){let n,f,u,a,i,c,p,o,m,v,s,g,S,z,x,T,A,H;u=new du({props:{tabindex:"-1",class:"outline-none"}}),p=new Lu({props:{tabindex:"-1",class:"outline-none"}});let I=h[2]&&Sa(h);g=new Eu({props:{tabindex:"-1",class:"outline-none",variation:"filled"}});let P=h[0]&&Ta(h),O=h[4].size===1&&xa(h),Z=h[4].size>0&&Ba(h);return{c(){n=pt("div"),f=pt("button"),Xt(u.$$.fragment),a=fe(),i=pt("div"),c=pt("button"),Xt(p.$$.fragment),o=fe(),I&&I.c(),m=fe(),v=pt("div"),s=pt("button"),Xt(g.$$.fragment),S=fe(),P&&P.c(),z=fe(),O&&O.c(),x=fe(),Z&&Z.c(),this.h()},l(Y){n=_t(Y,"DIV",{class:!0});var Q=at(n);f=_t(Q,"BUTTON",{class:!0,type:!0});var et=at(f);$t(u.$$.fragment,et),et.forEach(K),a=de(Q),i=_t(Q,"DIV",{class:!0});var lt=at(i);c=_t(lt,"BUTTON",{class:!0,type:!0});var ft=at(c);$t(p.$$.fragment,ft),ft.forEach(K),o=de(lt),I&&I.l(lt),lt.forEach(K),m=de(Q),v=_t(Q,"DIV",{class:!0});var dt=at(v);s=_t(dt,"BUTTON",{class:!0,type:!0});var bt=at(s);$t(g.$$.fragment,bt),bt.forEach(K),S=de(dt),P&&P.l(dt),dt.forEach(K),z=de(Q),O&&O.l(Q),x=de(Q),Z&&Z.l(Q),Q.forEach(K),this.h()},h(){ct(f,"class","btn svelte-1fo0nmr"),ct(f,"type","button"),Ei(f,"!bg-red-200",h[1]),ct(c,"class","btn mb-1 svelte-1fo0nmr"),ct(c,"type","button"),Ei(c,"!bg-indigo-200",h[2]),ct(i,"class","flex flex-col"),ct(s,"class","btn mb-1 svelte-1fo0nmr"),ct(s,"type","button"),ct(v,"class","flex flex-col"),ct(n,"class","pointer-events-auto col-span-2 flex w-max items-start gap-x-2")},m(Y,Q){gt(Y,n,Q),Lt(n,f),Jt(u,f,null),Lt(n,a),Lt(n,i),Lt(i,c),Jt(p,c,null),Lt(i,o),I&&I.m(i,null),Lt(n,m),Lt(n,v),Lt(v,s),Jt(g,s,null),Lt(v,S),P&&P.m(v,null),Lt(n,z),O&&O.m(n,null),Lt(n,x),Z&&Z.m(n,null),T=!0,A||(H=[Ce(f,"click",h[12]),Ce(c,"click",h[13]),Ce(s,"click",h[5])],A=!0)},p(Y,[Q]){(!T||Q&2)&&Ei(f,"!bg-red-200",Y[1]),(!T||Q&4)&&Ei(c,"!bg-indigo-200",Y[2]),Y[2]?I?(I.p(Y,Q),Q&4&&st(I,1)):(I=Sa(Y),I.c(),st(I,1),I.m(i,null)):I&&(wn(),ut(I,1,1,()=>{I=null}),Pn()),Y[0]?P?(P.p(Y,Q),Q&1&&st(P,1)):(P=Ta(Y),P.c(),st(P,1),P.m(v,null)):P&&(wn(),ut(P,1,1,()=>{P=null}),Pn()),Y[4].size===1?O?(O.p(Y,Q),Q&16&&st(O,1)):(O=xa(Y),O.c(),st(O,1),O.m(n,x)):O&&(wn(),ut(O,1,1,()=>{O=null}),Pn()),Y[4].size>0?Z?(Z.p(Y,Q),Q&16&&st(Z,1)):(Z=Ba(Y),Z.c(),st(Z,1),Z.m(n,null)):Z&&(wn(),ut(Z,1,1,()=>{Z=null}),Pn())},i(Y){T||(st(u.$$.fragment,Y),st(p.$$.fragment,Y),st(I),st(g.$$.fragment,Y),st(P),st(O),st(Z),T=!0)},o(Y){ut(u.$$.fragment,Y),ut(p.$$.fragment,Y),ut(I),ut(g.$$.fragment,Y),ut(P),ut(O),ut(Z),T=!1},d(Y){Y&&K(n),Qt(u),Qt(p),I&&I.d(),Qt(g),P&&P.d(),O&&O.d(),Z&&Z.d(),A=!1,Vt(H)}}}function wh(h,n,f){let u,a,i,c,p,o;Ge(h,Cr,I=>f(11,a=I)),Ge(h,Tr,I=>f(1,i=I)),Ge(h,Qi,I=>f(2,c=I)),Ge(h,ao,I=>f(3,p=I)),Ge(h,ci,I=>f(4,o=I));const m=er();async function v(){m("clickedPin",{})}function s(){m("clickedOffPin",{})}function g(){ci.reset()}function S(){m("createZoneEvent",{})}function z(){m("clickedRemoveSegment",{})}function x(){m("clickedSwapStartEnd",{})}const T=()=>{Pr(Tr,i=!i,i)},A=()=>{Pr(Qi,c=!c,c)},H=()=>{Pr(ao,p=!p,p)};return h.$$.update=()=>{h.$$.dirty&2048&&f(0,u=a.length>0)},[u,i,c,p,o,v,s,g,S,z,x,a,T,A,H]}class Ph extends re{constructor(n){super(),oe(this,n,wh,Mh,ae,{})}}console.log("map2 script module");var ho={},Ch={get exports(){return ho},set exports(h){ho=h}};(function(h,n){(function(f,u){u(n)})(ss,function(f){var u=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(i){L.Util.setOptions(this,i),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var c=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,c?this._withAnimation:this._noAnimation),this._markerCluster=c?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(i){if(i instanceof L.LayerGroup)return this.addLayers([i]);if(!i.getLatLng)return this._nonPointGroup.addLayer(i),this.fire("layeradd",{layer:i}),this;if(!this._map)return this._needsClustering.push(i),this.fire("layeradd",{layer:i}),this;if(this.hasLayer(i))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(i,this._maxZoom),this.fire("layeradd",{layer:i}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var c=i,p=this._zoom;if(i.__parent)for(;c.__parent._zoom>=p;)c=c.__parent;return this._currentShownBounds.contains(c.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(i,c):this._animationAddLayerNonAnimated(i,c)),this},removeLayer:function(i){return i instanceof L.LayerGroup?this.removeLayers([i]):i.getLatLng?this._map?i.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(i)),this._removeLayer(i,!0),this.fire("layerremove",{layer:i}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),i.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(i)&&(this._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,i)&&this.hasLayer(i)&&this._needsRemoving.push({layer:i,latlng:i._latlng}),this.fire("layerremove",{layer:i}),this):(this._nonPointGroup.removeLayer(i),this.fire("layerremove",{layer:i}),this)},addLayers:function(i,c){if(!L.Util.isArray(i))return this.addLayer(i);var p=this._featureGroup,o=this._nonPointGroup,m=this.options.chunkedLoading,v=this.options.chunkInterval,s=this.options.chunkProgress,g=i.length,S=0,z=!0,x;if(this._map){var T=new Date().getTime(),A=L.bind(function(){var I=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();S<g;S++){if(m&&S%200===0){var P=new Date().getTime()-I;if(P>v)break}if(x=i[S],x instanceof L.LayerGroup){z&&(i=i.slice(),z=!1),this._extractNonGroupLayers(x,i),g=i.length;continue}if(!x.getLatLng){o.addLayer(x),c||this.fire("layeradd",{layer:x});continue}if(!this.hasLayer(x)&&(this._addLayer(x,this._maxZoom),c||this.fire("layeradd",{layer:x}),x.__parent&&x.__parent.getChildCount()===2)){var O=x.__parent.getAllChildMarkers(),Z=O[0]===x?O[1]:O[0];p.removeLayer(Z)}}s&&s(S,g,new Date().getTime()-T),S===g?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(A,this.options.chunkDelay)},this);A()}else for(var H=this._needsClustering;S<g;S++){if(x=i[S],x instanceof L.LayerGroup){z&&(i=i.slice(),z=!1),this._extractNonGroupLayers(x,i),g=i.length;continue}if(!x.getLatLng){o.addLayer(x);continue}this.hasLayer(x)||H.push(x)}return this},removeLayers:function(i){var c,p,o=i.length,m=this._featureGroup,v=this._nonPointGroup,s=!0;if(!this._map){for(c=0;c<o;c++){if(p=i[c],p instanceof L.LayerGroup){s&&(i=i.slice(),s=!1),this._extractNonGroupLayers(p,i),o=i.length;continue}this._arraySplice(this._needsClustering,p),v.removeLayer(p),this.hasLayer(p)&&this._needsRemoving.push({layer:p,latlng:p._latlng}),this.fire("layerremove",{layer:p})}return this}if(this._unspiderfy){this._unspiderfy();var g=i.slice(),S=o;for(c=0;c<S;c++){if(p=g[c],p instanceof L.LayerGroup){this._extractNonGroupLayers(p,g),S=g.length;continue}this._unspiderfyLayer(p)}}for(c=0;c<o;c++){if(p=i[c],p instanceof L.LayerGroup){s&&(i=i.slice(),s=!1),this._extractNonGroupLayers(p,i),o=i.length;continue}if(!p.__parent){v.removeLayer(p),this.fire("layerremove",{layer:p});continue}this._removeLayer(p,!0,!0),this.fire("layerremove",{layer:p}),m.hasLayer(p)&&(m.removeLayer(p),p.clusterShow&&p.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(i){i.off(this._childMarkerEventHandlers,this),delete i.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var i=new L.LatLngBounds;this._topClusterLevel&&i.extend(this._topClusterLevel._bounds);for(var c=this._needsClustering.length-1;c>=0;c--)i.extend(this._needsClustering[c].getLatLng());return i.extend(this._nonPointGroup.getBounds()),i},eachLayer:function(i,c){var p=this._needsClustering.slice(),o=this._needsRemoving,m,v,s;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(p),v=p.length-1;v>=0;v--){for(m=!0,s=o.length-1;s>=0;s--)if(o[s].layer===p[v]){m=!1;break}m&&i.call(c,p[v])}this._nonPointGroup.eachLayer(i,c)},getLayers:function(){var i=[];return this.eachLayer(function(c){i.push(c)}),i},getLayer:function(i){var c=null;return i=parseInt(i,10),this.eachLayer(function(p){L.stamp(p)===i&&(c=p)}),c},hasLayer:function(i){if(!i)return!1;var c,p=this._needsClustering;for(c=p.length-1;c>=0;c--)if(p[c]===i)return!0;for(p=this._needsRemoving,c=p.length-1;c>=0;c--)if(p[c].layer===i)return!1;return!!(i.__parent&&i.__parent._group===this)||this._nonPointGroup.hasLayer(i)},zoomToShowLayer:function(i,c){var p=this._map;typeof c!="function"&&(c=function(){});var o=function(){(p.hasLayer(i)||p.hasLayer(i.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",o,this),this.off("animationend",o,this),p.hasLayer(i)?c():i.__parent._icon&&(this.once("spiderfied",c,this),i.__parent.spiderfy()))};i._icon&&this._map.getBounds().contains(i.getLatLng())?c():i.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",o,this),this._map.panTo(i.getLatLng())):(this._map.on("moveend",o,this),this.on("animationend",o,this),i.__parent.zoomToBounds())},onAdd:function(i){this._map=i;var c,p,o;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(i),this._nonPointGroup.addTo(i),this._gridClusters||this._generateInitialClusters(),this._maxLat=i.options.crs.projection.MAX_LATITUDE,c=0,p=this._needsRemoving.length;c<p;c++)o=this._needsRemoving[c],o.newlatlng=o.layer._latlng,o.layer._latlng=o.latlng;for(c=0,p=this._needsRemoving.length;c<p;c++)o=this._needsRemoving[c],this._removeLayer(o.layer,!0),o.layer._latlng=o.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),p=this._needsClustering,this._needsClustering=[],this.addLayers(p,!0)},onRemove:function(i){i.off("zoomend",this._zoomEnd,this),i.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(i){for(var c=i;c&&!c._icon;)c=c.__parent;return c||null},_arraySplice:function(i,c){for(var p=i.length-1;p>=0;p--)if(i[p]===c)return i.splice(p,1),!0},_removeFromGridUnclustered:function(i,c){for(var p=this._map,o=this._gridUnclustered,m=Math.floor(this._map.getMinZoom());c>=m&&o[c].removeObject(i,p.project(i.getLatLng(),c));c--);},_childMarkerDragStart:function(i){i.target.__dragStart=i.target._latlng},_childMarkerMoved:function(i){if(!this._ignoreMove&&!i.target.__dragStart){var c=i.target._popup&&i.target._popup.isOpen();this._moveChild(i.target,i.oldLatLng,i.latlng),c&&i.target.openPopup()}},_moveChild:function(i,c,p){i._latlng=c,this.removeLayer(i),i._latlng=p,this.addLayer(i)},_childMarkerDragEnd:function(i){var c=i.target.__dragStart;delete i.target.__dragStart,c&&this._moveChild(i.target,c,i.target._latlng)},_removeLayer:function(i,c,p){var o=this._gridClusters,m=this._gridUnclustered,v=this._featureGroup,s=this._map,g=Math.floor(this._map.getMinZoom());c&&this._removeFromGridUnclustered(i,this._maxZoom);var S=i.__parent,z=S._markers,x;for(this._arraySplice(z,i);S&&(S._childCount--,S._boundsNeedUpdate=!0,!(S._zoom<g));)c&&S._childCount<=1?(x=S._markers[0]===i?S._markers[1]:S._markers[0],o[S._zoom].removeObject(S,s.project(S._cLatLng,S._zoom)),m[S._zoom].addObject(x,s.project(x.getLatLng(),S._zoom)),this._arraySplice(S.__parent._childClusters,S),S.__parent._markers.push(x),x.__parent=S.__parent,S._icon&&(v.removeLayer(S),p||v.addLayer(x))):S._iconNeedsUpdate=!0,S=S.__parent;delete i.__parent},_isOrIsParent:function(i,c){for(;c;){if(i===c)return!0;c=c.parentNode}return!1},fire:function(i,c,p){if(c&&c.layer instanceof L.MarkerCluster){if(c.originalEvent&&this._isOrIsParent(c.layer._icon,c.originalEvent.relatedTarget))return;i="cluster"+i}L.FeatureGroup.prototype.fire.call(this,i,c,p)},listens:function(i,c){return L.FeatureGroup.prototype.listens.call(this,i,c)||L.FeatureGroup.prototype.listens.call(this,"cluster"+i,c)},_defaultIconCreateFunction:function(i){var c=i.getChildCount(),p=" marker-cluster-";return c<10?p+="small":c<100?p+="medium":p+="large",new L.DivIcon({html:"<div><span>"+c+"</span></div>",className:"marker-cluster"+p,iconSize:new L.Point(40,40)})},_bindEvents:function(){var i=this._map,c=this.options.spiderfyOnMaxZoom,p=this.options.showCoverageOnHover,o=this.options.zoomToBoundsOnClick,m=this.options.spiderfyOnEveryZoom;(c||o||m)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),p&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),i.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(i){var c=i.layer,p=c;if(!(i.type==="clusterkeypress"&&i.originalEvent&&i.originalEvent.keyCode!==13)){for(;p._childClusters.length===1;)p=p._childClusters[0];p._zoom===this._maxZoom&&p._childCount===c._childCount&&this.options.spiderfyOnMaxZoom?c.spiderfy():this.options.zoomToBoundsOnClick&&c.zoomToBounds(),this.options.spiderfyOnEveryZoom&&c.spiderfy(),i.originalEvent&&i.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(i){var c=this._map;this._inZoomAnimation||(this._shownPolygon&&c.removeLayer(this._shownPolygon),i.layer.getChildCount()>2&&i.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(i.layer.getConvexHull(),this.options.polygonOptions),c.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var i=this.options.spiderfyOnMaxZoom,c=this.options.showCoverageOnHover,p=this.options.zoomToBoundsOnClick,o=this.options.spiderfyOnEveryZoom,m=this._map;(i||p||o)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),c&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),m.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var i=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,i),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),i),this._currentShownBounds=i}},_generateInitialClusters:function(){var i=Math.ceil(this._map.getMaxZoom()),c=Math.floor(this._map.getMinZoom()),p=this.options.maxClusterRadius,o=p;typeof p!="function"&&(o=function(){return p}),this.options.disableClusteringAtZoom!==null&&(i=this.options.disableClusteringAtZoom-1),this._maxZoom=i,this._gridClusters={},this._gridUnclustered={};for(var m=i;m>=c;m--)this._gridClusters[m]=new L.DistanceGrid(o(m)),this._gridUnclustered[m]=new L.DistanceGrid(o(m));this._topClusterLevel=new this._markerCluster(this,c-1)},_addLayer:function(i,c){var p=this._gridClusters,o=this._gridUnclustered,m=Math.floor(this._map.getMinZoom()),v,s;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(i),i.on(this._childMarkerEventHandlers,this);c>=m;c--){v=this._map.project(i.getLatLng(),c);var g=p[c].getNearObject(v);if(g){g._addChild(i),i.__parent=g;return}if(g=o[c].getNearObject(v),g){var S=g.__parent;S&&this._removeLayer(g,!1);var z=new this._markerCluster(this,c,g,i);p[c].addObject(z,this._map.project(z._cLatLng,c)),g.__parent=z,i.__parent=z;var x=z;for(s=c-1;s>S._zoom;s--)x=new this._markerCluster(this,s,x),p[s].addObject(x,this._map.project(g.getLatLng(),s));S._addChild(x),this._removeFromGridUnclustered(g,c);return}o[c].addObject(i,v)}this._topClusterLevel._addChild(i),i.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(i){i instanceof L.MarkerCluster&&i._iconNeedsUpdate&&i._updateIcon()})},_enqueue:function(i){this._queue.push(i),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var i=0;i<this._queue.length;i++)this._queue[i].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var i=Math.round(this._map._zoom);this._processQueue(),this._zoom<i&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,i)):this._zoom>i?(this._animationStart(),this._animationZoomOut(this._zoom,i)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(i){var c=this._maxLat;return c!==void 0&&(i.getNorth()>=c&&(i._northEast.lat=1/0),i.getSouth()<=-c&&(i._southWest.lat=-1/0)),i},_animationAddLayerNonAnimated:function(i,c){if(c===i)this._featureGroup.addLayer(i);else if(c._childCount===2){c._addToMap();var p=c.getAllChildMarkers();this._featureGroup.removeLayer(p[0]),this._featureGroup.removeLayer(p[1])}else c._updateIcon()},_extractNonGroupLayers:function(i,c){var p=i.getLayers(),o=0,m;for(c=c||[];o<p.length;o++){if(m=p[o],m instanceof L.LayerGroup){this._extractNonGroupLayers(m,c);continue}c.push(m)}return c},_overrideMarkerIcon:function(i){var c=i.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[i]}});return c}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(i,c){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i),this._topClusterLevel._recursivelyAddChildrenToMap(null,c,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(i,c){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i),this._topClusterLevel._recursivelyAddChildrenToMap(null,c,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(i,c){this._animationAddLayerNonAnimated(i,c)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(i,c){var p=this._getExpandedVisibleBounds(),o=this._featureGroup,m=Math.floor(this._map.getMinZoom()),v;this._ignoreMove=!0,this._topClusterLevel._recursively(p,i,m,function(s){var g=s._latlng,S=s._markers,z;for(p.contains(g)||(g=null),s._isSingleParent()&&i+1===c?(o.removeLayer(s),s._recursivelyAddChildrenToMap(null,c,p)):(s.clusterHide(),s._recursivelyAddChildrenToMap(g,c,p)),v=S.length-1;v>=0;v--)z=S[v],p.contains(z._latlng)||o.removeLayer(z)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(p,c),o.eachLayer(function(s){!(s instanceof L.MarkerCluster)&&s._icon&&s.clusterShow()}),this._topClusterLevel._recursively(p,i,c,function(s){s._recursivelyRestoreChildPositions(c)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(p,i,m,function(s){o.removeLayer(s),s.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(i,c){this._animationZoomOutSingle(this._topClusterLevel,i-1,c),this._topClusterLevel._recursivelyAddChildrenToMap(null,c,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i,this._getExpandedVisibleBounds())},_animationAddLayer:function(i,c){var p=this,o=this._featureGroup;o.addLayer(i),c!==i&&(c._childCount>2?(c._updateIcon(),this._forceLayout(),this._animationStart(),i._setPos(this._map.latLngToLayerPoint(c.getLatLng())),i.clusterHide(),this._enqueue(function(){o.removeLayer(i),i.clusterShow(),p._animationEnd()})):(this._forceLayout(),p._animationStart(),p._animationZoomOutSingle(c,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(i,c,p){var o=this._getExpandedVisibleBounds(),m=Math.floor(this._map.getMinZoom());i._recursivelyAnimateChildrenInAndAddSelfToMap(o,m,c+1,p);var v=this;this._forceLayout(),i._recursivelyBecomeVisible(o,p),this._enqueue(function(){if(i._childCount===1){var s=i._markers[0];this._ignoreMove=!0,s.setLatLng(s.getLatLng()),this._ignoreMove=!1,s.clusterShow&&s.clusterShow()}else i._recursively(o,p,m,function(g){g._recursivelyRemoveChildrenFromMap(o,m,c+1)});v._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(i){return new L.MarkerClusterGroup(i)};var a=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(i,c,p,o){L.Marker.prototype.initialize.call(this,p?p._cLatLng||p.getLatLng():new L.LatLng(0,0),{icon:this,pane:i.options.clusterPane}),this._group=i,this._zoom=c,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,p&&this._addChild(p),o&&this._addChild(o)},getAllChildMarkers:function(i,c){i=i||[];for(var p=this._childClusters.length-1;p>=0;p--)this._childClusters[p].getAllChildMarkers(i,c);for(var o=this._markers.length-1;o>=0;o--)c&&this._markers[o].__dragStart||i.push(this._markers[o]);return i},getChildCount:function(){return this._childCount},zoomToBounds:function(i){for(var c=this._childClusters.slice(),p=this._group._map,o=p.getBoundsZoom(this._bounds),m=this._zoom+1,v=p.getZoom(),s;c.length>0&&o>m;){m++;var g=[];for(s=0;s<c.length;s++)g=g.concat(c[s]._childClusters);c=g}o>m?this._group._map.setView(this._latlng,m):o<=v?this._group._map.setView(this._latlng,v+1):this._group._map.fitBounds(this._bounds,i)},getBounds:function(){var i=new L.LatLngBounds;return i.extend(this._bounds),i},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(i,c){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(i),i instanceof L.MarkerCluster?(c||(this._childClusters.push(i),i.__parent=this),this._childCount+=i._childCount):(c||this._markers.push(i),this._childCount++),this.__parent&&this.__parent._addChild(i,!0)},_setClusterCenter:function(i){this._cLatLng||(this._cLatLng=i._cLatLng||i._latlng)},_resetBounds:function(){var i=this._bounds;i._southWest&&(i._southWest.lat=1/0,i._southWest.lng=1/0),i._northEast&&(i._northEast.lat=-1/0,i._northEast.lng=-1/0)},_recalculateBounds:function(){var i=this._markers,c=this._childClusters,p=0,o=0,m=this._childCount,v,s,g,S;if(m!==0){for(this._resetBounds(),v=0;v<i.length;v++)g=i[v]._latlng,this._bounds.extend(g),p+=g.lat,o+=g.lng;for(v=0;v<c.length;v++)s=c[v],s._boundsNeedUpdate&&s._recalculateBounds(),this._bounds.extend(s._bounds),g=s._wLatLng,S=s._childCount,p+=g.lat*S,o+=g.lng*S;this._latlng=this._wLatLng=new L.LatLng(p/m,o/m),this._boundsNeedUpdate=!1}},_addToMap:function(i){i&&(this._backupLatlng=this._latlng,this.setLatLng(i)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(i,c,p){this._recursively(i,this._group._map.getMinZoom(),p-1,function(o){var m=o._markers,v,s;for(v=m.length-1;v>=0;v--)s=m[v],s._icon&&(s._setPos(c),s.clusterHide())},function(o){var m=o._childClusters,v,s;for(v=m.length-1;v>=0;v--)s=m[v],s._icon&&(s._setPos(c),s.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(i,c,p,o){this._recursively(i,o,c,function(m){m._recursivelyAnimateChildrenIn(i,m._group._map.latLngToLayerPoint(m.getLatLng()).round(),p),m._isSingleParent()&&p-1===o?(m.clusterShow(),m._recursivelyRemoveChildrenFromMap(i,c,p)):m.clusterHide(),m._addToMap()})},_recursivelyBecomeVisible:function(i,c){this._recursively(i,this._group._map.getMinZoom(),c,null,function(p){p.clusterShow()})},_recursivelyAddChildrenToMap:function(i,c,p){this._recursively(p,this._group._map.getMinZoom()-1,c,function(o){if(c!==o._zoom)for(var m=o._markers.length-1;m>=0;m--){var v=o._markers[m];p.contains(v._latlng)&&(i&&(v._backupLatlng=v.getLatLng(),v.setLatLng(i),v.clusterHide&&v.clusterHide()),o._group._featureGroup.addLayer(v))}},function(o){o._addToMap(i)})},_recursivelyRestoreChildPositions:function(i){for(var c=this._markers.length-1;c>=0;c--){var p=this._markers[c];p._backupLatlng&&(p.setLatLng(p._backupLatlng),delete p._backupLatlng)}if(i-1===this._zoom)for(var o=this._childClusters.length-1;o>=0;o--)this._childClusters[o]._restorePosition();else for(var m=this._childClusters.length-1;m>=0;m--)this._childClusters[m]._recursivelyRestoreChildPositions(i)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(i,c,p,o){var m,v;this._recursively(i,c-1,p-1,function(s){for(v=s._markers.length-1;v>=0;v--)m=s._markers[v],(!o||!o.contains(m._latlng))&&(s._group._featureGroup.removeLayer(m),m.clusterShow&&m.clusterShow())},function(s){for(v=s._childClusters.length-1;v>=0;v--)m=s._childClusters[v],(!o||!o.contains(m._latlng))&&(s._group._featureGroup.removeLayer(m),m.clusterShow&&m.clusterShow())})},_recursively:function(i,c,p,o,m){var v=this._childClusters,s=this._zoom,g,S;if(c<=s&&(o&&o(this),m&&s===p&&m(this)),s<c||s<p)for(g=v.length-1;g>=0;g--)S=v[g],S._boundsNeedUpdate&&S._recalculateBounds(),i.intersects(S._bounds)&&S._recursively(i,c,p,o,m)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var i=this.options.opacity;return this.setOpacity(0),this.options.opacity=i,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(i){this._cellSize=i,this._sqCellSize=i*i,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(i,c){var p=this._getCoord(c.x),o=this._getCoord(c.y),m=this._grid,v=m[o]=m[o]||{},s=v[p]=v[p]||[],g=L.Util.stamp(i);this._objectPoint[g]=c,s.push(i)},updateObject:function(i,c){this.removeObject(i),this.addObject(i,c)},removeObject:function(i,c){var p=this._getCoord(c.x),o=this._getCoord(c.y),m=this._grid,v=m[o]=m[o]||{},s=v[p]=v[p]||[],g,S;for(delete this._objectPoint[L.Util.stamp(i)],g=0,S=s.length;g<S;g++)if(s[g]===i)return s.splice(g,1),S===1&&delete v[p],!0},eachObject:function(i,c){var p,o,m,v,s,g,S,z=this._grid;for(p in z){s=z[p];for(o in s)for(g=s[o],m=0,v=g.length;m<v;m++)S=i.call(c,g[m]),S&&(m--,v--)}},getNearObject:function(i){var c=this._getCoord(i.x),p=this._getCoord(i.y),o,m,v,s,g,S,z,x,T=this._objectPoint,A=this._sqCellSize,H=null;for(o=p-1;o<=p+1;o++)if(s=this._grid[o],s){for(m=c-1;m<=c+1;m++)if(g=s[m],g)for(v=0,S=g.length;v<S;v++)z=g[v],x=this._sqDist(T[L.Util.stamp(z)],i),(x<A||x<=A&&H===null)&&(A=x,H=z)}return H},_getCoord:function(i){var c=Math.floor(i/this._cellSize);return isFinite(c)?c:i},_sqDist:function(i,c){var p=c.x-i.x,o=c.y-i.y;return p*p+o*o}},function(){L.QuickHull={getDistant:function(i,c){var p=c[1].lat-c[0].lat,o=c[0].lng-c[1].lng;return o*(i.lat-c[0].lat)+p*(i.lng-c[0].lng)},findMostDistantPointFromBaseLine:function(i,c){var p=0,o=null,m=[],v,s,g;for(v=c.length-1;v>=0;v--){if(s=c[v],g=this.getDistant(s,i),g>0)m.push(s);else continue;g>p&&(p=g,o=s)}return{maxPoint:o,newPoints:m}},buildConvexHull:function(i,c){var p=[],o=this.findMostDistantPointFromBaseLine(i,c);return o.maxPoint?(p=p.concat(this.buildConvexHull([i[0],o.maxPoint],o.newPoints)),p=p.concat(this.buildConvexHull([o.maxPoint,i[1]],o.newPoints)),p):[i[0]]},getConvexHull:function(i){var c=!1,p=!1,o=!1,m=!1,v=null,s=null,g=null,S=null,z=null,x=null,T;for(T=i.length-1;T>=0;T--){var A=i[T];(c===!1||A.lat>c)&&(v=A,c=A.lat),(p===!1||A.lat<p)&&(s=A,p=A.lat),(o===!1||A.lng>o)&&(g=A,o=A.lng),(m===!1||A.lng<m)&&(S=A,m=A.lng)}p!==c?(x=s,z=v):(x=S,z=g);var H=[].concat(this.buildConvexHull([x,z],i),this.buildConvexHull([z,x],i));return H}}}(),L.MarkerCluster.include({getConvexHull:function(){var i=this.getAllChildMarkers(),c=[],p,o;for(o=i.length-1;o>=0;o--)p=i[o].getLatLng(),c.push(p);return L.QuickHull.getConvexHull(c)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var i=this.getAllChildMarkers(null,!0),c=this._group,p=c._map,o=p.latLngToLayerPoint(this._latlng),m;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?m=this._group.options.spiderfyShapePositions(i.length,o):i.length>=this._circleSpiralSwitchover?m=this._generatePointsSpiral(i.length,o):(o.y+=10,m=this._generatePointsCircle(i.length,o)),this._animationSpiderfy(i,m)}},unspiderfy:function(i){this._group._inZoomAnimation||(this._animationUnspiderfy(i),this._group._spiderfied=null)},_generatePointsCircle:function(i,c){var p=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+i),o=p/this._2PI,m=this._2PI/i,v=[],s,g;for(o=Math.max(o,35),v.length=i,s=0;s<i;s++)g=this._circleStartAngle+s*m,v[s]=new L.Point(c.x+o*Math.cos(g),c.y+o*Math.sin(g))._round();return v},_generatePointsSpiral:function(i,c){var p=this._group.options.spiderfyDistanceMultiplier,o=p*this._spiralLengthStart,m=p*this._spiralFootSeparation,v=p*this._spiralLengthFactor*this._2PI,s=0,g=[],S;for(g.length=i,S=i;S>=0;S--)S<i&&(g[S]=new L.Point(c.x+o*Math.cos(s),c.y+o*Math.sin(s))._round()),s+=m/o+S*5e-4,o+=v/s;return g},_noanimationUnspiderfy:function(){var i=this._group,c=i._map,p=i._featureGroup,o=this.getAllChildMarkers(null,!0),m,v;for(i._ignoreMove=!0,this.setOpacity(1),v=o.length-1;v>=0;v--)m=o[v],p.removeLayer(m),m._preSpiderfyLatlng&&(m.setLatLng(m._preSpiderfyLatlng),delete m._preSpiderfyLatlng),m.setZIndexOffset&&m.setZIndexOffset(0),m._spiderLeg&&(c.removeLayer(m._spiderLeg),delete m._spiderLeg);i.fire("unspiderfied",{cluster:this,markers:o}),i._ignoreMove=!1,i._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(i,c){var p=this._group,o=p._map,m=p._featureGroup,v=this._group.options.spiderLegPolylineOptions,s,g,S,z;for(p._ignoreMove=!0,s=0;s<i.length;s++)z=o.layerPointToLatLng(c[s]),g=i[s],S=new L.Polyline([this._latlng,z],v),o.addLayer(S),g._spiderLeg=S,g._preSpiderfyLatlng=g._latlng,g.setLatLng(z),g.setZIndexOffset&&g.setZIndexOffset(1e6),m.addLayer(g);this.setOpacity(.3),p._ignoreMove=!1,p.fire("spiderfied",{cluster:this,markers:i})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(i,c){var p=this,o=this._group,m=o._map,v=o._featureGroup,s=this._latlng,g=m.latLngToLayerPoint(s),S=L.Path.SVG,z=L.extend({},this._group.options.spiderLegPolylineOptions),x=z.opacity,T,A,H,I,P,O;for(x===void 0&&(x=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),S?(z.opacity=0,z.className=(z.className||"")+" leaflet-cluster-spider-leg"):z.opacity=x,o._ignoreMove=!0,T=0;T<i.length;T++)A=i[T],O=m.layerPointToLatLng(c[T]),H=new L.Polyline([s,O],z),m.addLayer(H),A._spiderLeg=H,S&&(I=H._path,P=I.getTotalLength()+.1,I.style.strokeDasharray=P,I.style.strokeDashoffset=P),A.setZIndexOffset&&A.setZIndexOffset(1e6),A.clusterHide&&A.clusterHide(),v.addLayer(A),A._setPos&&A._setPos(g);for(o._forceLayout(),o._animationStart(),T=i.length-1;T>=0;T--)O=m.layerPointToLatLng(c[T]),A=i[T],A._preSpiderfyLatlng=A._latlng,A.setLatLng(O),A.clusterShow&&A.clusterShow(),S&&(H=A._spiderLeg,I=H._path,I.style.strokeDashoffset=0,H.setStyle({opacity:x}));this.setOpacity(.3),o._ignoreMove=!1,setTimeout(function(){o._animationEnd(),o.fire("spiderfied",{cluster:p,markers:i})},200)},_animationUnspiderfy:function(i){var c=this,p=this._group,o=p._map,m=p._featureGroup,v=i?o._latLngToNewLayerPoint(this._latlng,i.zoom,i.center):o.latLngToLayerPoint(this._latlng),s=this.getAllChildMarkers(null,!0),g=L.Path.SVG,S,z,x,T,A,H;for(p._ignoreMove=!0,p._animationStart(),this.setOpacity(1),z=s.length-1;z>=0;z--)S=s[z],S._preSpiderfyLatlng&&(S.closePopup(),S.setLatLng(S._preSpiderfyLatlng),delete S._preSpiderfyLatlng,H=!0,S._setPos&&(S._setPos(v),H=!1),S.clusterHide&&(S.clusterHide(),H=!1),H&&m.removeLayer(S),g&&(x=S._spiderLeg,T=x._path,A=T.getTotalLength()+.1,T.style.strokeDashoffset=A,x.setStyle({opacity:0})));p._ignoreMove=!1,setTimeout(function(){var I=0;for(z=s.length-1;z>=0;z--)S=s[z],S._spiderLeg&&I++;for(z=s.length-1;z>=0;z--)S=s[z],S._spiderLeg&&(S.clusterShow&&S.clusterShow(),S.setZIndexOffset&&S.setZIndexOffset(0),I>1&&m.removeLayer(S),o.removeLayer(S._spiderLeg),delete S._spiderLeg);p._animationEnd(),p.fire("unspiderfied",{cluster:c,markers:s})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(i){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(i))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(i){this._spiderfied&&this._spiderfied.unspiderfy(i)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(i){i._spiderLeg&&(this._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow(),i.setZIndexOffset&&i.setZIndexOffset(0),this._map.removeLayer(i._spiderLeg),delete i._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(i){return i?i instanceof L.MarkerClusterGroup?i=i._topClusterLevel.getAllChildMarkers():i instanceof L.LayerGroup?i=i._layers:i instanceof L.MarkerCluster?i=i.getAllChildMarkers():i instanceof L.Marker&&(i=[i]):i=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(i),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(i),this},_flagParentsIconsNeedUpdate:function(i){var c,p;for(c in i)for(p=i[c].__parent;p;)p._iconNeedsUpdate=!0,p=p.__parent},_refreshSingleMarkerModeMarkers:function(i){var c,p;for(c in i)p=i[c],this.hasLayer(p)&&p.setIcon(this._overrideMarkerIcon(p))}}),L.Marker.include({refreshIconOptions:function(i,c){var p=this.options.icon;return L.setOptions(p,i),this.setIcon(p),c&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),f.MarkerClusterGroup=u,f.MarkerCluster=a,Object.defineProperty(f,"__esModule",{value:!0})})})(Ch,ho);(()=>{var h={9705:(u,a,i)=>{var c=i(1540);function p(o){var m=[1/0,1/0,-1/0,-1/0];return c.coordEach(o,function(v){m[0]>v[0]&&(m[0]=v[0]),m[1]>v[1]&&(m[1]=v[1]),m[2]<v[0]&&(m[2]=v[0]),m[3]<v[1]&&(m[3]=v[1])}),m}p.default=p,a.Z=p},4102:(u,a)=>{function i(A,H,I){I===void 0&&(I={});var P={type:"Feature"};return(I.id===0||I.id)&&(P.id=I.id),I.bbox&&(P.bbox=I.bbox),P.properties=H||{},P.geometry=A,P}function c(A,H,I){if(I===void 0&&(I={}),!A)throw new Error("coordinates is required");if(!Array.isArray(A))throw new Error("coordinates must be an Array");if(A.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!T(A[0])||!T(A[1]))throw new Error("coordinates must contain numbers");return i({type:"Point",coordinates:A},H,I)}function p(A,H,I){I===void 0&&(I={});for(var P=0,O=A;P<O.length;P++){var Z=O[P];if(Z.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Y=0;Y<Z[Z.length-1].length;Y++)if(Z[Z.length-1][Y]!==Z[0][Y])throw new Error("First and last Position are not equivalent.")}return i({type:"Polygon",coordinates:A},H,I)}function o(A,H,I){if(I===void 0&&(I={}),A.length<2)throw new Error("coordinates must be an array of two or more positions");return i({type:"LineString",coordinates:A},H,I)}function m(A,H){H===void 0&&(H={});var I={type:"FeatureCollection"};return H.id&&(I.id=H.id),H.bbox&&(I.bbox=H.bbox),I.features=A,I}function v(A,H,I){return I===void 0&&(I={}),i({type:"MultiLineString",coordinates:A},H,I)}function s(A,H,I){return I===void 0&&(I={}),i({type:"MultiPoint",coordinates:A},H,I)}function g(A,H,I){return I===void 0&&(I={}),i({type:"MultiPolygon",coordinates:A},H,I)}function S(A,H){H===void 0&&(H="kilometers");var I=a.factors[H];if(!I)throw new Error(H+" units is invalid");return A*I}function z(A,H){H===void 0&&(H="kilometers");var I=a.factors[H];if(!I)throw new Error(H+" units is invalid");return A/I}function x(A){return 180*(A%(2*Math.PI))/Math.PI}function T(A){return!isNaN(A)&&A!==null&&!Array.isArray(A)}Object.defineProperty(a,"__esModule",{value:!0}),a.earthRadius=63710088e-1,a.factors={centimeters:100*a.earthRadius,centimetres:100*a.earthRadius,degrees:a.earthRadius/111325,feet:3.28084*a.earthRadius,inches:39.37*a.earthRadius,kilometers:a.earthRadius/1e3,kilometres:a.earthRadius/1e3,meters:a.earthRadius,metres:a.earthRadius,miles:a.earthRadius/1609.344,millimeters:1e3*a.earthRadius,millimetres:1e3*a.earthRadius,nauticalmiles:a.earthRadius/1852,radians:1,yards:1.0936*a.earthRadius},a.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/a.earthRadius,yards:1.0936133},a.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},a.feature=i,a.geometry=function(A,H,I){switch(A){case"Point":return c(H).geometry;case"LineString":return o(H).geometry;case"Polygon":return p(H).geometry;case"MultiPoint":return s(H).geometry;case"MultiLineString":return v(H).geometry;case"MultiPolygon":return g(H).geometry;default:throw new Error(A+" is invalid")}},a.point=c,a.points=function(A,H,I){return I===void 0&&(I={}),m(A.map(function(P){return c(P,H)}),I)},a.polygon=p,a.polygons=function(A,H,I){return I===void 0&&(I={}),m(A.map(function(P){return p(P,H)}),I)},a.lineString=o,a.lineStrings=function(A,H,I){return I===void 0&&(I={}),m(A.map(function(P){return o(P,H)}),I)},a.featureCollection=m,a.multiLineString=v,a.multiPoint=s,a.multiPolygon=g,a.geometryCollection=function(A,H,I){return I===void 0&&(I={}),i({type:"GeometryCollection",geometries:A},H,I)},a.round=function(A,H){if(H===void 0&&(H=0),H&&!(H>=0))throw new Error("precision must be a positive number");var I=Math.pow(10,H||0);return Math.round(A*I)/I},a.radiansToLength=S,a.lengthToRadians=z,a.lengthToDegrees=function(A,H){return x(z(A,H))},a.bearingToAzimuth=function(A){var H=A%360;return H<0&&(H+=360),H},a.radiansToDegrees=x,a.degreesToRadians=function(A){return A%360*Math.PI/180},a.convertLength=function(A,H,I){if(H===void 0&&(H="kilometers"),I===void 0&&(I="kilometers"),!(A>=0))throw new Error("length must be a positive number");return S(z(A,H),I)},a.convertArea=function(A,H,I){if(H===void 0&&(H="meters"),I===void 0&&(I="kilometers"),!(A>=0))throw new Error("area must be a positive number");var P=a.areaFactors[H];if(!P)throw new Error("invalid original units");var O=a.areaFactors[I];if(!O)throw new Error("invalid final units");return A/P*O},a.isNumber=T,a.isObject=function(A){return!!A&&A.constructor===Object},a.validateBBox=function(A){if(!A)throw new Error("bbox is required");if(!Array.isArray(A))throw new Error("bbox must be an Array");if(A.length!==4&&A.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");A.forEach(function(H){if(!T(H))throw new Error("bbox must only contain numbers")})},a.validateId=function(A){if(!A)throw new Error("id is required");if(["string","number"].indexOf(typeof A)===-1)throw new Error("id must be a number or a string")}},1540:(u,a,i)=>{Object.defineProperty(a,"__esModule",{value:!0});var c=i(4102);function p(z,x,T){if(z!==null)for(var A,H,I,P,O,Z,Y,Q,et=0,lt=0,ft=z.type,dt=ft==="FeatureCollection",bt=ft==="Feature",At=dt?z.features.length:1,Pt=0;Pt<At;Pt++){O=(Q=!!(Y=dt?z.features[Pt].geometry:bt?z.geometry:z)&&Y.type==="GeometryCollection")?Y.geometries.length:1;for(var xt=0;xt<O;xt++){var se=0,rt=0;if((P=Q?Y.geometries[xt]:Y)!==null){Z=P.coordinates;var It=P.type;switch(et=!T||It!=="Polygon"&&It!=="MultiPolygon"?0:1,It){case null:break;case"Point":if(x(Z,lt,Pt,se,rt)===!1)return!1;lt++,se++;break;case"LineString":case"MultiPoint":for(A=0;A<Z.length;A++){if(x(Z[A],lt,Pt,se,rt)===!1)return!1;lt++,It==="MultiPoint"&&se++}It==="LineString"&&se++;break;case"Polygon":case"MultiLineString":for(A=0;A<Z.length;A++){for(H=0;H<Z[A].length-et;H++){if(x(Z[A][H],lt,Pt,se,rt)===!1)return!1;lt++}It==="MultiLineString"&&se++,It==="Polygon"&&rt++}It==="Polygon"&&se++;break;case"MultiPolygon":for(A=0;A<Z.length;A++){for(rt=0,H=0;H<Z[A].length;H++){for(I=0;I<Z[A][H].length-et;I++){if(x(Z[A][H][I],lt,Pt,se,rt)===!1)return!1;lt++}rt++}se++}break;case"GeometryCollection":for(A=0;A<P.geometries.length;A++)if(p(P.geometries[A],x,T)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(z,x){var T;switch(z.type){case"FeatureCollection":for(T=0;T<z.features.length&&x(z.features[T].properties,T)!==!1;T++);break;case"Feature":x(z.properties,0)}}function m(z,x){if(z.type==="Feature")x(z,0);else if(z.type==="FeatureCollection")for(var T=0;T<z.features.length&&x(z.features[T],T)!==!1;T++);}function v(z,x){var T,A,H,I,P,O,Z,Y,Q,et,lt=0,ft=z.type==="FeatureCollection",dt=z.type==="Feature",bt=ft?z.features.length:1;for(T=0;T<bt;T++){for(O=ft?z.features[T].geometry:dt?z.geometry:z,Y=ft?z.features[T].properties:dt?z.properties:{},Q=ft?z.features[T].bbox:dt?z.bbox:void 0,et=ft?z.features[T].id:dt?z.id:void 0,P=(Z=!!O&&O.type==="GeometryCollection")?O.geometries.length:1,H=0;H<P;H++)if((I=Z?O.geometries[H]:O)!==null)switch(I.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(x(I,lt,Y,Q,et)===!1)return!1;break;case"GeometryCollection":for(A=0;A<I.geometries.length;A++)if(x(I.geometries[A],lt,Y,Q,et)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(x(null,lt,Y,Q,et)===!1)return!1;lt++}}function s(z,x){v(z,function(T,A,H,I,P){var O,Z=T===null?null:T.type;switch(Z){case null:case"Point":case"LineString":case"Polygon":return x(c.feature(T,H,{bbox:I,id:P}),A,0)!==!1&&void 0}switch(Z){case"MultiPoint":O="Point";break;case"MultiLineString":O="LineString";break;case"MultiPolygon":O="Polygon"}for(var Y=0;Y<T.coordinates.length;Y++){var Q={type:O,coordinates:T.coordinates[Y]};if(x(c.feature(Q,H),A,Y)===!1)return!1}})}function g(z,x){s(z,function(T,A,H){var I=0;if(T.geometry){var P=T.geometry.type;if(P!=="Point"&&P!=="MultiPoint"){var O,Z=0,Y=0,Q=0;return p(T,function(et,lt,ft,dt,bt){if(O===void 0||A>Z||dt>Y||bt>Q)return O=et,Z=A,Y=dt,Q=bt,void(I=0);var At=c.lineString([O,et],T.properties);if(x(At,A,H,bt,I)===!1)return!1;I++,O=et})!==!1&&void 0}}})}function S(z,x){if(!z)throw new Error("geojson is required");s(z,function(T,A,H){if(T.geometry!==null){var I=T.geometry.type,P=T.geometry.coordinates;switch(I){case"LineString":if(x(T,A,H,0,0)===!1)return!1;break;case"Polygon":for(var O=0;O<P.length;O++)if(x(c.lineString(P[O],T.properties),A,H,O)===!1)return!1}}})}a.coordAll=function(z){var x=[];return p(z,function(T){x.push(T)}),x},a.coordEach=p,a.coordReduce=function(z,x,T,A){var H=T;return p(z,function(I,P,O,Z,Y){H=P===0&&T===void 0?I:x(H,I,P,O,Z,Y)},A),H},a.featureEach=m,a.featureReduce=function(z,x,T){var A=T;return m(z,function(H,I){A=I===0&&T===void 0?H:x(A,H,I)}),A},a.findPoint=function(z,x){if(x=x||{},!c.isObject(x))throw new Error("options is invalid");var T,A=x.featureIndex||0,H=x.multiFeatureIndex||0,I=x.geometryIndex||0,P=x.coordIndex||0,O=x.properties;switch(z.type){case"FeatureCollection":A<0&&(A=z.features.length+A),O=O||z.features[A].properties,T=z.features[A].geometry;break;case"Feature":O=O||z.properties,T=z.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=z;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var Z=T.coordinates;switch(T.type){case"Point":return c.point(Z,O,x);case"MultiPoint":return H<0&&(H=Z.length+H),c.point(Z[H],O,x);case"LineString":return P<0&&(P=Z.length+P),c.point(Z[P],O,x);case"Polygon":return I<0&&(I=Z.length+I),P<0&&(P=Z[I].length+P),c.point(Z[I][P],O,x);case"MultiLineString":return H<0&&(H=Z.length+H),P<0&&(P=Z[H].length+P),c.point(Z[H][P],O,x);case"MultiPolygon":return H<0&&(H=Z.length+H),I<0&&(I=Z[H].length+I),P<0&&(P=Z[H][I].length-P),c.point(Z[H][I][P],O,x)}throw new Error("geojson is invalid")},a.findSegment=function(z,x){if(x=x||{},!c.isObject(x))throw new Error("options is invalid");var T,A=x.featureIndex||0,H=x.multiFeatureIndex||0,I=x.geometryIndex||0,P=x.segmentIndex||0,O=x.properties;switch(z.type){case"FeatureCollection":A<0&&(A=z.features.length+A),O=O||z.features[A].properties,T=z.features[A].geometry;break;case"Feature":O=O||z.properties,T=z.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=z;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var Z=T.coordinates;switch(T.type){case"Point":case"MultiPoint":return null;case"LineString":return P<0&&(P=Z.length+P-1),c.lineString([Z[P],Z[P+1]],O,x);case"Polygon":return I<0&&(I=Z.length+I),P<0&&(P=Z[I].length+P-1),c.lineString([Z[I][P],Z[I][P+1]],O,x);case"MultiLineString":return H<0&&(H=Z.length+H),P<0&&(P=Z[H].length+P-1),c.lineString([Z[H][P],Z[H][P+1]],O,x);case"MultiPolygon":return H<0&&(H=Z.length+H),I<0&&(I=Z[H].length+I),P<0&&(P=Z[H][I].length-P-1),c.lineString([Z[H][I][P],Z[H][I][P+1]],O,x)}throw new Error("geojson is invalid")},a.flattenEach=s,a.flattenReduce=function(z,x,T){var A=T;return s(z,function(H,I,P){A=I===0&&P===0&&T===void 0?H:x(A,H,I,P)}),A},a.geomEach=v,a.geomReduce=function(z,x,T){var A=T;return v(z,function(H,I,P,O,Z){A=I===0&&T===void 0?H:x(A,H,I,P,O,Z)}),A},a.lineEach=S,a.lineReduce=function(z,x,T){var A=T;return S(z,function(H,I,P,O){A=I===0&&T===void 0?H:x(A,H,I,P,O)}),A},a.propEach=o,a.propReduce=function(z,x,T){var A=T;return o(z,function(H,I){A=I===0&&T===void 0?H:x(A,H,I)}),A},a.segmentEach=g,a.segmentReduce=function(z,x,T){var A=T,H=!1;return g(z,function(I,P,O,Z,Y){A=H===!1&&T===void 0?I:x(A,I,P,O,Z,Y),H=!0}),A}},5975:(u,a,i)=>{i(7107);var c=i(2492),p=i.n(c);const o=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker","placeText":"Click to place text"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together","rotateButton":"Rotate Layers","drawTextButton":"Draw Text","scaleButton":"Scale Layers","autoTracingButton":"Auto trace Line"},"measurements":{"totalLength":"Length","segmentLength":"Segment length","area":"Area","radius":"Radius","perimeter":"Perimeter","height":"Height","width":"Width","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),m=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick","placeText":"Platziere den Text mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex löschen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer löschen","drawCircleMarkerButton":"Kreismarker zeichnen","snappingButton":"Bewegter Layer an andere Layer oder Vertexe einhacken","pinningButton":"Vertexe an der gleichen Position verknüpfen","rotateButton":"Layer drehen","drawTextButton":"Text zeichnen","scaleButton":"Layer skalieren","autoTracingButton":"Linie automatisch nachzeichen"},"measurements":{"totalLength":"Länge","segmentLength":"Segment Länge","area":"Fläche","radius":"Radius","perimeter":"Umfang","height":"Höhe","width":"Breite","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),v=JSON.parse(`{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cerchio","snappingButton":"Snap ha trascinato il pennarello su altri strati e vertici","pinningButton":"Pin condiviso vertici insieme"}}`),s=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran","placeCircleMarker":"Klik untuk menempatkan penanda lingkarann"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer","drawCircleMarkerButton":"Digitasi Penanda Lingkaran","snappingButton":"Jepretkan penanda yang ditarik ke lapisan dan simpul lain","pinningButton":"Sematkan simpul bersama bersama"}}'),g=JSON.parse('{"tooltips":{"placeMarker":"Adaugă un punct","firstVertex":"Apasă aici pentru a adăuga primul Vertex","continueLine":"Apasă aici pentru a continua desenul","finishLine":"Apasă pe orice obiect pentru a finisa desenul","finishPoly":"Apasă pe primul obiect pentru a finisa","finishRect":"Apasă pentru a finisa","startCircle":"Apasă pentru a desena un cerc","finishCircle":"Apasă pentru a finisa un cerc","placeCircleMarker":"Adaugă un punct"},"actions":{"finish":"Termină","cancel":"Anulează","removeLastVertex":"Șterge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"Adaugă o bulină","drawPolyButton":"Desenează un poligon","drawLineButton":"Desenează o linie","drawCircleButton":"Desenează un cerc","drawRectButton":"Desenează un dreptunghi","editButton":"Editează straturile","dragButton":"Mută straturile","cutButton":"Taie straturile","deleteButton":"Șterge straturile","drawCircleMarkerButton":"Desenează marcatorul cercului","snappingButton":"Fixați marcatorul glisat pe alte straturi și vârfuri","pinningButton":"Fixați vârfurile partajate împreună"}}'),S=JSON.parse('{"tooltips":{"placeMarker":"Нажмите, чтобы нанести маркер","firstVertex":"Нажмите, чтобы нанести первый объект","continueLine":"Нажмите, чтобы продолжить рисование","finishLine":"Нажмите любой существующий маркер для завершения","finishPoly":"Выберите первую точку, чтобы закончить","finishRect":"Нажмите, чтобы закончить","startCircle":"Нажмите, чтобы добавить центр круга","finishCircle":"Нажмите, чтобы задать радиус","placeCircleMarker":"Нажмите, чтобы нанести круговой маркер"},"actions":{"finish":"Завершить","cancel":"Отменить","removeLastVertex":"Отменить последнее действие"},"buttonTitles":{"drawMarkerButton":"Добавить маркер","drawPolyButton":"Рисовать полигон","drawLineButton":"Рисовать кривую","drawCircleButton":"Рисовать круг","drawRectButton":"Рисовать прямоугольник","editButton":"Редактировать слой","dragButton":"Перенести слой","cutButton":"Вырезать слой","deleteButton":"Удалить слой","drawCircleMarkerButton":"Добавить круговой маркер","snappingButton":"Привязать перетаскиваемый маркер к другим слоям и вершинам","pinningButton":"Связать общие точки вместе"}}'),z=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer vértice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del círculo","finishCircle":"Presiona para finalizar el círculo","placeCircleMarker":"Presiona para colocar un marcador de círculo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Eliminar último vértice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar Polígono","drawLineButton":"Dibujar Línea","drawCircleButton":"Dibujar Círculo","drawRectButton":"Dibujar Rectángulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Eliminar Capas","drawCircleMarkerButton":"Dibujar Marcador de Círculo","snappingButton":"El marcador de Snap arrastrado a otras capas y vértices","pinningButton":"Fijar juntos los vértices compartidos"}}'),x=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te beëindigen","finishPoly":"Klik op het eerst punt om te beëindigen","finishRect":"Klik om te beëindigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te beëindigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker","snappingButton":"Snap gesleepte marker naar andere lagen en hoekpunten","pinningButton":"Speld gedeelde hoekpunten samen"}}'),T=JSON.parse(`{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer à dessiner","finishLine":"Cliquez sur n'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle","placeCircleMarker":"Cliquez pour placer le marqueur circulaire"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"Éditer des calques","dragButton":"Déplacer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques","drawCircleMarkerButton":"Dessiner un marqueur circulaire","snappingButton":"Glisser le marqueur vers d'autres couches et sommets","pinningButton":"Épingler ensemble les sommets partagés","rotateButton":"Tourner des calques"}}`),A=JSON.parse('{"tooltips":{"placeMarker":"单击放置标记","firstVertex":"单击放置首个顶点","continueLine":"单击继续绘制","finishLine":"单击任何存在的标记以完成","finishPoly":"单击第一个标记以完成","finishRect":"单击完成","startCircle":"单击放置圆心","finishCircle":"单击完成圆形","placeCircleMarker":"点击放置圆形标记"},"actions":{"finish":"完成","cancel":"取消","removeLastVertex":"移除最后的顶点"},"buttonTitles":{"drawMarkerButton":"绘制标记","drawPolyButton":"绘制多边形","drawLineButton":"绘制线段","drawCircleButton":"绘制圆形","drawRectButton":"绘制长方形","editButton":"编辑图层","dragButton":"拖拽图层","cutButton":"剪切图层","deleteButton":"删除图层","drawCircleMarkerButton":"画圆圈标记","snappingButton":"将拖动的标记捕捉到其他图层和顶点","pinningButton":"将共享顶点固定在一起"}}'),H=JSON.parse('{"tooltips":{"placeMarker":"單擊放置標記","firstVertex":"單擊放置第一個頂點","continueLine":"單擊繼續繪製","finishLine":"單擊任何存在的標記以完成","finishPoly":"單擊第一個標記以完成","finishRect":"單擊完成","startCircle":"單擊放置圓心","finishCircle":"單擊完成圓形","placeCircleMarker":"點擊放置圓形標記"},"actions":{"finish":"完成","cancel":"取消","removeLastVertex":"移除最後一個頂點"},"buttonTitles":{"drawMarkerButton":"放置標記","drawPolyButton":"繪製多邊形","drawLineButton":"繪製線段","drawCircleButton":"繪製圓形","drawRectButton":"繪製方形","editButton":"編輯圖形","dragButton":"移動圖形","cutButton":"裁切圖形","deleteButton":"刪除圖形","drawCircleMarkerButton":"畫圓圈標記","snappingButton":"將拖動的標記對齊到其他圖層和頂點","pinningButton":"將共享頂點固定在一起"}}'),I={en:o,de:m,it:v,id:s,ro:g,ru:S,es:z,nl:x,fr:T,pt_br:JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro vértice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o polígono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do círculo","finishCircle":"Clique para fechar o círculo","placeCircleMarker":"Clique para posicionar o marcador circular"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover último vértice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um polígono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um círculo","drawRectButton":"Desenhar um retângulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)","drawCircleMarkerButton":"Marcador de círculos de desenho","snappingButton":"Marcador arrastado para outras camadas e vértices","pinningButton":"Vértices compartilhados de pinos juntos"}}'),zh:A,zh_tw:H,pl:JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby ustawić znacznik","firstVertex":"Kliknij, aby ustawić pierwszy punkt","continueLine":"Kliknij, aby kontynuować rysowanie","finishLine":"Kliknij dowolny punkt, aby zakończyć","finishPoly":"Kliknij pierwszy punkt, aby zakończyć","finishRect":"Kliknij, aby zakończyć","startCircle":"Kliknij, aby ustawić środek koła","finishCircle":"Kliknij, aby zakończyć rysowanie koła","placeCircleMarker":"Kliknij, aby ustawić okrągły znacznik"},"actions":{"finish":"Zakończ","cancel":"Anuluj","removeLastVertex":"Usuń ostatni punkt"},"buttonTitles":{"drawMarkerButton":"Narysuj znacznik","drawPolyButton":"Narysuj wielokąt","drawLineButton":"Narysuj ścieżkę","drawCircleButton":"Narysuj koło","drawRectButton":"Narysuj prostokąt","editButton":"Edytuj","dragButton":"Przesuń","cutButton":"Wytnij","deleteButton":"Usuń","drawCircleMarkerButton":"Narysuj okrągły znacznik","snappingButton":"Snap przeciągnięty marker na inne warstwy i wierzchołki","pinningButton":"Sworzeń wspólne wierzchołki razem"}}'),sv:JSON.parse('{"tooltips":{"placeMarker":"Klicka för att placera markör","firstVertex":"Klicka för att placera första hörnet","continueLine":"Klicka för att fortsätta rita","finishLine":"Klicka på en existerande punkt för att slutföra","finishPoly":"Klicka på den första punkten för att slutföra","finishRect":"Klicka för att slutföra","startCircle":"Klicka för att placera cirkelns centrum","finishCircle":"Klicka för att slutföra cirkeln","placeCircleMarker":"Klicka för att placera cirkelmarkör"},"actions":{"finish":"Slutför","cancel":"Avbryt","removeLastVertex":"Ta bort sista hörnet"},"buttonTitles":{"drawMarkerButton":"Rita Markör","drawPolyButton":"Rita Polygoner","drawLineButton":"Rita Linje","drawCircleButton":"Rita Cirkel","drawRectButton":"Rita Rektangel","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita Cirkelmarkör","snappingButton":"Snäpp dra markören till andra lager och hörn","pinningButton":"Fäst delade hörn tillsammans"}}'),el:JSON.parse('{"tooltips":{"placeMarker":"Κάντε κλικ για να τοποθετήσετε Δείκτη","firstVertex":"Κάντε κλικ για να τοποθετήσετε το πρώτο σημείο","continueLine":"Κάντε κλικ για να συνεχίσετε να σχεδιάζετε","finishLine":"Κάντε κλικ σε οποιονδήποτε υπάρχον σημείο για να ολοκληρωθεί","finishPoly":"Κάντε κλικ στο πρώτο σημείο για να τελειώσετε","finishRect":"Κάντε κλικ για να τελειώσετε","startCircle":"Κάντε κλικ για να τοποθετήσετε κέντρο Κύκλου","finishCircle":"Κάντε κλικ για να ολοκληρώσετε τον Κύκλο","placeCircleMarker":"Κάντε κλικ για να τοποθετήσετε Κυκλικό Δείκτη"},"actions":{"finish":"Τέλος","cancel":"Ακύρωση","removeLastVertex":"Κατάργηση τελευταίου σημείου"},"buttonTitles":{"drawMarkerButton":"Σχεδίαση Δείκτη","drawPolyButton":"Σχεδίαση Πολυγώνου","drawLineButton":"Σχεδίαση Γραμμής","drawCircleButton":"Σχεδίαση Κύκλου","drawRectButton":"Σχεδίαση Ορθογωνίου","editButton":"Επεξεργασία Επιπέδων","dragButton":"Μεταφορά Επιπέδων","cutButton":"Αποκοπή Επιπέδων","deleteButton":"Κατάργηση Επιπέδων","drawCircleMarkerButton":"Σχεδίαση Κυκλικού Δείκτη","snappingButton":"Προσκόλληση του Δείκτη μεταφοράς σε άλλα Επίπεδα και Κορυφές","pinningButton":"Περικοπή κοινών κορυφών μαζί"}}'),hu:JSON.parse('{"tooltips":{"placeMarker":"Kattintson a jelölő elhelyezéséhez","firstVertex":"Kattintson az első pont elhelyezéséhez","continueLine":"Kattintson a következő pont elhelyezéséhez","finishLine":"A befejezéshez kattintson egy meglévő pontra","finishPoly":"A befejezéshez kattintson az első pontra","finishRect":"Kattintson a befejezéshez","startCircle":"Kattintson a kör középpontjának elhelyezéséhez","finishCircle":"Kattintson a kör befejezéséhez","placeCircleMarker":"Kattintson a körjelölő elhelyezéséhez"},"actions":{"finish":"Befejezés","cancel":"Mégse","removeLastVertex":"Utolsó pont eltávolítása"},"buttonTitles":{"drawMarkerButton":"Jelölő rajzolása","drawPolyButton":"Poligon rajzolása","drawLineButton":"Vonal rajzolása","drawCircleButton":"Kör rajzolása","drawRectButton":"Négyzet rajzolása","editButton":"Elemek szerkesztése","dragButton":"Elemek mozgatása","cutButton":"Elemek vágása","deleteButton":"Elemek törlése","drawCircleMarkerButton":"Kör jelölő rajzolása","snappingButton":"Kapcsolja a jelöltőt másik elemhez vagy ponthoz","pinningButton":"Közös pontok összekötése"}}'),da:JSON.parse('{"tooltips":{"placeMarker":"Tryk for at placere en markør","firstVertex":"Tryk for at placere det første punkt","continueLine":"Tryk for at fortsætte linjen","finishLine":"Tryk på et eksisterende punkt for at afslutte","finishPoly":"Tryk på det første punkt for at afslutte","finishRect":"Tryk for at afslutte","startCircle":"Tryk for at placere cirklens center","finishCircle":"Tryk for at afslutte cirklen","placeCircleMarker":"Tryk for at placere en cirkelmarkør"},"actions":{"finish":"Afslut","cancel":"Afbryd","removeLastVertex":"Fjern sidste punkt"},"buttonTitles":{"drawMarkerButton":"Placer markør","drawPolyButton":"Tegn polygon","drawLineButton":"Tegn linje","drawCircleButton":"Tegn cirkel","drawRectButton":"Tegn firkant","editButton":"Rediger","dragButton":"Træk","cutButton":"Klip","deleteButton":"Fjern","drawCircleMarkerButton":"Tegn cirkelmarkør","snappingButton":"Fastgør trukket markør til andre elementer","pinningButton":"Sammenlæg delte elementer"}}'),no:JSON.parse('{"tooltips":{"placeMarker":"Klikk for å plassere punkt","firstVertex":"Klikk for å plassere første punkt","continueLine":"Klikk for å tegne videre","finishLine":"Klikk på et eksisterende punkt for å fullføre","finishPoly":"Klikk første punkt for å fullføre","finishRect":"Klikk for å fullføre","startCircle":"Klikk for å sette sirkel midtpunkt","finishCircle":"Klikk for å fullføre sirkel","placeCircleMarker":"Klikk for å plassere sirkel"},"actions":{"finish":"Fullfør","cancel":"Kanseller","removeLastVertex":"Fjern forrige punkt"},"buttonTitles":{"drawMarkerButton":"Tegn Punkt","drawPolyButton":"Tegn Flate","drawLineButton":"Tegn Linje","drawCircleButton":"Tegn Sirkel","drawRectButton":"Tegn rektangel","editButton":"Rediger Objekter","dragButton":"Dra Objekter","cutButton":"Kutt Objekter","deleteButton":"Fjern Objekter","drawCircleMarkerButton":"Tegn sirkel-punkt","snappingButton":"Fest dratt punkt til andre objekter og punkt","pinningButton":"Pin delte punkt sammen"}}'),fa:JSON.parse('{"tooltips":{"placeMarker":"کلیک برای جانمایی نشان","firstVertex":"کلیک برای رسم اولین رأس","continueLine":"کلیک برای ادامه رسم","finishLine":"کلیک روی هر نشان موجود برای پایان","finishPoly":"کلیک روی اولین نشان برای پایان","finishRect":"کلیک برای پایان","startCircle":"کلیک برای رسم مرکز دایره","finishCircle":"کلیک برای پایان رسم دایره","placeCircleMarker":"کلیک برای رسم نشان دایره","placeText":"کلیک برای نوشتن متن"},"actions":{"finish":"پایان","cancel":"لفو","removeLastVertex":"حذف آخرین رأس"},"buttonTitles":{"drawMarkerButton":"درج نشان","drawPolyButton":"رسم چندضلعی","drawLineButton":"رسم خط","drawCircleButton":"رسم دایره","drawRectButton":"رسم چهارضلعی","editButton":"ویرایش لایه‌ها","dragButton":"جابجایی لایه‌ها","cutButton":"برش لایه‌ها","deleteButton":"حذف لایه‌ها","drawCircleMarkerButton":"رسم نشان دایره","snappingButton":"نشانگر را به لایه‌ها و رئوس دیگر بکشید","pinningButton":"رئوس مشترک را با هم پین کنید","rotateButton":"چرخش لایه","drawTextButton":"رسم متن"}}'),ua:JSON.parse(`{"tooltips":{"placeMarker":"Натисніть, щоб нанести маркер","firstVertex":"Натисніть, щоб нанести першу вершину","continueLine":"Натисніть, щоб продовжити малювати","finishLine":"Натисніть будь-який існуючий маркер для завершення","finishPoly":"Виберіть перший маркер, щоб завершити","finishRect":"Натисніть, щоб завершити","startCircle":"Натисніть, щоб додати центр кола","finishCircle":"Натисніть, щоб завершити коло","placeCircleMarker":"Натисніть, щоб нанести круговий маркер"},"actions":{"finish":"Завершити","cancel":"Відмінити","removeLastVertex":"Видалити попередню вершину"},"buttonTitles":{"drawMarkerButton":"Малювати маркер","drawPolyButton":"Малювати полігон","drawLineButton":"Малювати криву","drawCircleButton":"Малювати коло","drawRectButton":"Малювати прямокутник","editButton":"Редагувати шари","dragButton":"Перенести шари","cutButton":"Вирізати шари","deleteButton":"Видалити шари","drawCircleMarkerButton":"Малювати круговий маркер","snappingButton":"Прив’язати перетягнутий маркер до інших шарів та вершин","pinningButton":"Зв'язати спільні вершини разом"}}`),tr:JSON.parse('{"tooltips":{"placeMarker":"İşaretçi yerleştirmek için tıklayın","firstVertex":"İlk tepe noktasını yerleştirmek için tıklayın","continueLine":"Çizime devam etmek için tıklayın","finishLine":"Bitirmek için mevcut herhangi bir işaretçiyi tıklayın","finishPoly":"Bitirmek için ilk işaretçiyi tıklayın","finishRect":"Bitirmek için tıklayın","startCircle":"Daire merkezine yerleştirmek için tıklayın","finishCircle":"Daireyi bitirmek için tıklayın","placeCircleMarker":"Daire işaretçisi yerleştirmek için tıklayın"},"actions":{"finish":"Bitir","cancel":"İptal","removeLastVertex":"Son köşeyi kaldır"},"buttonTitles":{"drawMarkerButton":"Çizim İşaretçisi","drawPolyButton":"Çokgenler çiz","drawLineButton":"Çoklu çizgi çiz","drawCircleButton":"Çember çiz","drawRectButton":"Dikdörtgen çiz","editButton":"Katmanları düzenle","dragButton":"Katmanları sürükle","cutButton":"Katmanları kes","deleteButton":"Katmanları kaldır","drawCircleMarkerButton":"Daire işaretçisi çiz","snappingButton":"Sürüklenen işaretçiyi diğer katmanlara ve köşelere yapıştır","pinningButton":"Paylaşılan köşeleri birbirine sabitle"}}'),cz:JSON.parse('{"tooltips":{"placeMarker":"Kliknutím vytvoříte značku","firstVertex":"Kliknutím vytvoříte první objekt","continueLine":"Kliknutím pokračujte v kreslení","finishLine":"Kliknutí na libovolnou existující značku pro dokončení","finishPoly":"Vyberte první bod pro dokončení","finishRect":"Klikněte pro dokončení","startCircle":"Kliknutím přidejte střed kruhu","finishCircle":"Нажмите, чтобы задать радиус","placeCircleMarker":"Kliknutím nastavte poloměr"},"actions":{"finish":"Dokončit","cancel":"Zrušit","removeLastVertex":"Zrušit poslední akci"},"buttonTitles":{"drawMarkerButton":"Přidat značku","drawPolyButton":"Nakreslit polygon","drawLineButton":"Nakreslit křivku","drawCircleButton":"Nakreslit kruh","drawRectButton":"Nakreslit obdélník","editButton":"Upravit vrstvu","dragButton":"Přeneste vrstvu","cutButton":"Vyjmout vrstvu","deleteButton":"Smazat vrstvu","drawCircleMarkerButton":"Přidat kruhovou značku","snappingButton":"Navázat tažnou značku k dalším vrstvám a vrcholům","pinningButton":"Spojit společné body dohromady"}}'),ja:JSON.parse('{"tooltips":{"placeMarker":"クリックしてマーカーを配置","firstVertex":"クリックして最初の頂点を配置","continueLine":"クリックして描画を続ける","finishLine":"任意のマーカーをクリックして終了","finishPoly":"最初のマーカーをクリックして終了","finishRect":"クリックして終了","startCircle":"クリックして円の中心を配置","finishCircle":"クリックして円の描画を終了","placeCircleMarker":"クリックして円マーカーを配置","placeText":"クリックしてテキストを配置"},"actions":{"finish":"終了","cancel":"キャンセル","removeLastVertex":"最後の頂点を削除"},"buttonTitles":{"drawMarkerButton":"マーカーを描画","drawPolyButton":"ポリゴンを描画","drawLineButton":"折れ線を描画","drawCircleButton":"円を描画","drawRectButton":"矩形を描画","editButton":"レイヤーを編集","dragButton":"レイヤーをドラッグ","cutButton":"レイヤーを切り取り","deleteButton":"レイヤーを削除","drawCircleMarkerButton":"円マーカーを描画","snappingButton":"ドラッグしたマーカーを他のレイヤーや頂点にスナップする","pinningButton":"共有する頂点を同時に動かす","rotateButton":"レイヤーを回転","drawTextButton":"テキストを描画"}}'),fi:JSON.parse('{"tooltips":{"placeMarker":"Klikkaa asettaaksesi merkin","firstVertex":"Klikkaa asettaakseni ensimmäisen osuuden","continueLine":"Klikkaa jatkaaksesi piirtämistä","finishLine":"Klikkaa olemassa olevaa merkkiä lopettaaksesi","finishPoly":"Klikkaa ensimmäistä merkkiä lopettaaksesi","finishRect":"Klikkaa lopettaaksesi","startCircle":"Klikkaa asettaaksesi ympyrän keskipisteen","finishCircle":"Klikkaa lopettaaksesi ympyrän","placeCircleMarker":"Klikkaa asettaaksesi ympyrämerkin","placeText":"Klikkaa asettaaksesi tekstin"},"actions":{"finish":"Valmis","cancel":"Peruuta","removeLastVertex":"Poista viimeinen osuus"},"buttonTitles":{"drawMarkerButton":"Piirrä merkkejä","drawPolyButton":"Piirrä monikulmioita","drawLineButton":"Piirrä viivoja","drawCircleButton":"Piirrä ympyrä","drawRectButton":"Piirrä neliskulmioita","editButton":"Muokkaa","dragButton":"Siirrä","cutButton":"Leikkaa","deleteButton":"Poista","drawCircleMarkerButton":"Piirrä ympyrämerkki","snappingButton":"Kiinnitä siirrettävä merkki toisiin muotoihin","pinningButton":"Kiinnitä jaetut muodot yhteen","rotateButton":"Käännä","drawTextButton":"Piirrä tekstiä"}}'),ko:JSON.parse('{"tooltips":{"placeMarker":"마커 위치를 클릭하세요","firstVertex":"첫번째 꼭지점 위치을 클릭하세요","continueLine":"계속 그리려면 클릭하세요","finishLine":"끝내려면 기존 마커를 클릭하세요","finishPoly":"끝내려면 처음 마커를 클릭하세요","finishRect":"끝내려면 클릭하세요","startCircle":"원의 중심이 될 위치를 클릭하세요","finishCircle":"원을 끝내려면 클릭하세요","placeCircleMarker":"원 마커 위치를 클릭하세요","placeText":"텍스트 위치를 클릭하세요"},"actions":{"finish":"끝내기","cancel":"취소","removeLastVertex":"마지막 꼭지점 제거"},"buttonTitles":{"drawMarkerButton":"마커 그리기","drawPolyButton":"다각형 그리기","drawLineButton":"다각선 그리기","drawCircleButton":"원 그리기","drawRectButton":"직사각형 그리기","editButton":"레이어 편집하기","dragButton":"레이어 끌기","cutButton":"레이어 자르기","deleteButton":"레이어 제거하기","drawCircleMarkerButton":"원 마커 그리기","snappingButton":"잡아끈 마커를 다른 레이어 및 꼭지점에 들러붙게 하기","pinningButton":"공유 꼭지점을 함께 찍기","rotateButton":"레이어 회전하기","drawTextButton":"텍스트 그리기"}}')};function P(e,l){var _=Object.keys(e);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(e);l&&(b=b.filter(function(M){return Object.getOwnPropertyDescriptor(e,M).enumerable})),_.push.apply(_,b)}return _}function O(e){for(var l=1;l<arguments.length;l++){var _=arguments[l]!=null?arguments[l]:{};l%2?P(Object(_),!0).forEach(function(b){Z(e,b,_[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(_)):P(Object(_)).forEach(function(b){Object.defineProperty(e,b,Object.getOwnPropertyDescriptor(_,b))})}return e}function Z(e,l,_){return l in e?Object.defineProperty(e,l,{value:_,enumerable:!0,configurable:!0,writable:!0}):e[l]=_,e}const Y={_globalEditModeEnabled:!1,enableGlobalEditMode:function(e){var l=O({},e);this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(function(_){_.pm.enable(l)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayers={},this.map.on("layeradd",this._layerAdded,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode:function(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(function(e){e.pm.disable()}),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled:function(){return this.globalEditModeEnabled()},globalEditModeEnabled:function(){return this._globalEditModeEnabled},toggleGlobalEditMode:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.globalOptions;this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(e)},handleLayerAdditionInGlobalEditMode:function(){var e=this._addedLayers;for(var l in this._addedLayers={},e){var _=e[l];this._isRelevantForEdit(_)&&this.globalEditModeEnabled()&&_.pm.enable(O({},this.globalOptions))}},_layerAdded:function(e){var l=e.layer;this._addedLayers[L.stamp(l)]=l},_isRelevantForEdit:function(e){return e.pm&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&e.options.pmIgnore===!1)&&!e._pmTempLayer&&e.pm.options.allowEditing}},Q={_globalDragModeEnabled:!1,enableGlobalDragMode:function(){var e=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},e.forEach(function(l){l.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode:function(){var e=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,e.forEach(function(l){l.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled:function(){return!!this._globalDragModeEnabled},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(){var e=this._addedLayersDrag;for(var l in this._addedLayersDrag={},e){var _=e[l];this._isRelevantForDrag(_)&&this.globalDragModeEnabled()&&_.pm.enableLayerDrag()}},_layerAddedDrag:function(e){var l=e.layer;this._addedLayersDrag[L.stamp(l)]=l},_isRelevantForDrag:function(e){return e.pm&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&e.options.pmIgnore===!1)&&!e._pmTempLayer&&e.pm.options.draggable}},et={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode:function(){var e=this;this._globalRemovalModeEnabled=!0,this.map.eachLayer(function(l){e._isRelevantForRemoval(l)&&(l.pm.disable(),l.on("click",e.removeLayer,e))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.reinitGlobalRemovalMode,100,this)),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode:function(){var e=this;this._globalRemovalModeEnabled=!1,this.map.eachLayer(function(l){l.off("click",e.removeLayer,e)}),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled:function(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled:function(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode:function(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},reinitGlobalRemovalMode:function(e){var l=e.layer;this._isRelevantForRemoval(l)&&this.globalRemovalModeEnabled()&&(this.disableGlobalRemovalMode(),this.enableGlobalRemovalMode())},removeLayer:function(e){var l=e.target;this._isRelevantForRemoval(l)&&!l.pm.dragging()&&(l.removeFrom(this.map.pm._getContainingLayer()),l.remove(),l instanceof L.LayerGroup?(this._fireRemoveLayerGroup(l),this._fireRemoveLayerGroup(this.map,l)):(l.pm._fireRemove(l),l.pm._fireRemove(this.map,l)))},_isRelevantForRemoval:function(e){return e.pm&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&e.options.pmIgnore===!1)&&!e._pmTempLayer&&e.pm.options.allowRemoval}},lt={_globalRotateModeEnabled:!1,enableGlobalRotateMode:function(){var e=this;this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(function(l){return l instanceof L.Polyline}).forEach(function(l){e._isRelevantForRotate(l)&&l.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this._reinitGlobalRotateMode,100,this)),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode:function(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(function(e){return e instanceof L.Polyline}).forEach(function(e){e.pm.disableRotate()}),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled:function(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode:function(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_reinitGlobalRotateMode:function(e){var l=e.layer;this._isRelevantForRotate(l)&&this.globalRotateModeEnabled()&&(this.disableGlobalRotateMode(),this.enableGlobalRotateMode())},_isRelevantForRotate:function(e){return e.pm&&!(e instanceof L.LayerGroup)&&(!L.PM.optIn&&!e.options.pmIgnore||L.PM.optIn&&e.options.pmIgnore===!1)&&!e._pmTempLayer&&e.pm.options.allowRotation}};function ft(e,l){var _=Object.keys(e);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(e);l&&(b=b.filter(function(M){return Object.getOwnPropertyDescriptor(e,M).enumerable})),_.push.apply(_,b)}return _}function dt(e){for(var l=1;l<arguments.length;l++){var _=arguments[l]!=null?arguments[l]:{};l%2?ft(Object(_),!0).forEach(function(b){bt(e,b,_[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(_)):ft(Object(_)).forEach(function(b){Object.defineProperty(e,b,Object.getOwnPropertyDescriptor(_,b))})}return e}function bt(e,l,_){return l in e?Object.defineProperty(e,l,{value:_,enumerable:!0,configurable:!0,writable:!0}):e[l]=_,e}var At={_fireDrawStart:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},e,l)},_fireDrawEnd:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawend",{shape:this._shape},e,l)},_fireCreate:function(e){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Draw",_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._map,"pm:create",{shape:this._shape,marker:e,layer:e},l,_)},_fireCenterPlaced:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=e==="Draw"?this._layer:void 0,b=e!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:_,layer:b,latlng:this._layer.getLatLng()},e,l)},_fireCut:function(e,l,_){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Draw",M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(e,"pm:cut",{shape:this._shape,layer:l,originalLayer:_},b,M)},_fireEdit:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._layer,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(e,"pm:edit",{layer:this._layer,shape:this.getShape()},l,_)},_fireEnable:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},e,l)},_fireDisable:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},e,l)},_fireUpdate:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},e,l)},_fireMarkerDragStart:function(e){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:e,shape:this.getShape(),indexPath:l},_,b)},_fireMarkerDrag:function(e){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:e,shape:this.getShape(),indexPath:l},_,b)},_fireMarkerDragEnd:function(e){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:e,shape:this.getShape(),indexPath:l,intersectionReset:_},b,M)},_fireDragStart:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},e,l)},_fireDrag:function(e){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:drag",dt(dt({},e),{},{shape:this.getShape()}),l,_)},_fireDragEnd:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},e,l)},_fireDragEnable:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},e,l)},_fireDragDisable:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},e,l)},_fireRemove:function(e){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(e,"pm:remove",{layer:l,shape:this.getShape()},_,b)},_fireVertexAdded:function(e,l,_){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:e,indexPath:l,latlng:_,shape:this.getShape()},b,M)},_fireVertexRemoved:function(e,l){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:e,indexPath:l,shape:this.getShape()},_,b)},_fireVertexClick:function(e,l){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:e,indexPath:l,shape:this.getShape()},_,b)},_fireIntersect:function(e){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:intersect",{layer:this._layer,intersection:e,shape:this.getShape()},l,_)},_fireLayerReset:function(e,l){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:e,indexPath:l,shape:this.getShape()},_,b)},_fireChange:function(e){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:e,shape:this.getShape()},l,_)},_fireTextChange:function(e){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:e,shape:this.getShape()},l,_)},_fireTextFocus:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},e,l)},_fireTextBlur:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},e,l)},_fireSnapDrag:function(e,l){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(e,"pm:snapdrag",l,_,b)},_fireSnap:function(e,l){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(e,"pm:snap",l,_,b)},_fireUnsnap:function(e,l){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(e,"pm:unsnap",l,_,b)},_fireRotationEnable:function(e,l){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(e,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},_,b)},_fireRotationDisable:function(e){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Rotation",_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(e,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},l,_)},_fireRotationStart:function(e,l){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(e,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:l},_,b)},_fireRotation:function(e,l,_){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this._rotationLayer,M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Rotation",B=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(e,"pm:rotate",{layer:b,helpLayer:this._layer,startAngle:this._startAngle,angle:b.pm.getAngle(),angleDiff:l,oldLatLngs:_,newLatLngs:b.getLatLngs()},M,B)},_fireRotationEnd:function(e,l,_){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Rotation",M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(e,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:l,angle:this._rotationLayer.pm.getAngle(),originLatLngs:_,newLatLngs:this._rotationLayer.getLatLngs()},b,M)},_fireActionClick:function(e,l,_){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Toolbar",M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._map,"pm:actionclick",{text:e.text,action:e,btnName:l,button:_},b,M)},_fireButtonClick:function(e,l){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Toolbar",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._map,"pm:buttonclick",{btnName:e,button:l},_,b)},_fireLangChange:function(e,l,_,b){var M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Global",B=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(this.map,"pm:langchange",{oldLang:e,activeLang:l,fallback:_,translations:b},M,B)},_fireGlobalDragModeToggled:function(e){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:e,map:this.map},l,_)},_fireGlobalEditModeToggled:function(e){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:e,map:this.map},l,_)},_fireGlobalRemovalModeToggled:function(e){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:e,map:this.map},l,_)},_fireGlobalCutModeToggled:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},e,l)},_fireGlobalDrawModeToggled:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},e,l)},_fireGlobalRotateModeToggled:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},e,l)},_fireRemoveLayerGroup:function(e){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(e,"pm:remove",{layer:l,shape:void 0},_,b)},_fireKeyeventEvent:function(e,l,_){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Global",M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this.map,"pm:keyevent",{event:e,eventType:l,focusOn:_},b,M)},__fire:function(e,l,_,b){var M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};_=p()(_,M,{source:b}),L.PM.Utils._fireEvent(e,l,_)}};const Pt=At,xt={_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener:function(e){this.map=e,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this)},_onKeyListener:function(e){var l="document";this.map.getContainer().contains(e.target)&&(l="map");var _={event:e,eventType:e.type,focusOn:l};this._lastEvents[e.type]=_,this._lastEvents.current=_,this.map.pm._fireKeyeventEvent(e,e.type,l)},_onBlur:function(e){e.altKey=!1;var l={event:e,eventType:e.type,focusOn:"document"};this._lastEvents[e.type]=l,this._lastEvents.current=l},getLastKeyEvent:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"current";return this._lastEvents[e]},isShiftKeyPressed:function(){var e;return(e=this._lastEvents.current)===null||e===void 0?void 0:e.event.shiftKey},isAltKeyPressed:function(){var e;return(e=this._lastEvents.current)===null||e===void 0?void 0:e.event.altKey},isCtrlKeyPressed:function(){var e;return(e=this._lastEvents.current)===null||e===void 0?void 0:e.event.ctrlKey},isMetaKeyPressed:function(){var e;return(e=this._lastEvents.current)===null||e===void 0?void 0:e.event.metaKey},getPressedKey:function(){var e;return(e=this._lastEvents.current)===null||e===void 0?void 0:e.event.key}};var se=i(7361),rt=i.n(se),It=i(8721),St=i.n(It);function Et(e){var l=L.PM.activeLang;return St()(I,l)||(l="en"),rt()(I[l],e)}function Ut(e){for(var l=0;l<e.length;l+=1){var _=e[l];if(Array.isArray(_)){if(Ut(_))return!0}else if(_!=null&&_!=="")return!0}return!1}function Ee(e){return e.reduce(function(l,_){if(_.length!==0){var b=Array.isArray(_)?Ee(_):_;Array.isArray(b)?b.length!==0&&l.push(b):l.push(b)}return l},[])}function be(e,l,_){for(var b,M,B,R=6378137,j=63567523142e-4,N=.0033528106647474805,G=e.lng,X=e.lat,nt=_,tt=Math.PI,mt=l*tt/180,wt=Math.sin(mt),Dt=Math.cos(mt),Yt=(1-N)*Math.tan(X*tt/180),_e=1/Math.sqrt(1+Yt*Yt),Bt=Yt*_e,ge=Math.atan2(Yt,Dt),Le=_e*wt,je=1-Le*Le,cn=je*(R*R-j*j)/(j*j),lr=1+cn/16384*(4096+cn*(cn*(320-175*cn)-768)),si=cn/1024*(256+cn*(cn*(74-47*cn)-128)),zn=nt/(j*lr),Fi=2*Math.PI;Math.abs(zn-Fi)>1e-12;)b=Math.cos(2*ge+zn),Fi=zn,zn=nt/(j*lr)+si*(M=Math.sin(zn))*(b+si/4*((B=Math.cos(zn))*(2*b*b-1)-si/6*b*(4*M*M-3)*(4*b*b-3)));var ur=Bt*M-_e*B*Dt,Gr=Math.atan2(Bt*B+_e*M*Dt,(1-N)*Math.sqrt(Le*Le+ur*ur)),li=N/16*je*(4+N*(4-3*je)),Vr=G+180*(Math.atan2(M*wt,_e*B-Bt*M*Dt)-(1-li)*N*Le*(zn+li*M*(b+li*B*(2*b*b-1))))/tt,on=180*Gr/tt;return L.latLng(Vr,on)}function he(e,l,_,b){for(var M,B,R=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],j=[],N=0;N<_;N+=1){if(R)M=be(e,360*N/_+b,l),B=L.latLng(M.lng,M.lat);else{var G=e.lat+Math.cos(2*N*Math.PI/_)*l,X=e.lng+Math.sin(2*N*Math.PI/_)*l;B=L.latLng(G,X)}j.push(B)}return j}function ee(e,l,_,b){var M=function(B,R,j){var N=B.latLngToContainerPoint(R),G=B.latLngToContainerPoint(j),X=180*Math.atan2(G.y-N.y,G.x-N.x)/Math.PI+90;return X+(X<0?360:0)}(e,l,_);return function(B,R,j){R=(R+360)%360;var N=Math.PI/180,G=180/Math.PI,X=6378137,nt=B.lng*N,tt=B.lat*N,mt=R*N,wt=Math.sin(tt),Dt=Math.cos(tt),Yt=Math.cos(j/X),_e=Math.sin(j/X),Bt=Math.asin(wt*Yt+Dt*_e*Math.cos(mt)),ge=nt+Math.atan2(Math.sin(mt)*_e*Dt,Yt-wt*Math.sin(Bt));return ge=(ge*=G)>180?ge-360:ge<-180?ge+360:ge,L.latLng([Bt*G,ge])}(l,M,b)}function Ke(e,l){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"asc";if(!l||Object.keys(l).length===0)return function(N,G){return N-G};for(var b,M=Object.keys(l),B=M.length-1,R={};B>=0;)b=M[B],R[b.toLowerCase()]=l[b],B-=1;function j(N){return N instanceof L.Marker?"Marker":N instanceof L.Circle?"Circle":N instanceof L.CircleMarker?"CircleMarker":N instanceof L.Rectangle?"Rectangle":N instanceof L.Polygon?"Polygon":N instanceof L.Polyline?"Line":void 0}return function(N,G){var X,nt;if(e==="instanceofShape"){if(X=j(N.layer).toLowerCase(),nt=j(G.layer).toLowerCase(),!X||!nt)return 0}else{if(!N.hasOwnProperty(e)||!G.hasOwnProperty(e))return 0;X=N[e].toLowerCase(),nt=G[e].toLowerCase()}var tt=X in R?R[X]:Number.MAX_SAFE_INTEGER,mt=nt in R?R[nt]:Number.MAX_SAFE_INTEGER,wt=0;return tt<mt?wt=-1:tt>mt&&(wt=1),_==="desc"?-1*wt:wt}}function ze(e){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.getLatLngs();return e instanceof L.Polygon?L.polygon(l).getLatLngs():L.polyline(l).getLatLngs()}function _n(e,l){var _,b;if((_=l.options.crs)!==null&&_!==void 0&&(b=_.projection)!==null&&b!==void 0&&b.MAX_LATITUDE){var M,B,R=(M=l.options.crs)===null||M===void 0||(B=M.projection)===null||B===void 0?void 0:B.MAX_LATITUDE;e.lat=Math.max(Math.min(R,e.lat),-R)}return e}function Xe(e){return e.options.renderer||e._map&&(e._map._getPaneRenderer(e.options.pane)||e._map.options.renderer||e._map._renderer)||e._renderer}const En=L.Class.extend({includes:[Y,Q,et,lt,Pt],initialize:function(e){this.map=e,this.Draw=new L.PM.Draw(e),this.Toolbar=new L.PM.Toolbar(e),this.Keyboard=xt,this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(e)},setLang:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en",l=arguments.length>1?arguments[1]:void 0,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"en",b=L.PM.activeLang;l&&(I[e]=p()(I[_],l)),L.PM.activeLang=e,this.map.pm.Toolbar.reinit(),this._fireLangChange(b,e,_,I[e])},addControls:function(e){this.Toolbar.addControls(e)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon",l=arguments.length>1?arguments[1]:void 0;e==="Poly"&&(e="Polygon"),this.Draw.enable(e,l)},disableDraw:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon";e==="Poly"&&(e="Polygon"),this.Draw.disable(e)},setPathOptions:function(e){var l=this,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=_.ignoreShapes||[],M=_.merge||!1;this.map.pm.Draw.shapes.forEach(function(B){b.indexOf(B)===-1&&l.map.pm.Draw[B].setPathOptions(e,M)})},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(e){var l=this,_=p()(this.globalOptions,e),b=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.editable!=!!_.editable&&(this.map.pm.Draw.CircleMarker.disable(),b=!0),this.map.pm.Draw.shapes.forEach(function(M){l.map.pm.Draw[M].setOptions(_)}),b&&this.map.pm.Draw.CircleMarker.enable(),L.PM.Utils.findLayers(this.map).forEach(function(M){M.pm.setOptions(_)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=_,this.applyGlobalOptions()},applyGlobalOptions:function(){L.PM.Utils.findLayers(this.map).forEach(function(e){e.pm.enabled()&&e.pm.applyOptions()})},globalDrawModeEnabled:function(){return!!this.Draw.getActiveShape()},globalCutModeEnabled:function(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode:function(e){return this.Draw.Cut.enable(e)},toggleGlobalCutMode:function(e){return this.Draw.Cut.toggle(e)},disableGlobalCutMode:function(){return this.Draw.Cut.disable()},getGeomanLayers:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],l=L.PM.Utils.findLayers(this.map);if(!e)return l;var _=L.featureGroup();return _._pmTempLayer=!0,l.forEach(function(b){_.addLayer(b)}),_},getGeomanDrawLayers:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],l=L.PM.Utils.findLayers(this.map).filter(function(b){return b._drawnByGeoman===!0});if(!e)return l;var _=L.featureGroup();return _._pmTempLayer=!0,l.forEach(function(b){_.addLayer(b)}),_},_getContainingLayer:function(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple:function(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents:function(e){this._touchEventCounter===0&&(L.DomEvent.on(e,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(e,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents:function(e){this._touchEventCounter===1&&(L.DomEvent.off(e,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(e,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove:function(e){Xe(this.map)._onMouseMove(this._createMouseEvent("mousemove",e))},_canvasTouchClick:function(e){var l="";e.type==="touchstart"||e.type==="pointerdown"?l="mousedown":e.type==="touchend"||e.type==="pointerup"?l="mouseup":e.type!=="touchcancel"&&e.type!=="pointercancel"||(l="mouseup"),l&&Xe(this.map)._onClick(this._createMouseEvent(l,e))},_createMouseEvent:function(e,l){var _,b=l.touches[0]||l.changedTouches[0];try{_=new MouseEvent(e,{bubbles:l.bubbles,cancelable:l.cancelable,view:l.view,detail:b.detail,screenX:b.screenX,screenY:b.screenY,clientX:b.clientX,clientY:b.clientY,ctrlKey:l.ctrlKey,altKey:l.altKey,shiftKey:l.shiftKey,metaKey:l.metaKey,button:l.button,relatedTarget:l.relatedTarget})}catch{(_=document.createEvent("MouseEvents")).initMouseEvent(e,l.bubbles,l.cancelable,l.view,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,l.ctrlKey,l.altKey,l.shiftKey,l.metaKey,l.button,l.relatedTarget)}return _}}),en=L.Control.extend({includes:[Pt],options:{position:"topleft",disableByOtherButtons:!0},initialize:function(e){this._button=L.Util.extend({},this.options,e)},onAdd:function(e){return this._map=e,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(e){return this._button.toggleStatus=typeof e=="boolean"?e:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},disable:function(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable:function(){this._button.disabled=!1,this._updateDisabled()},_triggerClick:function(e){e&&e.preventDefault(),this._button.disabled||(this._button.onClick(e,{button:this,event:e}),this._clicked(e),this._button.afterClick(e,{button:this,event:e}))},_makeButton:function(e){var l=this,_=this.options.position.indexOf("right")>-1?"pos-right":"",b=L.DomUtil.create("div","button-container  ".concat(_),this._container);e.title&&b.setAttribute("title",e.title);var M=L.DomUtil.create("a","leaflet-buttons-control-button",b);M.setAttribute("role","button"),M.setAttribute("tabindex","0"),M.href="#";var B=L.DomUtil.create("div","leaflet-pm-actions-container ".concat(_),b),R=e.actions,j={cancel:{text:Et("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:Et("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:Et("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[e.jsClass]._removeLastVertex()}},finish:{text:Et("actions.finish"),onClick:function(G){this._map.pm.Draw[e.jsClass]._finishShape(G)}}};R.forEach(function(G){var X,nt=typeof G=="string"?G:G.name;if(j[nt])X=j[nt];else{if(!G.text)return;X=G}var tt=L.DomUtil.create("a","leaflet-pm-action ".concat(_," action-").concat(nt),B);tt.setAttribute("role","button"),tt.setAttribute("tabindex","0"),tt.href="#",tt.innerHTML=X.text,L.DomEvent.disableClickPropagation(tt),L.DomEvent.on(tt,"click",L.DomEvent.stop),!e.disabled&&X.onClick&&(L.DomEvent.addListener(tt,"click",function(mt){mt.preventDefault();var wt="",Dt=l._map.pm.Toolbar.buttons;for(var Yt in Dt)if(Dt[Yt]._button===e){wt=Yt;break}l._fireActionClick(X,wt,e)},l),L.DomEvent.addListener(tt,"click",X.onClick,l))}),e.toggleStatus&&L.DomUtil.addClass(b,"active");var N=L.DomUtil.create("div","control-icon",M);return e.iconUrl&&N.setAttribute("src",e.iconUrl),e.className&&L.DomUtil.addClass(N,e.className),L.DomEvent.disableClickPropagation(M),L.DomEvent.on(M,"click",L.DomEvent.stop),e.disabled||(L.DomEvent.addListener(M,"click",this._onBtnClick,this),L.DomEvent.addListener(M,"click",this._triggerClick,this)),e.disabled&&(L.DomUtil.addClass(M,"pm-disabled"),M.setAttribute("aria-disabled","true")),b},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus&&this._button.cssToggle!==!1?(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")):(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")))},_onBtnClick:function(){this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);var e="",l=this._map.pm.Toolbar.buttons;for(var _ in l)if(l[_]._button===this._button){e=_;break}this._fireButtonClick(e,this._button)},_clicked:function(){this._button.doToggle&&this.toggle()},_updateDisabled:function(){if(this._container){var e="pm-disabled",l=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(l,e),l.setAttribute("aria-disabled","true"),L.DomEvent.off(l,"click",this._triggerClick,this),L.DomEvent.off(l,"click",this._onBtnClick,this)):(L.DomUtil.removeClass(l,e),l.setAttribute("aria-disabled","false"),L.DomEvent.on(l,"click",this._triggerClick,this),L.DomEvent.on(l,"click",this._onBtnClick,this))}}});function gn(e,l){var _=Object.keys(e);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(e);l&&(b=b.filter(function(M){return Object.getOwnPropertyDescriptor(e,M).enumerable})),_.push.apply(_,b)}return _}function Ze(e){for(var l=1;l<arguments.length;l++){var _=arguments[l]!=null?arguments[l]:{};l%2?gn(Object(_),!0).forEach(function(b){Hn(e,b,_[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(_)):gn(Object(_)).forEach(function(b){Object.defineProperty(e,b,Object.getOwnPropertyDescriptor(_,b))})}return e}function Hn(e,l,_){return l in e?Object.defineProperty(e,l,{value:_,enumerable:!0,configurable:!0,writable:!0}):e[l]=_,e}function mn(e){return mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},mn(e)}L.Control.PMButton=en;const Sn=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize:function(e){this.init(e)},reinit:function(){var e=this.isVisible;this.removeControls(),this._defineButtons(),e&&this.addControls()},init:function(e){this.map=e,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer:function(e){var l="".concat(e,"Container");return this[l]||(this[l]=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-".concat(e," leaflet-bar leaflet-control"))),this[l]},getButtons:function(){return this.buttons},addControls:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;typeof e.editPolygon<"u"&&(e.editMode=e.editPolygon),typeof e.deleteLayer<"u"&&(e.removalMode=e.deleteLayer),L.Util.setOptions(this,e),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle:function(){var e=this.getButtons(),l={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(var _ in e){var b=e[_];L.Util.setOptions(b,{className:l.geomanIcons[_]})}},removeControls:function(){var e=this.getButtons();for(var l in e)e[l].remove();this.isVisible=!1},toggleControls:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(e)},_addButton:function(e,l){return this.buttons[e]=l,this.options[e]=this.options[e]||!1,this.buttons[e]},triggerClickOnToggledButtons:function(e){for(var l in this.buttons){var _=this.buttons[l];_._button.disableByOtherButtons&&_!==e&&_.toggled()&&_._triggerClick()}},toggleButton:function(e,l){var _=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return e==="editPolygon"&&(e="editMode"),e==="deleteLayer"&&(e="removalMode"),_&&this.triggerClickOnToggledButtons(this.buttons[e]),!!this.buttons[e]&&this.buttons[e].toggle(l)},_defineButtons:function(){var e=this,l={className:"control-icon leaflet-pm-icon-marker",title:Et("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(mt,wt){e.map.pm.Draw[wt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},_={title:Et("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(mt,wt){e.map.pm.Draw[wt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},b={className:"control-icon leaflet-pm-icon-polyline",title:Et("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(mt,wt){e.map.pm.Draw[wt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},M={title:Et("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(mt,wt){e.map.pm.Draw[wt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},B={title:Et("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(mt,wt){e.map.pm.Draw[wt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},R={title:Et("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(mt,wt){e.map.pm.Draw[wt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},j={title:Et("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){e.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},N={title:Et("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){e.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},G={title:Et("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(mt,wt){e.map.pm.Draw[wt.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},X={title:Et("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){e.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},nt={title:Et("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:function(){},afterClick:function(){e.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},tt={className:"control-icon leaflet-pm-icon-text",title:Et("buttonTitles.drawTextButton"),jsClass:"Text",onClick:function(){},afterClick:function(mt,wt){e.map.pm.Draw[wt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(l)),this._addButton("drawPolyline",new L.Control.PMButton(b)),this._addButton("drawRectangle",new L.Control.PMButton(R)),this._addButton("drawPolygon",new L.Control.PMButton(_)),this._addButton("drawCircle",new L.Control.PMButton(M)),this._addButton("drawCircleMarker",new L.Control.PMButton(B)),this._addButton("drawText",new L.Control.PMButton(tt)),this._addButton("editMode",new L.Control.PMButton(j)),this._addButton("dragMode",new L.Control.PMButton(N)),this._addButton("cutPolygon",new L.Control.PMButton(G)),this._addButton("removalMode",new L.Control.PMButton(X)),this._addButton("rotateMode",new L.Control.PMButton(nt))},_showHideButtons:function(){if(this.isVisible){this.removeControls(),this.isVisible=!0;var e=this.getButtons(),l=[];for(var _ in this.options.drawControls===!1&&(l=l.concat(Object.keys(e).filter(function(M){return!e[M]._button.tool}))),this.options.editControls===!1&&(l=l.concat(Object.keys(e).filter(function(M){return e[M]._button.tool==="edit"}))),this.options.optionsControls===!1&&(l=l.concat(Object.keys(e).filter(function(M){return e[M]._button.tool==="options"}))),this.options.customControls===!1&&(l=l.concat(Object.keys(e).filter(function(M){return e[M]._button.tool==="custom"}))),e)if(this.options[_]&&l.indexOf(_)===-1){var b=e[_]._button.tool;b||(b="draw"),e[_].setPosition(this._getBtnPosition(b)),e[_].addTo(this.map)}}},_getBtnPosition:function(e){return this.options.positions&&this.options.positions[e]?this.options.positions[e]:this.options.position},setBlockPosition:function(e,l){this.options.positions[e]=l,this._showHideButtons(),this.changeControlOrder()},getBlockPositions:function(){return this.options.positions},copyDrawControl:function(e,l){if(!l)throw new TypeError("Button has no name");mn(l)!=="object"&&(l={name:l});var _=this._btnNameMapping(e);if(!l.name)throw new TypeError("Button has no name");if(this.buttons[l.name])throw new TypeError("Button with this name already exists");var b=this.map.pm.Draw.createNewDrawInstance(l.name,_);return l=Ze(Ze({},this.buttons[_]._button),l),{drawInstance:b,control:this.createCustomControl(l)}},createCustomControl:function(e){var l,_;if(!e.name)throw new TypeError("Button has no name");if(this.buttons[e.name])throw new TypeError("Button with this name already exists");e.onClick||(e.onClick=function(){}),e.afterClick||(e.afterClick=function(){}),e.toggle!==!1&&(e.toggle=!0),e.block&&(e.block=e.block.toLowerCase()),e.block&&e.block!=="draw"||(e.block=""),e.className?e.className.indexOf("control-icon")===-1&&(e.className="control-icon ".concat(e.className)):e.className="control-icon";var b={tool:e.block,className:e.className,title:e.title||"",jsClass:e.name,onClick:e.onClick,afterClick:e.afterClick,doToggle:e.toggle,toggleStatus:!1,disableOtherButtons:(l=e.disableOtherButtons)===null||l===void 0||l,disableByOtherButtons:(_=e.disableByOtherButtons)===null||_===void 0||_,cssToggle:e.toggle,position:this.options.position,actions:e.actions||[],disabled:!!e.disabled};this.options[e.name]!==!1&&(this.options[e.name]=!0);var M=this._addButton(e.name,new L.Control.PMButton(b));return this.changeControlOrder(),M},changeControlOrder:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=this._shapeMapping(),_=[];e.forEach(function(G){l[G]?_.push(l[G]):_.push(G)});var b=this.getButtons(),M={};_.forEach(function(G){b[G]&&(M[G]=b[G])});var B=Object.keys(b).filter(function(G){return!b[G]._button.tool});B.forEach(function(G){_.indexOf(G)===-1&&(M[G]=b[G])});var R=Object.keys(b).filter(function(G){return b[G]._button.tool==="edit"});R.forEach(function(G){_.indexOf(G)===-1&&(M[G]=b[G])});var j=Object.keys(b).filter(function(G){return b[G]._button.tool==="options"});j.forEach(function(G){_.indexOf(G)===-1&&(M[G]=b[G])});var N=Object.keys(b).filter(function(G){return b[G]._button.tool==="custom"});N.forEach(function(G){_.indexOf(G)===-1&&(M[G]=b[G])}),Object.keys(b).forEach(function(G){_.indexOf(G)===-1&&(M[G]=b[G])}),this.map.pm.Toolbar.buttons=M,this._showHideButtons()},getControlOrder:function(){var e=this.getButtons(),l=[];for(var _ in e)l.push(_);return l},changeActionsOfControl:function(e,l){var _=this._btnNameMapping(e);if(!_)throw new TypeError("No name passed");if(!l)throw new TypeError("No actions passed");if(!this.buttons[_])throw new TypeError("Button with this name not exists");this.buttons[_]._button.actions=l,this.changeControlOrder()},setButtonDisabled:function(e,l){var _=this._btnNameMapping(e);l?this.buttons[_].disable():this.buttons[_].enable()},_shapeMapping:function(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping:function(e){var l=this._shapeMapping();return l[e]?l[e]:e}});function un(e,l){var _=Object.keys(e);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(e);l&&(b=b.filter(function(M){return Object.getOwnPropertyDescriptor(e,M).enumerable})),_.push.apply(_,b)}return _}function V(e){for(var l=1;l<arguments.length;l++){var _=arguments[l]!=null?arguments[l]:{};l%2?un(Object(_),!0).forEach(function(b){w(e,b,_[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(_)):un(Object(_)).forEach(function(b){Object.defineProperty(e,b,Object.getOwnPropertyDescriptor(_,b))})}return e}function w(e,l,_){return l in e?Object.defineProperty(e,l,{value:_,enumerable:!0,configurable:!0,writable:!0}):e[l]=_,e}var C={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(e){var l=this;e.forEach(function(_){Array.isArray(_)?l._assignEvents(_):(_.off("drag",l._handleSnapping,l),_.on("drag",l._handleSnapping,l),_.off("dragend",l._cleanupSnapping,l),_.on("dragend",l._cleanupSnapping,l))})},_cleanupSnapping:function(e){e&&(e.target._snapped=!1),delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("pm:remove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(l){l.remove()})},_handleThrottleSnapping:function(){this.throttledList&&this._createSnapList()},_handleSnapping:function(e){var l=this,_=e.target;if(_._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),this._map.pm.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;var b=this._calcClosestLayer(_.getLatLng(),this._snapList);if(Object.keys(b).length===0)return!1;var M,B=b.layer instanceof L.Marker||b.layer instanceof L.CircleMarker||!this.options.snapSegment;M=B?b.latlng:this._checkPrioritiySnapping(b);var R=this.options.snapDistance,j={marker:_,shape:this._shape,snapLatLng:M,segment:b.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:b.layer,distance:b.distance};if(this._fireSnapDrag(j.marker,j),this._fireSnapDrag(this._layer,j),b.distance<R){_._orgLatLng=_.getLatLng(),_.setLatLng(M),_._snapped=!0,_._snapInfo=j;var N=this._snapLatLng||{},G=M||{};N.lat===G.lat&&N.lng===G.lng||(l._snapLatLng=M,l._fireSnap(_,j),l._fireSnap(l._layer,j))}else this._snapLatLng&&(this._unsnap(j),_._snapped=!1,_._snapInfo=void 0,this._fireUnsnap(j.marker,j),this._fireUnsnap(this._layer,j));return!0},_createSnapList:function(){var e=this,l=[],_=[],b=this._map;b.off("pm:remove",this._handleSnapLayerRemoval,this),b.on("pm:remove",this._handleSnapLayerRemoval,this),b.eachLayer(function(M){if((M instanceof L.Polyline||M instanceof L.Marker||M instanceof L.CircleMarker||M instanceof L.ImageOverlay)&&M.options.snapIgnore!==!0){if(M.options.snapIgnore===void 0&&(!L.PM.optIn&&M.options.pmIgnore===!0||L.PM.optIn&&M.options.pmIgnore!==!1))return;(M instanceof L.Circle||M instanceof L.CircleMarker)&&M.pm&&M.pm._hiddenPolyCircle?l.push(M.pm._hiddenPolyCircle):M instanceof L.ImageOverlay&&(M=L.rectangle(M.getBounds())),l.push(M);var B=L.polyline([],{color:"red",pmIgnore:!0});B._pmTempLayer=!0,_.push(B),(M instanceof L.Circle||M instanceof L.CircleMarker)&&_.push(B)}}),l=(l=(l=l.filter(function(M){return e._layer!==M})).filter(function(M){return M._latlng||M._latlngs&&Ut(M._latlngs)})).filter(function(M){return!M._pmTempLayer}),this._otherSnapLayers?(this._otherSnapLayers.forEach(function(){var M=L.polyline([],{color:"red",pmIgnore:!0});M._pmTempLayer=!0,_.push(M)}),this._snapList=l.concat(this._otherSnapLayers)):this._snapList=l,this.debugIndicatorLines=_},_handleSnapLayerRemoval:function(e){var l=e.layer,_=this._snapList.findIndex(function(b){return b._leaflet_id===l._leaflet_id});this._snapList.splice(_,1)},_calcClosestLayer:function(e,l){return this._calcClosestLayers(e,l,1)[0]},_calcClosestLayers:function(e,l){var _=this,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,M=[],B={};l.forEach(function(j,N){if(!j._parentCopy||j._parentCopy!==_._layer){var G=_._calcLayerDistances(e,j);if(G.distance=Math.floor(G.distance),_.debugIndicatorLines){if(!_.debugIndicatorLines[N]){var X=L.polyline([],{color:"red",pmIgnore:!0});X._pmTempLayer=!0,_.debugIndicatorLines[N]=X}_.debugIndicatorLines[N].setLatLngs([e,G.latlng])}b===1&&(B.distance===void 0||G.distance<=B.distance)?(G.distance<B.distance&&(M=[]),(B=G).layer=j,M.push(B)):b!==1&&(B={},(B=G).layer=j,M.push(B))}}),b!==1&&(M=M.sort(function(j,N){return j.distance-N.distance})),b===-1&&(b=M.length);var R=this._getClosestLayerByPriority(M,b);return L.Util.isArray(R)?R:[R]},_calcLayerDistances:function(e,l){var _=this._map,b=l instanceof L.Marker||l instanceof L.CircleMarker,M=l instanceof L.Polygon,B=e;if(b){var R=l.getLatLng();return{latlng:V({},R),distance:this._getDistance(_,R,B)}}return this._calcLatLngDistances(B,l.getLatLngs(),_,M)},_calcLatLngDistances:function(e,l,_){var b,M,B,R=this,j=arguments.length>3&&arguments[3]!==void 0&&arguments[3],N=function X(nt){nt.forEach(function(tt,mt){if(Array.isArray(tt))X(tt);else if(R.options.snapSegment){var wt,Dt=tt;wt=j?mt+1===nt.length?0:mt+1:mt+1===nt.length?void 0:mt+1;var Yt=nt[wt];if(Yt){var _e=R._getDistanceToSegment(_,e,Dt,Yt);(M===void 0||_e<M)&&(M=_e,B=[Dt,Yt])}}else{var Bt=R._getDistance(_,e,tt);(M===void 0||Bt<M)&&(M=Bt,b=tt)}})};if(N(l),this.options.snapSegment){var G=this._getClosestPointOnSegment(_,e,B[0],B[1]);return{latlng:V({},G),segment:B,distance:M}}return{latlng:b,distance:M}},_getClosestLayerByPriority:function(e){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;e=e.sort(function(R,j){return R._leaflet_id-j._leaflet_id});var _=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],b=this._map.pm.globalOptions.snappingOrder||[],M=0,B={};return b.concat(_).forEach(function(R){B[R]||(M+=1,B[R]=M)}),e.sort(Ke("instanceofShape",B)),l===1?e[0]||{}:e.slice(0,l)},_checkPrioritiySnapping:function(e){var l=this._map,_=e.segment[0],b=e.segment[1],M=e.latlng,B=this._getDistance(l,_,M),R=this._getDistance(l,b,M),j=B<R?_:b,N=B<R?B:R;if(this.options.snapMiddle){var G=L.PM.Utils.calcMiddleLatLng(l,_,b),X=this._getDistance(l,G,M);X<B&&X<R&&(j=G,N=X)}return V({},N<this.options.snapDistance?j:M)},_unsnap:function(){delete this._snapLatLng},_getClosestPointOnSegment:function(e,l,_,b){var M=e.getMaxZoom();M===1/0&&(M=e.getZoom());var B=e.project(l,M),R=e.project(_,M),j=e.project(b,M),N=L.LineUtil.closestPointOnSegment(B,R,j);return e.unproject(N,M)},_getDistanceToSegment:function(e,l,_,b){var M=e.latLngToLayerPoint(l),B=e.latLngToLayerPoint(_),R=e.latLngToLayerPoint(b);return L.LineUtil.pointToSegmentDistance(M,B,R)},_getDistance:function(e,l,_){return e.latLngToLayerPoint(l).distanceTo(e.latLngToLayerPoint(_))}};const D=C,F=L.Class.extend({includes:[D,Pt],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,editable:!1,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1},setOptions:function(e){L.Util.setOptions(this,e),this.setStyle(this.options)},setStyle:function(){},getOptions:function(){return this.options},initialize:function(e){var l=this,_=new L.Icon.Default;_.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=_,this._map=e,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(function(b){l[b]=new L.PM.Draw[b](l._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions:function(e){var l=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.options.pathOptions=l?p()(this.options.pathOptions,e):e},getShapes:function(){return this.shapes},getShape:function(){return this._shape},enable:function(e,l){if(!e)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[e].enable(l)},disable:function(){var e=this;this.shapes.forEach(function(l){e[l].disable()})},addControls:function(){var e=this;this.shapes.forEach(function(l){e[l].addButton()})},getActiveShape:function(){var e,l=this;return this.shapes.forEach(function(_){l[_]._enabled&&(e=_)}),e},_setGlobalDrawMode:function(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();var e=L.PM.Utils.findLayers(this._map);this._enabled?e.forEach(function(l){L.PM.Utils.disablePopup(l)}):e.forEach(function(l){L.PM.Utils.enablePopup(l)})},createNewDrawInstance:function(e,l){var _=this._getShapeFromBtnName(l);if(this[e])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[_])throw new TypeError("There is no class L.PM.Draw.".concat(_));return this[e]=new L.PM.Draw[_](this._map),this[e].toolbarButtonName=e,this[e]._shape=e,this.shapes.push(e),this[l]&&this[e].setOptions(this[l].options),this[e].setOptions(this[e].options),this[e]},_getShapeFromBtnName:function(e){var l={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return l[e]?l[e]:this[e]?this[e]._shape:e},_finishLayer:function(e){e.pm&&(e.pm.setOptions(this.options),e.pm._shape=this._shape,e.pm._map=this._map),this._addDrawnLayerProp(e)},_addDrawnLayerProp:function(e){e._drawnByGeoman=!0},_setPane:function(e,l){l==="layerPane"?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":l==="vertexPane"?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":l==="markerPane"&&(e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer:function(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}});F.Marker=F.extend({initialize:function(e){this._map=e,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(e){var l=this;L.Util.setOptions(this,e),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Et("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(function(_){l.isRelevantMarker(_)&&_.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var e=this;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(l){e.isRelevantMarker(l)&&l.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(e){this.enabled()?this.disable():this.enable(e)},isRelevantMarker:function(e){return e instanceof L.Marker&&e.pm&&!e._pmTempLayer&&!e.pm._initTextMarker},_syncHintMarker:function(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){var l=e;l.target=this._hintMarker,this._handleSnapping(l)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker:function(e){if(e.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var l=this._hintMarker.getLatLng(),_=new L.Marker(l,this.options.markerStyle);this._setPane(_,"markerPane"),this._finishLayer(_),_.pm||(_.options.draggable=!1),_.addTo(this._map.pm._getContainingLayer()),_.pm&&this.options.markerEditable?_.pm.enable():_.dragging&&_.dragging.disable(),this._fireCreate(_),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},setStyle:function(){var e,l;(e=this.options.markerStyle)!==null&&e!==void 0&&e.icon&&((l=this._hintMarker)===null||l===void 0||l.setIcon(this.options.markerStyle.icon))}});var q=63710088e-1,it={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*q,kilometers:6371.0088,kilometres:6371.0088,meters:q,metres:q,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:q/1852,radians:1,yards:6967335223679999e-9};function ot(e,l,_){_===void 0&&(_={});var b={type:"Feature"};return(_.id===0||_.id)&&(b.id=_.id),_.bbox&&(b.bbox=_.bbox),b.properties=l||{},b.geometry=e,b}function yt(e,l,_){if(_===void 0&&(_={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ve(e[0])||!ve(e[1]))throw new Error("coordinates must contain numbers");return ot({type:"Point",coordinates:e},l,_)}function W(e,l,_){if(_===void 0&&(_={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return ot({type:"LineString",coordinates:e},l,_)}function Kt(e,l){l===void 0&&(l={});var _={type:"FeatureCollection"};return l.id&&(_.id=l.id),l.bbox&&(_.bbox=l.bbox),_.features=e,_}function le(e,l){l===void 0&&(l="kilometers");var _=it[l];if(!_)throw new Error(l+" units is invalid");return e*_}function ne(e,l){l===void 0&&(l="kilometers");var _=it[l];if(!_)throw new Error(l+" units is invalid");return e/_}function ke(e){return 180*(e%(2*Math.PI))/Math.PI}function qt(e){return e%360*Math.PI/180}function ve(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function Se(e){var l,_,b={type:"FeatureCollection",features:[]};if((_=e.type==="Feature"?e.geometry:e).type==="LineString")l=[_.coordinates];else if(_.type==="MultiLineString")l=_.coordinates;else if(_.type==="MultiPolygon")l=[].concat.apply([],_.coordinates);else{if(_.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");l=_.coordinates}return l.forEach(function(M){l.forEach(function(B){for(var R=0;R<M.length-1;R++)for(var j=R;j<B.length-1;j++)if(!(M===B&&(Math.abs(R-j)===1||R===0&&j===M.length-2&&M[R][0]===M[M.length-1][0]&&M[R][1]===M[M.length-1][1]))){var N=Ne(M[R][0],M[R][1],M[R+1][0],M[R+1][1],B[j][0],B[j][1],B[j+1][0],B[j+1][1]);N&&b.features.push(yt([N[0],N[1]]))}})}),b}function Ne(e,l,_,b,M,B,R,j){var N,G,X,nt,tt={x:null,y:null,onLine1:!1,onLine2:!1};return(N=(j-B)*(_-e)-(R-M)*(b-l))===0?tt.x!==null&&tt.y!==null&&tt:(nt=(_-e)*(G=l-B)-(b-l)*(X=e-M),G=((R-M)*G-(j-B)*X)/N,X=nt/N,tt.x=e+G*(_-e),tt.y=l+G*(b-l),G>=0&&G<=1&&(tt.onLine1=!0),X>=0&&X<=1&&(tt.onLine2=!0),!(!tt.onLine1||!tt.onLine2)&&[tt.x,tt.y])}function Ae(e,l){var _=Object.keys(e);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(e);l&&(b=b.filter(function(M){return Object.getOwnPropertyDescriptor(e,M).enumerable})),_.push.apply(_,b)}return _}function Ve(e){for(var l=1;l<arguments.length;l++){var _=arguments[l]!=null?arguments[l]:{};l%2?Ae(Object(_),!0).forEach(function(b){Fe(e,b,_[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(_)):Ae(Object(_)).forEach(function(b){Object.defineProperty(e,b,Object.getOwnPropertyDescriptor(_,b))})}return e}function Fe(e,l,_){return l in e?Object.defineProperty(e,l,{value:_,enumerable:!0,configurable:!0,writable:!0}):e[l]=_,e}function nn(e,l){var _=Object.keys(e);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(e);l&&(b=b.filter(function(M){return Object.getOwnPropertyDescriptor(e,M).enumerable})),_.push.apply(_,b)}return _}function $e(e){for(var l=1;l<arguments.length;l++){var _=arguments[l]!=null?arguments[l]:{};l%2?nn(Object(_),!0).forEach(function(b){qe(e,b,_[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(_)):nn(Object(_)).forEach(function(b){Object.defineProperty(e,b,Object.getOwnPropertyDescriptor(_,b))})}return e}function qe(e,l,_){return l in e?Object.defineProperty(e,l,{value:_,enumerable:!0,configurable:!0,writable:!0}):e[l]=_,e}function tn(e,l){var _=Object.keys(e);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(e);l&&(b=b.filter(function(M){return Object.getOwnPropertyDescriptor(e,M).enumerable})),_.push.apply(_,b)}return _}function hn(e){for(var l=1;l<arguments.length;l++){var _=arguments[l]!=null?arguments[l]:{};l%2?tn(Object(_),!0).forEach(function(b){Tn(e,b,_[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(_)):tn(Object(_)).forEach(function(b){Object.defineProperty(e,b,Object.getOwnPropertyDescriptor(_,b))})}return e}function Tn(e,l,_){return l in e?Object.defineProperty(e,l,{value:_,enumerable:!0,configurable:!0,writable:!0}):e[l]=_,e}function Ue(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function He(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function vn(e){return e.type==="Feature"?e.geometry:e}function fi(e,l){return e.type==="FeatureCollection"?"FeatureCollection":e.type==="GeometryCollection"?"GeometryCollection":e.type==="Feature"&&e.geometry!==null?e.geometry.type:e.type}function Oi(e,l,_){if(e!==null)for(var b,M,B,R,j,N,G,X,nt=0,tt=0,mt=e.type,wt=mt==="FeatureCollection",Dt=mt==="Feature",Yt=wt?e.features.length:1,_e=0;_e<Yt;_e++){j=(X=!!(G=wt?e.features[_e].geometry:Dt?e.geometry:e)&&G.type==="GeometryCollection")?G.geometries.length:1;for(var Bt=0;Bt<j;Bt++){var ge=0,Le=0;if((R=X?G.geometries[Bt]:G)!==null){N=R.coordinates;var je=R.type;switch(nt=!_||je!=="Polygon"&&je!=="MultiPolygon"?0:1,je){case null:break;case"Point":if(l(N,tt,_e,ge,Le)===!1)return!1;tt++,ge++;break;case"LineString":case"MultiPoint":for(b=0;b<N.length;b++){if(l(N[b],tt,_e,ge,Le)===!1)return!1;tt++,je==="MultiPoint"&&ge++}je==="LineString"&&ge++;break;case"Polygon":case"MultiLineString":for(b=0;b<N.length;b++){for(M=0;M<N[b].length-nt;M++){if(l(N[b][M],tt,_e,ge,Le)===!1)return!1;tt++}je==="MultiLineString"&&ge++,je==="Polygon"&&Le++}je==="Polygon"&&ge++;break;case"MultiPolygon":for(b=0;b<N.length;b++){for(Le=0,M=0;M<N[b].length;M++){for(B=0;B<N[b][M].length-nt;B++){if(l(N[b][M][B],tt,_e,ge,Le)===!1)return!1;tt++}Le++}ge++}break;case"GeometryCollection":for(b=0;b<R.geometries.length;b++)if(Oi(R.geometries[b],l,_)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function $n(e,l){if(e.type==="Feature")l(e,0);else if(e.type==="FeatureCollection")for(var _=0;_<e.features.length&&l(e.features[_],_)!==!1;_++);}function Rr(e,l){var _,b,M,B,R,j,N,G,X,nt,tt=0,mt=e.type==="FeatureCollection",wt=e.type==="Feature",Dt=mt?e.features.length:1;for(_=0;_<Dt;_++){for(j=mt?e.features[_].geometry:wt?e.geometry:e,G=mt?e.features[_].properties:wt?e.properties:{},X=mt?e.features[_].bbox:wt?e.bbox:void 0,nt=mt?e.features[_].id:wt?e.id:void 0,R=(N=!!j&&j.type==="GeometryCollection")?j.geometries.length:1,M=0;M<R;M++)if((B=N?j.geometries[M]:j)!==null)switch(B.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(l(B,tt,G,X,nt)===!1)return!1;break;case"GeometryCollection":for(b=0;b<B.geometries.length;b++)if(l(B.geometries[b],tt,G,X,nt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(l(null,tt,G,X,nt)===!1)return!1;tt++}}function zi(e,l){Rr(e,function(_,b,M,B,R){var j,N=_===null?null:_.type;switch(N){case null:case"Point":case"LineString":case"Polygon":return l(ot(_,M,{bbox:B,id:R}),b,0)!==!1&&void 0}switch(N){case"MultiPoint":j="Point";break;case"MultiLineString":j="LineString";break;case"MultiPolygon":j="Polygon"}for(var G=0;G<_.coordinates.length;G++){var X=_.coordinates[G];if(l(ot({type:j,coordinates:X},M),b,G)===!1)return!1}})}F.Line=F.extend({initialize:function(e){this._map=e,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(e){L.Util.setOptions(this,e),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],Ve(Ve({},this.options.templineStyle),{},{pmIgnore:!1})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Et("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map._container.style.cursor="crosshair",this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(e){this.enabled()?this.disable():this.enable(e)},_syncHintLine:function(){var e=this._layer.getLatLngs();if(e.length>0){var l=e[e.length-1];this._hintline.setLatLngs([l,this._hintMarker.getLatLng()])}},_syncHintMarker:function(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){var l=e;l.target=this._hintMarker,this._handleSnapping(l)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());var _=this._layer._defaultShape().slice();_.push(this._hintMarker.getLatLng()),this._change(_)},hasSelfIntersection:function(){return Se(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection:function(e,l){var _=L.polyline(this._layer.getLatLngs());e&&(l||(l=this._hintMarker.getLatLng()),_.addLatLng(l));var b=Se(_.toGeoJSON(15));this._doesSelfIntersect=b.features.length>0,this._doesSelfIntersect?this._hintline.setStyle({color:"#f00000ff"}):this._hintline.isEmpty()||this._hintline.setStyle(this.options.hintlineStyle)},_createVertex:function(e){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,e.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var l=this._hintMarker.getLatLng(),_=this._layer.getLatLngs(),b=_[_.length-1];if(l.equals(_[0])||_.length>0&&l.equals(b))this._finishShape();else{this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:l,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(l);var M=this._createMarker(l);this._setTooltipText(),this._setHintLineAfterNewVertex(l),this._fireVertexAdded(M,void 0,l,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(e)}}},_setHintLineAfterNewVertex:function(e){this._hintline.setLatLngs([e,e])},_removeLastVertex:function(){var e=this._markers;if(e.length<=1)this.disable();else{var l=this._layer.getLatLngs(),_=e[e.length-1],b=L.PM.Utils.findDeepMarkerIndex(e,_).indexPath;e.pop(),this._layerGroup.removeLayer(_);var M=e[e.length-1],B=l.indexOf(M.getLatLng());l=l.slice(0,B+1),this._layer.setLatLngs(l),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(_,b,"Draw"),this._change(this._layer.getLatLngs())}},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var e=this._layer.getLatLngs();if(!(e.length<=1)){var l=L.polyline(e,this.options.pathOptions);this._setPane(l,"layerPane"),this._finishLayer(l),l.addTo(this._map.pm._getContainingLayer()),this._fireCreate(l),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}}},_createMarker:function(e){var l=new L.Marker(e,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(l,"vertexPane"),l._pmTempLayer=!0,this._layerGroup.addLayer(l),this._markers.push(l),l.on("click",this._finishShape,this),l},_setTooltipText:function(){var e="";e=Et(this._layer.getLatLngs().flat().length<=1?"tooltips.continueLine":"tooltips.finishLine"),this._hintMarker.setTooltipContent(e)},_change:function(e){this._fireChange(e,"Draw")},setStyle:function(){var e,l;(e=this._layer)===null||e===void 0||e.setStyle(this.options.templineStyle),(l=this._hintline)===null||l===void 0||l.setStyle(this.options.hintlineStyle)}}),F.Polygon=F.Line.extend({initialize:function(e){this._map=e,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable:function(e){L.PM.Draw.Line.prototype.enable.call(this,e),this._layer.pm._shape="Polygon"},_createMarker:function(e){var l=new L.Marker(e,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(l,"vertexPane"),l._pmTempLayer=!0,this._layerGroup.addLayer(l),this._markers.push(l),this._layer.getLatLngs().flat().length===1?(l.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(l)-1,this.options.snappable&&this._cleanupSnapping()):l.on("click",function(){return 1}),l},_setTooltipText:function(){var e="";e=Et(this._layer.getLatLngs().flat().length<=2?"tooltips.continueLine":"tooltips.finishPoly"),this._hintMarker.setTooltipContent(e)},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var e=this._layer.getLatLngs();if(!(e.length<=2)){var l=L.polygon(e,this.options.pathOptions);this._setPane(l,"layerPane"),this._finishLayer(l),l.addTo(this._map.pm._getContainingLayer()),this._fireCreate(l),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}}}),F.Rectangle=F.extend({initialize:function(e){this._map=e,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(e){if(L.Util.setOptions(this,e),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Et("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(var l=0;l<2;l+=1){var _=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(_,"vertexPane"),_._pmTempLayer=!0,this._layerGroup.addLayer(_),this._styleMarkers.push(_)}}this._map._container.style.cursor="crosshair",this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(e){this.enabled()?this.disable():this.enable(e)},_placeStartingMarkers:function(e){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var l=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(l),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(_){L.DomUtil.addClass(_._icon,"visible"),_.setLatLng(l)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Et("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var e=this._startMarker.getLatLng();e&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([e,e]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){var l=e;l.target=this._hintMarker,this._handleSnapping(l)}var _=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(_,"Draw")},_syncRectangleSize:function(){var e=this,l=_n(this._startMarker.getLatLng(),this._map),_=_n(this._hintMarker.getLatLng(),this._map),b=L.PM.Utils._getRotatedRectangle(l,_,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(b),this.options.cursorMarker&&this._styleMarkers){var M=[];b.forEach(function(B){B.equals(l,1e-8)||B.equals(_,1e-8)||M.push(B)}),M.forEach(function(B,R){try{e._styleMarkers[R].setLatLng(B)}catch{}})}},_findCorners:function(){var e=this._layer.getBounds();return[e.getNorthWest(),e.getNorthEast(),e.getSouthEast(),e.getSouthWest()]},_finishShape:function(e){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var l=this._hintMarker.getLatLng(),_=this._startMarker.getLatLng();if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){var b=L.rectangle([_,l],this.options.pathOptions);if(this.options.rectangleAngle){var M=L.PM.Utils._getRotatedRectangle(_,l,this.options.rectangleAngle||0,this._map);b.setLatLngs(M),b.pm&&b.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(b,"layerPane"),this._finishLayer(b),b.addTo(this._map.pm._getContainingLayer()),this._fireCreate(b),this.disable(),this.options.continueDrawing&&this.enable()}},setStyle:function(){var e;(e=this._layer)===null||e===void 0||e.setStyle(this.options.pathOptions)}}),F.Circle=F.extend({initialize:function(e){this._map=e,this._shape="Circle",this.toolbarButtonName="drawCircle"},enable:function(e){L.Util.setOptions(this,e),this.options.radius=0,this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circle(this._map.getCenter(),$e($e({},this.options.templineStyle),{},{radius:0})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Et("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._placeCenterMarker,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(e){this.enabled()?this.disable():this.enable(e)},_syncHintLine:function(){var e=this._centerMarker.getLatLng(),l=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([e,l])},_syncCircleRadius:function(){var e,l=this._centerMarker.getLatLng(),_=this._hintMarker.getLatLng();e=this._map.options.crs===L.CRS.Simple?this._map.distance(l,_):l.distanceTo(_),this.options.minRadiusCircle&&e<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&e>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(e)},_syncHintMarker:function(e){if(this._hintMarker.setLatLng(e.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var l=e;l.target=this._hintMarker,this._handleSnapping(l)}this._handleHintMarkerSnapping();var _=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(_,"Draw")},_placeCenterMarker:function(e){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var l=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(l),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var e=this._centerMarker.getLatLng();e&&(this._layer.setLatLng(e),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Et("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_finishShape:function(e){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var l,_=this._centerMarker.getLatLng(),b=this._hintMarker.getLatLng();l=this._map.options.crs===L.CRS.Simple?this._map.distance(_,b):_.distanceTo(b),this.options.minRadiusCircle&&l<this.options.minRadiusCircle?l=this.options.minRadiusCircle:this.options.maxRadiusCircle&&l>this.options.maxRadiusCircle&&(l=this.options.maxRadiusCircle);var M=$e($e({},this.options.pathOptions),{},{radius:l}),B=L.circle(_,M);this._setPane(B,"layerPane"),this._finishLayer(B),B.addTo(this._map.pm._getContainingLayer()),B.pm&&B.pm._updateHiddenPolyCircle(),this._fireCreate(B),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var e=this._hintMarker.getLatLng();if(!this._layerGroup.hasLayer(this._centerMarker))return e;var l=this._centerMarker.getLatLng(),_=l.distanceTo(e);return this.options.minRadiusCircle&&_<this.options.minRadiusCircle?e=ee(this._map,l,e,this.options.minRadiusCircle):this.options.maxRadiusCircle&&_>this.options.maxRadiusCircle&&(e=ee(this._map,l,e,this.options.maxRadiusCircle)),e},_handleHintMarkerSnapping:function(){if(this._hintMarker._snapped){var e=this._centerMarker.getLatLng(),l=this._hintMarker.getLatLng(),_=e.distanceTo(l);this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircle&&_<this.options.minRadiusCircle||this.options.maxRadiusCircle&&_>this.options.maxRadiusCircle)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())},setStyle:function(){var e,l;(e=this._layer)===null||e===void 0||e.setStyle(this.options.templineStyle),(l=this._hintline)===null||l===void 0||l.setStyle(this.options.hintlineStyle)}}),F.CircleMarker=F.Marker.extend({initialize:function(e){this._map=e,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1},enable:function(e){var l=this;if(L.Util.setOptions(this,e),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this.options.editable){var _={};L.extend(_,this.options.templineStyle),_.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circleMarker(this._map.getCenter(),_),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Et("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this),this._map._container.style.cursor="crosshair"}else this._map.on("click",this._createMarker,this),this._hintMarker=L.circleMarker(this._map.getCenter(),this.options.templineStyle),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Et("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),!this.options.editable&&this.options.markerEditable&&this._map.eachLayer(function(b){l.isRelevantMarker(b)&&b.pm.enable()}),this._layer.bringToBack(),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var e=this;this._enabled&&(this._enabled=!1,this.options.editable?(this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._map.eachLayer(function(l){e.isRelevantMarker(l)&&l.pm.disable()}),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_placeCenterMarker:function(e){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var l=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(l),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var e=this._centerMarker.getLatLng();e&&(this._layer.setLatLng(e),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Et("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine:function(){var e=this._centerMarker.getLatLng(),l=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([e,l])},_syncCircleRadius:function(){var e=this._centerMarker.getLatLng(),l=this._hintMarker.getLatLng(),_=this._map.project(e).distanceTo(this._map.project(l));this.options.minRadiusCircleMarker&&_<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&_>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(_)},_syncHintMarker:function(e){if(this._hintMarker.setLatLng(e.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var l=e;l.target=this._hintMarker,this._handleSnapping(l)}this._handleHintMarkerSnapping();var _=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(_,"Draw")},isRelevantMarker:function(e){return e instanceof L.CircleMarker&&!(e instanceof L.Circle)&&e.pm&&!e._pmTempLayer},_createMarker:function(e){if((!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())&&e.latlng&&!this._layerIsDragging){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var l=this._hintMarker.getLatLng(),_=L.circleMarker(l,this.options.pathOptions);this._setPane(_,"layerPane"),this._finishLayer(_),_.addTo(this._map.pm._getContainingLayer()),_.pm&&this.options.markerEditable&&_.pm.enable(),this._fireCreate(_),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},_finishShape:function(e){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var l=this._centerMarker.getLatLng(),_=this._hintMarker.getLatLng(),b=this._map.project(l).distanceTo(this._map.project(_));this.options.editable&&(this.options.minRadiusCircleMarker&&b<this.options.minRadiusCircleMarker?b=this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&b>this.options.maxRadiusCircleMarker&&(b=this.options.maxRadiusCircleMarker));var M=hn(hn({},this.options.pathOptions),{},{radius:b}),B=L.circleMarker(l,M);this._setPane(B,"layerPane"),this._finishLayer(B),B.addTo(this._map.pm._getContainingLayer()),B.pm&&B.pm._updateHiddenPolyCircle(),this._fireCreate(B),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var e=this._hintMarker.getLatLng();if(this.options.editable){if(!this._layerGroup.hasLayer(this._centerMarker))return e;var l=this._centerMarker.getLatLng(),_=this._map.project(l).distanceTo(this._map.project(e));this.options.minRadiusCircleMarker&&_<this.options.minRadiusCircleMarker?e=ee(this._map,l,e,this._pxRadiusToMeter(this.options.minRadiusCircleMarker)):this.options.maxRadiusCircleMarker&&_>this.options.maxRadiusCircleMarker&&(e=ee(this._map,l,e,this._pxRadiusToMeter(this.options.maxRadiusCircleMarker)))}return e},_handleHintMarkerSnapping:function(){if(this.options.editable){if(this._hintMarker._snapped){var e=this._centerMarker.getLatLng(),l=this._hintMarker.getLatLng(),_=this._map.project(e).distanceTo(this._map.project(l));this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircleMarker&&_<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&_>this.options.maxRadiusCircleMarker)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},_pxRadiusToMeter:function(e){var l=this._centerMarker.getLatLng(),_=this._map.project(l),b=L.point(_.x+e,_.y);return this._map.unproject(b).distanceTo(l)},setStyle:function(){var e,l,_={};L.extend(_,this.options.templineStyle),this.options.editable&&(_.radius=0),(e=this._layer)===null||e===void 0||e.setStyle(_),(l=this._hintline)===null||l===void 0||l.setStyle(this.options.hintlineStyle)}});const Je=function(e){if(!e)throw new Error("geojson is required");var l=[];return zi(e,function(_){(function(b,M){var B=[],R=b.geometry;if(R!==null){switch(R.type){case"Polygon":B=He(R);break;case"LineString":B=[He(R)]}B.forEach(function(j){var N=function(G,X){var nt=[];return G.reduce(function(tt,mt){var wt,Dt,Yt,_e,Bt,ge,Le=W([tt,mt],X);return Le.bbox=(Dt=mt,Yt=(wt=tt)[0],_e=wt[1],Bt=Dt[0],ge=Dt[1],[Yt<Bt?Yt:Bt,_e<ge?_e:ge,Yt>Bt?Yt:Bt,_e>ge?_e:ge]),nt.push(Le),mt}),nt}(j,b.properties);N.forEach(function(G){G.id=M.length,M.push(G)})})}})(_,l)}),Kt(l)};var Tt=i(1787);function Ai(e,l){var _=He(e),b=He(l);if(_.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(b.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var M=_[0][0],B=_[0][1],R=_[1][0],j=_[1][1],N=b[0][0],G=b[0][1],X=b[1][0],nt=b[1][1],tt=(nt-G)*(R-M)-(X-N)*(j-B),mt=(X-N)*(B-G)-(nt-G)*(M-N),wt=(R-M)*(B-G)-(j-B)*(M-N);if(tt===0)return null;var Dt=mt/tt,Yt=wt/tt;return Dt>=0&&Dt<=1&&Yt>=0&&Yt<=1?yt([M+Dt*(R-M),B+Dt*(j-B)]):null}const yn=function(e,l){var _={},b=[];if(e.type==="LineString"&&(e=ot(e)),l.type==="LineString"&&(l=ot(l)),e.type==="Feature"&&l.type==="Feature"&&e.geometry!==null&&l.geometry!==null&&e.geometry.type==="LineString"&&l.geometry.type==="LineString"&&e.geometry.coordinates.length===2&&l.geometry.coordinates.length===2){var M=Ai(e,l);return M&&b.push(M),Kt(b)}var B=Tt();return B.load(Je(l)),$n(Je(e),function(R){$n(B.search(R),function(j){var N=Ai(R,j);if(N){var G=He(N).join(",");_[G]||(_[G]=!0,b.push(N))}})}),Kt(b)},Ln=function(e,l,_){_===void 0&&(_={});var b=Ue(e),M=Ue(l),B=qt(M[1]-b[1]),R=qt(M[0]-b[0]),j=qt(b[1]),N=qt(M[1]),G=Math.pow(Math.sin(B/2),2)+Math.pow(Math.sin(R/2),2)*Math.cos(j)*Math.cos(N);return le(2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G)),_.units)},nr=function(e){var l=e[0],_=e[1],b=e[2],M=e[3];if(Ln(e.slice(0,2),[b,_])>=Ln(e.slice(0,2),[l,M])){var B=(_+M)/2;return[l,B-(b-l)/2,b,B+(b-l)/2]}var R=(l+b)/2;return[R-(M-_)/2,_,R+(M-_)/2,M]};function ti(e){var l=[1/0,1/0,-1/0,-1/0];return Oi(e,function(_){l[0]>_[0]&&(l[0]=_[0]),l[1]>_[1]&&(l[1]=_[1]),l[2]<_[0]&&(l[2]=_[0]),l[3]<_[1]&&(l[3]=_[1])}),l}ti.default=ti;const Zn=ti,jn=function(e,l){l===void 0&&(l={});var _=l.precision,b=l.coordinates,M=l.mutate;if(_=_==null||isNaN(_)?6:_,b=b==null||isNaN(b)?3:b,!e)throw new Error("<geojson> is required");if(typeof _!="number")throw new Error("<precision> must be a number");if(typeof b!="number")throw new Error("<coordinates> must be a number");M!==!1&&M!==void 0||(e=JSON.parse(JSON.stringify(e)));var B=Math.pow(10,_);return Oi(e,function(R){(function(j,N,G){j.length>G&&j.splice(G,j.length);for(var X=0;X<j.length;X++)j[X]=Math.round(j[X]*N)/N})(R,B,b)}),e};function Di(e,l,_){if(_===void 0&&(_={}),_.final===!0)return function(nt,tt){var mt=Di(tt,nt);return mt=(mt+180)%360}(e,l);var b=Ue(e),M=Ue(l),B=qt(b[0]),R=qt(M[0]),j=qt(b[1]),N=qt(M[1]),G=Math.sin(R-B)*Math.cos(N),X=Math.cos(j)*Math.sin(N)-Math.sin(j)*Math.cos(N)*Math.cos(R-B);return ke(Math.atan2(G,X))}function ir(e,l,_,b){b===void 0&&(b={});var M=Ue(e),B=qt(M[0]),R=qt(M[1]),j=qt(_),N=ne(l,b.units),G=Math.asin(Math.sin(R)*Math.cos(N)+Math.cos(R)*Math.sin(N)*Math.cos(j));return yt([ke(B+Math.atan2(Math.sin(j)*Math.sin(N)*Math.cos(R),Math.cos(N)-Math.sin(R)*Math.sin(G))),ke(G)],b.properties)}const Nr=function(e,l,_){_===void 0&&(_={});var b=yt([1/0,1/0],{dist:1/0}),M=0;return zi(e,function(B){for(var R=He(B),j=0;j<R.length-1;j++){var N=yt(R[j]);N.properties.dist=Ln(l,N,_);var G=yt(R[j+1]);G.properties.dist=Ln(l,G,_);var X=Ln(N,G,_),nt=Math.max(N.properties.dist,G.properties.dist),tt=Di(N,G),mt=ir(l,nt,tt+90,_),wt=ir(l,nt,tt-90,_),Dt=yn(W([mt.geometry.coordinates,wt.geometry.coordinates]),W([N.geometry.coordinates,G.geometry.coordinates])),Yt=null;Dt.features.length>0&&((Yt=Dt.features[0]).properties.dist=Ln(l,Yt,_),Yt.properties.location=M+Ln(N,Yt,_)),N.properties.dist<b.properties.dist&&((b=N).properties.index=j,b.properties.location=M),G.properties.dist<b.properties.dist&&((b=G).properties.index=j+1,b.properties.location=M+X),Yt&&Yt.properties.dist<b.properties.dist&&((b=Yt).properties.index=j),M+=X}}),b};function rr(e,l){var _=[],b=Tt();return zi(l,function(M){if(_.forEach(function(j,N){j.id=N}),_.length){var B=b.search(M);if(B.features.length){var R=Ri(M,B);_=_.filter(function(j){return j.id!==R.id}),b.remove(R),$n(Ii(R,M),function(j){_.push(j),b.insert(j)})}}else(_=Ii(e,M).features).forEach(function(j){j.bbox||(j.bbox=nr(Zn(j)))}),b.load(Kt(_))}),Kt(_)}function Ii(e,l){var _=[],b=He(e)[0],M=He(e)[e.geometry.coordinates.length-1];if(Ni(b,Ue(l))||Ni(M,Ue(l)))return Kt([e]);var B=Tt(),R=Je(e);B.load(R);var j=B.search(l);if(!j.features.length)return Kt([e]);var N=Ri(l,j),G=function(X,nt,tt){var mt=tt;return $n(X,function(wt,Dt){mt=Dt===0&&tt===void 0?wt:nt(mt,wt,Dt)}),mt}(R,function(X,nt,tt){var mt=He(nt)[1],wt=Ue(l);return tt===N.id?(X.push(wt),_.push(W(X)),Ni(wt,mt)?[wt]:[wt,mt]):(X.push(mt),X)},[b]);return G.length>1&&_.push(W(G)),Kt(_)}function Ri(e,l){if(!l.features.length)throw new Error("lines must contain features");if(l.features.length===1)return l.features[0];var _,b=1/0;return $n(l,function(M){var B=Nr(M,e).properties.dist;B<b&&(_=M,b=B)}),_}function Ni(e,l){return e[0]===l[0]&&e[1]===l[1]}const di=function(e,l){if(!e)throw new Error("line is required");if(!l)throw new Error("splitter is required");var _=fi(e),b=fi(l);if(_!=="LineString")throw new Error("line must be LineString");if(b==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(b==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var M=jn(l,{precision:7});switch(b){case"Point":return Ii(e,M);case"MultiPoint":return rr(e,M);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return rr(e,yn(e,M))}};function pi(e,l,_){if(_===void 0&&(_={}),!e)throw new Error("point is required");if(!l)throw new Error("polygon is required");var b=Ue(e),M=vn(l),B=M.type,R=l.bbox,j=M.coordinates;if(R&&function(tt,mt){return mt[0]<=tt[0]&&mt[1]<=tt[1]&&mt[2]>=tt[0]&&mt[3]>=tt[1]}(b,R)===!1)return!1;B==="Polygon"&&(j=[j]);for(var N=!1,G=0;G<j.length&&!N;G++)if(or(b,j[G][0],_.ignoreBoundary)){for(var X=!1,nt=1;nt<j[G].length&&!X;)or(b,j[G][nt],!_.ignoreBoundary)&&(X=!0),nt++;X||(N=!0)}return N}function or(e,l,_){var b=!1;l[0][0]===l[l.length-1][0]&&l[0][1]===l[l.length-1][1]&&(l=l.slice(0,l.length-1));for(var M=0,B=l.length-1;M<l.length;B=M++){var R=l[M][0],j=l[M][1],N=l[B][0],G=l[B][1];if(e[1]*(R-N)+j*(N-e[0])+G*(e[0]-R)==0&&(R-e[0])*(N-e[0])<=0&&(j-e[1])*(G-e[1])<=0)return!_;j>e[1]!=G>e[1]&&e[0]<(N-R)*(e[1]-j)/(G-j)+R&&(b=!b)}return b}function Hr(e,l,_,b,M){var B=_[0],R=_[1],j=e[0],N=e[1],G=l[0],X=l[1],nt=G-j,tt=X-N,mt=(_[0]-j)*tt-(_[1]-N)*nt;if(M!==null){if(Math.abs(mt)>M)return!1}else if(mt!==0)return!1;return b?b==="start"?Math.abs(nt)>=Math.abs(tt)?nt>0?j<B&&B<=G:G<=B&&B<j:tt>0?N<R&&R<=X:X<=R&&R<N:b==="end"?Math.abs(nt)>=Math.abs(tt)?nt>0?j<=B&&B<G:G<B&&B<=j:tt>0?N<=R&&R<X:X<R&&R<=N:b==="both"&&(Math.abs(nt)>=Math.abs(tt)?nt>0?j<B&&B<G:G<B&&B<j:tt>0?N<R&&R<X:X<R&&R<N):Math.abs(nt)>=Math.abs(tt)?nt>0?j<=B&&B<=G:G<=B&&B<=j:tt>0?N<=R&&R<=X:X<=R&&R<=N}const ei=function(e,l,_){_===void 0&&(_={});for(var b=Ue(e),M=He(l),B=0;B<M.length-1;B++){var R=!1;if(_.ignoreEndVertices&&(B===0&&(R="start"),B===M.length-2&&(R="end"),B===0&&B+1===M.length-1&&(R="both")),Hr(M[B],M[B+1],b,R,typeof _.epsilon>"u"?null:_.epsilon))return!0}return!1};function Zr(e,l){var _=vn(e),b=vn(l),M=_.type,B=b.type,R=_.coordinates,j=b.coordinates;switch(M){case"Point":if(B==="Point")return xn(R,j);throw new Error("feature2 "+B+" geometry not supported");case"MultiPoint":switch(B){case"Point":return function(N,G){var X,nt=!1;for(X=0;X<N.coordinates.length;X++)if(xn(N.coordinates[X],G.coordinates)){nt=!0;break}return nt}(_,b);case"MultiPoint":return function(N,G){for(var X=0,nt=G.coordinates;X<nt.length;X++){for(var tt=nt[X],mt=!1,wt=0,Dt=N.coordinates;wt<Dt.length;wt++)if(xn(tt,Dt[wt])){mt=!0;break}if(!mt)return!1}return!0}(_,b);default:throw new Error("feature2 "+B+" geometry not supported")}case"LineString":switch(B){case"Point":return ei(b,_,{ignoreEndVertices:!0});case"LineString":return function(N,G){for(var X=!1,nt=0,tt=G.coordinates;nt<tt.length;nt++){var mt=tt[nt];if(ei({type:"Point",coordinates:mt},N,{ignoreEndVertices:!0})&&(X=!0),!ei({type:"Point",coordinates:mt},N,{ignoreEndVertices:!1}))return!1}return X}(_,b);case"MultiPoint":return function(N,G){for(var X=!1,nt=0,tt=G.coordinates;nt<tt.length;nt++){var mt=tt[nt];if(ei(mt,N,{ignoreEndVertices:!0})&&(X=!0),!ei(mt,N))return!1}return!!X}(_,b);default:throw new Error("feature2 "+B+" geometry not supported")}case"Polygon":switch(B){case"Point":return pi(b,_,{ignoreBoundary:!0});case"LineString":return function(N,G){var X=!1,nt=0,tt=Zn(N),mt=Zn(G);if(!_i(tt,mt))return!1;for(;nt<G.coordinates.length-1;nt++)if(pi({type:"Point",coordinates:ar(G.coordinates[nt],G.coordinates[nt+1])},N,{ignoreBoundary:!0})){X=!0;break}return X}(_,b);case"Polygon":return function(N,G){if(N.type==="Feature"&&N.geometry===null||G.type==="Feature"&&G.geometry===null)return!1;var X=Zn(N),nt=Zn(G);if(!_i(X,nt))return!1;for(var tt=vn(G).coordinates,mt=0,wt=tt;mt<wt.length;mt++)for(var Dt=0,Yt=wt[mt];Dt<Yt.length;Dt++)if(!pi(Yt[Dt],N))return!1;return!0}(_,b);case"MultiPoint":return function(N,G){for(var X=0,nt=G.coordinates;X<nt.length;X++)if(!pi(nt[X],N,{ignoreBoundary:!0}))return!1;return!0}(_,b);default:throw new Error("feature2 "+B+" geometry not supported")}default:throw new Error("feature1 "+M+" geometry not supported")}}function _i(e,l){return!(e[0]>l[0])&&!(e[2]<l[2])&&!(e[1]>l[1])&&!(e[3]<l[3])}function xn(e,l){return e[0]===l[0]&&e[1]===l[1]}function ar(e,l){return[(e[0]+l[0])/2,(e[1]+l[1])/2]}var sr=i(2676),Gn=i.n(sr);function ue(e){var l={type:"Feature"};return l.geometry=e,l}function ye(e){return e.type==="Feature"?e.geometry:e}function ni(e){return e&&e.geometry&&e.geometry.coordinates?e.geometry.coordinates:e}function Bn(e){return ue({type:"Polygon",coordinates:e})}function On(e){return ue({type:"MultiPolygon",coordinates:e})}function gi(e){return Array.isArray(e)?1+gi(e[0]):-1}function Wt(e){e instanceof L.Polyline&&(e=e.toGeoJSON(15));var l=ni(e),_=gi(l),b=[];return _>1?l.forEach(function(M){b.push(function(B){return ue({type:"LineString",coordinates:B})}(M))}):b.push(e),b}function Te(e){var l=[];return e.eachLayer(function(_){l.push(ni(_.toGeoJSON(15)))}),function(_){return ue({type:"MultiLineString",coordinates:_})}(l)}function Hi(e,l){return function(_){if(Array.isArray(_))return _}(e)||function(_,b){var M=_==null?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(M!=null){var B,R,j=[],N=!0,G=!1;try{for(M=M.call(_);!(N=(B=M.next()).done)&&(j.push(B.value),!b||j.length!==b);N=!0);}catch(X){G=!0,R=X}finally{try{N||M.return==null||M.return()}finally{if(G)throw R}}return j}}(e,l)||function(_,b){if(_){if(typeof _=="string")return ii(_,b);var M=Object.prototype.toString.call(_).slice(8,-1);if(M==="Object"&&_.constructor&&(M=_.constructor.name),M==="Map"||M==="Set")return Array.from(_);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return ii(_,b)}}(e,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ii(e,l){(l==null||l>e.length)&&(l=e.length);for(var _=0,b=new Array(l);_<l;_++)b[_]=e[_];return b}function Qe(e){return function(l){if(Array.isArray(l))return Zi(l)}(e)||function(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}(e)||function(l,_){if(l){if(typeof l=="string")return Zi(l,_);var b=Object.prototype.toString.call(l).slice(8,-1);if(b==="Object"&&l.constructor&&(b=l.constructor.name),b==="Map"||b==="Set")return Array.from(l);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return Zi(l,_)}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Zi(e,l){(l==null||l>e.length)&&(l=e.length);for(var _=0,b=new Array(l);_<l;_++)b[_]=e[_];return b}F.Cut=F.Polygon.extend({initialize:function(e){this._map=e,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape:function(){var e=this;if(this._editedLayers=[],(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var l=this._layer.getLatLngs();if(!(l.length<=2)){var _=L.polygon(l,this.options.pathOptions);_._latlngInfos=this._layer._latlngInfo,this.cut(_),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(function(b){var M=b.layer,B=b.originalLayer;e._fireCut(B,M,B),e._fireCut(e._map,M,B),B.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()}}},cut:function(e){var l=this,_=this._map._layers,b=e._latlngInfos||[];Object.keys(_).map(function(M){return _[M]}).filter(function(M){return M.pm}).filter(function(M){return!M._pmTempLayer}).filter(function(M){return!L.PM.optIn&&!M.options.pmIgnore||L.PM.optIn&&M.options.pmIgnore===!1}).filter(function(M){return M instanceof L.Polyline}).filter(function(M){return M!==e}).filter(function(M){return M.pm.options.allowCutting}).filter(function(M){return!(l.options.layersToCut&&L.Util.isArray(l.options.layersToCut)&&l.options.layersToCut.length>0)||l.options.layersToCut.indexOf(M)>-1}).filter(function(M){return!l._layerGroup.hasLayer(M)}).filter(function(M){try{var B=!!yn(e.toGeoJSON(15),M.toGeoJSON(15)).features.length>0;return B||M instanceof L.Polyline&&!(M instanceof L.Polygon)?B:(R=e.toGeoJSON(15),j=M.toGeoJSON(15),N=ye(R),G=ye(j),!((X=Gn().intersection(N.coordinates,G.coordinates)).length===0||!(X.length===1?Bn(X[0]):On(X))))}catch{return M instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}var R,j,N,G,X}).forEach(function(M){var B;if(M instanceof L.Polygon){var R=(B=L.polygon(M.getLatLngs())).getLatLngs();b.forEach(function(tt){if(tt&&tt.snapInfo){var mt=tt.latlng,wt=l._calcClosestLayer(mt,[B]);if(wt&&wt.segment&&wt.distance<l.options.snapDistance){var Dt=wt.segment;if(Dt&&Dt.length===2){var Yt=L.PM.Utils._getIndexFromSegment(R,Dt),_e=Yt.indexPath,Bt=Yt.parentPath,ge=Yt.newIndex;(_e.length>1?rt()(R,Bt):R).splice(ge,0,mt)}}}})}else B=M;var j=l._cutLayer(e,B),N=L.geoJSON(j,M.options);if(N.getLayers().length===1){var G=N.getLayers();N=Hi(G,1)[0]}l._setPane(N,"layerPane");var X=N.addTo(l._map.pm._getContainingLayer());if(X.pm.enable(M.pm.options),X.pm.disable(),M._pmTempLayer=!0,e._pmTempLayer=!0,M.remove(),M.removeFrom(l._map.pm._getContainingLayer()),e.remove(),e.removeFrom(l._map.pm._getContainingLayer()),X.getLayers&&X.getLayers().length===0&&l._map.pm.removeLayer({target:X}),X instanceof L.LayerGroup&&X.eachLayer(function(tt){l._addDrawnLayerProp(tt)}),l._addDrawnLayerProp(X),l.options.layersToCut&&L.Util.isArray(l.options.layersToCut)&&l.options.layersToCut.length>0){var nt=l.options.layersToCut.indexOf(M);nt>-1&&l.options.layersToCut.splice(nt,1)}l._editedLayers.push({layer:X,originalLayer:M})})},_cutLayer:function(e,l){var _,b,M,B,R,j,N=L.geoJSON();if(l instanceof L.Polygon)b=l.toGeoJSON(15),M=e.toGeoJSON(15),B=ye(b),R=ye(M),_=(j=Gn().difference(B.coordinates,R.coordinates)).length===0?null:j.length===1?Bn(j[0]):On(j);else{var G=Wt(l);G.forEach(function(X){var nt=di(X,e.toGeoJSON(15));(nt&&nt.features.length>0?L.geoJSON(nt):L.geoJSON(X)).getLayers().forEach(function(tt){Zr(e.toGeoJSON(15),tt.toGeoJSON(15))||tt.addTo(N)})}),_=G.length>1?Te(N):N.toGeoJSON(15)}return _},_change:L.Util.falseFn}),F.Text=F.extend({initialize:function(e){this._map=e,this._shape="Text",this.toolbarButtonName="drawText"},enable:function(e){L.Util.setOptions(this,e),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Et("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(e){this.enabled()?this.disable():this.enable(e)},_syncHintMarker:function(e){if(this._hintMarker.setLatLng(e.latlng),this.options.snappable){var l=e;l.target=this._hintMarker,this._handleSnapping(l)}},_createMarker:function(e){var l;if(e.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(e.latlng);var _=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(l=this.options.textOptions)!==null&&l!==void 0&&l.className){var b,M=this.options.textOptions.className.split(" ");(b=this.textArea.classList).add.apply(b,Qe(M))}var B=this._createTextIcon(this.textArea),R=new L.Marker(_,{textMarker:!0,_textMarkerOverPM:!0,icon:B});if(this._setPane(R,"markerPane"),this._finishLayer(R),R.pm||(R.options.draggable=!1),R.addTo(this._map.pm._getContainingLayer()),R.pm){var j,N,G,X,nt;R.pm.textArea=this.textArea,L.setOptions(R.pm,{removeIfEmpty:(j=(N=this.options.textOptions)===null||N===void 0?void 0:N.removeIfEmpty)===null||j===void 0||j});var tt=(G=(X=this.options.textOptions)===null||X===void 0?void 0:X.focusAfterDraw)===null||G===void 0||G;R.pm._createTextMarker(tt),(nt=this.options.textOptions)!==null&&nt!==void 0&&nt.text&&R.pm.setText(this.options.textOptions.text)}this._fireCreate(R),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}},_createTextArea:function(){var e=document.createElement("textarea");return e.autofocus=!0,e.readOnly=!0,e.classList.add("pm-textarea","pm-disabled"),e},_createTextIcon:function(e){return L.divIcon({className:"pm-text-marker",html:e})}});const mi={enableLayerDrag:function(){if(this.options.draggable&&this._layer._map){this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,Xe(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;var e=this._getDOMElem();e&&(Xe(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(e)):L.DomEvent.on(e,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()}},disableLayerDrag:function(){this._layerDragEnabled=!1,Xe(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();var e=this._getDOMElem();e&&(Xe(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(e)):L.DomEvent.off(e,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging:function(){return this._dragging},layerDragEnabled:function(){return!!this._layerDragEnabled},_simulateMouseDownEvent:function(e){var l=e.touches?e.touches[0]:e,_={originalEvent:l,target:this._layer};return _.containerPoint=this._map.mouseEventToContainerPoint(l),_.latlng=this._map.containerPointToLatLng(_.containerPoint),this._dragMixinOnMouseDown(_),!1},_simulateMouseMoveEvent:function(e){var l=e.touches?e.touches[0]:e,_={originalEvent:l,target:this._layer};return _.containerPoint=this._map.mouseEventToContainerPoint(l),_.latlng=this._map.containerPointToLatLng(_.containerPoint),this._dragMixinOnMouseMove(_),!1},_simulateMouseUpEvent:function(e){var l={originalEvent:e.touches?e.touches[0]:e,target:this._layer};return e.type.indexOf("touch")===-1&&(l.containerPoint=this._map.mouseEventToContainerPoint(e),l.latlng=this._map.containerPointToLatLng(l.containerPoint)),this._dragMixinOnMouseUp(l),!1},_dragMixinOnMouseDown:function(e){if(!(e.originalEvent.button>0)){this._overwriteEventIfItComesFromMarker(e);var l=e._fromLayerSync,_=this._syncLayers("_dragMixinOnMouseDown",e);this._layer instanceof L.Marker&&(!this.options.snappable||l||_?this._disableSnapping():this._initSnappableMarkers()),this._layer instanceof L.CircleMarker&&!(this._layer instanceof L.Circle)&&(!this.options.snappable||l||_?this._layer.pm.options.editable?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag():this._layer.pm.options.editable||this._initSnappableMarkersDrag()),this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=e.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)}},_dragMixinOnMouseMove:function(e){this._overwriteEventIfItComesFromMarker(e);var l=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",e),this._dragging||(this._dragging=!0,L.DomUtil.addClass(l,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=e.latlng),this._onLayerDrag(e),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp:function(e){var l=this,_=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",e),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),!!this._dragging&&(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(function(){l._dragging=!1,_&&L.DomUtil.removeClass(_,"leaflet-pm-dragging"),l._fireDragEnd(),l._fireEdit(),l._layerEdited=!0},10),!0)},_onLayerDrag:function(e){var l=e.latlng,_=l.lat-this._tempDragCoord.lat,b=l.lng-this._tempDragCoord.lng,M=function X(nt){return nt.map(function(tt){if(Array.isArray(tt))return X(tt);var mt={lat:tt.lat+_,lng:tt.lng+b};return(tt.alt||tt.alt===0)&&(mt.alt=tt.alt),mt})};if(this._layer instanceof L.Circle||this._layer instanceof L.CircleMarker&&this._layer.options.editable){var B=M([this._layer.getLatLng()]);this._layer.setLatLng(B[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){var R=this._layer.getLatLng();this._layer._snapped&&(R=this._layer._orgLatLng);var j=M([R]);this._layer.setLatLng(j[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){var N=M([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(N),this._fireChange(this._layer.getBounds(),"Edit")}else{var G=M(this._layer.getLatLngs());this._layer.setLatLngs(G),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=l,e.layer=this._layer,this._fireDrag(e)},addDraggingClass:function(){var e=this._getDOMElem();e&&L.DomUtil.addClass(e,"leaflet-pm-draggable")},removeDraggingClass:function(){var e=this._getDOMElem();e&&L.DomUtil.removeClass(e,"leaflet-pm-draggable")},_getDOMElem:function(){var e=null;return this._layer._path?e=this._layer._path:this._layer._renderer&&this._layer._renderer._container?e=this._layer._renderer._container:this._layer._image?e=this._layer._image:this._layer._icon&&(e=this._layer._icon),e},_overwriteEventIfItComesFromMarker:function(e){e.target.getLatLng&&(!e.target._radius||e.target._radius<=10)&&(e.containerPoint=this._map.mouseEventToContainerPoint(e.originalEvent),e.latlng=this._map.containerPointToLatLng(e.containerPoint))},_syncLayers:function(e,l){var _=this;if(this.enabled())return!1;if(!l._fromLayerSync&&this._layer===l.target&&this.options.syncLayersOnDrag){l._fromLayerSync=!0;var b=[];if(L.Util.isArray(this.options.syncLayersOnDrag))b=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(function(R){R instanceof L.LayerGroup&&(b=b.concat(R.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(var M in this._parentLayerGroup){var B=this._parentLayerGroup[M];B.pm&&(b=B.pm.getLayers(!0))}return L.Util.isArray(b)&&b.length>0&&(b=b.filter(function(R){return!!R.pm}).filter(function(R){return!!R.pm.options.draggable})).forEach(function(R){R!==_._layer&&R.pm[e]&&(R._snapped=!1,R.pm[e](l))}),b.length>0}return!1},_stopDOMImageDrag:function(e){return e.preventDefault(),!1}};function bn(e,l,_){var b=_.getMaxZoom();if(b===1/0&&(b=_.getZoom()),L.Util.isArray(e)){var M=[];return e.forEach(function(B){M.push(bn(B,l,_))}),M}return e instanceof L.LatLng?function(B,R,j,N){return j.unproject(R.transform(j.project(B,N)),N)}(e,l,_,b):null}function Me(e,l){l instanceof L.Layer&&(l=l.getLatLng());var _=e.getMaxZoom();return _===1/0&&(_=e.getZoom()),e.project(l,_)}function rn(e,l){var _=e.getMaxZoom();return _===1/0&&(_=e.getZoom()),e.unproject(l,_)}var ri={_onRotateStart:function(e){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=Me(this._map,this._rotationOriginLatLng),this._rotationStartPoint=Me(this._map,e.target.getLatLng()),this._initialRotateLatLng=ze(this._layer),this._startAngle=this.getAngle();var l=ze(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,l),this._fireRotationStart(this._map,l)},_onRotate:function(e){var l=Me(this._map,e.target.getLatLng()),_=this._rotationStartPoint,b=this._rotationOriginPoint,M=Math.atan2(l.y-b.y,l.x-b.x)-Math.atan2(_.y-b.y,_.x-b.x);this._layer.setLatLngs(this._rotateLayer(M,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var B=this;(function G(X){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(tt>-1&&nt.push(tt),L.Util.isArray(X[0]))X.forEach(function(wt,Dt){return G(wt,nt.slice(),Dt)});else{var mt=rt()(B._markers,nt);X.forEach(function(wt,Dt){mt[Dt].setLatLng(wt)})}})(this._layer.getLatLngs());var R=ze(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(M,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var j=180*M/Math.PI,N=(j=j<0?j+360:j)+this._startAngle;this._setAngle(N),this._rotationLayer.pm._setAngle(N),this._fireRotation(this._rotationLayer,j,R),this._fireRotation(this._map,j,R),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd:function(){var e=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;var l=ze(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=ze(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,e,l),this._fireRotationEnd(this._map,e,l),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer:function(e,l,_,b,M){var B=Me(M,_);return this._matrix=b.clone().rotate(e,B).flip(),bn(l,this._matrix,M)},_setAngle:function(e){e=e<0?e+360:e,this._angle=e%360},_getRotationCenter:function(){var e=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),l=e.getCenter();return e.removeFrom(this._layer._map),l},enableRotate:function(){this.options.allowRotation?(this._rotatePoly=L.polygon(this._layer.getLatLngs(),{fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0}).addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly._pmTempLayer=!0,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=ze(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)):this.disableRotate()},disableRotate:function(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled:function(){return this._rotateEnabled},rotateLayer:function(e){var l=this.getAngle(),_=this._layer.getLatLngs(),b=e*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(b,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+e),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(b,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());var M=this.getAngle()-l;M=M<0?M+360:M,this._startAngle=l,this._fireRotation(this._layer,M,_,this._layer),this._fireRotation(this._map||this._layer._map,M,_,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle:function(e){var l=e-this.getAngle();this.rotateLayer(l)},getAngle:function(){return this._angle||0},setInitAngle:function(e){this._setAngle(e)}};const oi=ri,Oe=L.Class.extend({includes:[mi,D,oi,Pt],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0},setOptions:function(e){L.Util.setOptions(this,e)},getOptions:function(){return this.options},applyOptions:function(){},isPolygon:function(){return this._layer instanceof L.Polygon},getShape:function(){return this._shape},_setPane:function(e,l){l==="layerPane"?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":l==="vertexPane"?e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":l==="markerPane"&&(e.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove:function(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation:function(e,l){var _=l.target,b={layer:this._layer,marker:_,event:l},M="";return e==="move"?M="moveVertexValidation":e==="add"?M="addVertexValidation":e==="remove"&&(M="removeVertexValidation"),this.options[M]&&typeof this.options[M]=="function"&&!this.options[M](b)?(e==="move"&&(_._cancelDragEventChain=_.getLatLng()),!1):(_._cancelDragEventChain=null,!0)},_vertexValidationDrag:function(e){return!e._cancelDragEventChain||(e._latlng=e._cancelDragEventChain,e.update(),!1)},_vertexValidationDragEnd:function(e){return!e._cancelDragEventChain||(e._cancelDragEventChain=null,!1)}});function kn(e){return function(l){if(Array.isArray(l))return ai(l)}(e)||function(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}(e)||function(l,_){if(l){if(typeof l=="string")return ai(l,_);var b=Object.prototype.toString.call(l).slice(8,-1);if(b==="Object"&&l.constructor&&(b=l.constructor.name),b==="Map"||b==="Set")return Array.from(l);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return ai(l,_)}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ai(e,l){(l==null||l>e.length)&&(l=e.length);for(var _=0,b=new Array(l);_<l;_++)b[_]=e[_];return b}Oe.LayerGroup=L.Class.extend({initialize:function(e){var l=this;this._layerGroup=e,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(function(_){return l._initLayer(_)}),this._layerGroup.on("layeradd",L.Util.throttle(function(_){if(!_.layer._pmTempLayer){l._layers=l.getLayers();var b=l._layers.filter(function(M){return!M.pm._parentLayerGroup||!(l._layerGroup._leaflet_id in M.pm._parentLayerGroup)});b.forEach(function(M){l._initLayer(M)}),b.length>0&&l._getMap()&&l._getMap().pm.globalEditModeEnabled()&&l.enabled()&&l.enable(l.getOptions())}},100,this),this),this._layerGroup.on("layerremove",function(_){l._removeLayerFromGroup(_.target)},this),this._layerGroup.on("layerremove",L.Util.throttle(function(_){_.target._pmTempLayer||(l._layers=l.getLayers())},100,this),this)},enable:function(e){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];l.length===0&&(this._layers=this.getLayers()),this._options=e,this._layers.forEach(function(_){_ instanceof L.LayerGroup?l.indexOf(_._leaflet_id)===-1&&(l.push(_._leaflet_id),_.pm.enable(e,l)):_.pm.enable(e)})},disable:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];e.length===0&&(this._layers=this.getLayers()),this._layers.forEach(function(l){l instanceof L.LayerGroup?e.indexOf(l._leaflet_id)===-1&&(e.push(l._leaflet_id),l.pm.disable(e)):l.pm.disable()})},enabled:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];e.length===0&&(this._layers=this.getLayers());var l=this._layers.find(function(_){return _ instanceof L.LayerGroup?e.indexOf(_._leaflet_id)===-1&&(e.push(_._leaflet_id),_.pm.enabled(e)):_.pm.enabled()});return!!l},toggleEdit:function(e){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];l.length===0&&(this._layers=this.getLayers()),this._options=e,this._layers.forEach(function(_){_ instanceof L.LayerGroup?l.indexOf(_._leaflet_id)===-1&&(l.push(_._leaflet_id),_.pm.toggleEdit(e,l)):_.pm.toggleEdit(e)})},_initLayer:function(e){var l=L.Util.stamp(this._layerGroup);e.pm._parentLayerGroup||(e.pm._parentLayerGroup={}),e.pm._parentLayerGroup[l]=this._layerGroup},_removeLayerFromGroup:function(e){if(e.pm&&e.pm._layerGroup){var l=L.Util.stamp(this._layerGroup);delete e.pm._layerGroup[l]}},dragging:function(){if(this._layers=this.getLayers(),this._layers){var e=this._layers.find(function(l){return l.pm.dragging()});return!!e}return!1},getOptions:function(){return this.options},_getMap:function(){var e;return this._map||((e=this._layers.find(function(l){return!!l._map}))===null||e===void 0?void 0:e._map)||null},getLayers:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],l=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],_=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],M=[];return e?this._layerGroup.getLayers().forEach(function(B){M.push(B),B instanceof L.LayerGroup&&b.indexOf(B._leaflet_id)===-1&&(b.push(B._leaflet_id),M=M.concat(B.pm.getLayers(!0,!0,!0,b)))}):M=this._layerGroup.getLayers(),_&&(M=M.filter(function(B){return!(B instanceof L.LayerGroup)})),l&&(M=(M=(M=M.filter(function(B){return!!B.pm})).filter(function(B){return!B._pmTempLayer})).filter(function(B){return!L.PM.optIn&&!B.options.pmIgnore||L.PM.optIn&&B.options.pmIgnore===!1})),M},setOptions:function(e){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];l.length===0&&(this._layers=this.getLayers()),this.options=e,this._layers.forEach(function(_){_.pm&&(_ instanceof L.LayerGroup?l.indexOf(_._leaflet_id)===-1&&(l.push(_._leaflet_id),_.pm.setOptions(e,l)):_.pm.setOptions(e))})}}),Oe.Marker=Oe.extend({_shape:"Marker",initialize:function(e){this._layer=e,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0};L.Util.setOptions(this,e),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()):this.disable()},disable:function(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(e){this.enabled()?this.disable():this.enable(e)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker:function(e){var l=e.target;l.remove(),this._fireRemove(l),this._fireRemove(this._map,l)},_onDragEnd:function(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers:function(){var e=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,e.off("pm:drag",this._handleSnapping,this),e.on("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.on("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this),e.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var e=this._layer;e.off("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this)}});const ji={filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var e=[].concat(kn(this._markerGroup.getLayers()),kn(this.markerCache));this.markerCache=e.filter(function(l,_,b){return b.indexOf(l)===_})},renderLimits:function(e){var l=this;this.markerCache.forEach(function(_){e.includes(_)?l._markerGroup.addLayer(_):l._markerGroup.removeLayer(_)})},applyLimitFilters:function(e){var l=e.latlng,_=l===void 0?{lat:0,lng:0}:l;if(!this._preventRenderMarkers){var b=kn(this._filterClosestMarkers(_));this.renderLimits(b)}},_filterClosestMarkers:function(e){var l=kn(this.markerCache),_=this.options.limitMarkersToCount;return _===-1?l:(l.sort(function(b,M){return b._latlng.distanceTo(e)-M._latlng.distanceTo(e)}),l.filter(function(b,M){return!(_>-1)||M<_}))},_preventRenderMarkers:!1,_preventRenderingMarkers:function(e){this._preventRenderMarkers=!!e}};function vi(e,l){return function(_){if(Array.isArray(_))return _}(e)||function(_,b){var M=_==null?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(M!=null){var B,R,j=[],N=!0,G=!1;try{for(M=M.call(_);!(N=(B=M.next()).done)&&(j.push(B.value),!b||j.length!==b);N=!0);}catch(X){G=!0,R=X}finally{try{N||M.return==null||M.return()}finally{if(G)throw R}}return j}}(e,l)||function(_,b){if(_){if(typeof _=="string")return yi(_,b);var M=Object.prototype.toString.call(_).slice(8,-1);if(M==="Object"&&_.constructor&&(M=_.constructor.name),M==="Map"||M==="Set")return Array.from(_);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return yi(_,b)}}(e,l)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function yi(e,l){(l==null||l>e.length)&&(l=e.length);for(var _=0,b=new Array(l);_<l;_++)b[_]=e[_];return b}function Gi(e){return function(l){if(Array.isArray(l))return Vn(l)}(e)||function(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}(e)||function(l,_){if(l){if(typeof l=="string")return Vn(l,_);var b=Object.prototype.toString.call(l).slice(8,-1);if(b==="Object"&&l.constructor&&(b=l.constructor.name),b==="Map"||b==="Set")return Array.from(l);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return Vn(l,_)}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vn(e,l){(l==null||l>e.length)&&(l=e.length);for(var _=0,b=new Array(l);_<l;_++)b[_]=e[_];return b}Oe.Line=Oe.extend({includes:[ji],_shape:"Line",initialize:function(e){this._layer=e,this._enabled=!1},enable:function(e){L.Util.setOptions(this,e),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()):this.disable())},disable:function(){if(this.enabled()&&!this._dragging){this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);var e=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(e,"leaflet-pm-draggable"),this._map.hasLayer(this._layer)&&!this.hasSelfIntersection()||L.DomUtil.removeClass(e,"leaflet-pm-invalid"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(e){return this.enabled()?this.disable():this.enable(e),this.enabled()},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers:function(){var e=this,l=this._map,_=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,this._markers=function b(M){if(Array.isArray(M[0]))return M.map(b,e);var B=M.map(e._createMarker,e);return e.options.hideMiddleMarkers!==!0&&M.map(function(R,j){var N=e.isPolygon()?(j+1)%M.length:j+1;return e._createMiddleMarker(B[j],B[N])}),B}(_),this.filterMarkerGroup(),l.addLayer(this._markerGroup)},_createMarker:function(e){var l=new L.Marker(e,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(l,"vertexPane"),l._pmTempLayer=!0,this.options.rotate?(l.on("dragstart",this._onRotateStart,this),l.on("drag",this._onRotate,this),l.on("dragend",this._onRotateEnd,this)):(l.on("click",this._onVertexClick,this),l.on("dragstart",this._onMarkerDragStart,this),l.on("move",this._onMarkerDrag,this),l.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||l.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(l),l},_createMiddleMarker:function(e,l){if(!e||!l)return!1;var _=L.PM.Utils.calcMiddleLatLng(this._map,e.getLatLng(),l.getLatLng()),b=this._createMarker(_),M=L.divIcon({className:"marker-icon marker-icon-middle"});return b.setIcon(M),b.leftM=e,b.rightM=l,e._middleMarkerNext=b,l._middleMarkerPrev=b,b.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),b.on("movestart",this._onMiddleMarkerMoveStart,this),b},_onMiddleMarkerClick:function(e){var l=e.target;if(this._vertexValidation("add",e)){var _=L.divIcon({className:"marker-icon"});l.setIcon(_),this._addMarker(l,l.leftM,l.rightM)}},_onMiddleMarkerMoveStart:function(e){var l=e.target;l.on("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidation("add",e)?(l._dragging=!0,this._addMarker(l,l.leftM,l.rightM)):l.on("move",this._onMiddleMarkerMovePrevent,this)},_onMiddleMarkerMovePrevent:function(e){var l=e.target;this._vertexValidationDrag(l)},_onMiddleMarkerMoveEnd:function(e){var l=e.target;if(l.off("move",this._onMiddleMarkerMovePrevent,this),l.off("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidationDragEnd(l)){var _=L.divIcon({className:"marker-icon"});l.setIcon(_),setTimeout(function(){delete l._dragging},100)}},_addMarker:function(e,l,_){e.off("movestart",this._onMiddleMarkerMoveStart,this),e.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);var b=e.getLatLng(),M=this._layer._latlngs;delete e.leftM,delete e.rightM;var B=L.PM.Utils.findDeepMarkerIndex(this._markers,l),R=B.indexPath,j=B.index,N=B.parentPath,G=R.length>1?rt()(M,N):M,X=R.length>1?rt()(this._markers,N):this._markers;G.splice(j+1,0,b),X.splice(j+1,0,e),this._layer.setLatLngs(M),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(l,e),this._createMiddleMarker(e,_)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(e,L.PM.Utils.findDeepMarkerIndex(this._markers,e).indexPath,b),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection:function(){return Se(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0),this.hasSelfIntersection()&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(e){var l=this._layer;if(this.hasSelfIntersection()){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return;e?this._flashLayer():(l.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(Se(this._layer.toGeoJSON(15)))}else l.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1)},_flashLayer:function(){var e=this;this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(function(){e._layer.setStyle({color:e.cachedColor}),e.isRed=!1},200)},_updateDisabledMarkerStyle:function(e,l){var _=this;e.forEach(function(b){Array.isArray(b)?_._updateDisabledMarkerStyle(b,l):b._icon&&(l&&!_._checkMarkerAllowedToDrag(b)?L.DomUtil.addClass(b._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(b._icon,"vertexmarker-disabled"))})},_removeMarker:function(e){var l=e.target;if(this._vertexValidation("remove",e)){this.options.allowSelfIntersection||(this._coordsBeforeEdit=ze(this._layer,this._layer.getLatLngs()));var _=this._layer.getLatLngs(),b=L.PM.Utils.findDeepMarkerIndex(this._markers,l),M=b.indexPath,B=b.index,R=b.parentPath;if(M){var j=M.length>1?rt()(_,R):_,N=M.length>1?rt()(this._markers,R):this._markers;if(this.options.removeLayerBelowMinVertexCount||!(j.length<=2||this.isPolygon()&&j.length<=3)){j.splice(B,1),this._layer.setLatLngs(_),this.isPolygon()&&j.length<=2&&j.splice(0,j.length);var G=!1;if(j.length<=1&&(j.splice(0,j.length),R.length>1&&M.length>1&&(_=Ee(_)),this._layer.setLatLngs(_),this._initMarkers(),G=!0),Ut(_)||this._layer.remove(),_=Ee(_),this._layer.setLatLngs(_),this._markers=Ee(this._markers),!G&&(N=M.length>1?rt()(this._markers,R):this._markers,l._middleMarkerPrev&&this._markerGroup.removeLayer(l._middleMarkerPrev),l._middleMarkerNext&&this._markerGroup.removeLayer(l._middleMarkerNext),this._markerGroup.removeLayer(l),N)){var X,nt;if(this.isPolygon()?(X=(B+1)%N.length,nt=(B+(N.length-1))%N.length):(nt=B-1<0?void 0:B-1,X=B+1>=N.length?void 0:B+1),X!==nt){var tt=N[nt],mt=N[X];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(tt,mt)}N.splice(B,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(l,M),this._fireChange(this._layer.getLatLngs(),"Edit")}else this._flashLayer()}}},updatePolygonCoordsFromMarkerDrag:function(e){var l=this._layer.getLatLngs(),_=e.getLatLng(),b=L.PM.Utils.findDeepMarkerIndex(this._markers,e),M=b.indexPath,B=b.index,R=b.parentPath;(M.length>1?rt()(l,R):l).splice(B,1,_),this._layer.setLatLngs(l)},_getNeighborMarkers:function(e){var l=L.PM.Utils.findDeepMarkerIndex(this._markers,e),_=l.indexPath,b=l.index,M=l.parentPath,B=_.length>1?rt()(this._markers,M):this._markers,R=(b+1)%B.length;return{prevMarker:B[(b+(B.length-1))%B.length],nextMarker:B[R]}},_checkMarkerAllowedToDrag:function(e){var l=this._getNeighborMarkers(e),_=l.prevMarker,b=l.nextMarker,M=L.polyline([_.getLatLng(),e.getLatLng()]),B=L.polyline([e.getLatLng(),b.getLatLng()]),R=yn(this._layer.toGeoJSON(15),M.toGeoJSON(15)).features.length,j=yn(this._layer.toGeoJSON(15),B.toGeoJSON(15)).features.length;return e.getLatLng()===this._markers[0][0].getLatLng()?j+=1:e.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(R+=1),!(R<=2&&j<=2)},_onMarkerDragStart:function(e){var l=e.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),this._vertexValidation("move",e)){var _=L.PM.Utils.findDeepMarkerIndex(this._markers,l).indexPath;this._fireMarkerDragStart(e,_),this.options.allowSelfIntersection||(this._coordsBeforeEdit=ze(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(l):this._markerAllowedToDrag=null}},_onMarkerDrag:function(e){var l=e.target;if(this._vertexValidationDrag(l)){var _=L.PM.Utils.findDeepMarkerIndex(this._markers,l),b=_.indexPath,M=_.index,B=_.parentPath;if(b){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1)return this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),void this._handleLayerStyle();this.updatePolygonCoordsFromMarkerDrag(l);var R=b.length>1?rt()(this._markers,B):this._markers,j=(M+1)%R.length,N=(M+(R.length-1))%R.length,G=l.getLatLng(),X=R[N].getLatLng(),nt=R[j].getLatLng();if(l._middleMarkerNext){var tt=L.PM.Utils.calcMiddleLatLng(this._map,G,nt);l._middleMarkerNext.setLatLng(tt)}if(l._middleMarkerPrev){var mt=L.PM.Utils.calcMiddleLatLng(this._map,G,X);l._middleMarkerPrev.setLatLng(mt)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(e,b),this._fireChange(this._layer.getLatLngs(),"Edit")}}},_onMarkerDragEnd:function(e){var l=e.target;if(this._vertexValidationDragEnd(l)){var _=L.PM.Utils.findDeepMarkerIndex(this._markers,l).indexPath,b=this.hasSelfIntersection();b&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(b=!1);var M=!this.options.allowSelfIntersection&&b;if(this._fireMarkerDragEnd(e,_,M),M)return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),void this._fireLayerReset(e,_);!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")}},_onVertexClick:function(e){var l=e.target;if(!l._dragging){var _=L.PM.Utils.findDeepMarkerIndex(this._markers,l).indexPath;this._fireVertexClick(e,_)}}}),Oe.Polygon=Oe.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag:function(e){var l=this._getNeighborMarkers(e),_=l.prevMarker,b=l.nextMarker,M=L.polyline([_.getLatLng(),e.getLatLng()]),B=L.polyline([e.getLatLng(),b.getLatLng()]),R=yn(this._layer.toGeoJSON(15),M.toGeoJSON(15)).features.length,j=yn(this._layer.toGeoJSON(15),B.toGeoJSON(15)).features.length;return!(R<=2&&j<=2)}}),Oe.Rectangle=Oe.Polygon.extend({_shape:"Rectangle",_initMarkers:function(){var e=this,l=this._map,_=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,l.addLayer(this._markerGroup),this._markers=[],this._markers[0]=_.map(this._createMarker,this);var b=vi(this._markers,1);this._cornerMarkers=b[0],this._layer.getLatLngs()[0].forEach(function(M,B){var R=e._cornerMarkers.find(function(j){return j._index===B});R&&R.setLatLng(M)})},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker:function(e,l){var _=new L.Marker(e,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(_,"vertexPane"),_._origLatLng=e,_._index=l,_._pmTempLayer=!0,this._markerGroup.addLayer(_),_},_addMarkerEvents:function(){var e=this;this._markers[0].forEach(function(l){l.on("dragstart",e._onMarkerDragStart,e),l.on("drag",e._onMarkerDrag,e),l.on("dragend",e._onMarkerDragEnd,e),e.options.preventMarkerRemoval||l.on("contextmenu",e._removeMarker,e)})},_removeMarker:function(){return null},_onMarkerDragStart:function(e){if(this._vertexValidation("move",e)){var l=e.target,_=this._cornerMarkers;l._oppositeCornerLatLng=_.find(function(b){return b._index===(l._index+2)%4}).getLatLng(),l._snapped=!1,this._fireMarkerDragStart(e)}},_onMarkerDrag:function(e){var l=e.target;this._vertexValidationDrag(l)&&l._index!==void 0&&(this._adjustRectangleForMarkerMove(l),this._fireMarkerDrag(e),this._fireChange(this._layer.getLatLngs(),"Edit"))},_onMarkerDragEnd:function(e){var l=e.target;this._vertexValidationDragEnd(l)&&(this._cornerMarkers.forEach(function(_){delete _._oppositeCornerLatLng}),this._fireMarkerDragEnd(e),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"))},_adjustRectangleForMarkerMove:function(e){L.extend(e._origLatLng,e._latlng);var l=L.PM.Utils._getRotatedRectangle(e.getLatLng(),e._oppositeCornerLatLng,this._angle||0,this._map);this._layer.setLatLngs(l),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers:function(){var e=this,l=this._layer.getLatLngs()[0];l&&l.length!==4&&l.length>0?(l.forEach(function(_,b){e._cornerMarkers[b].setLatLng(_)}),this._cornerMarkers.slice(l.length).forEach(function(_){_.setLatLng(l[0])})):l&&l.length?this._cornerMarkers.forEach(function(_){_.setLatLng(l[_._index])}):console.error("The layer has no LatLngs")},_findCorners:function(){var e=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(e[0],e[2],this._angle||0,this._map)}}),Oe.Circle=Oe.extend({_shape:"Circle",initialize:function(e){this._layer=e,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(e){L.Util.setOptions(this,e),this._map=this._layer._map,this.options.allowEditing?(this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){if(this.enabled()&&!this._dragging){this._centerMarker.off("dragstart",this._onCircleDragStart,this),this._centerMarker.off("drag",this._onCircleDrag,this),this._centerMarker.off("dragend",this._onCircleDragEnd,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this),this._layer.off("remove",this.disable,this),this._enabled=!1,this._helperLayers.clearLayers();var e=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(e,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(e){this.enabled()?this.disable():this.enable(e)},_initMarkers:function(){var e=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(e);var l=this._layer.getLatLng(),_=this._layer._radius,b=this._getLatLngOnCircle(l,_);this._centerMarker=this._createCenterMarker(l),this._outerMarker=this._createOuterMarker(b),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},applyOptions:function(){this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()},_createHintLine:function(e,l){var _=e.getLatLng(),b=l.getLatLng();this._hintline=L.polyline([_,b],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(e){var l=this._createMarker(e);return L.DomUtil.addClass(l._icon,"leaflet-pm-draggable"),l.on("drag",this._moveCircle,this),l.on("dragstart",this._onCircleDragStart,this),l.on("drag",this._onCircleDrag,this),l.on("dragend",this._onCircleDragEnd,this),l},_createOuterMarker:function(e){var l=this._createMarker(e);return l.on("drag",this._resizeCircle,this),l},_createMarker:function(e){var l=new L.Marker(e,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(l,"vertexPane"),l._origLatLng=e,l._pmTempLayer=!0,l.on("dragstart",this._onMarkerDragStart,this),l.on("drag",this._onMarkerDrag,this),l.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(l),l},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_moveCircle:function(e){if(!e.target._cancelDragEventChain){var l=e.latlng;this._layer.setLatLng(l);var _=this._layer._radius,b=this._getLatLngOnCircle(l,_);this._outerMarker._latlng=b,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")}},_syncCircleRadius:function(){var e=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),_=this._map.distance(e,l);this.options.minRadiusCircle&&_<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&_>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(_),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var e=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng();this._hintline.setLatLngs([e,l])},_disableSnapping:function(){var e=this;this._markers.forEach(function(l){l.off("move",e._syncHintLine,e),l.off("move",e._syncCircleRadius,e),l.off("drag",e._handleSnapping,e),l.off("dragend",e._cleanupSnapping,e)}),this._layer.off("pm:dragstart",this._unsnap,this)},_onMarkerDragStart:function(e){this._vertexValidation("move",e)&&this._fireMarkerDragStart(e)},_onMarkerDrag:function(e){var l=e.target;this._vertexValidationDrag(l)&&this._fireMarkerDrag(e)},_onMarkerDragEnd:function(e){var l=e.target;this._vertexValidationDragEnd(l)&&(this._fireEdit(),this._layerEdited=!0,this._fireMarkerDragEnd(e))},_onCircleDragStart:function(e){this._vertexValidationDrag(e.target)?(delete this._vertexValidationReset,this._fireDragStart()):this._vertexValidationReset=!0},_onCircleDrag:function(e){this._vertexValidationReset||this._fireDrag(e)},_onCircleDragEnd:function(){this._vertexValidationReset?delete this._vertexValidationReset:this._fireDragEnd()},_updateHiddenPolyCircle:function(){var e=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!e).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!e),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_getLatLngOnCircle:function(e,l){var _=this._map.project(e),b=L.point(_.x+l,_.y);return this._map.unproject(b)},_getNewDestinationOfOuterMarker:function(){var e=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),_=this._map.distance(e,l);return this.options.minRadiusCircle&&_<this.options.minRadiusCircle?l=ee(this._map,e,l,this.options.minRadiusCircle):this.options.maxRadiusCircle&&_>this.options.maxRadiusCircle&&(l=ee(this._map,e,l,this.options.maxRadiusCircle)),l},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var e=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),_=this._map.distance(e,l);(this.options.minRadiusCircle&&_<this.options.minRadiusCircle||this.options.maxRadiusCircle&&_>this.options.maxRadiusCircle)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),Oe.CircleMarker=Oe.extend({_shape:"CircleMarker",initialize:function(e){this._layer=e,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,e),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){this._dragging||(this._helperLayers&&this._helperLayers.clearLayers(),this._map||(this._map=this._layer._map),this._map||(this.options.editable?(this._map.off("move",this._syncMarkers,this),this._outerMarker&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this)),this.disableLayerDrag(),this._layer.off("contextmenu",this._removeMarker,this),this._layer.off("remove",this.disable,this),this.enabled()&&(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(e){this.enabled()?this.disable():this.enable(e)},applyOptions:function(){!this.options.editable&&this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.editable?(this._initMarkers(),this._map.on("move",this._syncMarkers,this)):this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this.options.editable?(this._initSnappableMarkers(),this._centerMarker.on("drag",this._moveCircle,this),this.options.editable&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._initSnappableMarkersDrag():this.options.editable?this._disableSnapping():this._disableSnappingDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers:function(){var e=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(e);var l=this._layer.getLatLng(),_=this._layer._radius,b=this._getLatLngOnCircle(l,_);this._centerMarker=this._createCenterMarker(l),this._outerMarker=this._createOuterMarker(b),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(e,l){var _=this._map.project(e),b=L.point(_.x+l,_.y);return this._map.unproject(b)},_createHintLine:function(e,l){var _=e.getLatLng(),b=l.getLatLng();this._hintline=L.polyline([_,b],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(e){var l=this._createMarker(e);return this.options.draggable?L.DomUtil.addClass(l._icon,"leaflet-pm-draggable"):l.dragging.disable(),l},_createOuterMarker:function(e){var l=this._createMarker(e);return l.on("drag",this._resizeCircle,this),l},_createMarker:function(e){var l=new L.Marker(e,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(l,"vertexPane"),l._origLatLng=e,l._pmTempLayer=!0,l.on("dragstart",this._onMarkerDragStart,this),l.on("drag",this._onMarkerDrag,this),l.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(l),l},_moveCircle:function(){var e=this._centerMarker.getLatLng();this._layer.setLatLng(e);var l=this._layer._radius,_=this._getLatLngOnCircle(e,l);this._outerMarker._latlng=_,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers:function(){var e=this._layer.getLatLng(),l=this._layer._radius,_=this._getLatLngOnCircle(e,l);this._outerMarker.setLatLng(_),this._centerMarker.setLatLng(e),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius:function(){var e=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),_=this._map.project(e).distanceTo(this._map.project(l));this.options.minRadiusCircleMarker&&_<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&_>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(_),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var e=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng();this._hintline.setLatLngs([e,l])},_removeMarker:function(){this.options.editable&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart:function(e){this._vertexValidation("move",e)&&this._fireMarkerDragStart(e)},_onMarkerDrag:function(e){var l=e.target;l instanceof L.Marker&&!this._vertexValidationDrag(l)||this._fireMarkerDrag(e)},_onMarkerDragEnd:function(e){this._map.pm.Draw.CircleMarker._layerIsDragging=!1;var l=e.target;this._vertexValidationDragEnd(l)&&(this.options.editable&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(e))},_initSnappableMarkersDrag:function(){var e=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,e.off("pm:drag",this._handleSnapping,this),e.on("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.on("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this),e.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag:function(){var e=this._layer;e.off("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle:function(){var e=this._layer._map||this._map;if(e){var l=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),e,this._layer.getLatLng()),_=L.circle(this._layer.getLatLng(),this._layer.options);_.setRadius(l);var b=e&&e.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(_,200,!b).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(_,200,!b),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker:function(){var e=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),_=this._map.project(e).distanceTo(this._map.project(l));return this.options.minRadiusCircleMarker&&_<this.options.minRadiusCircleMarker?l=ee(this._map,e,l,L.PM.Utils.pxRadiusToMeterRadius(this.options.minRadiusCircleMarker,this._map,e)):this.options.maxRadiusCircleMarker&&_>this.options.maxRadiusCircleMarker&&(l=ee(this._map,e,l,L.PM.Utils.pxRadiusToMeterRadius(this.options.maxRadiusCircleMarker,this._map,e))),l},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var e=this._centerMarker.getLatLng(),l=this._outerMarker.getLatLng(),_=this._map.project(e).distanceTo(this._map.project(l));(this.options.minRadiusCircleMarker&&_<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&_>this.options.maxRadiusCircleMarker)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),Oe.ImageOverlay=Oe.extend({_shape:"ImageOverlay",initialize:function(e){this._layer=e,this._enabled=!1},toggleEdit:function(e){this.enabled()?this.disable():this.enable(e)},enabled:function(){return this._enabled},enable:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,e),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()):this.disable())},disable:function(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners:function(){var e=this._layer.getBounds();return[e.getNorthWest(),e.getNorthEast(),e.getSouthEast(),e.getSouthWest()]}}),Oe.Text=Oe.extend({_shape:"Text",initialize:function(e){this._layer=e,this._enabled=!1},enable:function(e){L.Util.setOptions(this,e),this.textArea&&(this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()):this.disable())},disable:function(){if(this.enabled()){this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");var e=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),e.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1}},enabled:function(){return this._enabled},toggleEdit:function(e){this.enabled()?this.disable():this.enable(e)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers:function(){var e=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,e.off("pm:drag",this._handleSnapping,this),e.on("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.on("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this),e.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var e=this._layer;e.off("pm:drag",this._handleSnapping,this),e.off("pm:dragend",this._cleanupSnapping,this),e.off("pm:dragstart",this._unsnap,this)},_autoResize:function(){this.textArea.style.height="1px",this.textArea.style.width="1px";var e=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,l=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height="".concat(e,"px"),this.textArea.style.width="".concat(l,"px"),this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur:function(){var e=this;this._disableOnBlurActive=!0,setTimeout(function(){e.enabled()&&L.DomEvent.on(document,"click",e._documentClick,e)},100)},_documentClick:function(e){e.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=this._hasFocus;this._hasFocus=e.type==="focus",!l!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus:function(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus:function(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus:function(){return this._hasFocus},getElement:function(){return this.textArea},setText:function(e){this.textArea.value=e,this._autoResize()},getText:function(){return this.textArea.value},_initTextMarker:function(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){var e,l=this.options.className.split(" ");(e=this.textArea.classList).add.apply(e,Gi(l))}var _=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(_),this._layer.once("add",this._createTextMarker,this)},_createTextMarker:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),e===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection:function(e){e.preventDefault()}});var Li=function(e,l,_,b,M,B){this._matrix=[e,l,_,b,M,B]};Li.init=function(){return new L.PM.Matrix(1,0,0,1,0,0)},Li.prototype={transform:function(e){return this._transform(e.clone())},_transform:function(e){var l=this._matrix,_=e.x,b=e.y;return e.x=l[0]*_+l[1]*b+l[4],e.y=l[2]*_+l[3]*b+l[5],e},untransform:function(e){var l=this._matrix;return new L.Point((e.x/l[0]-l[4])/l[0],(e.y/l[2]-l[5])/l[2])},clone:function(){var e=this._matrix;return new L.PM.Matrix(e[0],e[1],e[2],e[3],e[4],e[5])},translate:function(e){return e===void 0?new L.Point(this._matrix[4],this._matrix[5]):(typeof e=="number"?(l=e,_=e):(l=e.x,_=e.y),this._add(1,0,0,1,l,_));var l,_},scale:function(e,l){return e===void 0?new L.Point(this._matrix[0],this._matrix[3]):(l=l||L.point(0,0),typeof e=="number"?(_=e,b=e):(_=e.x,b=e.y),this._add(_,0,0,b,l.x,l.y)._add(1,0,0,1,-l.x,-l.y));var _,b},rotate:function(e,l){var _=Math.cos(e),b=Math.sin(e);return l=l||new L.Point(0,0),this._add(_,b,-b,_,l.x,l.y)._add(1,0,0,1,-l.x,-l.y)},flip:function(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add:function(e,l,_,b,M,B){var R,j=[[],[],[]],N=this._matrix,G=[[N[0],N[2],N[4]],[N[1],N[3],N[5]],[0,0,1]],X=[[e,_,M],[l,b,B],[0,0,1]];e&&e instanceof L.PM.Matrix&&(X=[[(N=e._matrix)[0],N[2],N[4]],[N[1],N[3],N[5]],[0,0,1]]);for(var nt=0;nt<3;nt+=1)for(var tt=0;tt<3;tt+=1){R=0;for(var mt=0;mt<3;mt+=1)R+=G[nt][mt]*X[mt][tt];j[nt][tt]=R}return this._matrix=[j[0][0],j[1][0],j[0][1],j[1][1],j[0][2],j[1][2]],this}};const Vi=Li;var jr={calcMiddleLatLng:function(e,l,_){var b=e.project(l),M=e.project(_);return e.unproject(b._add(M)._divideBy(2))},findLayers:function(e){var l=[];return e.eachLayer(function(_){(_ instanceof L.Polyline||_ instanceof L.Marker||_ instanceof L.Circle||_ instanceof L.CircleMarker||_ instanceof L.ImageOverlay)&&l.push(_)}),l=(l=(l=l.filter(function(_){return!!_.pm})).filter(function(_){return!_._pmTempLayer})).filter(function(_){return!L.PM.optIn&&!_.options.pmIgnore||L.PM.optIn&&_.options.pmIgnore===!1})},circleToPolygon:function(e){for(var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,_=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],b=e.getLatLng(),M=e.getRadius(),B=he(b,M,l,0,_),R=[],j=0;j<B.length;j+=1){var N=[B[j].lat,B[j].lng];R.push(N)}return L.polygon(R,e.options)},disablePopup:function(e){e.getPopup()&&(e._tempPopupCopy=e.getPopup(),e.unbindPopup())},enablePopup:function(e){e._tempPopupCopy&&(e.bindPopup(e._tempPopupCopy),delete e._tempPopupCopy)},_fireEvent:function(e,l,_){var b=arguments.length>3&&arguments[3]!==void 0&&arguments[3];e.fire(l,_,b);var M=this.getAllParentGroups(e),B=M.groups;B.forEach(function(R){R.fire(l,_,b)})},getAllParentGroups:function(e){var l=[],_=[];return!e._pmLastGroupFetch||!e._pmLastGroupFetch.time||new Date().getTime()-e._pmLastGroupFetch.time>1e3?(function b(M){for(var B in M._eventParents)if(l.indexOf(B)===-1){l.push(B);var R=M._eventParents[B];_.push(R),b(R)}}(e),e._pmLastGroupFetch={time:new Date().getTime(),groups:_,groupIds:l},{groupIds:l,groups:_}):{groups:e._pmLastGroupFetch.groups,groupIds:e._pmLastGroupFetch.groupIds}},createGeodesicPolygon:he,getTranslation:Et,findDeepCoordIndex:function(e,l){var _,b=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],M=function R(j){return function(N,G){var X=j.concat(G);if(b){if(N.lat&&N.lat===l.lat&&N.lng===l.lng)return _=X,!0}else if(N.lat&&L.latLng(N).equals(l))return _=X,!0;return Array.isArray(N)&&N.some(R(X))}};e.some(M([]));var B={};return _&&(B={indexPath:_,index:_[_.length-1],parentPath:_.slice(0,_.length-1)}),B},findDeepMarkerIndex:function(e,l){var _;e.some(function M(B){return function(R,j){var N=B.concat(j);return R._leaflet_id===l._leaflet_id?(_=N,!0):Array.isArray(R)&&R.some(M(N))}}([]));var b={};return _&&(b={indexPath:_,index:_[_.length-1],parentPath:_.slice(0,_.length-1)}),b},_getIndexFromSegment:function(e,l){if(l&&l.length===2){var _=this.findDeepCoordIndex(e,l[0]),b=this.findDeepCoordIndex(e,l[1]),M=Math.max(_.index,b.index);return _.index!==0&&b.index!==0||M===1||(M+=1),{indexA:_,indexB:b,newIndex:M,indexPath:_.indexPath,parentPath:_.parentPath}}return null},_getRotatedRectangle:function(e,l,_,b){var M=Me(b,e),B=Me(b,l),R=_*Math.PI/180,j=Math.cos(R),N=Math.sin(R),G=(B.x-M.x)*j+(B.y-M.y)*N,X=(B.y-M.y)*j-(B.x-M.x)*N,nt=G*j+M.x,tt=G*N+M.y,mt=-X*N+M.x,wt=X*j+M.y;return[rn(b,M),rn(b,{x:nt,y:tt}),rn(b,B),rn(b,{x:mt,y:wt})]},pxRadiusToMeterRadius:function(e,l,_){var b=l.project(_),M=L.point(b.x+e,b.y);return l.distance(l.unproject(M),_)}};const Ft=jr;L.PM=L.PM||{version:"2.14.1",Map:En,Toolbar:Sn,Draw:F,Edit:Oe,Utils:Ft,Matrix:Vi,activeLang:"en",optIn:!1,initialize:function(e){this.addInitHooks(e)},setOptIn:function(e){this.optIn=!!e},addInitHooks:function(){L.Map.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}),L.LayerGroup.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}),L.Marker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}),L.CircleMarker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}),L.Polyline.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}),L.Polygon.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}),L.Rectangle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}),L.Circle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}),L.ImageOverlay.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))})},reInitLayer:function(e){var l=this;e instanceof L.LayerGroup&&e.eachLayer(function(_){l.reInitLayer(_)}),e.pm||L.PM.optIn&&e.options.pmIgnore!==!1||e.options.pmIgnore||(e instanceof L.Map?e.pm=new L.PM.Map(e):e instanceof L.Marker?e.options.textMarker?(e.pm=new L.PM.Edit.Text(e),e.pm._initTextMarker(),e.pm._createTextMarker(!1)):e.pm=new L.PM.Edit.Marker(e):e instanceof L.Circle?e.pm=new L.PM.Edit.Circle(e):e instanceof L.CircleMarker?e.pm=new L.PM.Edit.CircleMarker(e):e instanceof L.Rectangle?e.pm=new L.PM.Edit.Rectangle(e):e instanceof L.Polygon?e.pm=new L.PM.Edit.Polygon(e):e instanceof L.Polyline?e.pm=new L.PM.Edit.Line(e):e instanceof L.LayerGroup?e.pm=new L.PM.Edit.LayerGroup(e):e instanceof L.ImageOverlay&&(e.pm=new L.PM.Edit.ImageOverlay(e)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick:function(e){for(var l,_,b=this._map.mouseEventToLayerPoint(e),M=this._drawFirst;M;M=M.next)(l=M.layer).options.interactive&&l._containsPoint(b)&&(e.type!=="click"&&e.type!=="preclick"||!this._map._draggableMoved(l))&&(_=l);_&&(L.DomEvent.fakeStop(e),this._fireEvent([_],e))}}),L.PM.initialize()},7107:()=>{Array.prototype.findIndex=Array.prototype.findIndex||function(u){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof u!="function")throw new TypeError("callback must be a function");for(var a=Object(this),i=a.length>>>0,c=arguments[1],p=0;p<i;p++)if(u.call(c,a[p],p,a))return p;return-1},Array.prototype.find=Array.prototype.find||function(u){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof u!="function")throw new TypeError("callback must be a function");for(var a=Object(this),i=a.length>>>0,c=arguments[1],p=0;p<i;p++){var o=a[p];if(u.call(c,o,p,a))return o}},typeof Object.assign!="function"&&(Object.assign=function(u){if(u==null)throw new TypeError("Cannot convert undefined or null to object");u=Object(u);for(var a=1;a<arguments.length;a++){var i=arguments[a];if(i!=null)for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(u[c]=i[c])}return u}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(u){u.hasOwnProperty("remove")||Object.defineProperty(u,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(u,a){if(this==null)throw new TypeError('"this" is null or not defined');var i=Object(this),c=i.length>>>0;if(c===0)return!1;for(var p,o,m=0|a,v=Math.max(m>=0?m:c-Math.abs(m),0);v<c;){if((p=i[v])===(o=u)||typeof p=="number"&&typeof o=="number"&&isNaN(p)&&isNaN(o))return!0;v++}return!1}})},1787:(u,a,i)=>{var c=i(2582),p=i(4102),o=i(1540),m=i(9705).Z,v=o.featureEach,s=(o.coordEach,p.polygon,p.featureCollection);function g(S){var z=new c(S);return z.insert=function(x){if(x.type!=="Feature")throw new Error("invalid feature");return x.bbox=x.bbox?x.bbox:m(x),c.prototype.insert.call(this,x)},z.load=function(x){var T=[];return Array.isArray(x)?x.forEach(function(A){if(A.type!=="Feature")throw new Error("invalid features");A.bbox=A.bbox?A.bbox:m(A),T.push(A)}):v(x,function(A){if(A.type!=="Feature")throw new Error("invalid features");A.bbox=A.bbox?A.bbox:m(A),T.push(A)}),c.prototype.load.call(this,T)},z.remove=function(x,T){if(x.type!=="Feature")throw new Error("invalid feature");return x.bbox=x.bbox?x.bbox:m(x),c.prototype.remove.call(this,x,T)},z.clear=function(){return c.prototype.clear.call(this)},z.search=function(x){var T=c.prototype.search.call(this,this.toBBox(x));return s(T)},z.collides=function(x){return c.prototype.collides.call(this,this.toBBox(x))},z.all=function(){var x=c.prototype.all.call(this);return s(x)},z.toJSON=function(){return c.prototype.toJSON.call(this)},z.fromJSON=function(x){return c.prototype.fromJSON.call(this,x)},z.toBBox=function(x){var T;if(x.bbox)T=x.bbox;else if(Array.isArray(x)&&x.length===4)T=x;else if(Array.isArray(x)&&x.length===6)T=[x[0],x[1],x[3],x[4]];else if(x.type==="Feature")T=m(x);else{if(x.type!=="FeatureCollection")throw new Error("invalid geojson");T=m(x)}return{minX:T[0],minY:T[1],maxX:T[2],maxY:T[3]}},z}u.exports=g,u.exports.default=g},1989:(u,a,i)=>{var c=i(1789),p=i(401),o=i(7667),m=i(1327),v=i(1866);function s(g){var S=-1,z=g==null?0:g.length;for(this.clear();++S<z;){var x=g[S];this.set(x[0],x[1])}}s.prototype.clear=c,s.prototype.delete=p,s.prototype.get=o,s.prototype.has=m,s.prototype.set=v,u.exports=s},8407:(u,a,i)=>{var c=i(7040),p=i(4125),o=i(2117),m=i(7518),v=i(4705);function s(g){var S=-1,z=g==null?0:g.length;for(this.clear();++S<z;){var x=g[S];this.set(x[0],x[1])}}s.prototype.clear=c,s.prototype.delete=p,s.prototype.get=o,s.prototype.has=m,s.prototype.set=v,u.exports=s},7071:(u,a,i)=>{var c=i(852)(i(5639),"Map");u.exports=c},3369:(u,a,i)=>{var c=i(4785),p=i(1285),o=i(6e3),m=i(9916),v=i(5265);function s(g){var S=-1,z=g==null?0:g.length;for(this.clear();++S<z;){var x=g[S];this.set(x[0],x[1])}}s.prototype.clear=c,s.prototype.delete=p,s.prototype.get=o,s.prototype.has=m,s.prototype.set=v,u.exports=s},6384:(u,a,i)=>{var c=i(8407),p=i(7465),o=i(3779),m=i(7599),v=i(4758),s=i(4309);function g(S){var z=this.__data__=new c(S);this.size=z.size}g.prototype.clear=p,g.prototype.delete=o,g.prototype.get=m,g.prototype.has=v,g.prototype.set=s,u.exports=g},2705:(u,a,i)=>{var c=i(5639).Symbol;u.exports=c},1149:(u,a,i)=>{var c=i(5639).Uint8Array;u.exports=c},6874:u=>{u.exports=function(a,i,c){switch(c.length){case 0:return a.call(i);case 1:return a.call(i,c[0]);case 2:return a.call(i,c[0],c[1]);case 3:return a.call(i,c[0],c[1],c[2])}return a.apply(i,c)}},4636:(u,a,i)=>{var c=i(2545),p=i(5694),o=i(1469),m=i(4144),v=i(5776),s=i(6719),g=Object.prototype.hasOwnProperty;u.exports=function(S,z){var x=o(S),T=!x&&p(S),A=!x&&!T&&m(S),H=!x&&!T&&!A&&s(S),I=x||T||A||H,P=I?c(S.length,String):[],O=P.length;for(var Z in S)!z&&!g.call(S,Z)||I&&(Z=="length"||A&&(Z=="offset"||Z=="parent")||H&&(Z=="buffer"||Z=="byteLength"||Z=="byteOffset")||v(Z,O))||P.push(Z);return P}},9932:u=>{u.exports=function(a,i){for(var c=-1,p=a==null?0:a.length,o=Array(p);++c<p;)o[c]=i(a[c],c,a);return o}},6556:(u,a,i)=>{var c=i(9465),p=i(7813);u.exports=function(o,m,v){(v!==void 0&&!p(o[m],v)||v===void 0&&!(m in o))&&c(o,m,v)}},4865:(u,a,i)=>{var c=i(9465),p=i(7813),o=Object.prototype.hasOwnProperty;u.exports=function(m,v,s){var g=m[v];o.call(m,v)&&p(g,s)&&(s!==void 0||v in m)||c(m,v,s)}},8470:(u,a,i)=>{var c=i(7813);u.exports=function(p,o){for(var m=p.length;m--;)if(c(p[m][0],o))return m;return-1}},9465:(u,a,i)=>{var c=i(8777);u.exports=function(p,o,m){o=="__proto__"&&c?c(p,o,{configurable:!0,enumerable:!0,value:m,writable:!0}):p[o]=m}},3118:(u,a,i)=>{var c=i(3218),p=Object.create,o=function(){function m(){}return function(v){if(!c(v))return{};if(p)return p(v);m.prototype=v;var s=new m;return m.prototype=void 0,s}}();u.exports=o},8483:(u,a,i)=>{var c=i(5063)();u.exports=c},7786:(u,a,i)=>{var c=i(1811),p=i(327);u.exports=function(o,m){for(var v=0,s=(m=c(m,o)).length;o!=null&&v<s;)o=o[p(m[v++])];return v&&v==s?o:void 0}},4239:(u,a,i)=>{var c=i(2705),p=i(9607),o=i(2333),m=c?c.toStringTag:void 0;u.exports=function(v){return v==null?v===void 0?"[object Undefined]":"[object Null]":m&&m in Object(v)?p(v):o(v)}},8565:u=>{var a=Object.prototype.hasOwnProperty;u.exports=function(i,c){return i!=null&&a.call(i,c)}},9454:(u,a,i)=>{var c=i(4239),p=i(7005);u.exports=function(o){return p(o)&&c(o)=="[object Arguments]"}},8458:(u,a,i)=>{var c=i(3560),p=i(5346),o=i(3218),m=i(346),v=/^\[object .+?Constructor\]$/,s=Function.prototype,g=Object.prototype,S=s.toString,z=g.hasOwnProperty,x=RegExp("^"+S.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");u.exports=function(T){return!(!o(T)||p(T))&&(c(T)?x:v).test(m(T))}},8749:(u,a,i)=>{var c=i(4239),p=i(1780),o=i(7005),m={};m["[object Float32Array]"]=m["[object Float64Array]"]=m["[object Int8Array]"]=m["[object Int16Array]"]=m["[object Int32Array]"]=m["[object Uint8Array]"]=m["[object Uint8ClampedArray]"]=m["[object Uint16Array]"]=m["[object Uint32Array]"]=!0,m["[object Arguments]"]=m["[object Array]"]=m["[object ArrayBuffer]"]=m["[object Boolean]"]=m["[object DataView]"]=m["[object Date]"]=m["[object Error]"]=m["[object Function]"]=m["[object Map]"]=m["[object Number]"]=m["[object Object]"]=m["[object RegExp]"]=m["[object Set]"]=m["[object String]"]=m["[object WeakMap]"]=!1,u.exports=function(v){return o(v)&&p(v.length)&&!!m[c(v)]}},313:(u,a,i)=>{var c=i(3218),p=i(5726),o=i(3498),m=Object.prototype.hasOwnProperty;u.exports=function(v){if(!c(v))return o(v);var s=p(v),g=[];for(var S in v)(S!="constructor"||!s&&m.call(v,S))&&g.push(S);return g}},2980:(u,a,i)=>{var c=i(6384),p=i(6556),o=i(8483),m=i(9783),v=i(3218),s=i(1704),g=i(6390);u.exports=function S(z,x,T,A,H){z!==x&&o(x,function(I,P){if(H||(H=new c),v(I))m(z,x,P,T,S,A,H);else{var O=A?A(g(z,P),I,P+"",z,x,H):void 0;O===void 0&&(O=I),p(z,P,O)}},s)}},9783:(u,a,i)=>{var c=i(6556),p=i(4626),o=i(7133),m=i(278),v=i(8517),s=i(5694),g=i(1469),S=i(9246),z=i(4144),x=i(3560),T=i(3218),A=i(8630),H=i(6719),I=i(6390),P=i(9881);u.exports=function(O,Z,Y,Q,et,lt,ft){var dt=I(O,Y),bt=I(Z,Y),At=ft.get(bt);if(At)c(O,Y,At);else{var Pt=lt?lt(dt,bt,Y+"",O,Z,ft):void 0,xt=Pt===void 0;if(xt){var se=g(bt),rt=!se&&z(bt),It=!se&&!rt&&H(bt);Pt=bt,se||rt||It?g(dt)?Pt=dt:S(dt)?Pt=m(dt):rt?(xt=!1,Pt=p(bt,!0)):It?(xt=!1,Pt=o(bt,!0)):Pt=[]:A(bt)||s(bt)?(Pt=dt,s(dt)?Pt=P(dt):T(dt)&&!x(dt)||(Pt=v(bt))):xt=!1}xt&&(ft.set(bt,Pt),et(Pt,bt,Q,lt,ft),ft.delete(bt)),c(O,Y,Pt)}}},5976:(u,a,i)=>{var c=i(6557),p=i(5357),o=i(61);u.exports=function(m,v){return o(p(m,v,c),m+"")}},6560:(u,a,i)=>{var c=i(5703),p=i(8777),o=i(6557),m=p?function(v,s){return p(v,"toString",{configurable:!0,enumerable:!1,value:c(s),writable:!0})}:o;u.exports=m},2545:u=>{u.exports=function(a,i){for(var c=-1,p=Array(a);++c<a;)p[c]=i(c);return p}},531:(u,a,i)=>{var c=i(2705),p=i(9932),o=i(1469),m=i(3448),v=c?c.prototype:void 0,s=v?v.toString:void 0;u.exports=function g(S){if(typeof S=="string")return S;if(o(S))return p(S,g)+"";if(m(S))return s?s.call(S):"";var z=S+"";return z=="0"&&1/S==-1/0?"-0":z}},1717:u=>{u.exports=function(a){return function(i){return a(i)}}},1811:(u,a,i)=>{var c=i(1469),p=i(5403),o=i(5514),m=i(9833);u.exports=function(v,s){return c(v)?v:p(v,s)?[v]:o(m(v))}},4318:(u,a,i)=>{var c=i(1149);u.exports=function(p){var o=new p.constructor(p.byteLength);return new c(o).set(new c(p)),o}},4626:(u,a,i)=>{u=i.nmd(u);var c=i(5639),p=a&&!a.nodeType&&a,o=p&&u&&!u.nodeType&&u,m=o&&o.exports===p?c.Buffer:void 0,v=m?m.allocUnsafe:void 0;u.exports=function(s,g){if(g)return s.slice();var S=s.length,z=v?v(S):new s.constructor(S);return s.copy(z),z}},7133:(u,a,i)=>{var c=i(4318);u.exports=function(p,o){var m=o?c(p.buffer):p.buffer;return new p.constructor(m,p.byteOffset,p.length)}},278:u=>{u.exports=function(a,i){var c=-1,p=a.length;for(i||(i=Array(p));++c<p;)i[c]=a[c];return i}},8363:(u,a,i)=>{var c=i(4865),p=i(9465);u.exports=function(o,m,v,s){var g=!v;v||(v={});for(var S=-1,z=m.length;++S<z;){var x=m[S],T=s?s(v[x],o[x],x,v,o):void 0;T===void 0&&(T=o[x]),g?p(v,x,T):c(v,x,T)}return v}},4429:(u,a,i)=>{var c=i(5639)["__core-js_shared__"];u.exports=c},1463:(u,a,i)=>{var c=i(5976),p=i(6612);u.exports=function(o){return c(function(m,v){var s=-1,g=v.length,S=g>1?v[g-1]:void 0,z=g>2?v[2]:void 0;for(S=o.length>3&&typeof S=="function"?(g--,S):void 0,z&&p(v[0],v[1],z)&&(S=g<3?void 0:S,g=1),m=Object(m);++s<g;){var x=v[s];x&&o(m,x,s,S)}return m})}},5063:u=>{u.exports=function(a){return function(i,c,p){for(var o=-1,m=Object(i),v=p(i),s=v.length;s--;){var g=v[a?s:++o];if(c(m[g],g,m)===!1)break}return i}}},8777:(u,a,i)=>{var c=i(852),p=function(){try{var o=c(Object,"defineProperty");return o({},"",{}),o}catch{}}();u.exports=p},1957:(u,a,i)=>{var c=typeof i.g=="object"&&i.g&&i.g.Object===Object&&i.g;u.exports=c},5050:(u,a,i)=>{var c=i(7019);u.exports=function(p,o){var m=p.__data__;return c(o)?m[typeof o=="string"?"string":"hash"]:m.map}},852:(u,a,i)=>{var c=i(8458),p=i(7801);u.exports=function(o,m){var v=p(o,m);return c(v)?v:void 0}},5924:(u,a,i)=>{var c=i(5569)(Object.getPrototypeOf,Object);u.exports=c},9607:(u,a,i)=>{var c=i(2705),p=Object.prototype,o=p.hasOwnProperty,m=p.toString,v=c?c.toStringTag:void 0;u.exports=function(s){var g=o.call(s,v),S=s[v];try{s[v]=void 0;var z=!0}catch{}var x=m.call(s);return z&&(g?s[v]=S:delete s[v]),x}},7801:u=>{u.exports=function(a,i){return a==null?void 0:a[i]}},222:(u,a,i)=>{var c=i(1811),p=i(5694),o=i(1469),m=i(5776),v=i(1780),s=i(327);u.exports=function(g,S,z){for(var x=-1,T=(S=c(S,g)).length,A=!1;++x<T;){var H=s(S[x]);if(!(A=g!=null&&z(g,H)))break;g=g[H]}return A||++x!=T?A:!!(T=g==null?0:g.length)&&v(T)&&m(H,T)&&(o(g)||p(g))}},1789:(u,a,i)=>{var c=i(4536);u.exports=function(){this.__data__=c?c(null):{},this.size=0}},401:u=>{u.exports=function(a){var i=this.has(a)&&delete this.__data__[a];return this.size-=i?1:0,i}},7667:(u,a,i)=>{var c=i(4536),p=Object.prototype.hasOwnProperty;u.exports=function(o){var m=this.__data__;if(c){var v=m[o];return v==="__lodash_hash_undefined__"?void 0:v}return p.call(m,o)?m[o]:void 0}},1327:(u,a,i)=>{var c=i(4536),p=Object.prototype.hasOwnProperty;u.exports=function(o){var m=this.__data__;return c?m[o]!==void 0:p.call(m,o)}},1866:(u,a,i)=>{var c=i(4536);u.exports=function(p,o){var m=this.__data__;return this.size+=this.has(p)?0:1,m[p]=c&&o===void 0?"__lodash_hash_undefined__":o,this}},8517:(u,a,i)=>{var c=i(3118),p=i(5924),o=i(5726);u.exports=function(m){return typeof m.constructor!="function"||o(m)?{}:c(p(m))}},5776:u=>{var a=/^(?:0|[1-9]\d*)$/;u.exports=function(i,c){var p=typeof i;return!!(c=c??9007199254740991)&&(p=="number"||p!="symbol"&&a.test(i))&&i>-1&&i%1==0&&i<c}},6612:(u,a,i)=>{var c=i(7813),p=i(8612),o=i(5776),m=i(3218);u.exports=function(v,s,g){if(!m(g))return!1;var S=typeof s;return!!(S=="number"?p(g)&&o(s,g.length):S=="string"&&s in g)&&c(g[s],v)}},5403:(u,a,i)=>{var c=i(1469),p=i(3448),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m=/^\w*$/;u.exports=function(v,s){if(c(v))return!1;var g=typeof v;return!(g!="number"&&g!="symbol"&&g!="boolean"&&v!=null&&!p(v))||m.test(v)||!o.test(v)||s!=null&&v in Object(s)}},7019:u=>{u.exports=function(a){var i=typeof a;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?a!=="__proto__":a===null}},5346:(u,a,i)=>{var c,p=i(4429),o=(c=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"";u.exports=function(m){return!!o&&o in m}},5726:u=>{var a=Object.prototype;u.exports=function(i){var c=i&&i.constructor;return i===(typeof c=="function"&&c.prototype||a)}},7040:u=>{u.exports=function(){this.__data__=[],this.size=0}},4125:(u,a,i)=>{var c=i(8470),p=Array.prototype.splice;u.exports=function(o){var m=this.__data__,v=c(m,o);return!(v<0)&&(v==m.length-1?m.pop():p.call(m,v,1),--this.size,!0)}},2117:(u,a,i)=>{var c=i(8470);u.exports=function(p){var o=this.__data__,m=c(o,p);return m<0?void 0:o[m][1]}},7518:(u,a,i)=>{var c=i(8470);u.exports=function(p){return c(this.__data__,p)>-1}},4705:(u,a,i)=>{var c=i(8470);u.exports=function(p,o){var m=this.__data__,v=c(m,p);return v<0?(++this.size,m.push([p,o])):m[v][1]=o,this}},4785:(u,a,i)=>{var c=i(1989),p=i(8407),o=i(7071);u.exports=function(){this.size=0,this.__data__={hash:new c,map:new(o||p),string:new c}}},1285:(u,a,i)=>{var c=i(5050);u.exports=function(p){var o=c(this,p).delete(p);return this.size-=o?1:0,o}},6e3:(u,a,i)=>{var c=i(5050);u.exports=function(p){return c(this,p).get(p)}},9916:(u,a,i)=>{var c=i(5050);u.exports=function(p){return c(this,p).has(p)}},5265:(u,a,i)=>{var c=i(5050);u.exports=function(p,o){var m=c(this,p),v=m.size;return m.set(p,o),this.size+=m.size==v?0:1,this}},4523:(u,a,i)=>{var c=i(8306);u.exports=function(p){var o=c(p,function(v){return m.size===500&&m.clear(),v}),m=o.cache;return o}},4536:(u,a,i)=>{var c=i(852)(Object,"create");u.exports=c},3498:u=>{u.exports=function(a){var i=[];if(a!=null)for(var c in Object(a))i.push(c);return i}},1167:(u,a,i)=>{u=i.nmd(u);var c=i(1957),p=a&&!a.nodeType&&a,o=p&&u&&!u.nodeType&&u,m=o&&o.exports===p&&c.process,v=function(){try{var s=o&&o.require&&o.require("util").types;return s||m&&m.binding&&m.binding("util")}catch{}}();u.exports=v},2333:u=>{var a=Object.prototype.toString;u.exports=function(i){return a.call(i)}},5569:u=>{u.exports=function(a,i){return function(c){return a(i(c))}}},5357:(u,a,i)=>{var c=i(6874),p=Math.max;u.exports=function(o,m,v){return m=p(m===void 0?o.length-1:m,0),function(){for(var s=arguments,g=-1,S=p(s.length-m,0),z=Array(S);++g<S;)z[g]=s[m+g];g=-1;for(var x=Array(m+1);++g<m;)x[g]=s[g];return x[m]=v(z),c(o,this,x)}}},5639:(u,a,i)=>{var c=i(1957),p=typeof self=="object"&&self&&self.Object===Object&&self,o=c||p||Function("return this")();u.exports=o},6390:u=>{u.exports=function(a,i){if((i!=="constructor"||typeof a[i]!="function")&&i!="__proto__")return a[i]}},61:(u,a,i)=>{var c=i(6560),p=i(1275)(c);u.exports=p},1275:u=>{var a=Date.now;u.exports=function(i){var c=0,p=0;return function(){var o=a(),m=16-(o-p);if(p=o,m>0){if(++c>=800)return arguments[0]}else c=0;return i.apply(void 0,arguments)}}},7465:(u,a,i)=>{var c=i(8407);u.exports=function(){this.__data__=new c,this.size=0}},3779:u=>{u.exports=function(a){var i=this.__data__,c=i.delete(a);return this.size=i.size,c}},7599:u=>{u.exports=function(a){return this.__data__.get(a)}},4758:u=>{u.exports=function(a){return this.__data__.has(a)}},4309:(u,a,i)=>{var c=i(8407),p=i(7071),o=i(3369);u.exports=function(m,v){var s=this.__data__;if(s instanceof c){var g=s.__data__;if(!p||g.length<199)return g.push([m,v]),this.size=++s.size,this;s=this.__data__=new o(g)}return s.set(m,v),this.size=s.size,this}},5514:(u,a,i)=>{var c=i(4523),p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,m=c(function(v){var s=[];return v.charCodeAt(0)===46&&s.push(""),v.replace(p,function(g,S,z,x){s.push(z?x.replace(o,"$1"):S||g)}),s});u.exports=m},327:(u,a,i)=>{var c=i(3448);u.exports=function(p){if(typeof p=="string"||c(p))return p;var o=p+"";return o=="0"&&1/p==-1/0?"-0":o}},346:u=>{var a=Function.prototype.toString;u.exports=function(i){if(i!=null){try{return a.call(i)}catch{}try{return i+""}catch{}}return""}},5703:u=>{u.exports=function(a){return function(){return a}}},7813:u=>{u.exports=function(a,i){return a===i||a!=a&&i!=i}},7361:(u,a,i)=>{var c=i(7786);u.exports=function(p,o,m){var v=p==null?void 0:c(p,o);return v===void 0?m:v}},8721:(u,a,i)=>{var c=i(8565),p=i(222);u.exports=function(o,m){return o!=null&&p(o,m,c)}},6557:u=>{u.exports=function(a){return a}},5694:(u,a,i)=>{var c=i(9454),p=i(7005),o=Object.prototype,m=o.hasOwnProperty,v=o.propertyIsEnumerable,s=c(function(){return arguments}())?c:function(g){return p(g)&&m.call(g,"callee")&&!v.call(g,"callee")};u.exports=s},1469:u=>{var a=Array.isArray;u.exports=a},8612:(u,a,i)=>{var c=i(3560),p=i(1780);u.exports=function(o){return o!=null&&p(o.length)&&!c(o)}},9246:(u,a,i)=>{var c=i(8612),p=i(7005);u.exports=function(o){return p(o)&&c(o)}},4144:(u,a,i)=>{u=i.nmd(u);var c=i(5639),p=i(5062),o=a&&!a.nodeType&&a,m=o&&u&&!u.nodeType&&u,v=m&&m.exports===o?c.Buffer:void 0,s=(v?v.isBuffer:void 0)||p;u.exports=s},3560:(u,a,i)=>{var c=i(4239),p=i(3218);u.exports=function(o){if(!p(o))return!1;var m=c(o);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}},1780:u=>{u.exports=function(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=9007199254740991}},3218:u=>{u.exports=function(a){var i=typeof a;return a!=null&&(i=="object"||i=="function")}},7005:u=>{u.exports=function(a){return a!=null&&typeof a=="object"}},8630:(u,a,i)=>{var c=i(4239),p=i(5924),o=i(7005),m=Function.prototype,v=Object.prototype,s=m.toString,g=v.hasOwnProperty,S=s.call(Object);u.exports=function(z){if(!o(z)||c(z)!="[object Object]")return!1;var x=p(z);if(x===null)return!0;var T=g.call(x,"constructor")&&x.constructor;return typeof T=="function"&&T instanceof T&&s.call(T)==S}},3448:(u,a,i)=>{var c=i(4239),p=i(7005);u.exports=function(o){return typeof o=="symbol"||p(o)&&c(o)=="[object Symbol]"}},6719:(u,a,i)=>{var c=i(8749),p=i(1717),o=i(1167),m=o&&o.isTypedArray,v=m?p(m):c;u.exports=v},1704:(u,a,i)=>{var c=i(4636),p=i(313),o=i(8612);u.exports=function(m){return o(m)?c(m,!0):p(m)}},8306:(u,a,i)=>{var c=i(3369);function p(o,m){if(typeof o!="function"||m!=null&&typeof m!="function")throw new TypeError("Expected a function");var v=function(){var s=arguments,g=m?m.apply(this,s):s[0],S=v.cache;if(S.has(g))return S.get(g);var z=o.apply(this,s);return v.cache=S.set(g,z)||S,z};return v.cache=new(p.Cache||c),v}p.Cache=c,u.exports=p},2492:(u,a,i)=>{var c=i(2980),p=i(1463)(function(o,m,v){c(o,m,v)});u.exports=p},5062:u=>{u.exports=function(){return!1}},9881:(u,a,i)=>{var c=i(8363),p=i(1704);u.exports=function(o){return c(o,p(o))}},9833:(u,a,i)=>{var c=i(531);u.exports=function(p){return p==null?"":c(p)}},2676:function(u){u.exports=function(){function a(V,w){if(!(V instanceof w))throw new TypeError("Cannot call a class as a function")}function i(V,w){for(var C=0;C<w.length;C++){var D=w[C];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(V,D.key,D)}}function c(V,w,C){return w&&i(V.prototype,w),C&&i(V,C),V}var p=function(){function V(w,C){this.next=null,this.key=w,this.data=C,this.left=null,this.right=null}return V}();function o(V,w){return V>w?1:V<w?-1:0}function m(V,w,C){for(var D=new p(null,null),F=D,q=D;;){var it=C(V,w.key);if(it<0){if(w.left===null)break;if(C(V,w.left.key)<0){var ot=w.left;if(w.left=ot.right,ot.right=w,(w=ot).left===null)break}q.left=w,q=w,w=w.left}else{if(!(it>0)||w.right===null||C(V,w.right.key)>0&&(ot=w.right,w.right=ot.left,ot.left=w,(w=ot).right===null))break;F.right=w,F=w,w=w.right}}return F.right=w.left,q.left=w.right,w.left=D.right,w.right=D.left,w}function v(V,w,C,D){var F=new p(V,w);if(C===null)return F.left=F.right=null,F;var q=D(V,(C=m(V,C,D)).key);return q<0?(F.left=C.left,F.right=C,C.left=null):q>=0&&(F.right=C.right,F.left=C,C.right=null),F}function s(V,w,C){var D=null,F=null;if(w){var q=C((w=m(V,w,C)).key,V);q===0?(D=w.left,F=w.right):q<0?(F=w.right,w.right=null,D=w):(D=w.left,w.left=null,F=w)}return{left:D,right:F}}function g(V,w,C){return w===null?V:(V===null||((w=m(V.key,w,C)).left=V),w)}function S(V,w,C,D,F){if(V){D(w+(C?"└── ":"├── ")+F(V)+`
`);var q=w+(C?"    ":"│   ");V.left&&S(V.left,q,!1,D,F),V.right&&S(V.right,q,!0,D,F)}}var z=function(){function V(w){w===void 0&&(w=o),this._root=null,this._size=0,this._comparator=w}return V.prototype.insert=function(w,C){return this._size++,this._root=v(w,C,this._root,this._comparator)},V.prototype.add=function(w,C){var D=new p(w,C);this._root===null&&(D.left=D.right=null,this._size++,this._root=D);var F=this._comparator,q=m(w,this._root,F),it=F(w,q.key);return it===0?this._root=q:(it<0?(D.left=q.left,D.right=q,q.left=null):it>0&&(D.right=q.right,D.left=q,q.right=null),this._size++,this._root=D),this._root},V.prototype.remove=function(w){this._root=this._remove(w,this._root,this._comparator)},V.prototype._remove=function(w,C,D){var F;return C===null?null:D(w,(C=m(w,C,D)).key)===0?(C.left===null?F=C.right:(F=m(w,C.left,D)).right=C.right,this._size--,F):C},V.prototype.pop=function(){var w=this._root;if(w){for(;w.left;)w=w.left;return this._root=m(w.key,this._root,this._comparator),this._root=this._remove(w.key,this._root,this._comparator),{key:w.key,data:w.data}}return null},V.prototype.findStatic=function(w){for(var C=this._root,D=this._comparator;C;){var F=D(w,C.key);if(F===0)return C;C=F<0?C.left:C.right}return null},V.prototype.find=function(w){return this._root&&(this._root=m(w,this._root,this._comparator),this._comparator(w,this._root.key)!==0)?null:this._root},V.prototype.contains=function(w){for(var C=this._root,D=this._comparator;C;){var F=D(w,C.key);if(F===0)return!0;C=F<0?C.left:C.right}return!1},V.prototype.forEach=function(w,C){for(var D=this._root,F=[],q=!1;!q;)D!==null?(F.push(D),D=D.left):F.length!==0?(D=F.pop(),w.call(C,D),D=D.right):q=!0;return this},V.prototype.range=function(w,C,D,F){for(var q=[],it=this._comparator,ot=this._root;q.length!==0||ot;)if(ot)q.push(ot),ot=ot.left;else{if(it((ot=q.pop()).key,C)>0)break;if(it(ot.key,w)>=0&&D.call(F,ot))return this;ot=ot.right}return this},V.prototype.keys=function(){var w=[];return this.forEach(function(C){var D=C.key;return w.push(D)}),w},V.prototype.values=function(){var w=[];return this.forEach(function(C){var D=C.data;return w.push(D)}),w},V.prototype.min=function(){return this._root?this.minNode(this._root).key:null},V.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},V.prototype.minNode=function(w){if(w===void 0&&(w=this._root),w)for(;w.left;)w=w.left;return w},V.prototype.maxNode=function(w){if(w===void 0&&(w=this._root),w)for(;w.right;)w=w.right;return w},V.prototype.at=function(w){for(var C=this._root,D=!1,F=0,q=[];!D;)if(C)q.push(C),C=C.left;else if(q.length>0){if(C=q.pop(),F===w)return C;F++,C=C.right}else D=!0;return null},V.prototype.next=function(w){var C=this._root,D=null;if(w.right){for(D=w.right;D.left;)D=D.left;return D}for(var F=this._comparator;C;){var q=F(w.key,C.key);if(q===0)break;q<0?(D=C,C=C.left):C=C.right}return D},V.prototype.prev=function(w){var C=this._root,D=null;if(w.left!==null){for(D=w.left;D.right;)D=D.right;return D}for(var F=this._comparator;C;){var q=F(w.key,C.key);if(q===0)break;q<0?C=C.left:(D=C,C=C.right)}return D},V.prototype.clear=function(){return this._root=null,this._size=0,this},V.prototype.toList=function(){return A(this._root)},V.prototype.load=function(w,C,D){C===void 0&&(C=[]),D===void 0&&(D=!1);var F=w.length,q=this._comparator;if(D&&P(w,C,0,F-1,q),this._root===null)this._root=x(w,C,0,F),this._size=F;else{var it=I(this.toList(),T(w,C),q);F=this._size+F,this._root=H({head:it},0,F)}return this},V.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(V.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),V.prototype.toString=function(w){w===void 0&&(w=function(D){return String(D.key)});var C=[];return S(this._root,"",!0,function(D){return C.push(D)},w),C.join("")},V.prototype.update=function(w,C,D){var F=this._comparator,q=s(w,this._root,F),it=q.left,ot=q.right;F(w,C)<0?ot=v(C,D,ot,F):it=v(C,D,it,F),this._root=g(it,ot,F)},V.prototype.split=function(w){return s(w,this._root,this._comparator)},V}();function x(V,w,C,D){var F=D-C;if(F>0){var q=C+Math.floor(F/2),it=V[q],ot=w[q],yt=new p(it,ot);return yt.left=x(V,w,C,q),yt.right=x(V,w,q+1,D),yt}return null}function T(V,w){for(var C=new p(null,null),D=C,F=0;F<V.length;F++)D=D.next=new p(V[F],w[F]);return D.next=null,C.next}function A(V){for(var w=V,C=[],D=!1,F=new p(null,null),q=F;!D;)w?(C.push(w),w=w.left):C.length>0?w=(w=q=q.next=C.pop()).right:D=!0;return q.next=null,F.next}function H(V,w,C){var D=C-w;if(D>0){var F=w+Math.floor(D/2),q=H(V,w,F),it=V.head;return it.left=q,V.head=V.head.next,it.right=H(V,F+1,C),it}return null}function I(V,w,C){for(var D=new p(null,null),F=D,q=V,it=w;q!==null&&it!==null;)C(q.key,it.key)<0?(F.next=q,q=q.next):(F.next=it,it=it.next),F=F.next;return q!==null?F.next=q:it!==null&&(F.next=it),D.next}function P(V,w,C,D,F){if(!(C>=D)){for(var q=V[C+D>>1],it=C-1,ot=D+1;;){do it++;while(F(V[it],q)<0);do ot--;while(F(V[ot],q)>0);if(it>=ot)break;var yt=V[it];V[it]=V[ot],V[ot]=yt,yt=w[it],w[it]=w[ot],w[ot]=yt}P(V,w,C,ot,F),P(V,w,ot+1,D,F)}}var O=function(V,w){return V.ll.x<=w.x&&w.x<=V.ur.x&&V.ll.y<=w.y&&w.y<=V.ur.y},Z=function(V,w){if(w.ur.x<V.ll.x||V.ur.x<w.ll.x||w.ur.y<V.ll.y||V.ur.y<w.ll.y)return null;var C=V.ll.x<w.ll.x?w.ll.x:V.ll.x,D=V.ur.x<w.ur.x?V.ur.x:w.ur.x;return{ll:{x:C,y:V.ll.y<w.ll.y?w.ll.y:V.ll.y},ur:{x:D,y:V.ur.y<w.ur.y?V.ur.y:w.ur.y}}},Y=Number.EPSILON;Y===void 0&&(Y=Math.pow(2,-52));var Q=Y*Y,et=function(V,w){if(-Y<V&&V<Y&&-Y<w&&w<Y)return 0;var C=V-w;return C*C<Q*V*w?0:V<w?-1:1},lt=function(){function V(){a(this,V),this.reset()}return c(V,[{key:"reset",value:function(){this.xRounder=new ft,this.yRounder=new ft}},{key:"round",value:function(w,C){return{x:this.xRounder.round(w),y:this.yRounder.round(C)}}}]),V}(),ft=function(){function V(){a(this,V),this.tree=new z,this.round(0)}return c(V,[{key:"round",value:function(w){var C=this.tree.add(w),D=this.tree.prev(C);if(D!==null&&et(C.key,D.key)===0)return this.tree.remove(w),D.key;var F=this.tree.next(C);return F!==null&&et(C.key,F.key)===0?(this.tree.remove(w),F.key):w}}]),V}(),dt=new lt,bt=function(V,w){return V.x*w.y-V.y*w.x},At=function(V,w){return V.x*w.x+V.y*w.y},Pt=function(V,w,C){var D={x:w.x-V.x,y:w.y-V.y},F={x:C.x-V.x,y:C.y-V.y},q=bt(D,F);return et(q,0)},xt=function(V){return Math.sqrt(At(V,V))},se=function(V,w,C){var D={x:w.x-V.x,y:w.y-V.y},F={x:C.x-V.x,y:C.y-V.y};return bt(F,D)/xt(F)/xt(D)},rt=function(V,w,C){var D={x:w.x-V.x,y:w.y-V.y},F={x:C.x-V.x,y:C.y-V.y};return At(F,D)/xt(F)/xt(D)},It=function(V,w,C){return w.y===0?null:{x:V.x+w.x/w.y*(C-V.y),y:C}},St=function(V,w,C){return w.x===0?null:{x:C,y:V.y+w.y/w.x*(C-V.x)}},Et=function(V,w,C,D){if(w.x===0)return St(C,D,V.x);if(D.x===0)return St(V,w,C.x);if(w.y===0)return It(C,D,V.y);if(D.y===0)return It(V,w,C.y);var F=bt(w,D);if(F==0)return null;var q={x:C.x-V.x,y:C.y-V.y},it=bt(q,w)/F,ot=bt(q,D)/F;return{x:(V.x+ot*w.x+(C.x+it*D.x))/2,y:(V.y+ot*w.y+(C.y+it*D.y))/2}},Ut=function(){function V(w,C){a(this,V),w.events===void 0?w.events=[this]:w.events.push(this),this.point=w,this.isLeft=C}return c(V,null,[{key:"compare",value:function(w,C){var D=V.comparePoints(w.point,C.point);return D!==0?D:(w.point!==C.point&&w.link(C),w.isLeft!==C.isLeft?w.isLeft?1:-1:be.compare(w.segment,C.segment))}},{key:"comparePoints",value:function(w,C){return w.x<C.x?-1:w.x>C.x?1:w.y<C.y?-1:w.y>C.y?1:0}}]),c(V,[{key:"link",value:function(w){if(w.point===this.point)throw new Error("Tried to link already linked events");for(var C=w.point.events,D=0,F=C.length;D<F;D++){var q=C[D];this.point.events.push(q),q.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var w=this.point.events.length,C=0;C<w;C++){var D=this.point.events[C];if(D.segment.consumedBy===void 0)for(var F=C+1;F<w;F++){var q=this.point.events[F];q.consumedBy===void 0&&D.otherSE.point.events===q.otherSE.point.events&&D.segment.consume(q.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var w=[],C=0,D=this.point.events.length;C<D;C++){var F=this.point.events[C];F!==this&&!F.segment.ringOut&&F.segment.isInResult()&&w.push(F)}return w}},{key:"getLeftmostComparator",value:function(w){var C=this,D=new Map,F=function(q){var it=q.otherSE;D.set(q,{sine:se(C.point,w.point,it.point),cosine:rt(C.point,w.point,it.point)})};return function(q,it){D.has(q)||F(q),D.has(it)||F(it);var ot=D.get(q),yt=ot.sine,W=ot.cosine,Kt=D.get(it),le=Kt.sine,ne=Kt.cosine;return yt>=0&&le>=0?W<ne?1:W>ne?-1:0:yt<0&&le<0?W<ne?-1:W>ne?1:0:le<yt?-1:le>yt?1:0}}}]),V}(),Ee=0,be=function(){function V(w,C,D,F){a(this,V),this.id=++Ee,this.leftSE=w,w.segment=this,w.otherSE=C,this.rightSE=C,C.segment=this,C.otherSE=w,this.rings=D,this.windings=F}return c(V,null,[{key:"compare",value:function(w,C){var D=w.leftSE.point.x,F=C.leftSE.point.x,q=w.rightSE.point.x,it=C.rightSE.point.x;if(it<D)return 1;if(q<F)return-1;var ot=w.leftSE.point.y,yt=C.leftSE.point.y,W=w.rightSE.point.y,Kt=C.rightSE.point.y;if(D<F){if(yt<ot&&yt<W)return 1;if(yt>ot&&yt>W)return-1;var le=w.comparePoint(C.leftSE.point);if(le<0)return 1;if(le>0)return-1;var ne=C.comparePoint(w.rightSE.point);return ne!==0?ne:-1}if(D>F){if(ot<yt&&ot<Kt)return-1;if(ot>yt&&ot>Kt)return 1;var ke=C.comparePoint(w.leftSE.point);if(ke!==0)return ke;var qt=w.comparePoint(C.rightSE.point);return qt<0?1:qt>0?-1:1}if(ot<yt)return-1;if(ot>yt)return 1;if(q<it){var ve=C.comparePoint(w.rightSE.point);if(ve!==0)return ve}if(q>it){var Se=w.comparePoint(C.rightSE.point);if(Se<0)return 1;if(Se>0)return-1}if(q!==it){var Ne=W-ot,Ae=q-D,Ve=Kt-yt,Fe=it-F;if(Ne>Ae&&Ve<Fe)return 1;if(Ne<Ae&&Ve>Fe)return-1}return q>it?1:q<it||W<Kt?-1:W>Kt?1:w.id<C.id?-1:w.id>C.id?1:0}}]),c(V,[{key:"replaceRightSE",value:function(w){this.rightSE=w,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var w=this.leftSE.point.y,C=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:w<C?w:C},ur:{x:this.rightSE.point.x,y:w>C?w:C}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(w){return w.x===this.leftSE.point.x&&w.y===this.leftSE.point.y||w.x===this.rightSE.point.x&&w.y===this.rightSE.point.y}},{key:"comparePoint",value:function(w){if(this.isAnEndpoint(w))return 0;var C=this.leftSE.point,D=this.rightSE.point,F=this.vector();if(C.x===D.x)return w.x===C.x?0:w.x<C.x?1:-1;var q=(w.y-C.y)/F.y,it=C.x+q*F.x;if(w.x===it)return 0;var ot=(w.x-C.x)/F.x,yt=C.y+ot*F.y;return w.y===yt?0:w.y<yt?-1:1}},{key:"getIntersection",value:function(w){var C=this.bbox(),D=w.bbox(),F=Z(C,D);if(F===null)return null;var q=this.leftSE.point,it=this.rightSE.point,ot=w.leftSE.point,yt=w.rightSE.point,W=O(C,ot)&&this.comparePoint(ot)===0,Kt=O(D,q)&&w.comparePoint(q)===0,le=O(C,yt)&&this.comparePoint(yt)===0,ne=O(D,it)&&w.comparePoint(it)===0;if(Kt&&W)return ne&&!le?it:!ne&&le?yt:null;if(Kt)return le&&q.x===yt.x&&q.y===yt.y?null:q;if(W)return ne&&it.x===ot.x&&it.y===ot.y?null:ot;if(ne&&le)return null;if(ne)return it;if(le)return yt;var ke=Et(q,this.vector(),ot,w.vector());return ke===null?null:O(F,ke)?dt.round(ke.x,ke.y):null}},{key:"split",value:function(w){var C=[],D=w.events!==void 0,F=new Ut(w,!0),q=new Ut(w,!1),it=this.rightSE;this.replaceRightSE(q),C.push(q),C.push(F);var ot=new V(F,it,this.rings.slice(),this.windings.slice());return Ut.comparePoints(ot.leftSE.point,ot.rightSE.point)>0&&ot.swapEvents(),Ut.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),D&&(F.checkForConsuming(),q.checkForConsuming()),C}},{key:"swapEvents",value:function(){var w=this.rightSE;this.rightSE=this.leftSE,this.leftSE=w,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var C=0,D=this.windings.length;C<D;C++)this.windings[C]*=-1}},{key:"consume",value:function(w){for(var C=this,D=w;C.consumedBy;)C=C.consumedBy;for(;D.consumedBy;)D=D.consumedBy;var F=V.compare(C,D);if(F!==0){if(F>0){var q=C;C=D,D=q}if(C.prev===D){var it=C;C=D,D=it}for(var ot=0,yt=D.rings.length;ot<yt;ot++){var W=D.rings[ot],Kt=D.windings[ot],le=C.rings.indexOf(W);le===-1?(C.rings.push(W),C.windings.push(Kt)):C.windings[le]+=Kt}D.rings=null,D.windings=null,D.consumedBy=C,D.leftSE.consumedBy=C.leftSE,D.rightSE.consumedBy=C.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var w=this.prev.consumedBy||this.prev;this._beforeState=w.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var w=this.beforeState();this._afterState={rings:w.rings.slice(0),windings:w.windings.slice(0),multiPolys:[]};for(var C=this._afterState.rings,D=this._afterState.windings,F=this._afterState.multiPolys,q=0,it=this.rings.length;q<it;q++){var ot=this.rings[q],yt=this.windings[q],W=C.indexOf(ot);W===-1?(C.push(ot),D.push(yt)):D[W]+=yt}for(var Kt=[],le=[],ne=0,ke=C.length;ne<ke;ne++)if(D[ne]!==0){var qt=C[ne],ve=qt.poly;if(le.indexOf(ve)===-1)if(qt.isExterior)Kt.push(ve);else{le.indexOf(ve)===-1&&le.push(ve);var Se=Kt.indexOf(qt.poly);Se!==-1&&Kt.splice(Se,1)}}for(var Ne=0,Ae=Kt.length;Ne<Ae;Ne++){var Ve=Kt[Ne].multiPoly;F.indexOf(Ve)===-1&&F.push(Ve)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var w=this.beforeState().multiPolys,C=this.afterState().multiPolys;switch(Ze.type){case"union":var D=w.length===0,F=C.length===0;this._isInResult=D!==F;break;case"intersection":var q,it;w.length<C.length?(q=w.length,it=C.length):(q=C.length,it=w.length),this._isInResult=it===Ze.numMultiPolys&&q<it;break;case"xor":var ot=Math.abs(w.length-C.length);this._isInResult=ot%2==1;break;case"difference":var yt=function(W){return W.length===1&&W[0].isSubject};this._isInResult=yt(w)!==yt(C);break;default:throw new Error("Unrecognized operation type found ".concat(Ze.type))}return this._isInResult}}],[{key:"fromRing",value:function(w,C,D){var F,q,it,ot=Ut.comparePoints(w,C);if(ot<0)F=w,q=C,it=1;else{if(!(ot>0))throw new Error("Tried to create degenerate segment at [".concat(w.x,", ").concat(w.y,"]"));F=C,q=w,it=-1}return new V(new Ut(F,!0),new Ut(q,!1),[D],[it])}}]),V}(),he=function(){function V(w,C,D){if(a(this,V),!Array.isArray(w)||w.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=C,this.isExterior=D,this.segments=[],typeof w[0][0]!="number"||typeof w[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var F=dt.round(w[0][0],w[0][1]);this.bbox={ll:{x:F.x,y:F.y},ur:{x:F.x,y:F.y}};for(var q=F,it=1,ot=w.length;it<ot;it++){if(typeof w[it][0]!="number"||typeof w[it][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var yt=dt.round(w[it][0],w[it][1]);yt.x===q.x&&yt.y===q.y||(this.segments.push(be.fromRing(q,yt,this)),yt.x<this.bbox.ll.x&&(this.bbox.ll.x=yt.x),yt.y<this.bbox.ll.y&&(this.bbox.ll.y=yt.y),yt.x>this.bbox.ur.x&&(this.bbox.ur.x=yt.x),yt.y>this.bbox.ur.y&&(this.bbox.ur.y=yt.y),q=yt)}F.x===q.x&&F.y===q.y||this.segments.push(be.fromRing(q,F,this))}return c(V,[{key:"getSweepEvents",value:function(){for(var w=[],C=0,D=this.segments.length;C<D;C++){var F=this.segments[C];w.push(F.leftSE),w.push(F.rightSE)}return w}}]),V}(),ee=function(){function V(w,C){if(a(this,V),!Array.isArray(w))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new he(w[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var D=1,F=w.length;D<F;D++){var q=new he(w[D],this,!1);q.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=q.bbox.ll.x),q.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=q.bbox.ll.y),q.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=q.bbox.ur.x),q.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=q.bbox.ur.y),this.interiorRings.push(q)}this.multiPoly=C}return c(V,[{key:"getSweepEvents",value:function(){for(var w=this.exteriorRing.getSweepEvents(),C=0,D=this.interiorRings.length;C<D;C++)for(var F=this.interiorRings[C].getSweepEvents(),q=0,it=F.length;q<it;q++)w.push(F[q]);return w}}]),V}(),Ke=function(){function V(w,C){if(a(this,V),!Array.isArray(w))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof w[0][0][0]=="number"&&(w=[w])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var D=0,F=w.length;D<F;D++){var q=new ee(w[D],this);q.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=q.bbox.ll.x),q.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=q.bbox.ll.y),q.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=q.bbox.ur.x),q.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=q.bbox.ur.y),this.polys.push(q)}this.isSubject=C}return c(V,[{key:"getSweepEvents",value:function(){for(var w=[],C=0,D=this.polys.length;C<D;C++)for(var F=this.polys[C].getSweepEvents(),q=0,it=F.length;q<it;q++)w.push(F[q]);return w}}]),V}(),ze=function(){function V(w){a(this,V),this.events=w;for(var C=0,D=w.length;C<D;C++)w[C].segment.ringOut=this;this.poly=null}return c(V,null,[{key:"factory",value:function(w){for(var C=[],D=0,F=w.length;D<F;D++){var q=w[D];if(q.isInResult()&&!q.ringOut){for(var it=null,ot=q.leftSE,yt=q.rightSE,W=[ot],Kt=ot.point,le=[];it=ot,ot=yt,W.push(ot),ot.point!==Kt;)for(;;){var ne=ot.getAvailableLinkedEvents();if(ne.length===0){var ke=W[0].point,qt=W[W.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(ke.x,",")+" ".concat(ke.y,"]. Last matching segment found ends at")+" [".concat(qt.x,", ").concat(qt.y,"]."))}if(ne.length===1){yt=ne[0].otherSE;break}for(var ve=null,Se=0,Ne=le.length;Se<Ne;Se++)if(le[Se].point===ot.point){ve=Se;break}if(ve===null){le.push({index:W.length,point:ot.point});var Ae=ot.getLeftmostComparator(it);yt=ne.sort(Ae)[0].otherSE;break}var Ve=le.splice(ve)[0],Fe=W.splice(Ve.index);Fe.unshift(Fe[0].otherSE),C.push(new V(Fe.reverse()))}C.push(new V(W))}}return C}}]),c(V,[{key:"getGeom",value:function(){for(var w=this.events[0].point,C=[w],D=1,F=this.events.length-1;D<F;D++){var q=this.events[D].point,it=this.events[D+1].point;Pt(q,w,it)!==0&&(C.push(q),w=q)}if(C.length===1)return null;var ot=C[0],yt=C[1];Pt(ot,w,yt)===0&&C.shift(),C.push(C[0]);for(var W=this.isExteriorRing()?1:-1,Kt=this.isExteriorRing()?0:C.length-1,le=this.isExteriorRing()?C.length:-1,ne=[],ke=Kt;ke!=le;ke+=W)ne.push([C[ke].x,C[ke].y]);return ne}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var w=this.enclosingRing();this._isExteriorRing=!w||!w.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var w=this.events[0],C=1,D=this.events.length;C<D;C++){var F=this.events[C];Ut.compare(w,F)>0&&(w=F)}for(var q=w.segment.prevInResult(),it=q?q.prevInResult():null;;){if(!q)return null;if(!it)return q.ringOut;if(it.ringOut!==q.ringOut)return it.ringOut.enclosingRing()!==q.ringOut?q.ringOut:q.ringOut.enclosingRing();q=it.prevInResult(),it=q?q.prevInResult():null}}}]),V}(),_n=function(){function V(w){a(this,V),this.exteriorRing=w,w.poly=this,this.interiorRings=[]}return c(V,[{key:"addInterior",value:function(w){this.interiorRings.push(w),w.poly=this}},{key:"getGeom",value:function(){var w=[this.exteriorRing.getGeom()];if(w[0]===null)return null;for(var C=0,D=this.interiorRings.length;C<D;C++){var F=this.interiorRings[C].getGeom();F!==null&&w.push(F)}return w}}]),V}(),Xe=function(){function V(w){a(this,V),this.rings=w,this.polys=this._composePolys(w)}return c(V,[{key:"getGeom",value:function(){for(var w=[],C=0,D=this.polys.length;C<D;C++){var F=this.polys[C].getGeom();F!==null&&w.push(F)}return w}},{key:"_composePolys",value:function(w){for(var C=[],D=0,F=w.length;D<F;D++){var q=w[D];if(!q.poly)if(q.isExteriorRing())C.push(new _n(q));else{var it=q.enclosingRing();it.poly||C.push(new _n(it)),it.poly.addInterior(q)}}return C}}]),V}(),En=function(){function V(w){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:be.compare;a(this,V),this.queue=w,this.tree=new z(C),this.segments=[]}return c(V,[{key:"process",value:function(w){var C=w.segment,D=[];if(w.consumedBy)return w.isLeft?this.queue.remove(w.otherSE):this.tree.remove(C),D;var F=w.isLeft?this.tree.insert(C):this.tree.find(C);if(!F)throw new Error("Unable to find segment #".concat(C.id," ")+"[".concat(C.leftSE.point.x,", ").concat(C.leftSE.point.y,"] -> ")+"[".concat(C.rightSE.point.x,", ").concat(C.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var q=F,it=F,ot=void 0,yt=void 0;ot===void 0;)(q=this.tree.prev(q))===null?ot=null:q.key.consumedBy===void 0&&(ot=q.key);for(;yt===void 0;)(it=this.tree.next(it))===null?yt=null:it.key.consumedBy===void 0&&(yt=it.key);if(w.isLeft){var W=null;if(ot){var Kt=ot.getIntersection(C);if(Kt!==null&&(C.isAnEndpoint(Kt)||(W=Kt),!ot.isAnEndpoint(Kt)))for(var le=this._splitSafely(ot,Kt),ne=0,ke=le.length;ne<ke;ne++)D.push(le[ne])}var qt=null;if(yt){var ve=yt.getIntersection(C);if(ve!==null&&(C.isAnEndpoint(ve)||(qt=ve),!yt.isAnEndpoint(ve)))for(var Se=this._splitSafely(yt,ve),Ne=0,Ae=Se.length;Ne<Ae;Ne++)D.push(Se[Ne])}if(W!==null||qt!==null){var Ve=null;Ve=W===null?qt:qt===null||Ut.comparePoints(W,qt)<=0?W:qt,this.queue.remove(C.rightSE),D.push(C.rightSE);for(var Fe=C.split(Ve),nn=0,$e=Fe.length;nn<$e;nn++)D.push(Fe[nn])}D.length>0?(this.tree.remove(C),D.push(w)):(this.segments.push(C),C.prev=ot)}else{if(ot&&yt){var qe=ot.getIntersection(yt);if(qe!==null){if(!ot.isAnEndpoint(qe))for(var tn=this._splitSafely(ot,qe),hn=0,Tn=tn.length;hn<Tn;hn++)D.push(tn[hn]);if(!yt.isAnEndpoint(qe))for(var Ue=this._splitSafely(yt,qe),He=0,vn=Ue.length;He<vn;He++)D.push(Ue[He])}}this.tree.remove(C)}return D}},{key:"_splitSafely",value:function(w,C){this.tree.remove(w);var D=w.rightSE;this.queue.remove(D);var F=w.split(C);return F.push(D),w.consumedBy===void 0&&this.tree.insert(w),F}}]),V}(),en=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,gn=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Ze=new(function(){function V(){a(this,V)}return c(V,[{key:"run",value:function(w,C,D){Ze.type=w,dt.reset();for(var F=[new Ke(C,!0)],q=0,it=D.length;q<it;q++)F.push(new Ke(D[q],!1));if(Ze.numMultiPolys=F.length,Ze.type==="difference")for(var ot=F[0],yt=1;yt<F.length;)Z(F[yt].bbox,ot.bbox)!==null?yt++:F.splice(yt,1);if(Ze.type==="intersection"){for(var W=0,Kt=F.length;W<Kt;W++)for(var le=F[W],ne=W+1,ke=F.length;ne<ke;ne++)if(Z(le.bbox,F[ne].bbox)===null)return[]}for(var qt=new z(Ut.compare),ve=0,Se=F.length;ve<Se;ve++)for(var Ne=F[ve].getSweepEvents(),Ae=0,Ve=Ne.length;Ae<Ve;Ae++)if(qt.insert(Ne[Ae]),qt.size>en)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var Fe=new En(qt),nn=qt.size,$e=qt.pop();$e;){var qe=$e.key;if(qt.size===nn){var tn=qe.segment;throw new Error("Unable to pop() ".concat(qe.isLeft?"left":"right"," SweepEvent ")+"[".concat(qe.point.x,", ").concat(qe.point.y,"] from segment #").concat(tn.id," ")+"[".concat(tn.leftSE.point.x,", ").concat(tn.leftSE.point.y,"] -> ")+"[".concat(tn.rightSE.point.x,", ").concat(tn.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(qt.size>en)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(Fe.segments.length>gn)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var hn=Fe.process(qe),Tn=0,Ue=hn.length;Tn<Ue;Tn++){var He=hn[Tn];He.consumedBy===void 0&&qt.insert(He)}nn=qt.size,$e=qt.pop()}dt.reset();var vn=ze.factory(Fe.segments);return new Xe(vn).getGeom()}}]),V}()),Hn=function(V){for(var w=arguments.length,C=new Array(w>1?w-1:0),D=1;D<w;D++)C[D-1]=arguments[D];return Ze.run("union",V,C)},mn=function(V){for(var w=arguments.length,C=new Array(w>1?w-1:0),D=1;D<w;D++)C[D-1]=arguments[D];return Ze.run("intersection",V,C)},Sn=function(V){for(var w=arguments.length,C=new Array(w>1?w-1:0),D=1;D<w;D++)C[D-1]=arguments[D];return Ze.run("xor",V,C)},un=function(V){for(var w=arguments.length,C=new Array(w>1?w-1:0),D=1;D<w;D++)C[D-1]=arguments[D];return Ze.run("difference",V,C)};return{union:Hn,intersection:mn,xor:Sn,difference:un}}()},2582:function(u){u.exports=function(){function a(P,O,Z,Y,Q){(function et(lt,ft,dt,bt,At){for(;bt>dt;){if(bt-dt>600){var Pt=bt-dt+1,xt=ft-dt+1,se=Math.log(Pt),rt=.5*Math.exp(2*se/3),It=.5*Math.sqrt(se*rt*(Pt-rt)/Pt)*(xt-Pt/2<0?-1:1);et(lt,ft,Math.max(dt,Math.floor(ft-xt*rt/Pt+It)),Math.min(bt,Math.floor(ft+(Pt-xt)*rt/Pt+It)),At)}var St=lt[ft],Et=dt,Ut=bt;for(i(lt,dt,ft),At(lt[bt],St)>0&&i(lt,dt,bt);Et<Ut;){for(i(lt,Et,Ut),Et++,Ut--;At(lt[Et],St)<0;)Et++;for(;At(lt[Ut],St)>0;)Ut--}At(lt[dt],St)===0?i(lt,dt,Ut):i(lt,++Ut,bt),Ut<=ft&&(dt=Ut+1),ft<=Ut&&(bt=Ut-1)}})(P,O,Z||0,Y||P.length-1,Q||c)}function i(P,O,Z){var Y=P[O];P[O]=P[Z],P[Z]=Y}function c(P,O){return P<O?-1:P>O?1:0}var p=function(P){P===void 0&&(P=9),this._maxEntries=Math.max(4,P),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(P,O,Z){if(!Z)return O.indexOf(P);for(var Y=0;Y<O.length;Y++)if(Z(P,O[Y]))return Y;return-1}function m(P,O){v(P,0,P.children.length,O,P)}function v(P,O,Z,Y,Q){Q||(Q=H(null)),Q.minX=1/0,Q.minY=1/0,Q.maxX=-1/0,Q.maxY=-1/0;for(var et=O;et<Z;et++){var lt=P.children[et];s(Q,P.leaf?Y(lt):lt)}return Q}function s(P,O){return P.minX=Math.min(P.minX,O.minX),P.minY=Math.min(P.minY,O.minY),P.maxX=Math.max(P.maxX,O.maxX),P.maxY=Math.max(P.maxY,O.maxY),P}function g(P,O){return P.minX-O.minX}function S(P,O){return P.minY-O.minY}function z(P){return(P.maxX-P.minX)*(P.maxY-P.minY)}function x(P){return P.maxX-P.minX+(P.maxY-P.minY)}function T(P,O){return P.minX<=O.minX&&P.minY<=O.minY&&O.maxX<=P.maxX&&O.maxY<=P.maxY}function A(P,O){return O.minX<=P.maxX&&O.minY<=P.maxY&&O.maxX>=P.minX&&O.maxY>=P.minY}function H(P){return{children:P,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function I(P,O,Z,Y,Q){for(var et=[O,Z];et.length;)if(!((Z=et.pop())-(O=et.pop())<=Y)){var lt=O+Math.ceil((Z-O)/Y/2)*Y;a(P,lt,O,Z,Q),et.push(O,lt,lt,Z)}}return p.prototype.all=function(){return this._all(this.data,[])},p.prototype.search=function(P){var O=this.data,Z=[];if(!A(P,O))return Z;for(var Y=this.toBBox,Q=[];O;){for(var et=0;et<O.children.length;et++){var lt=O.children[et],ft=O.leaf?Y(lt):lt;A(P,ft)&&(O.leaf?Z.push(lt):T(P,ft)?this._all(lt,Z):Q.push(lt))}O=Q.pop()}return Z},p.prototype.collides=function(P){var O=this.data;if(!A(P,O))return!1;for(var Z=[];O;){for(var Y=0;Y<O.children.length;Y++){var Q=O.children[Y],et=O.leaf?this.toBBox(Q):Q;if(A(P,et)){if(O.leaf||T(P,et))return!0;Z.push(Q)}}O=Z.pop()}return!1},p.prototype.load=function(P){if(!P||!P.length)return this;if(P.length<this._minEntries){for(var O=0;O<P.length;O++)this.insert(P[O]);return this}var Z=this._build(P.slice(),0,P.length-1,0);if(this.data.children.length)if(this.data.height===Z.height)this._splitRoot(this.data,Z);else{if(this.data.height<Z.height){var Y=this.data;this.data=Z,Z=Y}this._insert(Z,this.data.height-Z.height-1,!0)}else this.data=Z;return this},p.prototype.insert=function(P){return P&&this._insert(P,this.data.height-1),this},p.prototype.clear=function(){return this.data=H([]),this},p.prototype.remove=function(P,O){if(!P)return this;for(var Z,Y,Q,et=this.data,lt=this.toBBox(P),ft=[],dt=[];et||ft.length;){if(et||(et=ft.pop(),Y=ft[ft.length-1],Z=dt.pop(),Q=!0),et.leaf){var bt=o(P,et.children,O);if(bt!==-1)return et.children.splice(bt,1),ft.push(et),this._condense(ft),this}Q||et.leaf||!T(et,lt)?Y?(Z++,et=Y.children[Z],Q=!1):et=null:(ft.push(et),dt.push(Z),Z=0,Y=et,et=et.children[0])}return this},p.prototype.toBBox=function(P){return P},p.prototype.compareMinX=function(P,O){return P.minX-O.minX},p.prototype.compareMinY=function(P,O){return P.minY-O.minY},p.prototype.toJSON=function(){return this.data},p.prototype.fromJSON=function(P){return this.data=P,this},p.prototype._all=function(P,O){for(var Z=[];P;)P.leaf?O.push.apply(O,P.children):Z.push.apply(Z,P.children),P=Z.pop();return O},p.prototype._build=function(P,O,Z,Y){var Q,et=Z-O+1,lt=this._maxEntries;if(et<=lt)return m(Q=H(P.slice(O,Z+1)),this.toBBox),Q;Y||(Y=Math.ceil(Math.log(et)/Math.log(lt)),lt=Math.ceil(et/Math.pow(lt,Y-1))),(Q=H([])).leaf=!1,Q.height=Y;var ft=Math.ceil(et/lt),dt=ft*Math.ceil(Math.sqrt(lt));I(P,O,Z,dt,this.compareMinX);for(var bt=O;bt<=Z;bt+=dt){var At=Math.min(bt+dt-1,Z);I(P,bt,At,ft,this.compareMinY);for(var Pt=bt;Pt<=At;Pt+=ft){var xt=Math.min(Pt+ft-1,At);Q.children.push(this._build(P,Pt,xt,Y-1))}}return m(Q,this.toBBox),Q},p.prototype._chooseSubtree=function(P,O,Z,Y){for(;Y.push(O),!O.leaf&&Y.length-1!==Z;){for(var Q=1/0,et=1/0,lt=void 0,ft=0;ft<O.children.length;ft++){var dt=O.children[ft],bt=z(dt),At=(Pt=P,xt=dt,(Math.max(xt.maxX,Pt.maxX)-Math.min(xt.minX,Pt.minX))*(Math.max(xt.maxY,Pt.maxY)-Math.min(xt.minY,Pt.minY))-bt);At<et?(et=At,Q=bt<Q?bt:Q,lt=dt):At===et&&bt<Q&&(Q=bt,lt=dt)}O=lt||O.children[0]}var Pt,xt;return O},p.prototype._insert=function(P,O,Z){var Y=Z?P:this.toBBox(P),Q=[],et=this._chooseSubtree(Y,this.data,O,Q);for(et.children.push(P),s(et,Y);O>=0&&Q[O].children.length>this._maxEntries;)this._split(Q,O),O--;this._adjustParentBBoxes(Y,Q,O)},p.prototype._split=function(P,O){var Z=P[O],Y=Z.children.length,Q=this._minEntries;this._chooseSplitAxis(Z,Q,Y);var et=this._chooseSplitIndex(Z,Q,Y),lt=H(Z.children.splice(et,Z.children.length-et));lt.height=Z.height,lt.leaf=Z.leaf,m(Z,this.toBBox),m(lt,this.toBBox),O?P[O-1].children.push(lt):this._splitRoot(Z,lt)},p.prototype._splitRoot=function(P,O){this.data=H([P,O]),this.data.height=P.height+1,this.data.leaf=!1,m(this.data,this.toBBox)},p.prototype._chooseSplitIndex=function(P,O,Z){for(var Y,Q,et,lt,ft,dt,bt,At=1/0,Pt=1/0,xt=O;xt<=Z-O;xt++){var se=v(P,0,xt,this.toBBox),rt=v(P,xt,Z,this.toBBox),It=(Q=se,et=rt,lt=void 0,ft=void 0,dt=void 0,bt=void 0,lt=Math.max(Q.minX,et.minX),ft=Math.max(Q.minY,et.minY),dt=Math.min(Q.maxX,et.maxX),bt=Math.min(Q.maxY,et.maxY),Math.max(0,dt-lt)*Math.max(0,bt-ft)),St=z(se)+z(rt);It<At?(At=It,Y=xt,Pt=St<Pt?St:Pt):It===At&&St<Pt&&(Pt=St,Y=xt)}return Y||Z-O},p.prototype._chooseSplitAxis=function(P,O,Z){var Y=P.leaf?this.compareMinX:g,Q=P.leaf?this.compareMinY:S;this._allDistMargin(P,O,Z,Y)<this._allDistMargin(P,O,Z,Q)&&P.children.sort(Y)},p.prototype._allDistMargin=function(P,O,Z,Y){P.children.sort(Y);for(var Q=this.toBBox,et=v(P,0,O,Q),lt=v(P,Z-O,Z,Q),ft=x(et)+x(lt),dt=O;dt<Z-O;dt++){var bt=P.children[dt];s(et,P.leaf?Q(bt):bt),ft+=x(et)}for(var At=Z-O-1;At>=O;At--){var Pt=P.children[At];s(lt,P.leaf?Q(Pt):Pt),ft+=x(lt)}return ft},p.prototype._adjustParentBBoxes=function(P,O,Z){for(var Y=Z;Y>=0;Y--)s(O[Y],P)},p.prototype._condense=function(P){for(var O=P.length-1,Z=void 0;O>=0;O--)P[O].children.length===0?O>0?(Z=P[O-1].children).splice(Z.indexOf(P[O]),1):this.clear():m(P[O],this.toBBox)},p}()}},n={};function f(u){var a=n[u];if(a!==void 0)return a.exports;var i=n[u]={id:u,loaded:!1,exports:{}};return h[u].call(i.exports,i,i.exports,f),i.loaded=!0,i.exports}f.n=u=>{var a=u&&u.__esModule?()=>u.default:()=>u;return f.d(a,{a}),a},f.d=(u,a)=>{for(var i in a)f.o(a,i)&&!f.o(u,i)&&Object.defineProperty(u,i,{enumerable:!0,get:a[i]})},f.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),f.o=(u,a)=>Object.prototype.hasOwnProperty.call(u,a),f.nmd=u=>(u.paths=[],u.children||(u.children=[]),u),f(5975)})();const Dr=Symbol(),Eh=h=>{const n="https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",f=Ye.map(h,{preferCanvas:!0,zoomControl:!1,doubleClickZoom:!1,markerZoomAnimation:!1}).setView([35.132454,136.978166],13);return Ye.tileLayer(n,{attribution:`&copy;<a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a>,
	        &copy;<a href="https://carto.com/attributions" target="_blank">CARTO</a>`,subdomains:"abcd"}).addTo(f),f},Sh=()=>Ye.icon({iconRetinaUrl:yl,iconUrl:vl,shadowUrl:ml,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]}),Oa=()=>Ye.divIcon({html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#1fad19;}</style></defs><g id="レイヤー_2" data-name="レイヤー 2"><g id="レイヤー_1-2" data-name="レイヤー 1"><circle class="cls-1" cx="7" cy="7" r="6.5"/><path class="cls-2" d="M7,1A6,6,0,1,1,1,7,6,6,0,0,1,7,1M7,0a7,7,0,1,0,7,7A7,7,0,0,0,7,0Z"/></g></g></svg>',iconSize:[14,14],iconAnchor:[7,7],className:""}),za=()=>Ye.divIcon({html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8"><defs><style>.cls-12{fill:#fff;}.cls-22{fill:#c70143;}</style></defs><g id="レイヤー_2" data-name="レイヤー 2"><g id="レイヤー_1-2" data-name="レイヤー 1"><circle class="cls-12" cx="4" cy="4" r="3.5"/><path class="cls-22" d="M4,1A3,3,0,1,1,1,4,3,3,0,0,1,4,1M4,0A4,4,0,1,0,8,4,4,4,0,0,0,4,0Z"/></g></g></svg>',iconSize:[8,8],iconAnchor:[4,4],className:""}),Th=()=>Ye.divIcon({html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#1fad19;}</style></defs><g id="レイヤー_2" data-name="レイヤー 2"><g id="レイヤー_1-2" data-name="レイヤー 1"><circle class="cls-1" cx="7" cy="7" r="6.5"/><path class="cls-2" d="M7,1A6,6,0,1,1,1,7,6,6,0,0,1,7,1M7,0a7,7,0,1,0,7,7A7,7,0,0,0,7,0Z"/></g></g></svg>',iconSize:[16,16],iconAnchor:[8,8],className:""}),xh=()=>Ye.divIcon({html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8"><defs><style>.cls-12{fill:#fff;}.cls-22{fill:#c70143;}</style></defs><g id="レイヤー_2" data-name="レイヤー 2"><g id="レイヤー_1-2" data-name="レイヤー 1"><circle class="cls-12" cx="4" cy="4" r="3.5"/><path class="cls-22" d="M4,1A3,3,0,1,1,1,4,3,3,0,0,1,4,1M4,0A4,4,0,1,0,8,4,4,4,0,0,0,4,0Z"/></g></g></svg>',iconSize:[16,16],iconAnchor:[8,8],className:""});function Bh(h,n,f){let u,a;Ge(h,Qi,m=>f(0,u=m)),Ge(h,ao,m=>f(1,a=m));const i=er(),{getMap:c}=Jn(Dr),p=c();let o=Ye.lasso(p);return p.on(ds,m=>{console.log("lasso.finished in LassoControl"),Qi.set(!1),i("mergedLasso",m),a&&Qi.set(!0)}),h.$$.update=()=>{h.$$.dirty&1&&(console.log(u),u?o.enable():o.disable())},[u]}class Oh extends re{constructor(n){super(),oe(this,n,Bh,null,ae,{})}}function Aa(h){let n;const f=h[3].default,u=Rt(f,h,h[2],null);return{c(){u&&u.c()},l(a){u&&u.l(a)},m(a,i){u&&u.m(a,i),n=!0},p(a,i){u&&u.p&&(!n||i&4)&&Nt(u,f,a,a[2],n?Zt(f,a[2],i,null):Ht(a[2]),null)},i(a){n||(st(u,a),n=!0)},o(a){ut(u,a),n=!1},d(a){u&&u.d(a)}}}function zh(h){let n,f,u,a,i=h[1]&&Aa(h);return{c(){n=pt("div"),f=fe(),i&&i.c(),u=Cn(),this.h()},l(c){n=_t(c,"DIV",{style:!0}),at(n).forEach(K),f=de(c),i&&i.l(c),u=Cn(),this.h()},h(){Ti(n,"height","100%"),Ti(n,"width","100%")},m(c,p){gt(c,n,p),h[4](n),gt(c,f,p),i&&i.m(c,p),gt(c,u,p),a=!0},p(c,[p]){c[1]?i?(i.p(c,p),p&2&&st(i,1)):(i=Aa(c),i.c(),st(i,1),i.m(u.parentNode,u)):i&&(wn(),ut(i,1,1,()=>{i=null}),Pn())},i(c){a||(st(i),a=!0)},o(c){ut(i),a=!1},d(c){c&&K(n),h[4](null),c&&K(f),i&&i.d(c),c&&K(u)}}}function Ah(h,n,f){let{$$slots:u={},$$scope:a}=n,i,c;Bi(Dr,{getMap:()=>c}),Ar(()=>{f(1,c=Eh(i))});function p(o){Gt[o?"unshift":"push"](()=>{i=o,f(0,i)})}return h.$$set=o=>{"$$scope"in o&&f(2,a=o.$$scope)},[i,c,a,u,p]}class Dh extends re{constructor(n){super(),oe(this,n,Ah,zh,ae,{})}}async function Ih(h){const{pid:n,prefCode:f}=h.properties;return(await Nn("curves",{curveId:{pid:n,pref_code:f}})).curves.map(i=>{const p=i.segments.split("\\\\r\\\\n").map(o=>{const m=o.split(" ");return[parseFloat(m[1]),parseFloat(m[0])]});return{curveId:i.id,segments:p}})}async function Rh(h){return(await Nn("get_curves",{curveKey:h})).curves.map(f=>{const a=f.segments.split("\\\\r\\\\n").map(i=>{const c=i.split(" ");return[parseFloat(c[1]),parseFloat(c[0])]});return{curveId:f.id,segments:a}})}function Nh(h,n,f){let u,a,i;Ge(h,Tr,P=>f(6,u=P)),Ge(h,ci,P=>f(7,a=P)),Ge(h,Mr,P=>f(8,i=P));const{getMap:c}=Jn(Dr),p=c(),o=Ye.geoJson();o.options={onEachFeature:(P,O)=>{const Z=o.getLayerId(O);P.properties.layerId=Z,O instanceof Ye.Path&&(O.on("pm:disable",Y=>{console.log(Y)}),O.on("click",Y=>{const Q=P.properties.id.split(":")[0],et=i.get(Q);Y.originalEvent.shiftKey?ci.add(Q,et):ci.set(Q,et)}))},style:P=>{if(!P)return{};switch(P.properties.kind){case"SegmentLine":return{color:P.properties.color,weight:P.properties.weight};case"SegmentZone":return{color:P.properties.color,weight:P.properties.weight,fillOpacity:P.properties.fillOpacity,pane:"buffers"};default:return{}}},pointToLayer(P,O){return Ye.marker(O,{icon:P.properties.icon,zIndexOffset:P.properties.zIndexOffset})}},o.addTo(p);const m=async P=>{const O=await Ih(P);z(O)},v=async P=>{const O=await Rh(P);z(O)},s=async P=>{const O=P.detail;console.log("lasso.finished in SegmentMerger",O);const Z=Ye.GeoJSON.latLngsToCoords(O.latLngs),Y=O.layers.map(et=>et.feature),Q={lassoShape:Z,targetFeatures:Y};console.dir(Q),I(Q.targetFeatures)},g=()=>{const P=a.keys();for(const O of P)T(O),ci.remove(O)},S=()=>{for(const P of a.keys())A(P)},z=P=>{for(const O of P)x(O)},x=P=>{if(i.has(P.curveId))return;const O=Ll(P.segments,{id:`${P.curveId}:line`,layerId:void 0,kind:"SegmentLine",weight:5,color:"#0000FF"}),Z=oo(P.segments[0],{id:`${P.curveId}:start`,layerId:void 0,kind:"SegmentStart",icon:Oa(),zIndexOffset:1e3}),Y=oo(P.segments[P.segments.length-1],{id:`${P.curveId}:end`,layerId:void 0,kind:"SegmentEnd",icon:za(),zIndexOffset:2e3}),Q=[O,Z,Y];o.addData(O),o.addData(Z),o.addData(Y),Mr.add(P.curveId,{id:P.curveId,features:Q,line:O,start:Z,end:Y})},T=P=>{const O=i.get(P);o.removeLayer(O.line.properties.layerId),o.removeLayer(O.start.properties.layerId),o.removeLayer(O.end.properties.layerId),Mr.remove(P)},A=P=>{const O=i.get(P),Y=`swapedLine-${io()}`,Q=$r(O.line);Q.properties.id=`${Y}:line`,Q.properties.layerId=void 0;const et=$r(O.end);et.properties.id=`${Y}:start`,et.properties.layerId=void 0,et.properties.icon=Oa();const lt=$r(O.start);lt.properties.id=`${Y}:end`,lt.properties.layerId=void 0,lt.properties.icon=za();const ft=[Q,et,lt];o.addData(Q),o.addData(et),o.addData(lt),Mr.add(Y,{id:Y,features:ft,line:Q,start:et,end:lt}),T(P),ci.reset()},H=()=>{o.resetStyle(),o.eachLayer(P=>{var O,Z;P instanceof Ye.Marker&&(P.setIcon((O=P.feature)==null?void 0:O.properties.icon),P.setZIndexOffset((Z=P.feature)==null?void 0:Z.properties.zIndexOffset))})},I=P=>{const O=P.filter(It=>It.properties.kind==="SegmentStart"),Z=P.filter(It=>It.properties.kind==="SegmentEnd");if(O.length!==1||Z.length!==1){alert("no single conjunction");return}const Y=Z[0].properties.id.split(":")[0],Q=O[0].properties.id.split(":")[0],et=i.get(Y),lt=i.get(Q),ft=et.line,dt=lt.line,bt=ft.geometry.coordinates,At=dt.geometry.coordinates,Pt=bt.concat(At),rt={curveId:`mergedLine-${io()}`,segments:Pt};x(rt),T(Y),T(Q)};return p.on("pm:create",P=>{const O=P.layer.toGeoJSON(),Q={curveId:`drawedSegment-${io()}`,segments:O.geometry.coordinates};x(Q),Pr(Tr,u=!1,u),p.removeLayer(P.layer)}),h.$$.update=()=>{if(h.$$.dirty&224){if(a.size===0&&H(),a.size>0){H();for(const P of a.values()){const O=o.getLayer(P.line.properties.layerId),Z=o.getLayer(P.start.properties.layerId),Y=o.getLayer(P.end.properties.layerId);O==null||O.setStyle({color:"#FF0000"}),Z==null||Z.setIcon(Th()).setZIndexOffset(1e4),Y==null||Y.setIcon(xh()).setZIndexOffset(2e4)}}u?p.pm.enableDraw("Line",{snappable:!0,snapDistance:20}):p.pm.disableDraw()}},[m,v,s,g,S,o,u,a]}class Hh extends re{constructor(n){super(),oe(this,n,Nh,null,ae,{loadCurve:0,loadCurveByKey:1,onMergedLasso:2,removeSelectingSegments:3,swapStartEndSelectingSegment:4})}get loadCurve(){return this.$$.ctx[0]}get loadCurveByKey(){return this.$$.ctx[1]}get onMergedLasso(){return this.$$.ctx[2]}get removeSelectingSegments(){return this.$$.ctx[3]}get swapStartEndSelectingSegment(){return this.$$.ctx[4]}}function Zh(h,n,f){const u=er(),{getMap:a}=Jn(Dr),i=a(),c=Ye.markerClusterGroup();c.addTo(i);const p=async()=>{const v=i.getBounds(),s={min:v.getSouthWest(),max:v.getNorthEast()},g=await Nn("search_points",{bounds:s});Cr.set(g.points)},o=async()=>{Cr.set([])},m=Cr.subscribe(async v=>{c.clearLayers();for(const s of v){let g=`${s.lat}${s.lng}`,S=oo([s.lng,s.lat],{id:g,pid:s.id,kind:"StartingPoint",icon:Sh(),zIndexOffset:3e3,riverName:s.river_name,riverCode:s.river_code,prefCode:s.prefecture_code}),z=Ye.geoJSON(S,{onEachFeature:(x,T)=>{T.bindTooltip(`${x.properties.riverName} (${x.properties.riverCode})`),T.on("click",()=>{u("clickedPoint",{feature:x})})},pointToLayer(x,T){return Ye.marker(T,{icon:x.properties.icon,zIndexOffset:x.properties.zIndexOffset})}});c.addLayer(z)}});return Si(m),[p,o]}class jh extends re{constructor(n){super(),oe(this,n,Zh,null,ae,{load:0,unload:1})}get load(){return this.$$.ctx[0]}get unload(){return this.$$.ctx[1]}}function Gh(h){let n,f,u,a,i,c,p={};n=new jh({props:p}),h[9](n),n.$on("clickedPoint",h[4]);let o={};return u=new Hh({props:o}),h[10](u),i=new Oh({}),i.$on("mergedLasso",h[6]),{c(){Xt(n.$$.fragment),f=fe(),Xt(u.$$.fragment),a=fe(),Xt(i.$$.fragment)},l(m){$t(n.$$.fragment,m),f=de(m),$t(u.$$.fragment,m),a=de(m),$t(i.$$.fragment,m)},m(m,v){Jt(n,m,v),gt(m,f,v),Jt(u,m,v),gt(m,a,v),Jt(i,m,v),c=!0},p(m,v){const s={};n.$set(s);const g={};u.$set(g)},i(m){c||(st(n.$$.fragment,m),st(u.$$.fragment,m),st(i.$$.fragment,m),c=!0)},o(m){ut(n.$$.fragment,m),ut(u.$$.fragment,m),ut(i.$$.fragment,m),c=!1},d(m){h[9](null),Qt(n,m),m&&K(f),h[10](null),Qt(u,m),m&&K(a),Qt(i,m)}}}function Vh(h){let n,f,u,a,i,c,p,o,m,v,s;return a=new au({}),a.$on("clickedSearchRiver",h[5]),p=new Ph({}),p.$on("clickedPin",h[2]),p.$on("clickedOffPin",h[3]),p.$on("clickedRemoveSegment",h[7]),p.$on("clickedSwapStartEnd",h[8]),v=new Dh({props:{$$slots:{default:[Gh]},$$scope:{ctx:h}}}),{c(){n=pt("div"),f=pt("div"),u=pt("div"),Xt(a.$$.fragment),i=fe(),c=pt("div"),Xt(p.$$.fragment),o=fe(),m=pt("div"),Xt(v.$$.fragment),this.h()},l(g){n=_t(g,"DIV",{class:!0});var S=at(n);f=_t(S,"DIV",{class:!0});var z=at(f);u=_t(z,"DIV",{class:!0});var x=at(u);$t(a.$$.fragment,x),x.forEach(K),i=de(z),c=_t(z,"DIV",{class:!0});var T=at(c);$t(p.$$.fragment,T),T.forEach(K),z.forEach(K),o=de(S),m=_t(S,"DIV",{class:!0});var A=at(m);$t(v.$$.fragment,A),A.forEach(K),S.forEach(K),this.h()},h(){ct(u,"class","pl-2 pt-2"),ct(c,"class","pl-2 pt-2"),ct(f,"class","pointer-events-none absolute inset-0 z-20"),ct(m,"class","absolute inset-0 z-10"),ct(n,"class","relative h-full w-full")},m(g,S){gt(g,n,S),Lt(n,f),Lt(f,u),Jt(a,u,null),Lt(f,i),Lt(f,c),Jt(p,c,null),Lt(n,o),Lt(n,m),Jt(v,m,null),s=!0},p(g,[S]){const z={};S&2051&&(z.$$scope={dirty:S,ctx:g}),v.$set(z)},i(g){s||(st(a.$$.fragment,g),st(p.$$.fragment,g),st(v.$$.fragment,g),s=!0)},o(g){ut(a.$$.fragment,g),ut(p.$$.fragment,g),ut(v.$$.fragment,g),s=!1},d(g){g&&K(n),Qt(a),Qt(p),Qt(v)}}}function Fh(h,n,f){let u,a;const i=()=>{u.load()},c=()=>{u.unload()},p=z=>{a.loadCurve(z.detail.feature)},o=z=>{a.loadCurveByKey(z.detail.curveKey)},m=z=>{a.onMergedLasso(z)},v=()=>{a.removeSelectingSegments()},s=()=>{a.swapStartEndSelectingSegment()};function g(z){Gt[z?"unshift":"push"](()=>{u=z,f(0,u)})}function S(z){Gt[z?"unshift":"push"](()=>{a=z,f(1,a)})}return[u,a,i,c,p,o,m,v,s,g,S]}class Uh extends re{constructor(n){super(),oe(this,n,Fh,Vh,ae,{})}}function Kh(h){let n,f,u=[{xmlns:"http://www.w3.org/2000/svg"},{width:h[0]},{height:h[0]},{fill:h[1]},{class:f=h[4].class},h[5],{"aria-label":h[2]},{viewBox:"0 0 24 24"}],a={};for(let i=0;i<u.length;i+=1)a=vt(a,u[i]);return{c(){n=De("svg"),this.h()},l(i){n=Ie(i,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var c=at(n);c.forEach(K),this.h()},h(){Pe(n,a)},m(i,c){gt(i,n,c),n.innerHTML=h[3]},p(i,[c]){c&8&&(n.innerHTML=i[3]),Pe(n,a=zt(u,[{xmlns:"http://www.w3.org/2000/svg"},c&1&&{width:i[0]},c&1&&{height:i[0]},c&2&&{fill:i[1]},c&16&&f!==(f=i[4].class)&&{class:f},c&32&&i[5],c&4&&{"aria-label":i[2]},{viewBox:"0 0 24 24"}]))},i:Ot,o:Ot,d(i){i&&K(n)}}}let qh='<path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"/>',Da='<path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 9h10.5v3.5H4V9zm0 5.5h10.5V18H4v-3.5zM20 18h-3.5V9H20v9z"/>',Wh='<path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 9h10.5v3.5H4V9zm0 5.5h10.5V18H5c-.55 0-1-.45-1-1v-2.5zM19 18h-2.5V9H20v8c0 .55-.45 1-1 1z"/>',Yh='<path d="M22 4H2v16h20V4zM4 9h10.5v3.5H4V9zm0 5.5h10.5V18H4v-3.5zM20 18h-3.5V9H20v9z"/>',Xh='<path d="M4 9h10.5v3.5H4zm0 5.5h10.5V18H4zM16.5 9H20v9h-3.5z" opacity=".3"/><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5.5 14H4v-3.5h10.5V18zm0-5.5H4V9h10.5v3.5zM20 18h-3.5V9H20v9z"/>';function Jh(h,n,f){const u=["size","color","variation","ariaLabel"];let a=pe(n,u),{size:i="24"}=n,{color:c="currentColor"}=n,{variation:p="outlined"}=n,o;switch(p){case"filled":o=qh;break;case"outlined":o=Da;break;case"round":o=Wh;break;case"sharp":o=Yh;break;case"two-tone":o=Xh;break;default:o=Da}let{ariaLabel:m="web"}=n;return h.$$set=v=>{f(4,n=vt(vt({},n),me(v))),f(5,a=pe(n,u)),"size"in v&&f(0,i=v.size),"color"in v&&f(1,c=v.color),"variation"in v&&f(6,p=v.variation),"ariaLabel"in v&&f(2,m=v.ariaLabel)},n=me(n),[i,c,m,o,n,a,p]}class Qh extends re{constructor(n){super(),oe(this,n,Jh,Kh,ae,{size:0,color:1,variation:6,ariaLabel:2})}}function $h(h){let n,f,u;return f=new Qh({props:{tabindex:"-1"}}),{c(){n=pt("button"),Xt(f.$$.fragment),this.h()},l(a){n=_t(a,"BUTTON",{class:!0,type:!0});var i=at(n);$t(f.$$.fragment,i),i.forEach(K),this.h()},h(){ct(n,"class","w-min rounded-md bg-white py-1 px-2 hover:bg-gray-200"),ct(n,"type","button")},m(a,i){gt(a,n,i),Jt(f,n,null),u=!0},p:Ot,i(a){u||(st(f.$$.fragment,a),u=!0)},o(a){ut(f.$$.fragment,a),u=!1},d(a){a&&K(n),Qt(f)}}}class tc extends re{constructor(n){super(),oe(this,n,null,$h,ae,{})}}function ec(h){let n,f,u=[{xmlns:"http://www.w3.org/2000/svg"},{width:h[0]},{height:h[0]},{fill:h[1]},{class:f=h[4].class},h[5],{"aria-label":h[2]},{viewBox:"0 0 24 24"}],a={};for(let i=0;i<u.length;i+=1)a=vt(a,u[i]);return{c(){n=De("svg"),this.h()},l(i){n=Ie(i,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var c=at(n);c.forEach(K),this.h()},h(){Pe(n,a)},m(i,c){gt(i,n,c),n.innerHTML=h[3]},p(i,[c]){c&8&&(n.innerHTML=i[3]),Pe(n,a=zt(u,[{xmlns:"http://www.w3.org/2000/svg"},c&1&&{width:i[0]},c&1&&{height:i[0]},c&2&&{fill:i[1]},c&16&&f!==(f=i[4].class)&&{class:f},c&32&&i[5],c&4&&{"aria-label":i[2]},{viewBox:"0 0 24 24"}]))},i:Ot,o:Ot,d(i){i&&K(n)}}}let nc='<path d="M6 11c2.76 0 5-2.24 5-5S8.76 1 6 1 1 3.24 1 6s2.24 5 5 5zm15 3h-5c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h5c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2z"/><path d="M17.71 7.7c.4.19.83.3 1.29.3 1.65 0 3-1.35 3-3s-1.35-3-3-3-3 1.35-3 3c0 .46.11.89.3 1.29L6.29 16.3c-.4-.19-.83-.3-1.29-.3-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3c0-.46-.11-.89-.3-1.29L17.71 7.7z"/>',Ia='<path d="M6 11c2.76 0 5-2.24 5-5S8.76 1 6 1 1 3.24 1 6s2.24 5 5 5zm0-8c1.65 0 3 1.35 3 3S7.65 9 6 9 3 7.65 3 6s1.35-3 3-3zm15 11h-5c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h5c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2zm0 7h-5v-5h5v5z"/><path d="M17.71 7.7c.4.19.83.3 1.29.3 1.65 0 3-1.35 3-3s-1.35-3-3-3-3 1.35-3 3c0 .46.11.89.3 1.29L6.29 16.3c-.4-.19-.83-.3-1.29-.3-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3c0-.46-.11-.89-.3-1.29L17.71 7.7z"/>',ic='<path d="M6 11c2.76 0 5-2.24 5-5S8.76 1 6 1 1 3.24 1 6s2.24 5 5 5zm15 3h-5c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h5c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2z"/><path d="M17.71 7.7c.4.19.83.3 1.29.3 1.65 0 3-1.35 3-3s-1.35-3-3-3-3 1.35-3 3c0 .46.11.89.3 1.29L6.29 16.3c-.4-.19-.83-.3-1.29-.3-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3c0-.46-.11-.89-.3-1.29L17.71 7.7z"/>',rc='<path d="M6 11c2.76 0 5-2.24 5-5S8.76 1 6 1 1 3.24 1 6s2.24 5 5 5zm17 3h-9v9h9v-9z"/><path d="M17.71 7.7c.4.19.83.3 1.29.3 1.65 0 3-1.35 3-3s-1.35-3-3-3-3 1.35-3 3c0 .46.11.89.3 1.29L6.29 16.3c-.4-.19-.83-.3-1.29-.3-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3c0-.46-.11-.89-.3-1.29L17.71 7.7z"/>',oc='<path d="M16 16h5v5h-5z" opacity=".3"/><circle cx="6" cy="6" r="3" opacity=".3"/><path d="M6 11c2.76 0 5-2.24 5-5S8.76 1 6 1 1 3.24 1 6s2.24 5 5 5zm0-8c1.65 0 3 1.35 3 3S7.65 9 6 9 3 7.65 3 6s1.35-3 3-3zm15 11h-5c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h5c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2zm0 7h-5v-5h5v5z"/><path d="M17.71 7.7c.4.19.83.3 1.29.3 1.65 0 3-1.35 3-3s-1.35-3-3-3-3 1.35-3 3c0 .46.11.89.3 1.29L6.29 16.3c-.4-.19-.83-.3-1.29-.3-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3c0-.46-.11-.89-.3-1.29L17.71 7.7z"/>';function ac(h,n,f){const u=["size","color","variation","ariaLabel"];let a=pe(n,u),{size:i="24"}=n,{color:c="currentColor"}=n,{variation:p="outlined"}=n,o;switch(p){case"filled":o=nc;break;case"outlined":o=Ia;break;case"round":o=ic;break;case"sharp":o=rc;break;case"two-tone":o=oc;break;default:o=Ia}let{ariaLabel:m="shape line"}=n;return h.$$set=v=>{f(4,n=vt(vt({},n),me(v))),f(5,a=pe(n,u)),"size"in v&&f(0,i=v.size),"color"in v&&f(1,c=v.color),"variation"in v&&f(6,p=v.variation),"ariaLabel"in v&&f(2,m=v.ariaLabel)},n=me(n),[i,c,m,o,n,a,p]}class sc extends re{constructor(n){super(),oe(this,n,ac,ec,ae,{size:0,color:1,variation:6,ariaLabel:2})}}async function Qn(h){return Nn("tauri",h)}var lc={};yo(lc,{ask:()=>cc,confirm:()=>fc,message:()=>hc,open:()=>Ir,save:()=>uc});async function Ir(h={}){return typeof h=="object"&&Object.freeze(h),Qn({__tauriModule:"Dialog",message:{cmd:"openDialog",options:h}})}async function uc(h={}){return typeof h=="object"&&Object.freeze(h),Qn({__tauriModule:"Dialog",message:{cmd:"saveDialog",options:h}})}async function hc(h,n){var f;let u=typeof n=="string"?{title:n}:n;return Qn({__tauriModule:"Dialog",message:{cmd:"messageDialog",message:h.toString(),title:(f=u==null?void 0:u.title)==null?void 0:f.toString(),type:u==null?void 0:u.type}})}async function cc(h,n){var f;let u=typeof n=="string"?{title:n}:n;return Qn({__tauriModule:"Dialog",message:{cmd:"askDialog",message:h.toString(),title:(f=u==null?void 0:u.title)==null?void 0:f.toString(),type:u==null?void 0:u.type}})}async function fc(h,n){var f;let u=typeof n=="string"?{title:n}:n;return Qn({__tauriModule:"Dialog",message:{cmd:"confirmDialog",message:h.toString(),title:(f=u==null?void 0:u.title)==null?void 0:f.toString(),type:u==null?void 0:u.type}})}function dc(h){let n,f,u,a,i;return f=new sc({props:{tabindex:"-1"}}),{c(){n=pt("button"),Xt(f.$$.fragment),this.h()},l(c){n=_t(c,"BUTTON",{class:!0,type:!0});var p=at(n);$t(f.$$.fragment,p),p.forEach(K),this.h()},h(){ct(n,"class","w-min rounded-md bg-white py-1 px-2 hover:bg-gray-200"),ct(n,"type","button")},m(c,p){gt(c,n,p),Jt(f,n,null),u=!0,a||(i=Ce(n,"click",h[0]),a=!0)},p:Ot,i(c){u||(st(f.$$.fragment,c),u=!0)},o(c){ut(f.$$.fragment,c),u=!1},d(c){c&&K(n),Qt(f),a=!1,i()}}}function pc(h){return[async()=>{const f=await Ir({multiple:!1,filters:[{name:"Image",extensions:["png","jpeg","zip"]}]});console.dir(f),await Nn("greet",{name:f})}]}class _c extends re{constructor(n){super(),oe(this,n,pc,dc,ae,{})}}function gc(h){let n,f;return{c(){n=pt("h1"),f=xe("RMv3"),this.h()},l(u){n=_t(u,"H1",{class:!0});var a=at(n);f=Be(a,"RMv3"),a.forEach(K),this.h()},h(){ct(n,"class","text-2xl text-gray-600")},m(u,a){gt(u,n,a),Lt(n,f)},p:Ot,i:Ot,o:Ot,d(u){u&&K(n)}}}class mc extends re{constructor(n){super(),oe(this,n,null,gc,ae,{})}}function vc(h){let n,f,u,a;return{c(){n=pt("button"),f=xe("logout"),this.h()},l(i){n=_t(i,"BUTTON",{class:!0,type:!0});var c=at(n);f=Be(c,"logout"),c.forEach(K),this.h()},h(){ct(n,"class","w-min rounded-md border border-gray-300 bg-white py-1 px-4 text-base font-normal"),ct(n,"type","button")},m(i,c){gt(i,n,c),Lt(n,f),u||(a=Ce(n,"click",h[0]),u=!0)},p:Ot,i:Ot,o:Ot,d(i){i&&K(n),u=!1,a()}}}function yc(h){async function n(){await _l()}return[n]}class Lc extends re{constructor(n){super(),oe(this,n,yc,vc,ae,{})}}function Ra(h){let n,f,u=h[0].displayName+"",a;return{c(){n=pt("div"),f=pt("h2"),a=xe(u)},l(i){n=_t(i,"DIV",{});var c=at(n);f=_t(c,"H2",{});var p=at(f);a=Be(p,u),p.forEach(K),c.forEach(K)},m(i,c){gt(i,n,c),Lt(n,f),Lt(f,a)},p(i,c){c&1&&u!==(u=i[0].displayName+"")&&Yn(a,u)},d(i){i&&K(n)}}}function bc(h){let n,f=h[0]&&Ra(h);return{c(){f&&f.c(),n=Cn()},l(u){f&&f.l(u),n=Cn()},m(u,a){f&&f.m(u,a),gt(u,n,a)},p(u,[a]){u[0]?f?f.p(u,a):(f=Ra(u),f.c(),f.m(n.parentNode,n)):f&&(f.d(1),f=null)},i:Ot,o:Ot,d(u){f&&f.d(u),u&&K(n)}}}function kc(h,n,f){let u;const a=gl();return Ge(h,a,i=>f(0,u=i)),[u,a]}class Mc extends re{constructor(n){super(),oe(this,n,kc,bc,ae,{})}}function wc(h){let n,f,u,a,i,c,p,o,m,v,s,g,S,z,x,T,A,H;return f=new mc({}),i=new _c({}),p=new tc({}),S=new Mc({}),x=new Lc({}),{c(){n=pt("div"),Xt(f.$$.fragment),u=fe(),a=pt("div"),Xt(i.$$.fragment),c=fe(),Xt(p.$$.fragment),o=fe(),m=pt("button"),v=xe("btn"),s=fe(),g=pt("div"),Xt(S.$$.fragment),z=fe(),Xt(x.$$.fragment),this.h()},l(I){n=_t(I,"DIV",{class:!0});var P=at(n);$t(f.$$.fragment,P),u=de(P),a=_t(P,"DIV",{class:!0});var O=at(a);$t(i.$$.fragment,O),c=de(O),$t(p.$$.fragment,O),o=de(O),m=_t(O,"BUTTON",{type:!0});var Z=at(m);v=Be(Z,"btn"),Z.forEach(K),O.forEach(K),s=de(P),g=_t(P,"DIV",{class:!0});var Y=at(g);$t(S.$$.fragment,Y),z=de(Y),$t(x.$$.fragment,Y),Y.forEach(K),P.forEach(K),this.h()},h(){ct(m,"type","button"),ct(a,"class","ml-8 flex gap-x-2"),ct(g,"class","ml-auto flex items-center gap-x-2"),ct(n,"class","flex w-full grow-0 items-center justify-start border-t border-gray-200 py-2 px-6 shadow-md")},m(I,P){gt(I,n,P),Jt(f,n,null),Lt(n,u),Lt(n,a),Jt(i,a,null),Lt(a,c),Jt(p,a,null),Lt(a,o),Lt(a,m),Lt(m,v),Lt(n,s),Lt(n,g),Jt(S,g,null),Lt(g,z),Jt(x,g,null),T=!0,A||(H=Ce(m,"click",h[0]),A=!0)},p:Ot,i(I){T||(st(f.$$.fragment,I),st(i.$$.fragment,I),st(p.$$.fragment,I),st(S.$$.fragment,I),st(x.$$.fragment,I),T=!0)},o(I){ut(f.$$.fragment,I),ut(i.$$.fragment,I),ut(p.$$.fragment,I),ut(S.$$.fragment,I),ut(x.$$.fragment,I),T=!1},d(I){I&&K(n),Qt(f),Qt(i),Qt(p),Qt(S),Qt(x),A=!1,H()}}}function Pc(h){return[async()=>{const f=await Ir({multiple:!1,filters:[{name:"Image",extensions:["png","jpeg","zip"]}]});console.dir(f)}]}class Cc extends re{constructor(n){super(),oe(this,n,Pc,wc,ae,{})}}var $i;(function(h){h[h.Open=0]="Open",h[h.Closed=1]="Closed"})($i||($i={}));const Ec="headlessui-open-closed-context";function Sc(){return Jn(Ec)}function co(h,n,...f){if(h in n){let a=n[h];return typeof a=="function"?a(...f):a}let u=new Error(`Tried to handle "${h}" but there is no handler defined. Only defined handlers are: ${Object.keys(n).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,co),u}let Tc=0;function xc(){return++Tc}function _s(){return xc()}let Ci=new Set,qn=new Map;function Na(h){h.setAttribute("aria-hidden","true"),h.inert=!0}function Ha(h){let n=qn.get(h);n&&(n["aria-hidden"]===null?h.removeAttribute("aria-hidden"):h.setAttribute("aria-hidden",n["aria-hidden"]),h.inert=n.inert)}function Bc(h,n=!0){if(!n||!h)return;let f=h;Ci.add(f);for(let u of qn.keys())u.contains(f)&&(Ha(u),qn.delete(u));return document.querySelectorAll("body > *").forEach(u=>{if(u instanceof HTMLElement){for(let a of Ci)if(u.contains(a))return;Ci.size===1&&(qn.set(u,{"aria-hidden":u.getAttribute("aria-hidden"),inert:u.inert}),Na(u))}}),()=>{if(Ci.delete(f),Ci.size>0)document.querySelectorAll("body > *").forEach(u=>{if(u instanceof HTMLElement&&!qn.has(u)){for(let a of Ci)if(u.contains(a))return;qn.set(u,{"aria-hidden":u.getAttribute("aria-hidden"),inert:u.inert}),Na(u)}});else for(let u of qn.keys())Ha(u),qn.delete(u)}}function fo(h,n){for(let f of h)if(f.contains(n))return!0;return!1}var Or;(function(h){h.Space=" ",h.Enter="Enter",h.Escape="Escape",h.Backspace="Backspace",h.ArrowLeft="ArrowLeft",h.ArrowUp="ArrowUp",h.ArrowRight="ArrowRight",h.ArrowDown="ArrowDown",h.Home="Home",h.End="End",h.PageUp="PageUp",h.PageDown="PageDown",h.Tab="Tab"})(Or||(Or={}));let Oc=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(h=>`${h}:not([tabindex='-1'])`).join(",");var We;(function(h){h[h.First=1]="First",h[h.Previous=2]="Previous",h[h.Next=4]="Next",h[h.Last=8]="Last",h[h.WrapAround=16]="WrapAround",h[h.NoScroll=32]="NoScroll"})(We||(We={}));var Wn;(function(h){h[h.Error=0]="Error",h[h.Overflow=1]="Overflow",h[h.Success=2]="Success",h[h.Underflow=3]="Underflow"})(Wn||(Wn={}));var zr;(function(h){h[h.Previous=-1]="Previous",h[h.Next=1]="Next"})(zr||(zr={}));function zc(h=document.body){return h==null?[]:Array.from(h.querySelectorAll(Oc))}var Za;(function(h){h[h.Strict=0]="Strict",h[h.Loose=1]="Loose"})(Za||(Za={}));function Ji(h){h==null||h.focus({preventScroll:!0})}function ja(h,n){let f=Array.isArray(h)?h:zc(h),u=document.activeElement,a=(()=>{if(n&(We.First|We.Next))return zr.Next;if(n&(We.Previous|We.Last))return zr.Previous;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),i=(()=>{if(n&We.First)return 0;if(n&We.Previous)return Math.max(0,f.indexOf(u))-1;if(n&We.Next)return Math.max(0,f.indexOf(u))+1;if(n&We.Last)return f.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=n&We.NoScroll?{preventScroll:!0}:{},p=0,o=f.length,m;do{if(p>=o||p+o<=0)return Wn.Error;let v=i+p;if(n&We.WrapAround)v=(v+o)%o;else{if(v<0)return Wn.Underflow;if(v>=o)return Wn.Overflow}m=f[v],m==null||m.focus(c),p+=a}while(m!==document.activeElement);return m.hasAttribute("tabindex")||m.setAttribute("tabindex","0"),Wn.Success}const{window:Ga}=is;function Ac(h){let n,f;return{c:Ot,l:Ot,m(u,a){n||(f=[Ce(Ga,"keydown",h[0]),Ce(Ga,"focus",h[1],!0)],n=!0)},p:Ot,i:Ot,o:Ot,d(u){n=!1,Vt(f)}}}function Dc(h,n,f){let{containers:u}=n,{enabled:a=!0}=n,{options:i={}}=n,c=typeof window<"u"?document.activeElement:null,p=null;async function o(){if(!a||u.size!==1)return;let{initialFocus:S}=i;await go();let z=document.activeElement;if(S){if(S===z)return}else if(fo(u,z))return;if(c=z,S)Ji(S);else{let x=!1;for(let T of u)if(ja(T,We.First)===Wn.Success){x=!0;break}x||console.warn("There are no focusable elements inside the <FocusTrap />")}p=document.activeElement}function m(){Ji(c),c=null,p=null}Ar(o);let v=!1;Si(()=>{v=!0,m()});function s(S){if(a&&S.key===Or.Tab&&document.activeElement&&u.size===1){S.preventDefault();for(let z of u)if(ja(z,(S.shiftKey?We.Previous:We.Next)|We.WrapAround)===Wn.Success){p=document.activeElement;break}}}function g(S){if(S.target===window.document.body||!a||u.size!==1||v)return;let z=p;if(!z)return;let x=S.target;x&&x instanceof HTMLElement?fo(u,x)?(p=x,Ji(x)):(S.preventDefault(),S.stopPropagation(),Ji(z)):Ji(p)}return h.$$set=S=>{"containers"in S&&f(2,u=S.containers),"enabled"in S&&f(3,a=S.enabled),"options"in S&&f(4,i=S.options)},h.$$.update=()=>{h.$$.dirty&12&&(a&&u?o():m())},[s,g,u,a,i]}class Ic extends re{constructor(n){super(),oe(this,n,Dc,Ac,ae,{containers:2,enabled:3,options:4})}}function Rc(h){let n;const f=h[4].default,u=Rt(f,h,h[3],null);return{c(){u&&u.c()},l(a){u&&u.l(a)},m(a,i){u&&u.m(a,i),n=!0},p(a,[i]){u&&u.p&&(!n||i&8)&&Nt(u,f,a,a[3],n?Zt(f,a[3],i,null):Ht(a[3]),null)},i(a){n||(st(u,a),n=!0)},o(a){ut(u,a),n=!1},d(a){u&&u.d(a)}}}var xi;(function(h){h[h.Add=0]="Add",h[h.Remove=1]="Remove"})(xi||(xi={}));const Va="headlessui-stack-context";function Nc(h,n,f){let u,{$$slots:a={},$$scope:i}=n,{onUpdate:c}=n,{element:p}=n;function o(...v){c==null||c(...v),m==null||m(...v)}let m=Jn(Va);return Bi(Va,o),Si(()=>{u&&u()}),h.$$set=v=>{"onUpdate"in v&&f(0,c=v.onUpdate),"element"in v&&f(1,p=v.element),"$$scope"in v&&f(3,i=v.$$scope)},h.$$.update=()=>{h.$$.dirty&6&&f(2,u=(()=>{if(u&&u(),!p)return null;let v=p;return o(xi.Add,v),()=>o(xi.Remove,v)})())},[c,p,u,i,a]}class Hc extends re{constructor(n){super(),oe(this,n,Nc,Rc,ae,{onUpdate:0,element:1})}}const Zc=h=>({describedby:h&1}),Fa=h=>({describedby:h[0].descriptionIds});function jc(h){let n;const f=h[6].default,u=Rt(f,h,h[5],Fa);return{c(){u&&u.c()},l(a){u&&u.l(a)},m(a,i){u&&u.m(a,i),n=!0},p(a,[i]){u&&u.p&&(!n||i&33)&&Nt(u,f,a,a[5],n?Zt(f,a[5],i,Zc):Ht(a[5]),Fa)},i(a){n||(st(u,a),n=!0)},o(a){ut(u,a),n=!1},d(a){u&&u.d(a)}}}const Gc="headlessui-description-context";function Vc(h,n,f){const u=["name","slotProps"];let a=pe(n,u),i,{$$slots:c={},$$scope:p}=n,{name:o}=n,{slotProps:m={}}=n,v=[],s=pn({name:o,slotProps:m,props:a,register:g});Ge(h,s,S=>f(0,i=S)),Bi(Gc,s);function g(S){return f(4,v=[...v,S]),()=>{f(4,v=v.filter(z=>z!==S))}}return h.$$set=S=>{n=vt(vt({},n),me(S)),f(8,a=pe(n,u)),"name"in S&&f(2,o=S.name),"slotProps"in S&&f(3,m=S.slotProps),"$$scope"in S&&f(5,p=S.$$scope)},h.$$.update=()=>{s.set({name:o,slotProps:m,props:a,register:g,descriptionIds:v.length>0?v.join(" "):void 0})},[i,s,o,m,v,p,c]}class Fc extends re{constructor(n){super(),oe(this,n,Vc,jc,ae,{name:2,slotProps:3})}}function Uc(h){let n;const f=h[2].default,u=Rt(f,h,h[1],null);return{c(){u&&u.c()},l(a){u&&u.l(a)},m(a,i){u&&u.m(a,i),n=!0},p(a,[i]){u&&u.p&&(!n||i&2)&&Nt(u,f,a,a[1],n?Zt(f,a[1],i,null):Ht(a[1]),null)},i(a){n||(st(u,a),n=!0)},o(a){ut(u,a),n=!1},d(a){u&&u.d(a)}}}const gs="headlessui-force-portal-root-context";function Kc(){return Jn(gs)}function qc(h,n,f){let{$$slots:u={},$$scope:a}=n,{force:i}=n;return Bi(gs,pn(i)),h.$$set=c=>{"force"in c&&f(0,i=c.force),"$$scope"in c&&f(1,a=c.$$scope)},[i,a,u]}class ms extends re{constructor(n){super(),oe(this,n,qc,Uc,ae,{force:0})}}function Wc(h){let n;const f=h[2].default,u=Rt(f,h,h[1],null);return{c(){u&&u.c()},l(a){u&&u.l(a)},m(a,i){u&&u.m(a,i),n=!0},p(a,[i]){u&&u.p&&(!n||i&2)&&Nt(u,f,a,a[1],n?Zt(f,a[1],i,null):Ht(a[1]),null)},i(a){n||(st(u,a),n=!0)},o(a){ut(u,a),n=!1},d(a){u&&u.d(a)}}}const vs="headlessui-portal-group-context";function Yc(){return Jn(vs)}function Xc(h,n,f){let{$$slots:u={},$$scope:a}=n,{target:i}=n,c=pn(i);return Bi(vs,c),h.$$set=p=>{"target"in p&&f(0,i=p.target),"$$scope"in p&&f(1,a=p.$$scope)},h.$$.update=()=>{h.$$.dirty&1&&c.set(i)},[i,a,u]}class Jc extends re{constructor(n){super(),oe(this,n,Xc,Wc,ae,{target:0})}}function Qc(h,n){return n&&n.append(h),{update(f){n=f,f.append(h)},destroy(){var f;n!=null&&n.contains(h)&&n.removeChild(h),n&&n.childNodes.length<=0&&((f=n.parentElement)==null||f.removeChild(n))}}}function $c(h){let n,f,u,a,i;const c=h[6].default,p=Rt(c,h,h[5],null);return{c(){n=pt("div"),p&&p.c()},l(o){n=_t(o,"DIV",{});var m=at(n);p&&p.l(m),m.forEach(K)},m(o,m){gt(o,n,m),p&&p.m(n,null),u=!0,a||(i=kt(f=Qc.call(null,n,h[0])),a=!0)},p(o,[m]){p&&p.p&&(!u||m&32)&&Nt(p,c,o,o[5],u?Zt(c,o[5],m,null):Ht(o[5]),null),f&&te(f.update)&&m&1&&f.update.call(null,o[0])},i(o){u||(st(p,o),u=!0)},o(o){ut(p,o),u=!1},d(o){o&&K(n),p&&p.d(o),a=!1,i()}}}function tf(h,n,f){let u,a,i,{$$slots:c={},$$scope:p}=n,o=Kc();Ge(h,o,v=>f(4,i=v));let m=Yc();return Ge(h,m,v=>f(3,a=v)),h.$$set=v=>{"$$scope"in v&&f(5,p=v.$$scope)},h.$$.update=()=>{h.$$.dirty&24&&f(0,u=(()=>{if(!(o&&i)&&m!==void 0&&a!==null)return a;if(typeof window>"u")return null;let v=document.getElementById("headlessui-portal-root");if(v)return v;let s=document.createElement("div");return s.setAttribute("id","headlessui-portal-root"),go().then(()=>{s!==document.body.lastChild&&document.body.appendChild(s)}),document.body.appendChild(s)})())},[u,o,m,a,i,p,c]}class ef extends re{constructor(n){super(),oe(this,n,tf,$c,ae,{})}}const po="!",nf=new RegExp(`^[^${po}]+(?:${po}(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$`);function ko(h,n=[]){let f,u=[];h.$on=(i,c)=>{let p=i,o=()=>{};for(let m of n){if(typeof m=="string"&&m===p){const v=h.$$.callbacks[p]||(h.$$.callbacks[p]=[]);return v.push(c),()=>{const s=v.indexOf(c);s!==-1&&v.splice(s,1)}}if(typeof m=="object"&&m.name===p){let v=c;c=(...s)=>{typeof m=="object"&&m.shouldExclude()||v(...s)}}}return f?o=f(p,c):u.push([p,c]),()=>{o()}};function a(i){fl(h,i)}return i=>{const c=[],p={};f=(o,m)=>{let v=o,s=m,g=!1;if(v.match(nf)){const T=v.split(po);v=T[0];const A=Object.fromEntries(T.slice(1).map(H=>[H,!0]));A.passive&&(g=g||{},g.passive=!0),A.nonpassive&&(g=g||{},g.passive=!1),A.capture&&(g=g||{},g.capture=!0),A.once&&(g=g||{},g.once=!0),A.preventDefault&&(s=dl(s)),A.stopPropagation&&(s=pl(s))}const z=Ce(i,v,s,g),x=()=>{z();const T=c.indexOf(x);T>-1&&c.splice(T,1)};return c.push(x),v in p||(p[v]=Ce(i,v,a)),x};for(let o=0;o<u.length;o++)f(u[o][0],u[o][1]);return{destroy:()=>{for(let o=0;o<c.length;o++)c[o]();for(let o of Object.entries(p))o[1]()}}}}const rf=["a","address","article","aside","b","bdi","bdo","blockquote","button","cite","code","data","datalist","dd","dl","dt","div","em","footer","form","h1","h2","h3","h4","h5","h6","header","i","input","label","li","main","nav","ol","p","section","span","strong","ul"];function of(h){return!(typeof h=="string"&&!rf.includes(h))}function ie(h,n){let f=[];if(n)for(let u=0;u<n.length;u++){const a=n[u],i=Array.isArray(a)?a[0]:a;Array.isArray(a)&&a.length>1?f.push(i(h,a[1])):f.push(i(h))}return{update(u){if((u&&u.length||0)!=f.length)throw new Error("You must not change the length of an actions array.");if(u)for(let a=0;a<u.length;a++){const i=f[a];if(i&&i.update){const c=u[a];Array.isArray(c)&&c.length>1?i.update(c[1]):i.update()}}},destroy(){for(let u=0;u<f.length;u++){const a=f[u];a&&a.destroy&&a.destroy()}}}}var dn;(function(h){h[h.None=0]="None",h[h.RenderStrategy=1]="RenderStrategy",h[h.Static=2]="Static"})(dn||(dn={}));function Ua(h){let n,f,u,a;const i=[Uf,Ff,Vf,Gf,jf,Zf,Hf,Nf,Rf,If,Df,Af,zf,Of,Bf,xf,Tf,Sf,Ef,Cf,Pf,wf,Mf,kf,bf,Lf,yf,vf,mf,gf,_f,pf,df,ff,cf,hf,uf,lf,sf,af],c=[];function p(o,m){return o[1]==="a"?0:o[1]==="address"?1:o[1]==="article"?2:o[1]==="aside"?3:o[1]==="b"?4:o[1]==="bdi"?5:o[1]==="bdo"?6:o[1]==="blockquote"?7:o[1]==="button"?8:o[1]==="cite"?9:o[1]==="code"?10:o[1]==="data"?11:o[1]==="datalist"?12:o[1]==="dd"?13:o[1]==="dl"?14:o[1]==="dt"?15:o[1]==="div"?16:o[1]==="em"?17:o[1]==="footer"?18:o[1]==="form"?19:o[1]==="h1"?20:o[1]==="h2"?21:o[1]==="h3"?22:o[1]==="h4"?23:o[1]==="h5"?24:o[1]==="h6"?25:o[1]==="header"?26:o[1]==="i"?27:o[1]==="input"?28:o[1]==="label"?29:o[1]==="li"?30:o[1]==="main"?31:o[1]==="nav"?32:o[1]==="ol"?33:o[1]==="p"?34:o[1]==="section"?35:o[1]==="span"?36:o[1]==="strong"?37:o[1]==="ul"?38:39}return n=p(h),f=c[n]=i[n](h),{c(){f.c(),u=Cn()},l(o){f.l(o),u=Cn()},m(o,m){c[n].m(o,m),gt(o,u,m),a=!0},p(o,m){let v=n;n=p(o),n===v?c[n].p(o,m):(wn(),ut(c[v],1,1,()=>{c[v]=null}),Pn(),f=c[n],f?f.p(o,m):(f=c[n]=i[n](o),f.c()),st(f,1),f.m(u.parentNode,u))},i(o){a||(st(f),a=!0)},o(o){ut(f),a=!1},d(o){c[n].d(o),o&&K(u)}}}function af(h){let n,f,u,a;const i=[{use:[...h[2],h[6]]},h[7],h[3],{hidden:h[4]||void 0}];function c(m){h[58](m)}var p=h[1];function o(m){let v={$$slots:{default:[Kf]},$$scope:{ctx:m}};for(let s=0;s<i.length;s+=1)v=vt(v,i[s]);return m[0]!==void 0&&(v.el=m[0]),{props:v}}return p&&(n=ia(p,o(h)),Gt.push(()=>ro(n,"el",c))),{c(){n&&Xt(n.$$.fragment),u=Cn()},l(m){n&&$t(n.$$.fragment,m),u=Cn()},m(m,v){n&&Jt(n,m,v),gt(m,u,v),a=!0},p(m,v){const s=v[0]&220?zt(i,[v[0]&68&&{use:[...m[2],m[6]]},v[0]&128&&ra(m[7]),v[0]&8&&ra(m[3]),v[0]&16&&{hidden:m[4]||void 0}]):{};if(v[1]&268435456&&(s.$$scope={dirty:v,ctx:m}),!f&&v[0]&1&&(f=!0,s.el=m[0],rs(()=>f=!1)),p!==(p=m[1])){if(n){wn();const g=n;ut(g.$$.fragment,1,0,()=>{Qt(g,1)}),Pn()}p?(n=ia(p,o(m)),Gt.push(()=>ro(n,"el",c)),Xt(n.$$.fragment),st(n.$$.fragment,1),Jt(n,u.parentNode,u)):n=null}else p&&n.$set(s)},i(m){a||(n&&st(n.$$.fragment,m),a=!0)},o(m){n&&ut(n.$$.fragment,m),a=!1},d(m){m&&K(u),n&&Qt(n,m)}}}function sf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("ul"),o&&o.c(),this.h()},l(s){n=_t(s,"UL",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[57](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[57](null),i=!1,Vt(c)}}}function lf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("strong"),o&&o.c(),this.h()},l(s){n=_t(s,"STRONG",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[56](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[56](null),i=!1,Vt(c)}}}function uf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("span"),o&&o.c(),this.h()},l(s){n=_t(s,"SPAN",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[55](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[55](null),i=!1,Vt(c)}}}function hf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("section"),o&&o.c(),this.h()},l(s){n=_t(s,"SECTION",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[54](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[54](null),i=!1,Vt(c)}}}function cf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("p"),o&&o.c(),this.h()},l(s){n=_t(s,"P",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[53](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[53](null),i=!1,Vt(c)}}}function ff(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("ol"),o&&o.c(),this.h()},l(s){n=_t(s,"OL",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[52](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[52](null),i=!1,Vt(c)}}}function df(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("nav"),o&&o.c(),this.h()},l(s){n=_t(s,"NAV",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[51](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[51](null),i=!1,Vt(c)}}}function pf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("main"),o&&o.c(),this.h()},l(s){n=_t(s,"MAIN",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[50](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[50](null),i=!1,Vt(c)}}}function _f(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("li"),o&&o.c(),this.h()},l(s){n=_t(s,"LI",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[49](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[49](null),i=!1,Vt(c)}}}function gf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("label"),o&&o.c(),this.h()},l(s){n=_t(s,"LABEL",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[48](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[48](null),i=!1,Vt(c)}}}function mf(h){let n,f,u,a,i,c=[h[7],h[3],{hidden:f=h[4]||void 0}],p={};for(let o=0;o<c.length;o+=1)p=vt(p,c[o]);return{c(){n=pt("input"),this.h()},l(o){n=_t(o,"INPUT",{}),this.h()},h(){Mt(n,p)},m(o,m){gt(o,n,m),n.autofocus&&n.focus(),h[47](n),a||(i=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],a=!0)},p(o,m){Mt(n,p=zt(c,[m[0]&128&&o[7],m[0]&8&&o[3],m[0]&16&&f!==(f=o[4]||void 0)&&{hidden:f}])),u&&te(u.update)&&m[0]&4&&u.update.call(null,o[2])},i:Ot,o:Ot,d(o){o&&K(n),h[47](null),a=!1,Vt(i)}}}function vf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("i"),o&&o.c(),this.h()},l(s){n=_t(s,"I",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[46](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[46](null),i=!1,Vt(c)}}}function yf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("header"),o&&o.c(),this.h()},l(s){n=_t(s,"HEADER",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[45](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[45](null),i=!1,Vt(c)}}}function Lf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("h6"),o&&o.c(),this.h()},l(s){n=_t(s,"H6",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[44](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[44](null),i=!1,Vt(c)}}}function bf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("h5"),o&&o.c(),this.h()},l(s){n=_t(s,"H5",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[43](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[43](null),i=!1,Vt(c)}}}function kf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("h4"),o&&o.c(),this.h()},l(s){n=_t(s,"H4",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[42](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[42](null),i=!1,Vt(c)}}}function Mf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("h3"),o&&o.c(),this.h()},l(s){n=_t(s,"H3",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[41](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[41](null),i=!1,Vt(c)}}}function wf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("h2"),o&&o.c(),this.h()},l(s){n=_t(s,"H2",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[40](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[40](null),i=!1,Vt(c)}}}function Pf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("h1"),o&&o.c(),this.h()},l(s){n=_t(s,"H1",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[39](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[39](null),i=!1,Vt(c)}}}function Cf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("form"),o&&o.c(),this.h()},l(s){n=_t(s,"FORM",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[38](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[38](null),i=!1,Vt(c)}}}function Ef(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("footer"),o&&o.c(),this.h()},l(s){n=_t(s,"FOOTER",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[37](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[37](null),i=!1,Vt(c)}}}function Sf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("em"),o&&o.c(),this.h()},l(s){n=_t(s,"EM",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[36](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[36](null),i=!1,Vt(c)}}}function Tf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("div"),o&&o.c(),this.h()},l(s){n=_t(s,"DIV",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[35](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[35](null),i=!1,Vt(c)}}}function xf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("dt"),o&&o.c(),this.h()},l(s){n=_t(s,"DT",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[34](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[34](null),i=!1,Vt(c)}}}function Bf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("dl"),o&&o.c(),this.h()},l(s){n=_t(s,"DL",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[33](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[33](null),i=!1,Vt(c)}}}function Of(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("dd"),o&&o.c(),this.h()},l(s){n=_t(s,"DD",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[32](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[32](null),i=!1,Vt(c)}}}function zf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("datalist"),o&&o.c(),this.h()},l(s){n=_t(s,"DATALIST",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[31](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[31](null),i=!1,Vt(c)}}}function Af(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("data"),o&&o.c(),this.h()},l(s){n=_t(s,"DATA",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[30](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[30](null),i=!1,Vt(c)}}}function Df(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("code"),o&&o.c(),this.h()},l(s){n=_t(s,"CODE",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[29](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[29](null),i=!1,Vt(c)}}}function If(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("cite"),o&&o.c(),this.h()},l(s){n=_t(s,"CITE",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[28](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[28](null),i=!1,Vt(c)}}}function Rf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("button"),o&&o.c(),this.h()},l(s){n=_t(s,"BUTTON",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),n.autofocus&&n.focus(),h[27](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[27](null),i=!1,Vt(c)}}}function Nf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("blockquote"),o&&o.c(),this.h()},l(s){n=_t(s,"BLOCKQUOTE",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[26](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[26](null),i=!1,Vt(c)}}}function Hf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("bdo"),o&&o.c(),this.h()},l(s){n=_t(s,"BDO",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[25](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[25](null),i=!1,Vt(c)}}}function Zf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("bdi"),o&&o.c(),this.h()},l(s){n=_t(s,"BDI",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[24](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[24](null),i=!1,Vt(c)}}}function jf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("b"),o&&o.c(),this.h()},l(s){n=_t(s,"B",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[23](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[23](null),i=!1,Vt(c)}}}function Gf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("aside"),o&&o.c(),this.h()},l(s){n=_t(s,"ASIDE",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[22](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[22](null),i=!1,Vt(c)}}}function Vf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("article"),o&&o.c(),this.h()},l(s){n=_t(s,"ARTICLE",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[21](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[21](null),i=!1,Vt(c)}}}function Ff(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("address"),o&&o.c(),this.h()},l(s){n=_t(s,"ADDRESS",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[20](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[20](null),i=!1,Vt(c)}}}function Uf(h){let n,f,u,a,i,c;const p=h[18].default,o=Rt(p,h,h[59],null);let m=[h[7],h[3],{hidden:f=h[4]||void 0}],v={};for(let s=0;s<m.length;s+=1)v=vt(v,m[s]);return{c(){n=pt("a"),o&&o.c(),this.h()},l(s){n=_t(s,"A",{});var g=at(n);o&&o.l(g),g.forEach(K),this.h()},h(){Mt(n,v)},m(s,g){gt(s,n,g),o&&o.m(n,null),h[19](n),a=!0,i||(c=[kt(u=ie.call(null,n,h[2])),kt(h[6].call(null,n))],i=!0)},p(s,g){o&&o.p&&(!a||g[1]&268435456)&&Nt(o,p,s,s[59],a?Zt(p,s[59],g,null):Ht(s[59]),null),Mt(n,v=zt(m,[g[0]&128&&s[7],g[0]&8&&s[3],(!a||g[0]&16&&f!==(f=s[4]||void 0))&&{hidden:f}])),u&&te(u.update)&&g[0]&4&&u.update.call(null,s[2])},i(s){a||(st(o,s),a=!0)},o(s){ut(o,s),a=!1},d(s){s&&K(n),o&&o.d(s),h[19](null),i=!1,Vt(c)}}}function Kf(h){let n;const f=h[18].default,u=Rt(f,h,h[59],null);return{c(){u&&u.c()},l(a){u&&u.l(a)},m(a,i){u&&u.m(a,i),n=!0},p(a,i){u&&u.p&&(!n||i[1]&268435456)&&Nt(u,f,a,a[59],n?Zt(f,a[59],i,null):Ht(a[59]),null)},i(a){n||(st(u,a),n=!0)},o(a){ut(u,a),n=!1},d(a){u&&u.d(a)}}}function qf(h){let n,f,u=h[5]&&Ua(h);return{c(){u&&u.c(),n=Cn()},l(a){u&&u.l(a),n=Cn()},m(a,i){u&&u.m(a,i),gt(a,n,i),f=!0},p(a,i){a[5]?u?(u.p(a,i),i[0]&32&&st(u,1)):(u=Ua(a),u.c(),st(u,1),u.m(n.parentNode,n)):u&&(wn(),ut(u,1,1,()=>{u=null}),Pn())},i(a){f||(st(u),f=!0)},o(a){ut(u),f=!1},d(a){u&&u.d(a),a&&K(n)}}}var Ka;(function(h){h[h.Unmount=0]="Unmount",h[h.Hidden=1]="Hidden"})(Ka||(Ka={}));function Wf(h,n,f){let u,a,i,c,p;const o=["name","as","slotProps","el","use","visible","features","unmount","static","class","style"];let m=pe(n,o),{$$slots:v={},$$scope:s}=n;const g=ko(mo());let{name:S}=n,{as:z}=n,{slotProps:x}=n,{el:T=null}=n,{use:A=[]}=n,{visible:H=!0}=n,{features:I=dn.None}=n,{unmount:P=!0}=n,{static:O=!1}=n,{class:Z=void 0}=n,{style:Y=void 0}=n;if(!z)throw new Error(`<${S}> did not provide an \`as\` value to <Render>`);if(!of(z))throw new Error(`<${S}> has an invalid or unsupported \`as\` prop: ${z}`);function Q(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function et(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function lt(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function ft(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function dt(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function bt(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function At(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function Pt(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function xt(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function se(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function rt(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function It(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function St(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function Et(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function Ut(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function Ee(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function be(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function he(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function ee(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function Ke(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function ze(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function _n(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function Xe(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function En(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function en(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function gn(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function Ze(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function Hn(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function mn(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function Sn(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function un(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function V(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function w(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function C(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function D(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function F(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function q(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function it(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function ot(W){Gt[W?"unshift":"push"](()=>{T=W,f(0,T)})}function yt(W){T=W,f(0,T)}return h.$$set=W=>{n=vt(vt({},n),me(W)),f(7,m=pe(n,o)),"name"in W&&f(8,S=W.name),"as"in W&&f(1,z=W.as),"slotProps"in W&&f(9,x=W.slotProps),"el"in W&&f(0,T=W.el),"use"in W&&f(2,A=W.use),"visible"in W&&f(10,H=W.visible),"features"in W&&f(11,I=W.features),"unmount"in W&&f(12,P=W.unmount),"static"in W&&f(13,O=W.static),"class"in W&&f(14,Z=W.class),"style"in W&&f(15,Y=W.style),"$$scope"in W&&f(59,s=W.$$scope)},h.$$.update=()=>{h.$$.dirty[0]&16896&&f(17,u=typeof Z=="function"?Z(x):Z),h.$$.dirty[0]&33280&&f(16,a=typeof Y=="function"?Y(x):Y),h.$$.dirty[0]&15360&&f(5,i=H||I&dn.Static&&O||!(I&dn.RenderStrategy&&P)),h.$$.dirty[0]&15360&&f(4,c=!H&&!(I&dn.Static&&O)&&I&dn.RenderStrategy&&!P),h.$$.dirty[0]&196624&&f(3,p={class:u,style:`${a??""}${c?" display: none":""}`||void 0}),h.$$.dirty[0]&8&&p.style===void 0&&delete p.style},[T,z,A,p,c,i,g,m,S,x,H,I,P,O,Z,Y,a,u,v,Q,et,lt,ft,dt,bt,At,Pt,xt,se,rt,It,St,Et,Ut,Ee,be,he,ee,Ke,ze,_n,Xe,En,en,gn,Ze,Hn,mn,Sn,un,V,w,C,D,F,q,it,ot,yt,s]}class ys extends re{constructor(n){super(),oe(this,n,Wf,qf,ae,{name:8,as:1,slotProps:9,el:0,use:2,visible:10,features:11,unmount:12,static:13,class:14,style:15},null,[-1,-1])}}const{window:qa}=is,Yf=h=>h&64,Xf=h=>({}),Wa=h=>({...h[6]});function Jf(h){let n;const f=h[24].default,u=Rt(f,h,h[27],Wa);return{c(){u&&u.c()},l(a){u&&u.l(a)},m(a,i){u&&u.m(a,i),n=!0},p(a,i){u&&u.p&&(!n||i&134217792)&&Nt(u,f,a,a[27],Yf(i)||!n?Ht(a[27]):Zt(f,a[27],i,Xf),Wa)},i(a){n||(st(u,a),n=!0)},o(a){ut(u,a),n=!1},d(a){u&&u.d(a)}}}function Qf(h){let n,f,u;const a=[{...h[14],...h[7]},{as:h[0]},{slotProps:h[6]},{use:[...h[1],h[9]]},{name:"Dialog"},{"aria-describedby":h[30]},{visible:h[8]},{features:dn.RenderStrategy|dn.Static}];function i(p){h[25](p)}let c={$$slots:{default:[Jf]},$$scope:{ctx:h}};for(let p=0;p<a.length;p+=1)c=vt(c,a[p]);return h[3]!==void 0&&(c.el=h[3]),n=new ys({props:c}),Gt.push(()=>ro(n,"el",i)),n.$on("click",ad),{c(){Xt(n.$$.fragment)},l(p){$t(n.$$.fragment,p)},m(p,o){Jt(n,p,o),u=!0},p(p,o){const m=o&1073759171?zt(a,[o&16512&&{...p[14],...p[7]},o&1&&{as:p[0]},o&64&&{slotProps:p[6]},o&514&&{use:[...p[1],p[9]]},a[4],o&1073741824&&{"aria-describedby":p[30]},o&256&&{visible:p[8]},o&0&&{features:dn.RenderStrategy|dn.Static}]):{};o&134217792&&(m.$$scope={dirty:o,ctx:p}),!f&&o&8&&(f=!0,m.el=p[3],rs(()=>f=!1)),n.$set(m)},i(p){u||(st(n.$$.fragment,p),u=!0)},o(p){ut(n.$$.fragment,p),u=!1},d(p){Qt(n,p)}}}function $f(h){let n,f;return n=new Fc({props:{name:"DialogDescription",slotProps:h[6],$$slots:{default:[Qf,({describedby:u})=>({30:u}),({describedby:u})=>u?1073741824:0]},$$scope:{ctx:h}}}),{c(){Xt(n.$$.fragment)},l(u){$t(n.$$.fragment,u)},m(u,a){Jt(n,u,a),f=!0},p(u,a){const i={};a&64&&(i.slotProps=u[6]),a&1207976395&&(i.$$scope={dirty:a,ctx:u}),n.$set(i)},i(u){f||(st(n.$$.fragment,u),f=!0)},o(u){ut(n.$$.fragment,u),f=!1},d(u){Qt(n,u)}}}function td(h){let n,f;return n=new ms({props:{force:!1,$$slots:{default:[$f]},$$scope:{ctx:h}}}),{c(){Xt(n.$$.fragment)},l(u){$t(n.$$.fragment,u)},m(u,a){Jt(n,u,a),f=!0},p(u,a){const i={};a&134234571&&(i.$$scope={dirty:a,ctx:u}),n.$set(i)},i(u){f||(st(n.$$.fragment,u),f=!0)},o(u){ut(n.$$.fragment,u),f=!1},d(u){Qt(n,u)}}}function ed(h){let n,f;return n=new Jc({props:{target:h[3],$$slots:{default:[td]},$$scope:{ctx:h}}}),{c(){Xt(n.$$.fragment)},l(u){$t(n.$$.fragment,u)},m(u,a){Jt(n,u,a),f=!0},p(u,a){const i={};a&8&&(i.target=u[3]),a&134234571&&(i.$$scope={dirty:a,ctx:u}),n.$set(i)},i(u){f||(st(n.$$.fragment,u),f=!0)},o(u){ut(n.$$.fragment,u),f=!1},d(u){Qt(n,u)}}}function nd(h){let n,f;return n=new ef({props:{$$slots:{default:[ed]},$$scope:{ctx:h}}}),{c(){Xt(n.$$.fragment)},l(u){$t(n.$$.fragment,u)},m(u,a){Jt(n,u,a),f=!0},p(u,a){const i={};a&134234571&&(i.$$scope={dirty:a,ctx:u}),n.$set(i)},i(u){f||(st(n.$$.fragment,u),f=!0)},o(u){ut(n.$$.fragment,u),f=!1},d(u){Qt(n,u)}}}function id(h){let n,f;return n=new ms({props:{force:!0,$$slots:{default:[nd]},$$scope:{ctx:h}}}),{c(){Xt(n.$$.fragment)},l(u){$t(n.$$.fragment,u)},m(u,a){Jt(n,u,a),f=!0},p(u,a){const i={};a&134234571&&(i.$$scope={dirty:a,ctx:u}),n.$set(i)},i(u){f||(st(n.$$.fragment,u),f=!0)},o(u){ut(n.$$.fragment,u),f=!1},d(u){Qt(n,u)}}}function rd(h){let n,f,u,a,i,c;return n=new Ic({props:{containers:h[5],enabled:h[4],options:{initialFocus:h[2]}}}),u=new Hc({props:{element:h[3],onUpdate:h[26],$$slots:{default:[id]},$$scope:{ctx:h}}}),{c(){Xt(n.$$.fragment),f=fe(),Xt(u.$$.fragment)},l(p){$t(n.$$.fragment,p),f=de(p),$t(u.$$.fragment,p)},m(p,o){Jt(n,p,o),gt(p,f,o),Jt(u,p,o),a=!0,i||(c=[Ce(qa,"mousedown",h[12]),Ce(qa,"keydown",h[13])],i=!0)},p(p,[o]){const m={};o&32&&(m.containers=p[5]),o&16&&(m.enabled=p[4]),o&4&&(m.options={initialFocus:p[2]}),n.$set(m);const v={};o&8&&(v.element=p[3]),o&32&&(v.onUpdate=p[26]),o&134234571&&(v.$$scope={dirty:o,ctx:p}),u.$set(v)},i(p){a||(st(n.$$.fragment,p),st(u.$$.fragment,p),a=!0)},o(p){ut(n.$$.fragment,p),ut(u.$$.fragment,p),a=!1},d(p){Qt(n,p),p&&K(f),Qt(u,p),i=!1,Vt(c)}}}var ln;(function(h){h[h.Open=0]="Open",h[h.Closed=1]="Closed"})(ln||(ln={}));const Ls="headlessui-dialog-context";function od(h){let n=Jn(Ls);if(n===void 0)throw new Error(`<${h} /> is missing a parent <Dialog /> component.`);return n}function ad(h){h.stopPropagation()}function sd(h,n,f){let u,a,i,c,p,o,m,v;const s=["as","use","open","initialFocus"];let g=pe(n,s),S,z,{$$slots:x={},$$scope:T}=n,{as:A="div"}=n,{use:H=[]}=n,{open:I=void 0}=n,{initialFocus:P=null}=n;const O=ko(mo(),["close"]),Z=er();let Y=new Set,Q=Sc();Ge(h,Q,rt=>f(23,z=rt));let et=null;const lt=`headlessui-dialog-${_s()}`;Si(()=>{c&&c()});let ft,dt=pn({titleId:ft,dialogState:u,setTitleId(rt){ft!==rt&&f(16,ft=rt)},close(){Z("close",!1)}});Ge(h,dt,rt=>f(22,S=rt)),Bi(Ls,dt);async function bt(rt){let It=rt.target;u===ln.Open&&Y.size===1&&(fo(Y,It)||(S.close(),await go(),It==null||It.focus()))}function At(rt){rt.key===Or.Escape&&u===ln.Open&&(Y.size>1||(rt.preventDefault(),rt.stopPropagation(),S.close()))}let Pt=!1;Ar(()=>f(17,Pt=!0)),Si(()=>{p&&p()}),Si(()=>{o&&o()});function xt(rt){et=rt,f(3,et)}const se=(rt,It)=>co(rt,{[xi.Add](){f(5,Y=new Set([...Y,It]))},[xi.Remove](){Y.delete(It),f(5,Y=new Set([...Y]))}});return h.$$set=rt=>{n=vt(vt({},n),me(rt)),f(14,g=pe(n,s)),"as"in rt&&f(0,A=rt.as),"use"in rt&&f(1,H=rt.use),"open"in rt&&f(15,I=rt.open),"initialFocus"in rt&&f(2,P=rt.initialFocus),"$$scope"in rt&&f(27,T=rt.$$scope)},h.$$.update=()=>{if(h.$$.dirty&8421376){if(f(15,I=I===void 0&&Q!==void 0?co(z,{[$i.Open]:!0,[$i.Closed]:!1}):I),!(I!==void 0||Q!==void 0))throw new Error("You forgot to provide an `open` prop to the `Dialog` component.");if(typeof I!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${I}`)}h.$$.dirty&32768&&f(18,u=I?ln.Open:ln.Closed),h.$$.dirty&8650752&&f(8,a=Q!==void 0?z===$i.Open:u===ln.Open),h.$$.dirty&262144&&f(4,i=u===ln.Open),h.$$.dirty&2097176&&f(21,c=(()=>(c&&c(),Bc(et,i)))()),h.$$.dirty&327680&&dt.update(rt=>({...rt,titleId:ft,dialogState:u})),h.$$.dirty&1441792&&f(20,p=(()=>{if(p&&p(),u!==ln.Open||!Pt)return;let rt=document.documentElement.style.overflow,It=document.documentElement.style.paddingRight,St=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${St}px`,()=>{document.documentElement.style.overflow=rt,document.documentElement.style.paddingRight=It}})()),h.$$.dirty&4980744&&f(19,o=(()=>{if(o&&o(),u!==ln.Open)return;let rt=et;if(!rt)return;let It=new IntersectionObserver(St=>{for(let Et of St)Et.boundingClientRect.x===0&&Et.boundingClientRect.y===0&&Et.boundingClientRect.width===0&&Et.boundingClientRect.height===0&&S.close()});return It.observe(rt),()=>It.disconnect()})()),h.$$.dirty&327680&&f(7,m={id:lt,role:"dialog","aria-modal":u===ln.Open?!0:void 0,"aria-labelledby":ft}),h.$$.dirty&32768&&f(6,v={open:I})},[A,H,P,et,i,Y,v,m,a,O,Q,dt,bt,At,g,I,ft,Pt,u,o,p,c,S,z,x,xt,se,T]}class ld extends re{constructor(n){super(),oe(this,n,sd,rd,ae,{as:0,use:1,open:15,initialFocus:2})}}const ud=h=>h&4,hd=h=>({}),Ya=h=>({...h[2]});function cd(h){let n;const f=h[9].default,u=Rt(f,h,h[10],Ya);return{c(){u&&u.c()},l(a){u&&u.l(a)},m(a,i){u&&u.m(a,i),n=!0},p(a,i){u&&u.p&&(!n||i&1028)&&Nt(u,f,a,a[10],ud(i)||!n?Ht(a[10]):Zt(f,a[10],i,hd),Ya)},i(a){n||(st(u,a),n=!0)},o(a){ut(u,a),n=!1},d(a){u&&u.d(a)}}}function fd(h){let n,f;const u=[{...h[7],...h[3]},{as:h[0]},{slotProps:h[2]},{use:[...h[1],h[4]]},{name:"DialogOverlay"}];let a={$$slots:{default:[cd]},$$scope:{ctx:h}};for(let i=0;i<u.length;i+=1)a=vt(a,u[i]);return n=new ys({props:a}),n.$on("click",h[6]),{c(){Xt(n.$$.fragment)},l(i){$t(n.$$.fragment,i)},m(i,c){Jt(n,i,c),f=!0},p(i,[c]){const p=c&159?zt(u,[c&136&&{...i[7],...i[3]},c&1&&{as:i[0]},c&4&&{slotProps:i[2]},c&18&&{use:[...i[1],i[4]]},u[4]]):{};c&1028&&(p.$$scope={dirty:c,ctx:i}),n.$set(p)},i(i){f||(st(n.$$.fragment,i),f=!0)},o(i){ut(n.$$.fragment,i),f=!1},d(i){Qt(n,i)}}}function dd(h,n,f){let u,a;const i=["as","use"];let c=pe(n,i),p,{$$slots:o={},$$scope:m}=n,{as:v="div"}=n,{use:s=[]}=n;const g=ko(mo());let S=od("DialogOverlay");Ge(h,S,T=>f(8,p=T));let z=`headlessui-dialog-overlay-${_s()}`;function x(T){let A=T;A.target===A.currentTarget&&(A.preventDefault(),A.stopPropagation(),p.close())}return h.$$set=T=>{n=vt(vt({},n),me(T)),f(7,c=pe(n,i)),"as"in T&&f(0,v=T.as),"use"in T&&f(1,s=T.use),"$$scope"in T&&f(10,m=T.$$scope)},h.$$.update=()=>{h.$$.dirty&256&&f(2,a={open:p.dialogState===ln.Open})},f(3,u={id:z,"aria-hidden":!0}),[v,s,a,u,g,S,x,c,p,o,m]}class pd extends re{constructor(n){super(),oe(this,n,dd,fd,ae,{as:0,use:1})}}var Xa;(function(h){h[h.Open=0]="Open",h[h.Closed=1]="Closed"})(Xa||(Xa={}));var Ja;(function(h){h[h.First=0]="First",h[h.Previous=1]="Previous",h[h.Next=2]="Next",h[h.Last=3]="Last",h[h.Specific=4]="Specific",h[h.Nothing=5]="Nothing"})(Ja||(Ja={}));var Qa;(function(h){h[h.Open=0]="Open",h[h.Closed=1]="Closed"})(Qa||(Qa={}));var $a;(function(h){h[h.Open=0]="Open",h[h.Closed=1]="Closed"})($a||($a={}));var ts;(function(h){h[h.Open=0]="Open",h[h.Closed=1]="Closed"})(ts||(ts={}));var es;(function(h){h.Finished="finished",h.Cancelled="cancelled"})(es||(es={}));var ns;(function(h){h.Visible="visible",h.Hidden="hidden"})(ns||(ns={}));var _d={};yo(_d,{TauriEvent:()=>Ms,emit:()=>yd,listen:()=>ws,once:()=>vd});async function bs(h,n){return Qn({__tauriModule:"Event",message:{cmd:"unlisten",event:h,eventId:n}})}async function gd(h,n,f){await Qn({__tauriModule:"Event",message:{cmd:"emit",event:h,windowLabel:n,payload:f}})}async function ks(h,n,f){return Qn({__tauriModule:"Event",message:{cmd:"listen",event:h,windowLabel:n,handler:xr(f)}}).then(u=>async()=>bs(h,u))}async function md(h,n,f){return ks(h,n,u=>{f(u),bs(h,u.id).catch(()=>{})})}var Ms=(h=>(h.WINDOW_RESIZED="tauri://resize",h.WINDOW_MOVED="tauri://move",h.WINDOW_CLOSE_REQUESTED="tauri://close-requested",h.WINDOW_CREATED="tauri://window-created",h.WINDOW_DESTROYED="tauri://destroyed",h.WINDOW_FOCUS="tauri://focus",h.WINDOW_BLUR="tauri://blur",h.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",h.WINDOW_THEME_CHANGED="tauri://theme-changed",h.WINDOW_FILE_DROP="tauri://file-drop",h.WINDOW_FILE_DROP_HOVER="tauri://file-drop-hover",h.WINDOW_FILE_DROP_CANCELLED="tauri://file-drop-cancelled",h.MENU="tauri://menu",h.CHECK_UPDATE="tauri://update",h.UPDATE_AVAILABLE="tauri://update-available",h.INSTALL_UPDATE="tauri://update-install",h.STATUS_UPDATE="tauri://update-status",h.DOWNLOAD_PROGRESS="tauri://update-download-progress",h))(Ms||{});async function ws(h,n){return ks(h,null,n)}async function vd(h,n){return md(h,null,n)}async function yd(h,n){return gd(h,void 0,n)}function Ld(h){let n,f,u,a,i,c,p,o,m,v,s;return{c(){n=pt("div"),f=De("svg"),u=De("circle"),a=De("circle"),i=fe(),c=pt("div"),p=pt("div"),o=pt("span"),m=xe(h[0]),v=pt("span"),s=xe("%"),this.h()},l(g){n=_t(g,"DIV",{class:!0});var S=at(n);f=Ie(S,"svg",{class:!0,viewBox:!0,xmlns:!0});var z=at(f);u=Ie(z,"circle",{class:!0,r:!0,cx:!0,cy:!0}),at(u).forEach(K),a=Ie(z,"circle",{class:!0,r:!0,cx:!0,cy:!0,style:!0}),at(a).forEach(K),z.forEach(K),i=de(S),c=_t(S,"DIV",{class:!0});var x=at(c);p=_t(x,"DIV",{});var T=at(p);o=_t(T,"SPAN",{class:!0});var A=at(o);m=Be(A,h[0]),A.forEach(K),v=_t(T,"SPAN",{class:!0});var H=at(v);s=Be(H,"%"),H.forEach(K),T.forEach(K),x.forEach(K),S.forEach(K),this.h()},h(){ct(u,"class","circle-container__background svelte-o54wqb"),ct(u,"r","16"),ct(u,"cx","16"),ct(u,"cy","16"),ct(a,"class","circle-container__progress svelte-o54wqb"),ct(a,"r","16"),ct(a,"cx","16"),ct(a,"cy","16"),Ti(a,"stroke-dashoffset",h[1]),ct(f,"class","circle-container h-full w-full svelte-o54wqb"),ct(f,"viewBox","2 -2 28 36"),ct(f,"xmlns","http://www.w3.org/2000/svg"),ct(o,"class","text-3xl text-gray-800"),ct(v,"class","text-gray-600"),ct(c,"class","absolute inset-0 flex items-center justify-center"),ct(n,"class","relative h-full w-full")},m(g,S){gt(g,n,S),Lt(n,f),Lt(f,u),Lt(f,a),Lt(n,i),Lt(n,c),Lt(c,p),Lt(p,o),Lt(o,m),Lt(p,v),Lt(v,s)},p(g,[S]){S&2&&Ti(a,"stroke-dashoffset",g[1]),S&1&&Yn(m,g[0])},i:Ot,o:Ot,d(g){g&&K(n)}}}function bd(h,n,f){let{progress:u=0}=n,a=100;return h.$$set=i=>{"progress"in i&&f(0,u=i.progress)},h.$$.update=()=>{h.$$.dirty&1&&f(1,a=100-u)},[u,a]}class kd extends re{constructor(n){super(),oe(this,n,bd,Ld,ae,{progress:0})}}function Md(h){let n,f;return{c(){n=pt("div"),f=xe("data checking..."),this.h()},l(u){n=_t(u,"DIV",{class:!0});var a=at(n);f=Be(a,"data checking..."),a.forEach(K),this.h()},h(){ct(n,"class","animate-pulse")},m(u,a){gt(u,n,a),Lt(n,f)},p:Ot,i:Ot,o:Ot,d(u){u&&K(n)}}}function wd(h){let n,f,u,a,i,c,p,o,m,v,s,g,S,z,x,T,A,H,I,P,O,Z,Y;return I=new kd({props:{progress:h[6]}}),{c(){n=pt("div"),f=pt("div"),u=pt("h1"),a=xe("Importing..."),i=fe(),c=pt("p"),p=xe(h[3]),o=xe(" / "),m=xe(h[4]),v=pt("br"),s=fe(),g=xe(h[5]),S=fe(),z=pt("div"),x=pt("button"),T=xe("Cancel"),A=fe(),H=pt("div"),Xt(I.$$.fragment),this.h()},l(Q){n=_t(Q,"DIV",{class:!0});var et=at(n);f=_t(et,"DIV",{class:!0});var lt=at(f);u=_t(lt,"H1",{class:!0});var ft=at(u);a=Be(ft,"Importing..."),ft.forEach(K),i=de(lt),c=_t(lt,"P",{class:!0});var dt=at(c);p=Be(dt,h[3]),o=Be(dt," / "),m=Be(dt,h[4]),v=_t(dt,"BR",{}),s=de(dt),g=Be(dt,h[5]),dt.forEach(K),S=de(lt),z=_t(lt,"DIV",{class:!0});var bt=at(z);x=_t(bt,"BUTTON",{class:!0});var At=at(x);T=Be(At,"Cancel"),At.forEach(K),bt.forEach(K),lt.forEach(K),A=de(et),H=_t(et,"DIV",{class:!0});var Pt=at(H);$t(I.$$.fragment,Pt),Pt.forEach(K),et.forEach(K),this.h()},h(){ct(u,"class","mb-4 text-3xl text-gray-800"),ct(c,"class","mb-4 max-w-xs"),ct(x,"class","rounded-md bg-gray-100 py-1 px-4 text-gray-700 hover:bg-gray-200"),ct(z,"class","mt-auto block"),ct(f,"class","flex flex-col"),ct(H,"class","h-40 w-40"),ct(n,"class","flex flex-wrap gap-4")},m(Q,et){gt(Q,n,et),Lt(n,f),Lt(f,u),Lt(u,a),Lt(f,i),Lt(f,c),Lt(c,p),Lt(c,o),Lt(c,m),Lt(c,v),Lt(c,s),Lt(c,g),Lt(f,S),Lt(f,z),Lt(z,x),Lt(x,T),Lt(n,A),Lt(n,H),Jt(I,H,null),O=!0,Z||(Y=Ce(x,"click",h[8]),Z=!0)},p(Q,et){(!O||et&8)&&Yn(p,Q[3]),(!O||et&16)&&Yn(m,Q[4]),(!O||et&32)&&Yn(g,Q[5]);const lt={};et&64&&(lt.progress=Q[6]),I.$set(lt)},i(Q){O||(st(I.$$.fragment,Q),P||_o(()=>{P=os(n,ps,{}),P.start()}),O=!0)},o(Q){ut(I.$$.fragment,Q),O=!1},d(Q){Q&&K(n),Qt(I),Z=!1,Y()}}}function Pd(h){let n,f,u,a,i,c,p,o,m,v,s,g,S,z;return{c(){n=pt("div"),f=pt("h1"),u=xe("First in first."),a=fe(),i=pt("p"),c=xe("Import source.zip for registered points and streams."),p=pt("br"),o=xe(`
						If not, it's no reason to use this App.`),m=fe(),v=pt("button"),s=xe("Import"),this.h()},l(x){n=_t(x,"DIV",{class:!0});var T=at(n);f=_t(T,"H1",{class:!0});var A=at(f);u=Be(A,"First in first."),A.forEach(K),a=de(T),i=_t(T,"P",{class:!0});var H=at(i);c=Be(H,"Import source.zip for registered points and streams."),p=_t(H,"BR",{}),o=Be(H,`
						If not, it's no reason to use this App.`),H.forEach(K),m=de(T),v=_t(T,"BUTTON",{class:!0});var I=at(v);s=Be(I,"Import"),I.forEach(K),T.forEach(K),this.h()},h(){ct(f,"class","mb-4 text-3xl text-gray-800"),ct(i,"class","mb-4"),ct(v,"class","rounded-md bg-indigo-500 py-1 px-4 text-white hover:bg-indigo-600"),ct(n,"class","block")},m(x,T){gt(x,n,T),Lt(n,f),Lt(f,u),Lt(n,a),Lt(n,i),Lt(i,c),Lt(i,p),Lt(i,o),Lt(n,m),Lt(n,v),Lt(v,s),S||(z=Ce(v,"click",h[7]),S=!0)},p:Ot,i(x){g||_o(()=>{g=os(n,ps,{}),g.start()})},o:Ot,d(x){x&&K(n),S=!1,z()}}}function Cd(h){let n,f,u,a,i,c,p;n=new pd({props:{class:"absolute inset-0 z-10 bg-black/80"}});const o=[Pd,wd,Md],m=[];function v(s,g){return s[1]&&!s[2]?0:s[1]&&s[2]?1:2}return i=v(h),c=m[i]=o[i](h),{c(){Xt(n.$$.fragment),f=fe(),u=pt("div"),a=pt("div"),c.c(),this.h()},l(s){$t(n.$$.fragment,s),f=de(s),u=_t(s,"DIV",{class:!0});var g=at(u);a=_t(g,"DIV",{class:!0});var S=at(a);c.l(S),S.forEach(K),g.forEach(K),this.h()},h(){ct(a,"class","relative z-20 rounded-sm bg-white p-8"),ct(u,"class","absolute inset-0 z-20 flex items-center justify-center")},m(s,g){Jt(n,s,g),gt(s,f,g),gt(s,u,g),Lt(u,a),m[i].m(a,null),p=!0},p(s,g){let S=i;i=v(s),i===S?m[i].p(s,g):(wn(),ut(m[S],1,1,()=>{m[S]=null}),Pn(),c=m[i],c?c.p(s,g):(c=m[i]=o[i](s),c.c()),st(c,1),c.m(a,null))},i(s){p||(st(n.$$.fragment,s),st(c),p=!0)},o(s){ut(n.$$.fragment,s),ut(c),p=!1},d(s){Qt(n,s),s&&K(f),s&&K(u),m[i].d()}}}function Ed(h){let n,f;return n=new ld({props:{open:h[0],class:"fixed inset-0 z-20",$$slots:{default:[Cd]},$$scope:{ctx:h}}}),{c(){Xt(n.$$.fragment)},l(u){$t(n.$$.fragment,u)},m(u,a){Jt(n,u,a),f=!0},p(u,[a]){const i={};a&1&&(i.open=u[0]),a&1150&&(i.$$scope={dirty:a,ctx:u}),n.$set(i)},i(u){f||(st(n.$$.fragment,u),f=!0)},o(u){ut(n.$$.fragment,u),f=!1},d(u){Qt(n,u)}}}function Sd(h,n,f){let u=!0,a=!1,i=!1,c="-",p="-",o="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolor fugit, nihil unde neque quaerat reiciendis. Et est unde placeat, possimus architecto quod praesentium ad eius saepe ex maiores. Ab, eos!",m=0;return Ar(async()=>{await ws("import-progress",S=>{console.log("event arrived",S),f(3,c=S.payload.current),f(4,p=S.payload.total),f(5,o=S.payload.message),f(6,m=Math.round(S.payload.current/S.payload.total*100))});const g=await Nn("check_initiation");f(1,a=!0),f(0,u=!g)}),[u,a,i,c,p,o,m,async()=>{const g=await Ir({multiple:!1,filters:[{name:"Image",extensions:["png","jpeg","zip"]}]});console.dir(g),f(2,i=!0),Array.isArray(g)||g===null||await Nn("greet",{name:g}),f(0,u=!1)},async()=>{alert("not implemented yet")}]}class Td extends re{constructor(n){super(),oe(this,n,Sd,Ed,ae,{})}}function xd(h){let n,f,u,a,i,c,p;return n=new Td({}),a=new Uh({}),c=new Cc({}),{c(){Xt(n.$$.fragment),f=fe(),u=pt("div"),Xt(a.$$.fragment),i=fe(),Xt(c.$$.fragment),this.h()},l(o){$t(n.$$.fragment,o),f=de(o),u=_t(o,"DIV",{class:!0});var m=at(u);$t(a.$$.fragment,m),i=de(m),$t(c.$$.fragment,m),m.forEach(K),this.h()},h(){ct(u,"class","grid h-full w-full grid-rows-[auto,_min-content]")},m(o,m){Jt(n,o,m),gt(o,f,m),gt(o,u,m),Jt(a,u,null),Lt(u,i),Jt(c,u,null),p=!0},p:Ot,i(o){p||(st(n.$$.fragment,o),st(a.$$.fragment,o),st(c.$$.fragment,o),p=!0)},o(o){ut(n.$$.fragment,o),ut(a.$$.fragment,o),ut(c.$$.fragment,o),p=!1},d(o){Qt(n,o),o&&K(f),o&&K(u),Qt(a),Qt(c)}}}class Ad extends re{constructor(n){super(),oe(this,n,null,xd,ae,{})}}export{Ad as default};
