import{S as be,i as Ce,s as we,I as Pt,J as _n,K as mn,m as ft,h as U,L as He,b as Et,M as Zt,B as Vt,N as Pe,O as Be,P as Tg,k as vt,a as ve,w as ae,l as yt,c as ye,x as de,n as pt,G as Ct,Q as pa,y as le,R as qe,f as dt,g as di,t as Lt,d as gi,z as ue,T as Qt,H as gn,U as Tl,V as Xh,W as Kc,X as Ng,q as un,r as hn,u as rs,Y as _i,Z as Np,p as da,_ as No,$ as _s,e as ho,a0 as Ba,o as zu,C as $t,D as te,E as ee,F as ne,a1 as oe,a2 as fa,a3 as Op,A as Yh,a4 as Nt,a5 as Se,a6 as Og,a7 as Dg,a8 as Rg,a9 as Wh,v as Jc,aa as Sh,ab as Qc,ac as Dp,ad as Ot,ae as Rp}from"../../../chunks/index-7a4e2a67.js";import{w as Gr}from"../../../chunks/index-09605fcc.js";import{s as Ag,u as Bg}from"../../../chunks/firebase-6a92e3ac.js";const zg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",Fg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",Gg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==";var wr=63710088e-1,Ap={centimeters:wr*100,centimetres:wr*100,degrees:wr/111325,feet:wr*3.28084,inches:wr*39.37,kilometers:wr/1e3,kilometres:wr/1e3,meters:wr,metres:wr,miles:wr/1609.344,millimeters:wr*1e3,millimetres:wr*1e3,nauticalmiles:wr/1852,radians:1,yards:wr*1.0936};function Fu(e,t,n){n===void 0&&(n={});var r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function bu(e,t,n){if(n===void 0&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!$c(e[0])||!$c(e[1]))throw new Error("coordinates must contain numbers");var r={type:"Point",coordinates:e};return Fu(r,t,n)}function Vg(e,t,n){if(n===void 0&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");var r={type:"LineString",coordinates:e};return Fu(r,t,n)}function kh(e,t){t===void 0&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function Ug(e,t){t===void 0&&(t="kilometers");var n=Ap[t];if(!n)throw new Error(t+" units is invalid");return e*n}function Hg(e,t){t===void 0&&(t="kilometers");var n=Ap[t];if(!n)throw new Error(t+" units is invalid");return e/n}function $c(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function Zg(e){return!!e&&e.constructor===Object}var Bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nn={},jg={get exports(){return nn},set exports(e){nn=e}};/* @preserve
 * Leaflet 1.9.3, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(Bp,function(n){var r="1.9.3";function i(a){var f,m,y,w;for(m=1,y=arguments.length;m<y;m++){w=arguments[m];for(f in w)a[f]=w[f]}return a}var o=Object.create||function(){function a(){}return function(f){return a.prototype=f,new a}}();function s(a,f){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var y=m.call(arguments,2);return function(){return a.apply(f,y.length?y.concat(m.call(arguments)):arguments)}}var u=0;function l(a){return"_leaflet_id"in a||(a._leaflet_id=++u),a._leaflet_id}function p(a,f,m){var y,w,D,q;return q=function(){y=!1,w&&(D.apply(m,w),w=!1)},D=function(){y?w=arguments:(a.apply(m,arguments),setTimeout(q,f),y=!0)},D}function g(a,f,m){var y=f[1],w=f[0],D=y-w;return a===y&&m?a:((a-w)%D+D)%D+w}function c(){return!1}function _(a,f){if(f===!1)return a;var m=Math.pow(10,f===void 0?6:f);return Math.round(a*m)/m}function C(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function E(a){return C(a).split(/\s+/)}function P(a,f){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?o(a.options):{});for(var m in f)a.options[m]=f[m];return a.options}function S(a,f,m){var y=[];for(var w in a)y.push(encodeURIComponent(m?w.toUpperCase():w)+"="+encodeURIComponent(a[w]));return(!f||f.indexOf("?")===-1?"?":"&")+y.join("&")}var I=/\{ *([\w_ -]+) *\}/g;function T(a,f){return a.replace(I,function(m,y){var w=f[y];if(w===void 0)throw new Error("No value provided for variable "+m);return typeof w=="function"&&(w=w(f)),w})}var N=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function x(a,f){for(var m=0;m<a.length;m++)if(a[m]===f)return m;return-1}var R="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function B(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var Y=0;function Q(a){var f=+new Date,m=Math.max(0,16-(f-Y));return Y=f+m,window.setTimeout(a,m)}var rt=window.requestAnimationFrame||B("RequestAnimationFrame")||Q,ct=window.cancelAnimationFrame||B("CancelAnimationFrame")||B("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function X(a,f,m){if(m&&rt===Q)a.call(f);else return rt.call(window,s(a,f))}function J(a){a&&ct.call(window,a)}var at={__proto__:null,extend:i,create:o,bind:s,get lastId(){return u},stamp:l,throttle:p,wrapNum:g,falseFn:c,formatNum:_,trim:C,splitWords:E,setOptions:P,getParamString:S,template:T,isArray:N,indexOf:x,emptyImageUrl:R,requestFn:rt,cancelFn:ct,requestAnimFrame:X,cancelAnimFrame:J};function it(){}it.extend=function(a){var f=function(){P(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=f.__super__=this.prototype,y=o(m);y.constructor=f,f.prototype=y;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(f[w]=this[w]);return a.statics&&i(f,a.statics),a.includes&&(ot(a.includes),i.apply(null,[y].concat(a.includes))),i(y,a),delete y.statics,delete y.includes,y.options&&(y.options=m.options?o(m.options):{},i(y.options,a.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var D=0,q=y._initHooks.length;D<q;D++)y._initHooks[D].call(this)}},f},it.include=function(a){var f=this.prototype.options;return i(this.prototype,a),a.options&&(this.prototype.options=f,this.mergeOptions(a.options)),this},it.mergeOptions=function(a){return i(this.prototype.options,a),this},it.addInitHook=function(a){var f=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function ot(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=N(a)?a:[a];for(var f=0;f<a.length;f++)a[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var bt={on:function(a,f,m){if(typeof a=="object")for(var y in a)this._on(y,a[y],f);else{a=E(a);for(var w=0,D=a.length;w<D;w++)this._on(a[w],f,m)}return this},off:function(a,f,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var y in a)this._off(y,a[y],f);else{a=E(a);for(var w=arguments.length===1,D=0,q=a.length;D<q;D++)w?this._off(a[D]):this._off(a[D],f,m)}return this},_on:function(a,f,m,y){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(a,f,m)===!1){m===this&&(m=void 0);var w={fn:f,ctx:m};y&&(w.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(w)}},_off:function(a,f,m){var y,w,D;if(this._events&&(y=this._events[a],!!y)){if(arguments.length===1){if(this._firingCount)for(w=0,D=y.length;w<D;w++)y[w].fn=c;delete this._events[a];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var q=this._listens(a,f,m);if(q!==!1){var nt=y[q];this._firingCount&&(nt.fn=c,this._events[a]=y=y.slice()),y.splice(q,1)}}},fire:function(a,f,m){if(!this.listens(a,m))return this;var y=i({},f,{type:a,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var w=this._events[a];if(w){this._firingCount=this._firingCount+1||1;for(var D=0,q=w.length;D<q;D++){var nt=w[D],lt=nt.fn;nt.once&&this.off(a,lt,nt.ctx),lt.call(nt.ctx||this,y)}this._firingCount--}}return m&&this._propagateEvent(y),this},listens:function(a,f,m,y){typeof a!="string"&&console.warn('"string" type argument expected');var w=f;typeof f!="function"&&(y=!!f,w=void 0,m=void 0);var D=this._events&&this._events[a];if(D&&D.length&&this._listens(a,w,m)!==!1)return!0;if(y){for(var q in this._eventParents)if(this._eventParents[q].listens(a,f,m,y))return!0}return!1},_listens:function(a,f,m){if(!this._events)return!1;var y=this._events[a]||[];if(!f)return!!y.length;m===this&&(m=void 0);for(var w=0,D=y.length;w<D;w++)if(y[w].fn===f&&y[w].ctx===m)return w;return!1},once:function(a,f,m){if(typeof a=="object")for(var y in a)this._on(y,a[y],f,!0);else{a=E(a);for(var w=0,D=a.length;w<D;w++)this._on(a[w],f,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[l(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[l(a)],this},_propagateEvent:function(a){for(var f in this._eventParents)this._eventParents[f].fire(a.type,i({layer:a.target,propagatedFrom:a.target},a),!0)}};bt.addEventListener=bt.on,bt.removeEventListener=bt.clearAllEventListeners=bt.off,bt.addOneTimeEventListener=bt.once,bt.fireEvent=bt.fire,bt.hasEventListeners=bt.listens;var Bt=it.extend(bt);function ut(a,f,m){this.x=m?Math.round(a):a,this.y=m?Math.round(f):f}var Ut=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};ut.prototype={clone:function(){return new ut(this.x,this.y)},add:function(a){return this.clone()._add(Rt(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(Rt(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new ut(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new ut(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ut(this.x),this.y=Ut(this.y),this},distanceTo:function(a){a=Rt(a);var f=a.x-this.x,m=a.y-this.y;return Math.sqrt(f*f+m*m)},equals:function(a){return a=Rt(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=Rt(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function Rt(a,f,m){return a instanceof ut?a:N(a)?new ut(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new ut(a.x,a.y):new ut(a,f,m)}function Tt(a,f){if(a)for(var m=f?[a,f]:a,y=0,w=m.length;y<w;y++)this.extend(m[y])}Tt.prototype={extend:function(a){var f,m;if(!a)return this;if(a instanceof ut||typeof a[0]=="number"||"x"in a)f=m=Rt(a);else if(a=Xt(a),f=a.min,m=a.max,!f||!m)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=m.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return Rt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return Rt(this.min.x,this.max.y)},getTopRight:function(){return Rt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var f,m;return typeof a[0]=="number"||a instanceof ut?a=Rt(a):a=Xt(a),a instanceof Tt?(f=a.min,m=a.max):f=m=a,f.x>=this.min.x&&m.x<=this.max.x&&f.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=Xt(a);var f=this.min,m=this.max,y=a.min,w=a.max,D=w.x>=f.x&&y.x<=m.x,q=w.y>=f.y&&y.y<=m.y;return D&&q},overlaps:function(a){a=Xt(a);var f=this.min,m=this.max,y=a.min,w=a.max,D=w.x>f.x&&y.x<m.x,q=w.y>f.y&&y.y<m.y;return D&&q},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var f=this.min,m=this.max,y=Math.abs(f.x-m.x)*a,w=Math.abs(f.y-m.y)*a;return Xt(Rt(f.x-y,f.y-w),Rt(m.x+y,m.y+w))},equals:function(a){return a?(a=Xt(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function Xt(a,f){return!a||a instanceof Tt?a:new Tt(a,f)}function Fe(a,f){if(a)for(var m=f?[a,f]:a,y=0,w=m.length;y<w;y++)this.extend(m[y])}Fe.prototype={extend:function(a){var f=this._southWest,m=this._northEast,y,w;if(a instanceof ie)y=a,w=a;else if(a instanceof Fe){if(y=a._southWest,w=a._northEast,!y||!w)return this}else return a?this.extend(fe(a)||Ge(a)):this;return!f&&!m?(this._southWest=new ie(y.lat,y.lng),this._northEast=new ie(w.lat,w.lng)):(f.lat=Math.min(y.lat,f.lat),f.lng=Math.min(y.lng,f.lng),m.lat=Math.max(w.lat,m.lat),m.lng=Math.max(w.lng,m.lng)),this},pad:function(a){var f=this._southWest,m=this._northEast,y=Math.abs(f.lat-m.lat)*a,w=Math.abs(f.lng-m.lng)*a;return new Fe(new ie(f.lat-y,f.lng-w),new ie(m.lat+y,m.lng+w))},getCenter:function(){return new ie((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ie(this.getNorth(),this.getWest())},getSouthEast:function(){return new ie(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof ie||"lat"in a?a=fe(a):a=Ge(a);var f=this._southWest,m=this._northEast,y,w;return a instanceof Fe?(y=a.getSouthWest(),w=a.getNorthEast()):y=w=a,y.lat>=f.lat&&w.lat<=m.lat&&y.lng>=f.lng&&w.lng<=m.lng},intersects:function(a){a=Ge(a);var f=this._southWest,m=this._northEast,y=a.getSouthWest(),w=a.getNorthEast(),D=w.lat>=f.lat&&y.lat<=m.lat,q=w.lng>=f.lng&&y.lng<=m.lng;return D&&q},overlaps:function(a){a=Ge(a);var f=this._southWest,m=this._northEast,y=a.getSouthWest(),w=a.getNorthEast(),D=w.lat>f.lat&&y.lat<m.lat,q=w.lng>f.lng&&y.lng<m.lng;return D&&q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,f){return a?(a=Ge(a),this._southWest.equals(a.getSouthWest(),f)&&this._northEast.equals(a.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ge(a,f){return a instanceof Fe?a:new Fe(a,f)}function ie(a,f,m){if(isNaN(a)||isNaN(f))throw new Error("Invalid LatLng object: ("+a+", "+f+")");this.lat=+a,this.lng=+f,m!==void 0&&(this.alt=+m)}ie.prototype={equals:function(a,f){if(!a)return!1;a=fe(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(f===void 0?1e-9:f)},toString:function(a){return"LatLng("+_(this.lat,a)+", "+_(this.lng,a)+")"},distanceTo:function(a){return In.distance(this,fe(a))},wrap:function(){return In.wrapLatLng(this)},toBounds:function(a){var f=180*a/40075017,m=f/Math.cos(Math.PI/180*this.lat);return Ge([this.lat-f,this.lng-m],[this.lat+f,this.lng+m])},clone:function(){return new ie(this.lat,this.lng,this.alt)}};function fe(a,f,m){return a instanceof ie?a:N(a)&&typeof a[0]!="object"?a.length===3?new ie(a[0],a[1],a[2]):a.length===2?new ie(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new ie(a.lat,"lng"in a?a.lng:a.lon,a.alt):f===void 0?null:new ie(a,f,m)}var gr={latLngToPoint:function(a,f){var m=this.projection.project(a),y=this.scale(f);return this.transformation._transform(m,y)},pointToLatLng:function(a,f){var m=this.scale(f),y=this.transformation.untransform(a,m);return this.projection.unproject(y)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var f=this.projection.bounds,m=this.scale(a),y=this.transformation.transform(f.min,m),w=this.transformation.transform(f.max,m);return new Tt(y,w)},infinite:!1,wrapLatLng:function(a){var f=this.wrapLng?g(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?g(a.lat,this.wrapLat,!0):a.lat,y=a.alt;return new ie(m,f,y)},wrapLatLngBounds:function(a){var f=a.getCenter(),m=this.wrapLatLng(f),y=f.lat-m.lat,w=f.lng-m.lng;if(y===0&&w===0)return a;var D=a.getSouthWest(),q=a.getNorthEast(),nt=new ie(D.lat-y,D.lng-w),lt=new ie(q.lat-y,q.lng-w);return new Fe(nt,lt)}},In=i({},gr,{wrapLng:[-180,180],R:6371e3,distance:function(a,f){var m=Math.PI/180,y=a.lat*m,w=f.lat*m,D=Math.sin((f.lat-a.lat)*m/2),q=Math.sin((f.lng-a.lng)*m/2),nt=D*D+Math.cos(y)*Math.cos(w)*q*q,lt=2*Math.atan2(Math.sqrt(nt),Math.sqrt(1-nt));return this.R*lt}}),Wi=6378137,Tr={R:Wi,MAX_LATITUDE:85.0511287798,project:function(a){var f=Math.PI/180,m=this.MAX_LATITUDE,y=Math.max(Math.min(m,a.lat),-m),w=Math.sin(y*f);return new ut(this.R*a.lng*f,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(a){var f=180/Math.PI;return new ie((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*f,a.x*f/this.R)},bounds:function(){var a=Wi*Math.PI;return new Tt([-a,-a],[a,a])}()};function bo(a,f,m,y){if(N(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=f,this._c=m,this._d=y}bo.prototype={transform:function(a,f){return this._transform(a.clone(),f)},_transform:function(a,f){return f=f||1,a.x=f*(this._a*a.x+this._b),a.y=f*(this._c*a.y+this._d),a},untransform:function(a,f){return f=f||1,new ut((a.x/f-this._b)/this._a,(a.y/f-this._d)/this._c)}};function ni(a,f,m,y){return new bo(a,f,m,y)}var Ki=i({},In,{code:"EPSG:3857",projection:Tr,transformation:function(){var a=.5/(Math.PI*Tr.R);return ni(a,.5,-a,.5)}()}),Kn=i({},Ki,{code:"EPSG:900913"});function jo(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Ji(a,f){var m="",y,w,D,q,nt,lt;for(y=0,D=a.length;y<D;y++){for(nt=a[y],w=0,q=nt.length;w<q;w++)lt=nt[w],m+=(w?"L":"M")+lt.x+" "+lt.y;m+=f?Gt.svg?"z":"x":""}return m||"M0 0"}var Co=document.documentElement.style,Ti="ActiveXObject"in window,Z=Ti&&!document.addEventListener,k="msLaunchUri"in navigator&&!("documentMode"in document),O=Nr("webkit"),z=Nr("android"),j=Nr("android 2")||Nr("android 3"),W=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),_t=z&&Nr("Google")&&W<537&&!("AudioNode"in window),mt=!!window.opera,It=!k&&Nr("chrome"),K=Nr("gecko")&&!O&&!mt&&!Ti,pe=!It&&Nr("safari"),xe=Nr("phantom"),ke="OTransition"in Co,tn=navigator.platform.indexOf("Win")===0,ge=Ti&&"transition"in Co,Ke="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!j,bn="MozPerspective"in Co,Hn=!window.L_DISABLE_3D&&(ge||Ke||bn)&&!ke&&!xe,xn=typeof orientation<"u"||Nr("mobile"),ar=xn&&O,lr=xn&&Ke,ri=!window.PointerEvent&&window.MSPointerEvent,Hr=!!(window.PointerEvent||ri),_r="ontouchstart"in window||!!window.TouchEvent,Zr=!window.L_NO_TOUCH&&(_r||Hr),Ni=xn&&mt,wo=xn&&K,ur=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Zn=function(){var a=!1;try{var f=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",c,f),window.removeEventListener("testPassiveEventSupport",c,f)}catch{}return a}(),Qi=function(){return!!document.createElement("canvas").getContext}(),Ks=!!(document.createElementNS&&jo("svg").createSVGRect),Ha=!!Ks&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ys=!Ks&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var f=a.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch{return!1}}(),eh=navigator.platform.indexOf("Mac")===0,Za=navigator.platform.indexOf("Linux")===0;function Nr(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Gt={ie:Ti,ielt9:Z,edge:k,webkit:O,android:z,android23:j,androidStock:_t,opera:mt,chrome:It,gecko:K,safari:pe,phantom:xe,opera12:ke,win:tn,ie3d:ge,webkit3d:Ke,gecko3d:bn,any3d:Hn,mobile:xn,mobileWebkit:ar,mobileWebkit3d:lr,msPointer:ri,pointer:Hr,touch:Zr,touchNative:_r,mobileOpera:Ni,mobileGecko:wo,retina:ur,passiveEvents:Zn,canvas:Qi,svg:Ks,vml:ys,inlineSvg:Ha,mac:eh,linux:Za},ja=Gt.msPointer?"MSPointerDown":"pointerdown",$i=Gt.msPointer?"MSPointerMove":"pointermove",to=Gt.msPointer?"MSPointerUp":"pointerup",Gl=Gt.msPointer?"MSPointerCancel":"pointercancel",Ls={touchstart:ja,touchmove:$i,touchend:to,touchcancel:Gl},qo={touchstart:Qs,touchmove:Js,touchend:Js,touchcancel:Js},Xo={},qa=!1;function Vl(a,f,m){return f==="touchstart"&&Wa(),qo[f]?(m=qo[f].bind(this,m),a.addEventListener(Ls[f],m,!1),m):(console.warn("wrong event specified:",f),c)}function nh(a,f,m){if(!Ls[f]){console.warn("wrong event specified:",f);return}a.removeEventListener(Ls[f],m,!1)}function Ul(a){Xo[a.pointerId]=a}function Xa(a){Xo[a.pointerId]&&(Xo[a.pointerId]=a)}function Ya(a){delete Xo[a.pointerId]}function Wa(){qa||(document.addEventListener(ja,Ul,!0),document.addEventListener($i,Xa,!0),document.addEventListener(to,Ya,!0),document.addEventListener(Gl,Ya,!0),qa=!0)}function Js(a,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var m in Xo)f.touches.push(Xo[m]);f.changedTouches=[f],a(f)}}function Qs(a,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&H(f),Js(a,f)}function Hl(a){var f={},m,y;for(y in a)m=a[y],f[y]=m&&m.bind?m.bind(a):m;return a=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var rh=200;function bs(a,f){a.addEventListener("dblclick",f);var m=0,y;function w(D){if(D.detail!==1){y=D.detail;return}if(!(D.pointerType==="mouse"||D.sourceCapabilities&&!D.sourceCapabilities.firesTouchEvents)){var q=gt(D);if(!(q.some(function(lt){return lt instanceof HTMLLabelElement&&lt.attributes.for})&&!q.some(function(lt){return lt instanceof HTMLInputElement||lt instanceof HTMLSelectElement}))){var nt=Date.now();nt-m<=rh?(y++,y===2&&f(Hl(D))):y=1,m=nt}}}return a.addEventListener("click",w),{dblclick:f,simDblclick:w}}function ih(a,f){a.removeEventListener("dblclick",f.dblclick),a.removeEventListener("click",f.simDblclick)}var $s=ea(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Eo=ea(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Zl=Eo==="webkitTransition"||Eo==="OTransition"?Eo+"End":"transitionend";function jl(a){return typeof a=="string"?document.getElementById(a):a}function Yo(a,f){var m=a.style[f]||a.currentStyle&&a.currentStyle[f];if((!m||m==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(a,null);m=y?y[f]:null}return m==="auto"?null:m}function Te(a,f,m){var y=document.createElement(a);return y.className=f||"",m&&m.appendChild(y),y}function Je(a){var f=a.parentNode;f&&f.removeChild(a)}function Cs(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Mo(a){var f=a.parentNode;f&&f.lastChild!==a&&f.appendChild(a)}function Po(a){var f=a.parentNode;f&&f.firstChild!==a&&f.insertBefore(a,f.firstChild)}function ta(a,f){if(a.classList!==void 0)return a.classList.contains(f);var m=ws(a);return m.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(m)}function _e(a,f){if(a.classList!==void 0)for(var m=E(f),y=0,w=m.length;y<w;y++)a.classList.add(m[y]);else if(!ta(a,f)){var D=ws(a);Ka(a,(D?D+" ":"")+f)}}function Cn(a,f){a.classList!==void 0?a.classList.remove(f):Ka(a,C((" "+ws(a)+" ").replace(" "+f+" "," ")))}function Ka(a,f){a.className.baseVal===void 0?a.className=f:a.className.baseVal=f}function ws(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Or(a,f){"opacity"in a.style?a.style.opacity=f:"filter"in a.style&&Ja(a,f)}function Ja(a,f){var m=!1,y="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(y)}catch{if(f===1)return}f=Math.round(f*100),m?(m.Enabled=f!==100,m.Opacity=f):a.style.filter+=" progid:"+y+"(opacity="+f+")"}function ea(a){for(var f=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in f)return a[m];return!1}function eo(a,f,m){var y=f||new ut(0,0);a.style[$s]=(Gt.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(m?" scale("+m+")":"")}function en(a,f){a._leaflet_pos=f,Gt.any3d?eo(a,f):(a.style.left=f.x+"px",a.style.top=f.y+"px")}function ii(a){return a._leaflet_pos||new ut(0,0)}var Es,Ms,kn;if("onselectstart"in document)Es=function(){se(window,"selectstart",H)},Ms=function(){d(window,"selectstart",H)};else{var no=ea(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Es=function(){if(no){var a=document.documentElement.style;kn=a[no],a[no]="none"}},Ms=function(){no&&(document.documentElement.style[no]=kn,kn=void 0)}}function Ps(){se(window,"dragstart",H)}function Qa(){d(window,"dragstart",H)}var na,ra;function $a(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Wo(),na=a,ra=a.style.outline,a.style.outline="none",se(window,"keydown",Wo))}function Wo(){na&&(na.style.outline=ra,na=void 0,ra=void 0,d(window,"keydown",Wo))}function ia(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function tl(a){var f=a.getBoundingClientRect();return{x:f.width/a.offsetWidth||1,y:f.height/a.offsetHeight||1,boundingClientRect:f}}var oh={__proto__:null,TRANSFORM:$s,TRANSITION:Eo,TRANSITION_END:Zl,get:jl,getStyle:Yo,create:Te,remove:Je,empty:Cs,toFront:Mo,toBack:Po,hasClass:ta,addClass:_e,removeClass:Cn,setClass:Ka,getClass:ws,setOpacity:Or,testProp:ea,setTransform:eo,setPosition:en,getPosition:ii,get disableTextSelection(){return Es},get enableTextSelection(){return Ms},disableImageDrag:Ps,enableImageDrag:Qa,preventOutline:$a,restoreOutline:Wo,getSizedParentNode:ia,getScale:tl};function se(a,f,m,y){if(f&&typeof f=="object")for(var w in f)M(a,w,f[w],m);else{f=E(f);for(var D=0,q=f.length;D<q;D++)M(a,f[D],m,y)}return this}var h="_leaflet_events";function d(a,f,m,y){if(arguments.length===1)v(a),delete a[h];else if(f&&typeof f=="object")for(var w in f)A(a,w,f[w],m);else if(f=E(f),arguments.length===2)v(a,function(nt){return x(f,nt)!==-1});else for(var D=0,q=f.length;D<q;D++)A(a,f[D],m,y);return this}function v(a,f){for(var m in a[h]){var y=m.split(/\d/)[0];(!f||f(y))&&A(a,y,null,null,m)}}var b={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function M(a,f,m,y){var w=f+l(m)+(y?"_"+l(y):"");if(a[h]&&a[h][w])return this;var D=function(nt){return m.call(y||a,nt||window.event)},q=D;!Gt.touchNative&&Gt.pointer&&f.indexOf("touch")===0?D=Vl(a,f,D):Gt.touch&&f==="dblclick"?D=bs(a,D):"addEventListener"in a?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?a.addEventListener(b[f]||f,D,Gt.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(D=function(nt){nt=nt||window.event,Wt(a,nt)&&q(nt)},a.addEventListener(b[f],D,!1)):a.addEventListener(f,q,!1):a.attachEvent("on"+f,D),a[h]=a[h]||{},a[h][w]=D}function A(a,f,m,y,w){w=w||f+l(m)+(y?"_"+l(y):"");var D=a[h]&&a[h][w];if(!D)return this;!Gt.touchNative&&Gt.pointer&&f.indexOf("touch")===0?nh(a,f,D):Gt.touch&&f==="dblclick"?ih(a,D):"removeEventListener"in a?a.removeEventListener(b[f]||f,D,!1):a.detachEvent("on"+f,D),a[h][w]=null}function F(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function V(a){return M(a,"wheel",F),this}function G(a){return se(a,"mousedown touchstart dblclick contextmenu",F),a._leaflet_disable_click=!0,this}function H(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function tt(a){return H(a),F(a),this}function gt(a){if(a.composedPath)return a.composedPath();for(var f=[],m=a.target;m;)f.push(m),m=m.parentNode;return f}function ht(a,f){if(!f)return new ut(a.clientX,a.clientY);var m=tl(f),y=m.boundingClientRect;return new ut((a.clientX-y.left)/m.x-f.clientLeft,(a.clientY-y.top)/m.y-f.clientTop)}var St=Gt.linux&&Gt.chrome?window.devicePixelRatio:Gt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Dt(a){return Gt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/St:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Wt(a,f){var m=f.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var me={__proto__:null,on:se,off:d,stopPropagation:F,disableScrollPropagation:V,disableClickPropagation:G,preventDefault:H,stop:tt,getPropagationPath:gt,getMousePosition:ht,getWheelDelta:Dt,isExternalTarget:Wt,addListener:se,removeListener:d},Xe=Bt.extend({run:function(a,f,m,y){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=ii(a),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=X(this._animate,this),this._step()},_step:function(a){var f=+new Date-this._startTime,m=this._duration*1e3;f<m?this._runFrame(this._easeOut(f/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,f){var m=this._startPos.add(this._offset.multiplyBy(a));f&&m._round(),en(this._el,m),this.fire("step")},_complete:function(){J(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),qt=Bt.extend({options:{crs:Ki,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,f){f=P(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(fe(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Eo&&Gt.any3d&&!Gt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),se(this._proxy,Zl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,f,m){if(f=f===void 0?this._zoom:this._limitZoom(f),a=this._limitCenter(fe(a),f,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=i({animate:m.animate},m.zoom),m.pan=i({animate:m.animate,duration:m.duration},m.pan));var y=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,f,m.zoom):this._tryAnimatedPan(a,m.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(a,f,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,f){return this._loaded?this.setView(this.getCenter(),a,{zoom:f}):(this._zoom=a,this)},zoomIn:function(a,f){return a=a||(Gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,f)},zoomOut:function(a,f){return a=a||(Gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,f)},setZoomAround:function(a,f,m){var y=this.getZoomScale(f),w=this.getSize().divideBy(2),D=a instanceof ut?a:this.latLngToContainerPoint(a),q=D.subtract(w).multiplyBy(1-1/y),nt=this.containerPointToLatLng(w.add(q));return this.setView(nt,f,{zoom:m})},_getBoundsCenterZoom:function(a,f){f=f||{},a=a.getBounds?a.getBounds():Ge(a);var m=Rt(f.paddingTopLeft||f.padding||[0,0]),y=Rt(f.paddingBottomRight||f.padding||[0,0]),w=this.getBoundsZoom(a,!1,m.add(y));if(w=typeof f.maxZoom=="number"?Math.min(f.maxZoom,w):w,w===1/0)return{center:a.getCenter(),zoom:w};var D=y.subtract(m).divideBy(2),q=this.project(a.getSouthWest(),w),nt=this.project(a.getNorthEast(),w),lt=this.unproject(q.add(nt).divideBy(2).add(D),w);return{center:lt,zoom:w}},fitBounds:function(a,f){if(a=Ge(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,f);return this.setView(m.center,m.zoom,f)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,f){return this.setView(a,this._zoom,{pan:f})},panBy:function(a,f){if(a=Rt(a).round(),f=f||{},!a.x&&!a.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Xe,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){_e(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,f.duration||.25,f.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,f,m){if(m=m||{},m.animate===!1||!Gt.any3d)return this.setView(a,f,m);this._stop();var y=this.project(this.getCenter()),w=this.project(a),D=this.getSize(),q=this._zoom;a=fe(a),f=f===void 0?q:f;var nt=Math.max(D.x,D.y),lt=nt*this.getZoomScale(q,f),wt=w.distanceTo(y)||1,At=1.42,re=At*At;function Ae(Dn){var su=Dn?-1:1,Sg=Dn?lt:nt,kg=lt*lt-nt*nt+su*re*re*wt*wt,Ig=2*Sg*re*wt,_h=kg/Ig,Wc=Math.sqrt(_h*_h+1)-_h,xg=Wc<1e-9?-18:Math.log(Wc);return xg}function ai(Dn){return(Math.exp(Dn)-Math.exp(-Dn))/2}function xs(Dn){return(Math.exp(Dn)+Math.exp(-Dn))/2}function ou(Dn){return ai(Dn)/xs(Dn)}var Qo=Ae(0);function gh(Dn){return nt*(xs(Qo)/xs(Qo+At*Dn))}function wg(Dn){return nt*(xs(Qo)*ou(Qo+At*Dn)-ai(Qo))/re}function Eg(Dn){return 1-Math.pow(1-Dn,1.5)}var Mg=Date.now(),Xc=(Ae(1)-Qo)/At,Pg=m.duration?1e3*m.duration:1e3*Xc*.8;function Yc(){var Dn=(Date.now()-Mg)/Pg,su=Eg(Dn)*Xc;Dn<=1?(this._flyToFrame=X(Yc,this),this._move(this.unproject(y.add(w.subtract(y).multiplyBy(wg(su)/wt)),q),this.getScaleZoom(nt/gh(su),q),{flyTo:!0})):this._move(a,f)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),Yc.call(this),this},flyToBounds:function(a,f){var m=this._getBoundsCenterZoom(a,f);return this.flyTo(m.center,m.zoom,f)},setMaxBounds:function(a){return a=Ge(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var f=this.options.minZoom;return this.options.minZoom=a,this._loaded&&f!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var f=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&f!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,f){this._enforcingBounds=!0;var m=this.getCenter(),y=this._limitCenter(m,this._zoom,Ge(a));return m.equals(y)||this.panTo(y,f),this._enforcingBounds=!1,this},panInside:function(a,f){f=f||{};var m=Rt(f.paddingTopLeft||f.padding||[0,0]),y=Rt(f.paddingBottomRight||f.padding||[0,0]),w=this.project(this.getCenter()),D=this.project(a),q=this.getPixelBounds(),nt=Xt([q.min.add(m),q.max.subtract(y)]),lt=nt.getSize();if(!nt.contains(D)){this._enforcingBounds=!0;var wt=D.subtract(nt.getCenter()),At=nt.extend(D).getSize().subtract(lt);w.x+=wt.x<0?-At.x:At.x,w.y+=wt.y<0?-At.y:At.y,this.panTo(this.unproject(w),f),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=i({animate:!1,pan:!0},a===!0?{animate:!0}:a);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),y=f.divideBy(2).round(),w=m.divideBy(2).round(),D=y.subtract(w);return!D.x&&!D.y?this:(a.animate&&a.pan?this.panBy(D):(a.pan&&this._rawPanBy(D),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=i({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=s(this._handleGeolocationResponse,this),m=s(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,m,a):navigator.geolocation.getCurrentPosition(f,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var f=a.code,m=a.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var f=a.coords.latitude,m=a.coords.longitude,y=new ie(f,m),w=y.toBounds(a.coords.accuracy*2),D=this._locateOptions;if(D.setView){var q=this.getBoundsZoom(w);this.setView(y,D.maxZoom?Math.min(q,D.maxZoom):q)}var nt={latlng:y,bounds:w,timestamp:a.timestamp};for(var lt in a.coords)typeof a.coords[lt]=="number"&&(nt[lt]=a.coords[lt]);this.fire("locationfound",nt)}},addHandler:function(a,f){if(!f)return this;var m=this[a]=new f(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Je(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(J(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)Je(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,f){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),y=Te("div",m,f||this._mapPane);return a&&(this._panes[a]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),f=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new Fe(f,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,f,m){a=Ge(a),m=Rt(m||[0,0]);var y=this.getZoom()||0,w=this.getMinZoom(),D=this.getMaxZoom(),q=a.getNorthWest(),nt=a.getSouthEast(),lt=this.getSize().subtract(m),wt=Xt(this.project(nt,y),this.project(q,y)).getSize(),At=Gt.any3d?this.options.zoomSnap:1,re=lt.x/wt.x,Ae=lt.y/wt.y,ai=f?Math.max(re,Ae):Math.min(re,Ae);return y=this.getScaleZoom(ai,y),At&&(y=Math.round(y/(At/100))*(At/100),y=f?Math.ceil(y/At)*At:Math.floor(y/At)*At),Math.max(w,Math.min(D,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ut(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,f){var m=this._getTopLeftPoint(a,f);return new Tt(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,f){var m=this.options.crs;return f=f===void 0?this._zoom:f,m.scale(a)/m.scale(f)},getScaleZoom:function(a,f){var m=this.options.crs;f=f===void 0?this._zoom:f;var y=m.zoom(a*m.scale(f));return isNaN(y)?1/0:y},project:function(a,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(fe(a),f)},unproject:function(a,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(Rt(a),f)},layerPointToLatLng:function(a){var f=Rt(a).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(a){var f=this.project(fe(a))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(fe(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(Ge(a))},distance:function(a,f){return this.options.crs.distance(fe(a),fe(f))},containerPointToLayerPoint:function(a){return Rt(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return Rt(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var f=this.containerPointToLayerPoint(Rt(a));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(fe(a)))},mouseEventToContainerPoint:function(a){return ht(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var f=this._container=jl(a);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");se(f,"scroll",this._onScroll,this),this._containerId=l(f)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Gt.any3d,_e(a,"leaflet-container"+(Gt.touch?" leaflet-touch":"")+(Gt.retina?" leaflet-retina":"")+(Gt.ielt9?" leaflet-oldie":"")+(Gt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=Yo(a,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),en(this._mapPane,new ut(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_e(a.markerPane,"leaflet-zoom-hide"),_e(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,f,m){en(this._mapPane,new ut(0,0));var y=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var w=this._zoom!==f;this._moveStart(w,m)._move(a,f)._moveEnd(w),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(a,f){return a&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(a,f,m,y){f===void 0&&(f=this._zoom);var w=this._zoom!==f;return this._zoom=f,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),y?m&&m.pinch&&this.fire("zoom",m):((w||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return J(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){en(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[l(this._container)]=this;var f=a?d:se;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),Gt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){J(this._resizeRequest),this._resizeRequest=X(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,f){for(var m=[],y,w=f==="mouseout"||f==="mouseover",D=a.target||a.srcElement,q=!1;D;){if(y=this._targets[l(D)],y&&(f==="click"||f==="preclick")&&this._draggableMoved(y)){q=!0;break}if(y&&y.listens(f,!0)&&(w&&!Wt(D,a)||(m.push(y),w))||D===this._container)break;D=D.parentNode}return!m.length&&!q&&!w&&this.listens(f,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var f=a.target||a.srcElement;if(!(!this._loaded||f._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(f))){var m=a.type;m==="mousedown"&&$a(f),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,f,m){if(a.type==="click"){var y=i({},a);y.type="preclick",this._fireDOMEvent(y,y.type,m)}var w=this._findEventTargets(a,f);if(m){for(var D=[],q=0;q<m.length;q++)m[q].listens(f,!0)&&D.push(m[q]);w=D.concat(w)}if(w.length){f==="contextmenu"&&H(a);var nt=w[0],lt={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var wt=nt.getLatLng&&(!nt._radius||nt._radius<=10);lt.containerPoint=wt?this.latLngToContainerPoint(nt.getLatLng()):this.mouseEventToContainerPoint(a),lt.layerPoint=this.containerPointToLayerPoint(lt.containerPoint),lt.latlng=wt?nt.getLatLng():this.layerPointToLatLng(lt.layerPoint)}for(q=0;q<w.length;q++)if(w[q].fire(f,lt,!0),lt.originalEvent._stopped||w[q].options.bubblingMouseEvents===!1&&x(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,f=this._handlers.length;a<f;a++)this._handlers[a].disable()},whenReady:function(a,f){return this._loaded?a.call(f||this,{target:this}):this.on("load",a,f),this},_getMapPanePos:function(){return ii(this._mapPane)||new ut(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,f){var m=a&&f!==void 0?this._getNewPixelOrigin(a,f):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,f){var m=this.getSize()._divideBy(2);return this.project(a,f)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,f,m){var y=this._getNewPixelOrigin(m,f);return this.project(a,f)._subtract(y)},_latLngBoundsToNewLayerBounds:function(a,f,m){var y=this._getNewPixelOrigin(m,f);return Xt([this.project(a.getSouthWest(),f)._subtract(y),this.project(a.getNorthWest(),f)._subtract(y),this.project(a.getSouthEast(),f)._subtract(y),this.project(a.getNorthEast(),f)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,f,m){if(!m)return a;var y=this.project(a,f),w=this.getSize().divideBy(2),D=new Tt(y.subtract(w),y.add(w)),q=this._getBoundsOffset(D,m,f);return Math.abs(q.x)<=1&&Math.abs(q.y)<=1?a:this.unproject(y.add(q),f)},_limitOffset:function(a,f){if(!f)return a;var m=this.getPixelBounds(),y=new Tt(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(y,f))},_getBoundsOffset:function(a,f,m){var y=Xt(this.project(f.getNorthEast(),m),this.project(f.getSouthWest(),m)),w=y.min.subtract(a.min),D=y.max.subtract(a.max),q=this._rebound(w.x,-D.x),nt=this._rebound(w.y,-D.y);return new ut(q,nt)},_rebound:function(a,f){return a+f>0?Math.round(a-f)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(f))},_limitZoom:function(a){var f=this.getMinZoom(),m=this.getMaxZoom(),y=Gt.any3d?this.options.zoomSnap:1;return y&&(a=Math.round(a/y)*y),Math.max(f,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Cn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,f){var m=this._getCenterOffset(a)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,f),!0)},_createAnimProxy:function(){var a=this._proxy=Te("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(f){var m=$s,y=this._proxy.style[m];eo(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),y===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Je(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),f=this.getZoom();eo(this._proxy,this.project(a,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,f,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(f),w=this._getCenterOffset(a)._divideBy(1-1/y);return m.animate!==!0&&!this.getSize().contains(w)?!1:(X(function(){this._moveStart(!0,!1)._animateZoom(a,f,!0)},this),!0)},_animateZoom:function(a,f,m,y){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=f,_e(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:f,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Cn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ye(a,f){return new qt(a,f)}var Qe=it.extend({options:{position:"topright"},initialize:function(a){P(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var f=this._map;return f&&f.removeControl(this),this.options.position=a,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var f=this._container=this.onAdd(a),m=this.getPosition(),y=a._controlCorners[m];return _e(f,"leaflet-control"),m.indexOf("bottom")!==-1?y.insertBefore(f,y.firstChild):y.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Je(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Jn=function(a){return new Qe(a)};qt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},f="leaflet-",m=this._controlContainer=Te("div",f+"control-container",this._container);function y(w,D){var q=f+w+" "+f+D;a[w+D]=Te("div",q,m)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Je(this._controlCorners[a]);Je(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Oi=Qe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,f,m,y){return m<y?-1:y<m?1:0}},initialize:function(a,f,m){P(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var y in a)this._addLayer(a[y],y);for(y in f)this._addLayer(f[y],y,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return Qe.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,f){return this._addLayer(a,f),this._map?this._update():this},addOverlay:function(a,f){return this._addLayer(a,f,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var f=this._getLayer(l(a));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){_e(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(_e(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Cn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Cn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",f=this._container=Te("div",a),m=this.options.collapsed;f.setAttribute("aria-haspopup",!0),G(f),V(f);var y=this._section=Te("section",a+"-list");m&&(this._map.on("click",this.collapse,this),se(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=Te("a",a+"-toggle",f);w.href="#",w.title="Layers",w.setAttribute("role","button"),se(w,{keydown:function(D){D.keyCode===13&&this._expandSafely()},click:function(D){H(D),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Te("div",a+"-base",y),this._separator=Te("div",a+"-separator",y),this._overlaysList=Te("div",a+"-overlays",y),f.appendChild(y)},_getLayer:function(a){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&l(this._layers[f].layer)===a)return this._layers[f]},_addLayer:function(a,f,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:f,overlay:m}),this.options.sortLayers&&this._layers.sort(s(function(y,w){return this.options.sortFunction(y.layer,w.layer,y.name,w.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Cs(this._baseLayersList),Cs(this._overlaysList),this._layerControlInputs=[];var a,f,m,y,w=0;for(m=0;m<this._layers.length;m++)y=this._layers[m],this._addItem(y),f=f||y.overlay,a=a||!y.overlay,w+=y.overlay?0:1;return this.options.hideSingleBase&&(a=a&&w>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=f&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var f=this._getLayer(l(a.target)),m=f.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,f)},_createRadioElement:function(a,f){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(f?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=m,y.firstChild},_addItem:function(a){var f=document.createElement("label"),m=this._map.hasLayer(a.layer),y;a.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=m):y=this._createRadioElement("leaflet-base-layers_"+l(this),m),this._layerControlInputs.push(y),y.layerId=l(a.layer),se(y,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+a.name;var D=document.createElement("span");f.appendChild(D),D.appendChild(y),D.appendChild(w);var q=a.overlay?this._overlaysList:this._baseLayersList;return q.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){var a=this._layerControlInputs,f,m,y=[],w=[];this._handlingClick=!0;for(var D=a.length-1;D>=0;D--)f=a[D],m=this._getLayer(f.layerId).layer,f.checked?y.push(m):f.checked||w.push(m);for(D=0;D<w.length;D++)this._map.hasLayer(w[D])&&this._map.removeLayer(w[D]);for(D=0;D<y.length;D++)this._map.hasLayer(y[D])||this._map.addLayer(y[D]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,f,m,y=this._map.getZoom(),w=a.length-1;w>=0;w--)f=a[w],m=this._getLayer(f.layerId).layer,f.disabled=m.options.minZoom!==void 0&&y<m.options.minZoom||m.options.maxZoom!==void 0&&y>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;se(a,"click",H),this.expand(),setTimeout(function(){d(a,"click",H)})}}),ql=function(a,f,m){return new Oi(a,f,m)},Ss=Qe.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var f="leaflet-control-zoom",m=Te("div",f+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,f+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,f+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,f,m,y,w){var D=Te("a",m,y);return D.innerHTML=a,D.href="#",D.title=f,D.setAttribute("role","button"),D.setAttribute("aria-label",f),G(D),se(D,"click",tt),se(D,"click",w,this),se(D,"click",this._refocusOnMap,this),D},_updateDisabled:function(){var a=this._map,f="leaflet-disabled";Cn(this._zoomInButton,f),Cn(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(_e(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(_e(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});qt.mergeOptions({zoomControl:!0}),qt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ss,this.addControl(this.zoomControl))});var So=function(a){return new Ss(a)},el=Qe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var f="leaflet-control-scale",m=Te("div",f),y=this.options;return this._addScales(y,f+"-line",m),a.on(y.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,f,m){a.metric&&(this._mScale=Te("div",f,m)),a.imperial&&(this._iScale=Te("div",f,m))},_update:function(){var a=this._map,f=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,f]),a.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var f=this._getRoundNum(a),m=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,m,f/a)},_updateImperial:function(a){var f=a*3.2808399,m,y,w;f>5280?(m=f/5280,y=this._getRoundNum(m),this._updateScale(this._iScale,y+" mi",y/m)):(w=this._getRoundNum(f),this._updateScale(this._iScale,w+" ft",w/f))},_updateScale:function(a,f,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=f},_getRoundNum:function(a){var f=Math.pow(10,(Math.floor(a)+"").length-1),m=a/f;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,f*m}}),Xl=function(a){return new el(a)},sh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ks=Qe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Gt.inlineSvg?sh+" ":"")+"Leaflet</a>"},initialize:function(a){P(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Te("div","leaflet-control-attribution"),G(this._container);for(var f in a._layers)a._layers[f].getAttribution&&this.addAttribution(a._layers[f].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var f in this._attributions)this._attributions[f]&&a.push(f);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});qt.mergeOptions({attributionControl:!0}),qt.addInitHook(function(){this.options.attributionControl&&new ks().addTo(this)});var ah=function(a){return new ks(a)};Qe.Layers=Oi,Qe.Zoom=Ss,Qe.Scale=el,Qe.Attribution=ks,Jn.layers=ql,Jn.zoom=So,Jn.scale=Xl,Jn.attribution=ah;var oi=it.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});oi.addTo=function(a,f){return a.addHandler(f,this),this};var qd={Events:bt},vc=Gt.touch?"touchstart mousedown":"mousedown",Ko=Bt.extend({options:{clickTolerance:3},initialize:function(a,f,m,y){P(this,y),this._element=a,this._dragStartTarget=f||a,this._preventOutline=m},enable:function(){this._enabled||(se(this._dragStartTarget,vc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ko._dragging===this&&this.finishDrag(!0),d(this._dragStartTarget,vc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!ta(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ko._dragging===this&&this.finishDrag();return}if(!(Ko._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ko._dragging=this,this._preventOutline&&$a(this._element),Ps(),Es(),!this._moving)){this.fire("down");var f=a.touches?a.touches[0]:a,m=ia(this._element);this._startPoint=new ut(f.clientX,f.clientY),this._startPos=ii(this._element),this._parentScale=tl(m);var y=a.type==="mousedown";se(document,y?"mousemove":"touchmove",this._onMove,this),se(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var f=a.touches&&a.touches.length===1?a.touches[0]:a,m=new ut(f.clientX,f.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,H(a),this._moved||(this.fire("dragstart"),this._moved=!0,_e(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_e(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),en(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Cn(document.body,"leaflet-dragging"),this._lastTarget&&(Cn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),d(document,"mousemove touchmove",this._onMove,this),d(document,"mouseup touchend touchcancel",this._onUp,this),Qa(),Ms(),this._moved&&this._moving&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Ko._dragging=!1}});function yc(a,f){if(!f||!a.length)return a.slice();var m=f*f;return a=Wd(a,m),a=Yd(a,m),a}function Lc(a,f,m){return Math.sqrt(nl(a,f,m,!0))}function Xd(a,f,m){return nl(a,f,m)}function Yd(a,f){var m=a.length,y=typeof Uint8Array!=void 0+""?Uint8Array:Array,w=new y(m);w[0]=w[m-1]=1,lh(a,w,f,0,m-1);var D,q=[];for(D=0;D<m;D++)w[D]&&q.push(a[D]);return q}function lh(a,f,m,y,w){var D=0,q,nt,lt;for(nt=y+1;nt<=w-1;nt++)lt=nl(a[nt],a[y],a[w],!0),lt>D&&(q=nt,D=lt);D>m&&(f[q]=1,lh(a,f,m,y,q),lh(a,f,m,q,w))}function Wd(a,f){for(var m=[a[0]],y=1,w=0,D=a.length;y<D;y++)Kd(a[y],a[w])>f&&(m.push(a[y]),w=y);return w<D-1&&m.push(a[D-1]),m}var bc;function Cc(a,f,m,y,w){var D=y?bc:Is(a,m),q=Is(f,m),nt,lt,wt;for(bc=q;;){if(!(D|q))return[a,f];if(D&q)return!1;nt=D||q,lt=Yl(a,f,nt,m,w),wt=Is(lt,m),nt===D?(a=lt,D=wt):(f=lt,q=wt)}}function Yl(a,f,m,y,w){var D=f.x-a.x,q=f.y-a.y,nt=y.min,lt=y.max,wt,At;return m&8?(wt=a.x+D*(lt.y-a.y)/q,At=lt.y):m&4?(wt=a.x+D*(nt.y-a.y)/q,At=nt.y):m&2?(wt=lt.x,At=a.y+q*(lt.x-a.x)/D):m&1&&(wt=nt.x,At=a.y+q*(nt.x-a.x)/D),new ut(wt,At,w)}function Is(a,f){var m=0;return a.x<f.min.x?m|=1:a.x>f.max.x&&(m|=2),a.y<f.min.y?m|=4:a.y>f.max.y&&(m|=8),m}function Kd(a,f){var m=f.x-a.x,y=f.y-a.y;return m*m+y*y}function nl(a,f,m,y){var w=f.x,D=f.y,q=m.x-w,nt=m.y-D,lt=q*q+nt*nt,wt;return lt>0&&(wt=((a.x-w)*q+(a.y-D)*nt)/lt,wt>1?(w=m.x,D=m.y):wt>0&&(w+=q*wt,D+=nt*wt)),q=a.x-w,nt=a.y-D,y?q*q+nt*nt:new ut(w,D)}function si(a){return!N(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function wc(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),si(a)}function Ec(a,f){var m,y,w,D,q,nt,lt,wt;if(!a||a.length===0)throw new Error("latlngs not passed");si(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var At=[];for(var re in a)At.push(f.project(fe(a[re])));var Ae=At.length;for(m=0,y=0;m<Ae-1;m++)y+=At[m].distanceTo(At[m+1])/2;if(y===0)wt=At[0];else for(m=0,D=0;m<Ae-1;m++)if(q=At[m],nt=At[m+1],w=q.distanceTo(nt),D+=w,D>y){lt=(D-y)/w,wt=[nt.x-lt*(nt.x-q.x),nt.y-lt*(nt.y-q.y)];break}return f.unproject(Rt(wt))}var Jd={__proto__:null,simplify:yc,pointToSegmentDistance:Lc,closestPointOnSegment:Xd,clipSegment:Cc,_getEdgeIntersection:Yl,_getBitCode:Is,_sqClosestPointOnSegment:nl,isFlat:si,_flat:wc,polylineCenter:Ec};function Mc(a,f,m){var y,w=[1,4,2,8],D,q,nt,lt,wt,At,re,Ae;for(D=0,At=a.length;D<At;D++)a[D]._code=Is(a[D],f);for(nt=0;nt<4;nt++){for(re=w[nt],y=[],D=0,At=a.length,q=At-1;D<At;q=D++)lt=a[D],wt=a[q],lt._code&re?wt._code&re||(Ae=Yl(wt,lt,re,f,m),Ae._code=Is(Ae,f),y.push(Ae)):(wt._code&re&&(Ae=Yl(wt,lt,re,f,m),Ae._code=Is(Ae,f),y.push(Ae)),y.push(lt));a=y}return a}function Pc(a,f){var m,y,w,D,q,nt,lt,wt,At;if(!a||a.length===0)throw new Error("latlngs not passed");si(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var re=[];for(var Ae in a)re.push(f.project(fe(a[Ae])));var ai=re.length;for(nt=lt=wt=0,m=0,y=ai-1;m<ai;y=m++)w=re[m],D=re[y],q=w.y*D.x-D.y*w.x,lt+=(w.x+D.x)*q,wt+=(w.y+D.y)*q,nt+=q*3;return nt===0?At=re[0]:At=[lt/nt,wt/nt],f.unproject(Rt(At))}var Qd={__proto__:null,clipPolygon:Mc,polygonCenter:Pc},uh={project:function(a){return new ut(a.lng,a.lat)},unproject:function(a){return new ie(a.y,a.x)},bounds:new Tt([-180,-90],[180,90])},hh={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Tt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var f=Math.PI/180,m=this.R,y=a.lat*f,w=this.R_MINOR/m,D=Math.sqrt(1-w*w),q=D*Math.sin(y),nt=Math.tan(Math.PI/4-y/2)/Math.pow((1-q)/(1+q),D/2);return y=-m*Math.log(Math.max(nt,1e-10)),new ut(a.lng*f*m,y)},unproject:function(a){for(var f=180/Math.PI,m=this.R,y=this.R_MINOR/m,w=Math.sqrt(1-y*y),D=Math.exp(-a.y/m),q=Math.PI/2-2*Math.atan(D),nt=0,lt=.1,wt;nt<15&&Math.abs(lt)>1e-7;nt++)wt=w*Math.sin(q),wt=Math.pow((1-wt)/(1+wt),w/2),lt=Math.PI/2-2*Math.atan(D*wt)-q,q+=lt;return new ie(q*f,a.x*f/m)}},$d={__proto__:null,LonLat:uh,Mercator:hh,SphericalMercator:Tr},tg=i({},In,{code:"EPSG:3395",projection:hh,transformation:function(){var a=.5/(Math.PI*hh.R);return ni(a,.5,-a,.5)}()}),Sc=i({},In,{code:"EPSG:4326",projection:uh,transformation:ni(1/180,1,-1/180,.5)}),eg=i({},gr,{projection:uh,transformation:ni(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,f){var m=f.lng-a.lng,y=f.lat-a.lat;return Math.sqrt(m*m+y*y)},infinite:!0});gr.Earth=In,gr.EPSG3395=tg,gr.EPSG3857=Ki,gr.EPSG900913=Kn,gr.EPSG4326=Sc,gr.Simple=eg;var Di=Bt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[l(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[l(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var f=a.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var m=this.getEvents();f.on(m,this),this.once("remove",function(){f.off(m,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});qt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var f=l(a);return this._layers[f]?this:(this._layers[f]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var f=l(a);return this._layers[f]?(this._loaded&&a.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return l(a)in this._layers},eachLayer:function(a,f){for(var m in this._layers)a.call(f,this._layers[m]);return this},_addLayers:function(a){a=a?N(a)?a:[a]:[];for(var f=0,m=a.length;f<m;f++)this.addLayer(a[f])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[l(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var f=l(a);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,f=-1/0,m=this._getZoomSpan();for(var y in this._zoomBoundLayers){var w=this._zoomBoundLayers[y].options;a=w.minZoom===void 0?a:Math.min(a,w.minZoom),f=w.maxZoom===void 0?f:Math.max(f,w.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var oa=Di.extend({initialize:function(a,f){P(this,f),this._layers={};var m,y;if(a)for(m=0,y=a.length;m<y;m++)this.addLayer(a[m])},addLayer:function(a){var f=this.getLayerId(a);return this._layers[f]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var f=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(a){var f=typeof a=="number"?a:this.getLayerId(a);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var f=Array.prototype.slice.call(arguments,1),m,y;for(m in this._layers)y=this._layers[m],y[a]&&y[a].apply(y,f);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,f){for(var m in this._layers)a.call(f,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return l(a)}}),ng=function(a,f){return new oa(a,f)},ko=oa.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),oa.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),oa.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new Fe;for(var f in this._layers){var m=this._layers[f];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),rg=function(a,f){return new ko(a,f)},sa=it.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){P(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,f){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(m,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(y,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(a,f){var m=this.options,y=m[f+"Size"];typeof y=="number"&&(y=[y,y]);var w=Rt(y),D=Rt(f==="shadow"&&m.shadowAnchor||m.iconAnchor||w&&w.divideBy(2,!0));a.className="leaflet-marker-"+f+" "+(m.className||""),D&&(a.style.marginLeft=-D.x+"px",a.style.marginTop=-D.y+"px"),w&&(a.style.width=w.x+"px",a.style.height=w.y+"px")},_createImg:function(a,f){return f=f||document.createElement("img"),f.src=a,f},_getIconUrl:function(a){return Gt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function ig(a){return new sa(a)}var rl=sa.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof rl.imagePath!="string"&&(rl.imagePath=this._detectIconPath()),(this.options.imagePath||rl.imagePath)+sa.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var f=function(m,y,w){var D=y.exec(m);return D&&D[w]};return a=f(a,/^url\((['"])?(.+)\1\)$/,2),a&&f(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Te("div","leaflet-default-icon-path",document.body),f=Yo(a,"background-image")||Yo(a,"backgroundImage");if(document.body.removeChild(a),f=this._stripUrl(f),f)return f;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),kc=oi.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ko(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_e(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Cn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var f=this._marker,m=f._map,y=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,D=ii(f._icon),q=m.getPixelBounds(),nt=m.getPixelOrigin(),lt=Xt(q.min._subtract(nt).add(w),q.max._subtract(nt).subtract(w));if(!lt.contains(D)){var wt=Rt((Math.max(lt.max.x,D.x)-lt.max.x)/(q.max.x-lt.max.x)-(Math.min(lt.min.x,D.x)-lt.min.x)/(q.min.x-lt.min.x),(Math.max(lt.max.y,D.y)-lt.max.y)/(q.max.y-lt.max.y)-(Math.min(lt.min.y,D.y)-lt.min.y)/(q.min.y-lt.min.y)).multiplyBy(y);m.panBy(wt,{animate:!1}),this._draggable._newPos._add(wt),this._draggable._startPos._add(wt),en(f._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=X(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(J(this._panRequest),this._panRequest=X(this._adjustPan.bind(this,a)))},_onDrag:function(a){var f=this._marker,m=f._shadow,y=ii(f._icon),w=f._map.layerPointToLatLng(y);m&&en(m,y),f._latlng=w,a.latlng=w,a.oldLatLng=this._oldLatLng,f.fire("move",a).fire("drag",a)},_onDragEnd:function(a){J(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Wl=Di.extend({options:{icon:new rl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,f){P(this,f),this._latlng=fe(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var f=this._latlng;return this._latlng=fe(a),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),y=!1;m!==this._icon&&(this._icon&&this._removeIcon(),y=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),_e(m,f),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&se(m,"focus",this._panOnFocus,this);var w=a.icon.createShadow(this._shadow),D=!1;w!==this._shadow&&(this._removeShadow(),D=!0),w&&(_e(w,f),w.alt=""),this._shadow=w,a.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&D&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&d(this._icon,"focus",this._panOnFocus,this),Je(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Je(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&en(this._icon,a),this._shadow&&en(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var f=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(_e(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),kc)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new kc(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Or(this._icon,a),this._shadow&&Or(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var f=this.options.icon.options,m=f.iconSize?Rt(f.iconSize):Rt(0,0),y=f.iconAnchor?Rt(f.iconAnchor):Rt(0,0);a.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:m.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function og(a,f){return new Wl(a,f)}var Jo=Di.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return P(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Kl=Jo.extend({options:{fill:!0,radius:10},initialize:function(a,f){P(this,f),this._latlng=fe(a),this._radius=this.options.radius},setLatLng:function(a){var f=this._latlng;return this._latlng=fe(a),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var f=a&&a.radius||this._radius;return Jo.prototype.setStyle.call(this,a),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,f=this._radiusY||a,m=this._clickTolerance(),y=[a+m,f+m];this._pxBounds=new Tt(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function sg(a,f){return new Kl(a,f)}var ch=Kl.extend({initialize:function(a,f,m){if(typeof f=="number"&&(f=i({},m,{radius:f})),P(this,f),this._latlng=fe(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new Fe(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Jo.prototype.setStyle,_project:function(){var a=this._latlng.lng,f=this._latlng.lat,m=this._map,y=m.options.crs;if(y.distance===In.distance){var w=Math.PI/180,D=this._mRadius/In.R/w,q=m.project([f+D,a]),nt=m.project([f-D,a]),lt=q.add(nt).divideBy(2),wt=m.unproject(lt).lat,At=Math.acos((Math.cos(D*w)-Math.sin(f*w)*Math.sin(wt*w))/(Math.cos(f*w)*Math.cos(wt*w)))/w;(isNaN(At)||At===0)&&(At=D/Math.cos(Math.PI/180*f)),this._point=lt.subtract(m.getPixelOrigin()),this._radius=isNaN(At)?0:lt.x-m.project([wt,a-At]).x,this._radiusY=lt.y-q.y}else{var re=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(re).x}this._updateBounds()}});function ag(a,f,m){return new ch(a,f,m)}var Io=Jo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,f){P(this,f),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var f=1/0,m=null,y=nl,w,D,q=0,nt=this._parts.length;q<nt;q++)for(var lt=this._parts[q],wt=1,At=lt.length;wt<At;wt++){w=lt[wt-1],D=lt[wt];var re=y(a,w,D,!0);re<f&&(f=re,m=y(a,w,D))}return m&&(m.distance=Math.sqrt(f)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ec(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,f){return f=f||this._defaultShape(),a=fe(a),f.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new Fe,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return si(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var f=[],m=si(a),y=0,w=a.length;y<w;y++)m?(f[y]=fe(a[y]),this._bounds.extend(f[y])):f[y]=this._convertLatLngs(a[y]);return f},_project:function(){var a=new Tt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),f=new ut(a,a);this._rawPxBounds&&(this._pxBounds=new Tt([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(a,f,m){var y=a[0]instanceof ie,w=a.length,D,q;if(y){for(q=[],D=0;D<w;D++)q[D]=this._map.latLngToLayerPoint(a[D]),m.extend(q[D]);f.push(q)}else for(D=0;D<w;D++)this._projectLatlngs(a[D],f,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,m,y,w,D,q,nt,lt;for(m=0,w=0,D=this._rings.length;m<D;m++)for(lt=this._rings[m],y=0,q=lt.length;y<q-1;y++)nt=Cc(lt[y],lt[y+1],a,y,!0),nt&&(f[w]=f[w]||[],f[w].push(nt[0]),(nt[1]!==lt[y+1]||y===q-2)&&(f[w].push(nt[1]),w++))}},_simplifyPoints:function(){for(var a=this._parts,f=this.options.smoothFactor,m=0,y=a.length;m<y;m++)a[m]=yc(a[m],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,f){var m,y,w,D,q,nt,lt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,D=this._parts.length;m<D;m++)for(nt=this._parts[m],y=0,q=nt.length,w=q-1;y<q;w=y++)if(!(!f&&y===0)&&Lc(a,nt[w],nt[y])<=lt)return!0;return!1}});function lg(a,f){return new Io(a,f)}Io._flat=wc;var aa=Io.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Pc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var f=Io.prototype._convertLatLngs.call(this,a),m=f.length;return m>=2&&f[0]instanceof ie&&f[0].equals(f[m-1])&&f.pop(),f},_setLatLngs:function(a){Io.prototype._setLatLngs.call(this,a),si(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return si(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,f=this.options.weight,m=new ut(f,f);if(a=new Tt(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,w=this._rings.length,D;y<w;y++)D=Mc(this._rings[y],a,!0),D.length&&this._parts.push(D)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var f=!1,m,y,w,D,q,nt,lt,wt;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(D=0,lt=this._parts.length;D<lt;D++)for(m=this._parts[D],q=0,wt=m.length,nt=wt-1;q<wt;nt=q++)y=m[q],w=m[nt],y.y>a.y!=w.y>a.y&&a.x<(w.x-y.x)*(a.y-y.y)/(w.y-y.y)+y.x&&(f=!f);return f||Io.prototype._containsPoint.call(this,a,!0)}});function ug(a,f){return new aa(a,f)}var xo=ko.extend({initialize:function(a,f){P(this,f),this._layers={},a&&this.addData(a)},addData:function(a){var f=N(a)?a:a.features,m,y,w;if(f){for(m=0,y=f.length;m<y;m++)w=f[m],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var D=this.options;if(D.filter&&!D.filter(a))return this;var q=Jl(a,D);return q?(q.feature=tu(a),q.defaultOptions=q.options,this.resetStyle(q),D.onEachFeature&&D.onEachFeature(a,q),this.addLayer(q)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=i({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(f){this._setLayerStyle(f,a)},this)},_setLayerStyle:function(a,f){a.setStyle&&(typeof f=="function"&&(f=f(a.feature)),a.setStyle(f))}});function Jl(a,f){var m=a.type==="Feature"?a.geometry:a,y=m?m.coordinates:null,w=[],D=f&&f.pointToLayer,q=f&&f.coordsToLatLng||fh,nt,lt,wt,At;if(!y&&!m)return null;switch(m.type){case"Point":return nt=q(y),Ic(D,a,nt,f);case"MultiPoint":for(wt=0,At=y.length;wt<At;wt++)nt=q(y[wt]),w.push(Ic(D,a,nt,f));return new ko(w);case"LineString":case"MultiLineString":return lt=Ql(y,m.type==="LineString"?0:1,q),new Io(lt,f);case"Polygon":case"MultiPolygon":return lt=Ql(y,m.type==="Polygon"?1:2,q),new aa(lt,f);case"GeometryCollection":for(wt=0,At=m.geometries.length;wt<At;wt++){var re=Jl({geometry:m.geometries[wt],type:"Feature",properties:a.properties},f);re&&w.push(re)}return new ko(w);case"FeatureCollection":for(wt=0,At=m.features.length;wt<At;wt++){var Ae=Jl(m.features[wt],f);Ae&&w.push(Ae)}return new ko(w);default:throw new Error("Invalid GeoJSON object.")}}function Ic(a,f,m,y){return a?a(f,m):new Wl(m,y&&y.markersInheritOptions&&y)}function fh(a){return new ie(a[1],a[0],a[2])}function Ql(a,f,m){for(var y=[],w=0,D=a.length,q;w<D;w++)q=f?Ql(a[w],f-1,m):(m||fh)(a[w]),y.push(q);return y}function ph(a,f){return a=fe(a),a.alt!==void 0?[_(a.lng,f),_(a.lat,f),_(a.alt,f)]:[_(a.lng,f),_(a.lat,f)]}function $l(a,f,m,y){for(var w=[],D=0,q=a.length;D<q;D++)w.push(f?$l(a[D],si(a[D])?0:f-1,m,y):ph(a[D],y));return!f&&m&&w.push(w[0].slice()),w}function la(a,f){return a.feature?i({},a.feature,{geometry:f}):tu(f)}function tu(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var dh={toGeoJSON:function(a){return la(this,{type:"Point",coordinates:ph(this.getLatLng(),a)})}};Wl.include(dh),ch.include(dh),Kl.include(dh),Io.include({toGeoJSON:function(a){var f=!si(this._latlngs),m=$l(this._latlngs,f?1:0,!1,a);return la(this,{type:(f?"Multi":"")+"LineString",coordinates:m})}}),aa.include({toGeoJSON:function(a){var f=!si(this._latlngs),m=f&&!si(this._latlngs[0]),y=$l(this._latlngs,m?2:f?1:0,!0,a);return f||(y=[y]),la(this,{type:(m?"Multi":"")+"Polygon",coordinates:y})}}),oa.include({toMultiPoint:function(a){var f=[];return this.eachLayer(function(m){f.push(m.toGeoJSON(a).geometry.coordinates)}),la(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(a){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(a);var m=f==="GeometryCollection",y=[];return this.eachLayer(function(w){if(w.toGeoJSON){var D=w.toGeoJSON(a);if(m)y.push(D.geometry);else{var q=tu(D);q.type==="FeatureCollection"?y.push.apply(y,q.features):y.push(q)}}}),m?la(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function xc(a,f){return new xo(a,f)}var hg=xc,eu=Di.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,f,m){this._url=a,this._bounds=Ge(f),P(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(_e(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Je(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Mo(this._image),this},bringToBack:function(){return this._map&&Po(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Ge(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",f=this._image=a?this._url:Te("img");if(_e(f,"leaflet-image-layer"),this._zoomAnimated&&_e(f,"leaflet-zoom-animated"),this.options.className&&_e(f,this.options.className),f.onselectstart=c,f.onmousemove=c,f.onload=s(this.fire,this,"load"),f.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(a){var f=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;eo(this._image,m,f)},_reset:function(){var a=this._image,f=new Tt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=f.getSize();en(a,f.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){Or(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),cg=function(a,f,m){return new eu(a,f,m)},Tc=eu.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",f=this._image=a?this._url:Te("video");if(_e(f,"leaflet-image-layer"),this._zoomAnimated&&_e(f,"leaflet-zoom-animated"),this.options.className&&_e(f,this.options.className),f.onselectstart=c,f.onmousemove=c,f.onloadeddata=s(this.fire,this,"load"),a){for(var m=f.getElementsByTagName("source"),y=[],w=0;w<m.length;w++)y.push(m[w].src);this._url=m.length>0?y:[f.src];return}N(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var D=0;D<this._url.length;D++){var q=Te("source");q.src=this._url[D],f.appendChild(q)}}});function fg(a,f,m){return new Tc(a,f,m)}var Nc=eu.extend({_initImage:function(){var a=this._image=this._url;_e(a,"leaflet-image-layer"),this._zoomAnimated&&_e(a,"leaflet-zoom-animated"),this.options.className&&_e(a,this.options.className),a.onselectstart=c,a.onmousemove=c}});function pg(a,f,m){return new Nc(a,f,m)}var ro=Di.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,f){a&&(a instanceof ie||N(a))?(this._latlng=fe(a),P(this,f)):(P(this,a),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Or(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Or(this._container,1),this.bringToFront(),this.options.interactive&&(_e(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Or(this._container,0),this._removeTimeout=setTimeout(s(Je,void 0,this._container),200)):Je(this._container),this.options.interactive&&(Cn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=fe(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Mo(this._container),this},bringToBack:function(){return this._map&&Po(this._container),this},_prepareOpen:function(a){var f=this._source;if(!f._map)return!1;if(f instanceof ko){f=null;var m=this._source._layers;for(var y in m)if(m[y]._map){f=m[y];break}if(!f)return!1;this._source=f}if(!a)if(f.getCenter)a=f.getCenter();else if(f.getLatLng)a=f.getLatLng();else if(f.getBounds)a=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")a.innerHTML=f;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),f=Rt(this.options.offset),m=this._getAnchor();this._zoomAnimated?en(this._container,a.add(m)):f=f.add(a).add(m);var y=this._containerBottom=-f.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=y+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});qt.include({_initOverlay:function(a,f,m,y){var w=f;return w instanceof a||(w=new a(y).setContent(f)),m&&w.setLatLng(m),w}}),Di.include({_initOverlay:function(a,f,m,y){var w=m;return w instanceof a?(P(w,y),w._source=this):(w=f&&!y?f:new a(y,this),w.setContent(m)),w}});var nu=ro.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,ro.prototype.openOn.call(this,a)},onAdd:function(a){ro.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Jo||this._source.on("preclick",F))},onRemove:function(a){ro.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Jo||this._source.off("preclick",F))},getEvents:function(){var a=ro.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",f=this._container=Te("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Te("div",a+"-content-wrapper",f);if(this._contentNode=Te("div",a+"-content",m),G(f),V(this._contentNode),se(f,"contextmenu",F),this._tipContainer=Te("div",a+"-tip-container",f),this._tip=Te("div",a+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=Te("a",a+"-close-button",f);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',se(y,"click",function(w){H(w),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,f=a.style;f.width="",f.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),f.width=m+1+"px",f.whiteSpace="",f.height="";var y=a.offsetHeight,w=this.options.maxHeight,D="leaflet-popup-scrolled";w&&y>w?(f.height=w+"px",_e(a,D)):Cn(a,D),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var f=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();en(this._container,f.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,f=parseInt(Yo(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+f,y=this._containerWidth,w=new ut(this._containerLeft,-m-this._containerBottom);w._add(ii(this._container));var D=a.layerPointToContainerPoint(w),q=Rt(this.options.autoPanPadding),nt=Rt(this.options.autoPanPaddingTopLeft||q),lt=Rt(this.options.autoPanPaddingBottomRight||q),wt=a.getSize(),At=0,re=0;D.x+y+lt.x>wt.x&&(At=D.x+y-wt.x+lt.x),D.x-At-nt.x<0&&(At=D.x-nt.x),D.y+m+lt.y>wt.y&&(re=D.y+m-wt.y+lt.y),D.y-re-nt.y<0&&(re=D.y-nt.y),(At||re)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([At,re]))}},_getAnchor:function(){return Rt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),dg=function(a,f){return new nu(a,f)};qt.mergeOptions({closePopupOnClick:!0}),qt.include({openPopup:function(a,f,m){return this._initOverlay(nu,a,f,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Di.include({bindPopup:function(a,f){return this._popup=this._initOverlay(nu,this._popup,a,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof ko||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){tt(a);var f=a.layer||a.target;if(this._popup._source===f&&!(f instanceof Jo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=f,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var ru=ro.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){ro.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){ro.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=ro.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",f=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Te("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var f,m,y=this._map,w=this._container,D=y.latLngToContainerPoint(y.getCenter()),q=y.layerPointToContainerPoint(a),nt=this.options.direction,lt=w.offsetWidth,wt=w.offsetHeight,At=Rt(this.options.offset),re=this._getAnchor();nt==="top"?(f=lt/2,m=wt):nt==="bottom"?(f=lt/2,m=0):nt==="center"?(f=lt/2,m=wt/2):nt==="right"?(f=0,m=wt/2):nt==="left"?(f=lt,m=wt/2):q.x<D.x?(nt="right",f=0,m=wt/2):(nt="left",f=lt+(At.x+re.x)*2,m=wt/2),a=a.subtract(Rt(f,m,!0)).add(At).add(re),Cn(w,"leaflet-tooltip-right"),Cn(w,"leaflet-tooltip-left"),Cn(w,"leaflet-tooltip-top"),Cn(w,"leaflet-tooltip-bottom"),_e(w,"leaflet-tooltip-"+nt),en(w,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Or(this._container,a)},_animateZoom:function(a){var f=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(f)},_getAnchor:function(){return Rt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),gg=function(a,f){return new ru(a,f)};qt.include({openTooltip:function(a,f,m){return this._initOverlay(ru,a,f,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Di.include({bindTooltip:function(a,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ru,this._tooltip,a,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var f=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[f](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof ko||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var f=a.getElement();f&&(se(f,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),se(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var f=a.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0))},_moveTooltip:function(a){var f=a.latlng,m,y;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),y=this._map.containerPointToLayerPoint(m),f=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(f)}});var Oc=sa.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var f=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(Cs(f),f.appendChild(m.html)):f.innerHTML=m.html!==!1?m.html:"",m.bgPos){var y=Rt(m.bgPos);f.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function _g(a){return new Oc(a)}sa.Default=rl;var il=Di.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Gt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){P(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),Je(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Mo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Po(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof ut?a:new ut(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var f=this.getPane().children,m=-a(-1/0,1/0),y=0,w=f.length,D;y<w;y++)D=f[y].style.zIndex,f[y]!==this._container&&D&&(m=a(m,+D));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Gt.ielt9){Or(this._container,this.options.opacity);var a=+new Date,f=!1,m=!1;for(var y in this._tiles){var w=this._tiles[y];if(!(!w.current||!w.loaded)){var D=Math.min(1,(a-w.loaded)/200);Or(w.el,D),D<1?f=!0:(w.active?m=!0:this._onOpaqueTile(w),w.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),f&&(J(this._fadeFrame),this._fadeFrame=X(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=Te("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,f=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=f-Math.abs(a-m),this._onUpdateLevel(m)):(Je(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var y=this._levels[a],w=this._map;return y||(y=this._levels[a]={},y.el=Te("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=f,y.origin=w.project(w.unproject(w.getPixelOrigin()),a).round(),y.zoom=a,this._setZoomTransform(y,w.getCenter(),w.getZoom()),c(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var a,f,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)f=this._tiles[a],f.retain=f.current;for(a in this._tiles)if(f=this._tiles[a],f.current&&!f.active){var y=f.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var f in this._tiles)this._tiles[f].coords.z===a&&this._removeTile(f)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Je(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,f,m,y){var w=Math.floor(a/2),D=Math.floor(f/2),q=m-1,nt=new ut(+w,+D);nt.z=+q;var lt=this._tileCoordsToKey(nt),wt=this._tiles[lt];return wt&&wt.active?(wt.retain=!0,!0):(wt&&wt.loaded&&(wt.retain=!0),q>y?this._retainParent(w,D,q,y):!1)},_retainChildren:function(a,f,m,y){for(var w=2*a;w<2*a+2;w++)for(var D=2*f;D<2*f+2;D++){var q=new ut(w,D);q.z=m+1;var nt=this._tileCoordsToKey(q),lt=this._tiles[nt];if(lt&&lt.active){lt.retain=!0;continue}else lt&&lt.loaded&&(lt.retain=!0);m+1<y&&this._retainChildren(w,D,m+1,y)}},_resetView:function(a){var f=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var f=this.options;return f.minNativeZoom!==void 0&&a<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<a?f.maxNativeZoom:a},_setView:function(a,f,m,y){var w=Math.round(f);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var D=this.options.updateWhenZooming&&w!==this._tileZoom;(!y||D)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,f)},_setZoomTransforms:function(a,f){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,f)},_setZoomTransform:function(a,f,m){var y=this._map.getZoomScale(m,a.zoom),w=a.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(f,m)).round();Gt.any3d?eo(a.el,w,y):en(a.el,w)},_resetGrid:function(){var a=this._map,f=a.options.crs,m=this._tileSize=this.getTileSize(),y=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,f.wrapLng[0]],y).x/m.x),Math.ceil(a.project([0,f.wrapLng[1]],y).x/m.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([f.wrapLat[0],0],y).y/m.x),Math.ceil(a.project([f.wrapLat[1],0],y).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var f=this._map,m=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),y=f.getZoomScale(m,this._tileZoom),w=f.project(a,this._tileZoom).floor(),D=f.getSize().divideBy(y*2);return new Tt(w.subtract(D),w.add(D))},_update:function(a){var f=this._map;if(f){var m=this._clampZoom(f.getZoom());if(a===void 0&&(a=f.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(a),w=this._pxBoundsToTileRange(y),D=w.getCenter(),q=[],nt=this.options.keepBuffer,lt=new Tt(w.getBottomLeft().subtract([nt,-nt]),w.getTopRight().add([nt,-nt]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var wt in this._tiles){var At=this._tiles[wt].coords;(At.z!==this._tileZoom||!lt.contains(new ut(At.x,At.y)))&&(this._tiles[wt].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var re=w.min.y;re<=w.max.y;re++)for(var Ae=w.min.x;Ae<=w.max.x;Ae++){var ai=new ut(Ae,re);if(ai.z=this._tileZoom,!!this._isValidTile(ai)){var xs=this._tiles[this._tileCoordsToKey(ai)];xs?xs.current=!0:q.push(ai)}}if(q.sort(function(Qo,gh){return Qo.distanceTo(D)-gh.distanceTo(D)}),q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ou=document.createDocumentFragment();for(Ae=0;Ae<q.length;Ae++)this._addTile(q[Ae],ou);this._level.el.appendChild(ou)}}}},_isValidTile:function(a){var f=this._map.options.crs;if(!f.infinite){var m=this._globalTileRange;if(!f.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!f.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(a);return Ge(this.options.bounds).overlaps(y)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var f=this._map,m=this.getTileSize(),y=a.scaleBy(m),w=y.add(m),D=f.unproject(y,a.z),q=f.unproject(w,a.z);return[D,q]},_tileCoordsToBounds:function(a){var f=this._tileCoordsToNwSe(a),m=new Fe(f[0],f[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var f=a.split(":"),m=new ut(+f[0],+f[1]);return m.z=+f[2],m},_removeTile:function(a){var f=this._tiles[a];f&&(Je(f.el),delete this._tiles[a],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){_e(a,"leaflet-tile");var f=this.getTileSize();a.style.width=f.x+"px",a.style.height=f.y+"px",a.onselectstart=c,a.onmousemove=c,Gt.ielt9&&this.options.opacity<1&&Or(a,this.options.opacity)},_addTile:function(a,f){var m=this._getTilePos(a),y=this._tileCoordsToKey(a),w=this.createTile(this._wrapCoords(a),s(this._tileReady,this,a));this._initTile(w),this.createTile.length<2&&X(s(this._tileReady,this,a,null,w)),en(w,m),this._tiles[y]={el:w,coords:a,current:!0},f.appendChild(w),this.fire("tileloadstart",{tile:w,coords:a})},_tileReady:function(a,f,m){f&&this.fire("tileerror",{error:f,tile:m,coords:a});var y=this._tileCoordsToKey(a);m=this._tiles[y],m&&(m.loaded=+new Date,this._map._fadeAnimated?(Or(m.el,0),J(this._fadeFrame),this._fadeFrame=X(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),f||(_e(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Gt.ielt9||!this._map._fadeAnimated?X(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var f=new ut(this._wrapX?g(a.x,this._wrapX):a.x,this._wrapY?g(a.y,this._wrapY):a.y);return f.z=a.z,f},_pxBoundsToTileRange:function(a){var f=this.getTileSize();return new Tt(a.min.unscaleBy(f).floor(),a.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function mg(a){return new il(a)}var ua=il.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,f){this._url=a,f=P(this,f),f.detectRetina&&Gt.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,f){return this._url===a&&f===void 0&&(f=!0),this._url=a,f||this.redraw(),this},createTile:function(a,f){var m=document.createElement("img");return se(m,"load",s(this._tileOnLoad,this,f,m)),se(m,"error",s(this._tileOnError,this,f,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var f={r:Gt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(f.y=m),f["-y"]=m}return T(this._url,i(f,this.options))},_tileOnLoad:function(a,f){Gt.ielt9?setTimeout(s(a,this,null,f),0):a(null,f)},_tileOnError:function(a,f,m){var y=this.options.errorTileUrl;y&&f.getAttribute("src")!==y&&(f.src=y),a(m,f)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,f=this.options.maxZoom,m=this.options.zoomReverse,y=this.options.zoomOffset;return m&&(a=f-a),a+y},_getSubdomain:function(a){var f=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var a,f;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(f=this._tiles[a].el,f.onload=c,f.onerror=c,!f.complete)){f.src=R;var m=this._tiles[a].coords;Je(f),delete this._tiles[a],this.fire("tileabort",{tile:f,coords:m})}},_removeTile:function(a){var f=this._tiles[a];if(f)return f.el.setAttribute("src",R),il.prototype._removeTile.call(this,a)},_tileReady:function(a,f,m){if(!(!this._map||m&&m.getAttribute("src")===R))return il.prototype._tileReady.call(this,a,f,m)}});function Dc(a,f){return new ua(a,f)}var Rc=ua.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,f){this._url=a;var m=i({},this.defaultWmsParams);for(var y in f)y in this.options||(m[y]=f[y]);f=P(this,f);var w=f.detectRetina&&Gt.retina?2:1,D=this.getTileSize();m.width=D.x*w,m.height=D.y*w,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,ua.prototype.onAdd.call(this,a)},getTileUrl:function(a){var f=this._tileCoordsToNwSe(a),m=this._crs,y=Xt(m.project(f[0]),m.project(f[1])),w=y.min,D=y.max,q=(this._wmsVersion>=1.3&&this._crs===Sc?[w.y,w.x,D.y,D.x]:[w.x,w.y,D.x,D.y]).join(","),nt=ua.prototype.getTileUrl.call(this,a);return nt+S(this.wmsParams,nt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+q},setParams:function(a,f){return i(this.wmsParams,a),f||this.redraw(),this}});function vg(a,f){return new Rc(a,f)}ua.WMS=Rc,Dc.wms=vg;var To=Di.extend({options:{padding:.1},initialize:function(a){P(this,a),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&_e(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,f){var m=this._map.getZoomScale(f,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,f),D=y.multiplyBy(-m).add(w).subtract(this._map._getNewPixelOrigin(a,f));Gt.any3d?eo(this._container,D,m):en(this._container,D)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,f=this._map.getSize(),m=this._map.containerPointToLayerPoint(f.multiplyBy(-a)).round();this._bounds=new Tt(m,m.add(f.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ac=To.extend({options:{tolerance:0},getEvents:function(){var a=To.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){To.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");se(a,"mousemove",this._onMouseMove,this),se(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),se(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){J(this._redrawRequest),delete this._ctx,Je(this._container),d(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var f in this._layers)a=this._layers[f],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){To.prototype._update.call(this);var a=this._bounds,f=this._container,m=a.getSize(),y=Gt.retina?2:1;en(f,a.min),f.width=y*m.x,f.height=y*m.y,f.style.width=m.x+"px",f.style.height=m.y+"px",Gt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){To.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[l(a)]=a;var f=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var f=a._order,m=f.next,y=f.prev;m?m.prev=y:this._drawLast=y,y?y.next=m:this._drawFirst=m,delete a._order,delete this._layers[l(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var f=a.options.dashArray.split(/[, ]+/),m=[],y,w;for(w=0;w<f.length;w++){if(y=Number(f[w]),isNaN(y))return;m.push(y)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||X(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var f=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Tt,this._redrawBounds.extend(a._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(a._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var f=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,f=this._redrawBounds;if(this._ctx.save(),f){var m=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)a=y.layer,(!f||a._pxBounds&&a._pxBounds.intersects(f))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,f){if(this._drawing){var m,y,w,D,q=a._parts,nt=q.length,lt=this._ctx;if(nt){for(lt.beginPath(),m=0;m<nt;m++){for(y=0,w=q[m].length;y<w;y++)D=q[m][y],lt[y?"lineTo":"moveTo"](D.x,D.y);f&&lt.closePath()}this._fillStroke(lt,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var f=a._point,m=this._ctx,y=Math.max(Math.round(a._radius),1),w=(Math.max(Math.round(a._radiusY),1)||y)/y;w!==1&&(m.save(),m.scale(1,w)),m.beginPath(),m.arc(f.x,f.y/w,y,0,Math.PI*2,!1),w!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,f){var m=f.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(f.options&&f.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var f=this._map.mouseEventToLayerPoint(a),m,y,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(f)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(y=m);this._fireEvent(y?[y]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,f)}},_handleMouseOut:function(a){var f=this._hoveredLayer;f&&(Cn(this._container,"leaflet-interactive"),this._fireEvent([f],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,f){if(!this._mouseHoverThrottled){for(var m,y,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(f)&&(y=m);y!==this._hoveredLayer&&(this._handleMouseOut(a),y&&(_e(this._container,"leaflet-interactive"),this._fireEvent([y],a,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,f,m){this._map._fireDOMEvent(f,m||f.type,a)},_bringToFront:function(a){var f=a._order;if(f){var m=f.next,y=f.prev;if(m)m.prev=y;else return;y?y.next=m:m&&(this._drawFirst=m),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(a)}},_bringToBack:function(a){var f=a._order;if(f){var m=f.next,y=f.prev;if(y)y.next=m;else return;m?m.prev=y:y&&(this._drawLast=y),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(a)}}});function Bc(a){return Gt.canvas?new Ac(a):null}var ol=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),yg={_initContainer:function(){this._container=Te("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(To.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var f=a._container=ol("shape");_e(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",a._path=ol("path"),f.appendChild(a._path),this._updateStyle(a),this._layers[l(a)]=a},_addPath:function(a){var f=a._container;this._container.appendChild(f),a.options.interactive&&a.addInteractiveTarget(f)},_removePath:function(a){var f=a._container;Je(f),a.removeInteractiveTarget(f),delete this._layers[l(a)]},_updateStyle:function(a){var f=a._stroke,m=a._fill,y=a.options,w=a._container;w.stroked=!!y.stroke,w.filled=!!y.fill,y.stroke?(f||(f=a._stroke=ol("stroke")),w.appendChild(f),f.weight=y.weight+"px",f.color=y.color,f.opacity=y.opacity,y.dashArray?f.dashStyle=N(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=y.lineCap.replace("butt","flat"),f.joinstyle=y.lineJoin):f&&(w.removeChild(f),a._stroke=null),y.fill?(m||(m=a._fill=ol("fill")),w.appendChild(m),m.color=y.fillColor||y.color,m.opacity=y.fillOpacity):m&&(w.removeChild(m),a._fill=null)},_updateCircle:function(a){var f=a._point.round(),m=Math.round(a._radius),y=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+f.x+","+f.y+" "+m+","+y+" 0,"+65535*360)},_setPath:function(a,f){a._path.v=f},_bringToFront:function(a){Mo(a._container)},_bringToBack:function(a){Po(a._container)}},iu=Gt.vml?ol:jo,sl=To.extend({_initContainer:function(){this._container=iu("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=iu("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Je(this._container),d(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){To.prototype._update.call(this);var a=this._bounds,f=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,m.setAttribute("width",f.x),m.setAttribute("height",f.y)),en(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(a){var f=a._path=iu("path");a.options.className&&_e(f,a.options.className),a.options.interactive&&_e(f,"leaflet-interactive"),this._updateStyle(a),this._layers[l(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){Je(a._path),a.removeInteractiveTarget(a._path),delete this._layers[l(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var f=a._path,m=a.options;f&&(m.stroke?(f.setAttribute("stroke",m.color),f.setAttribute("stroke-opacity",m.opacity),f.setAttribute("stroke-width",m.weight),f.setAttribute("stroke-linecap",m.lineCap),f.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?f.setAttribute("stroke-dasharray",m.dashArray):f.removeAttribute("stroke-dasharray"),m.dashOffset?f.setAttribute("stroke-dashoffset",m.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),m.fill?(f.setAttribute("fill",m.fillColor||m.color),f.setAttribute("fill-opacity",m.fillOpacity),f.setAttribute("fill-rule",m.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(a,f){this._setPath(a,Ji(a._parts,f))},_updateCircle:function(a){var f=a._point,m=Math.max(Math.round(a._radius),1),y=Math.max(Math.round(a._radiusY),1)||m,w="a"+m+","+y+" 0 1,0 ",D=a._empty()?"M0 0":"M"+(f.x-m)+","+f.y+w+m*2+",0 "+w+-m*2+",0 ";this._setPath(a,D)},_setPath:function(a,f){a._path.setAttribute("d",f)},_bringToFront:function(a){Mo(a._path)},_bringToBack:function(a){Po(a._path)}});Gt.vml&&sl.include(yg);function zc(a){return Gt.svg||Gt.vml?new sl(a):null}qt.include({getRenderer:function(a){var f=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var f=this._paneRenderers[a];return f===void 0&&(f=this._createRenderer({pane:a}),this._paneRenderers[a]=f),f},_createRenderer:function(a){return this.options.preferCanvas&&Bc(a)||zc(a)}});var Fc=aa.extend({initialize:function(a,f){aa.prototype.initialize.call(this,this._boundsToLatLngs(a),f)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=Ge(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Lg(a,f){return new Fc(a,f)}sl.create=iu,sl.pointsToPath=Ji,xo.geometryToLayer=Jl,xo.coordsToLatLng=fh,xo.coordsToLatLngs=Ql,xo.latLngToCoords=ph,xo.latLngsToCoords=$l,xo.getFeature=la,xo.asFeature=tu,qt.mergeOptions({boxZoom:!0});var Gc=oi.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){se(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){d(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Je(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Es(),Ps(),this._startPoint=this._map.mouseEventToContainerPoint(a),se(document,{contextmenu:tt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Te("div","leaflet-zoom-box",this._container),_e(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var f=new Tt(this._point,this._startPoint),m=f.getSize();en(this._box,f.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(Je(this._box),Cn(this._container,"leaflet-crosshair")),Ms(),Qa(),d(document,{contextmenu:tt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var f=new Fe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});qt.addInitHook("addHandler","boxZoom",Gc),qt.mergeOptions({doubleClickZoom:!0});var Vc=oi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var f=this._map,m=f.getZoom(),y=f.options.zoomDelta,w=a.originalEvent.shiftKey?m-y:m+y;f.options.doubleClickZoom==="center"?f.setZoom(w):f.setZoomAround(a.containerPoint,w)}});qt.addInitHook("addHandler","doubleClickZoom",Vc),qt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Uc=oi.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ko(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}_e(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Cn(this._map._container,"leaflet-grab"),Cn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=Ge(this._map.options.maxBounds);this._offsetLimit=Xt(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var f=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(f),this._prunePositions(f)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,f){return a-(a-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;a.x<f.min.x&&(a.x=this._viscousLimit(a.x,f.min.x)),a.y<f.min.y&&(a.y=this._viscousLimit(a.y,f.min.y)),a.x>f.max.x&&(a.x=this._viscousLimit(a.x,f.max.x)),a.y>f.max.y&&(a.y=this._viscousLimit(a.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,f=Math.round(a/2),m=this._initialWorldOffset,y=this._draggable._newPos.x,w=(y-f+m)%a+f-m,D=(y+f+m)%a-f-m,q=Math.abs(w+m)<Math.abs(D+m)?w:D;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=q},_onDragEnd:function(a){var f=this._map,m=f.options,y=!m.inertia||a.noInertia||this._times.length<2;if(f.fire("dragend",a),y)f.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),D=(this._lastTime-this._times[0])/1e3,q=m.easeLinearity,nt=w.multiplyBy(q/D),lt=nt.distanceTo([0,0]),wt=Math.min(m.inertiaMaxSpeed,lt),At=nt.multiplyBy(wt/lt),re=wt/(m.inertiaDeceleration*q),Ae=At.multiplyBy(-re/2).round();!Ae.x&&!Ae.y?f.fire("moveend"):(Ae=f._limitOffset(Ae,f.options.maxBounds),X(function(){f.panBy(Ae,{duration:re,easeLinearity:q,noMoveStart:!0,animate:!0})}))}}});qt.addInitHook("addHandler","dragging",Uc),qt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Hc=oi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),se(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),d(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,f=document.documentElement,m=a.scrollTop||f.scrollTop,y=a.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(y,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var f=this._panKeys={},m=this.keyCodes,y,w;for(y=0,w=m.left.length;y<w;y++)f[m.left[y]]=[-1*a,0];for(y=0,w=m.right.length;y<w;y++)f[m.right[y]]=[a,0];for(y=0,w=m.down.length;y<w;y++)f[m.down[y]]=[0,a];for(y=0,w=m.up.length;y<w;y++)f[m.up[y]]=[0,-1*a]},_setZoomDelta:function(a){var f=this._zoomKeys={},m=this.keyCodes,y,w;for(y=0,w=m.zoomIn.length;y<w;y++)f[m.zoomIn[y]]=a;for(y=0,w=m.zoomOut.length;y<w;y++)f[m.zoomOut[y]]=-a},_addHooks:function(){se(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){d(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var f=a.keyCode,m=this._map,y;if(f in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(y=this._panKeys[f],a.shiftKey&&(y=Rt(y).multiplyBy(3)),m.options.maxBounds&&(y=m._limitOffset(Rt(y),m.options.maxBounds)),m.options.worldCopyJump){var w=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(y)));m.panTo(w)}else m.panBy(y)}else if(f in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;tt(a)}}});qt.addInitHook("addHandler","keyboard",Hc),qt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Zc=oi.extend({addHooks:function(){se(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){d(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var f=Dt(a),m=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var y=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),y),tt(a)},_performZoom:function(){var a=this._map,f=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,D=m?Math.ceil(w/m)*m:w,q=a._limitZoom(f+(this._delta>0?D:-D))-f;this._delta=0,this._startTime=null,q&&(a.options.scrollWheelZoom==="center"?a.setZoom(f+q):a.setZoomAround(this._lastMousePos,f+q))}});qt.addInitHook("addHandler","scrollWheelZoom",Zc);var bg=600;qt.mergeOptions({tapHold:Gt.touchNative&&Gt.safari&&Gt.mobile,tapTolerance:15});var jc=oi.extend({addHooks:function(){se(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){d(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var f=a.touches[0];this._startPos=this._newPos=new ut(f.clientX,f.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(se(document,"touchend",H),se(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),bg),se(document,"touchend touchcancel contextmenu",this._cancel,this),se(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){d(document,"touchend",H),d(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),d(document,"touchend touchcancel contextmenu",this._cancel,this),d(document,"touchmove",this._onMove,this)},_onMove:function(a){var f=a.touches[0];this._newPos=new ut(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,f){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});m._simulated=!0,f.target.dispatchEvent(m)}});qt.addInitHook("addHandler","tapHold",jc),qt.mergeOptions({touchZoom:Gt.touch,bounceAtZoomLimits:!0});var qc=oi.extend({addHooks:function(){_e(this._map._container,"leaflet-touch-zoom"),se(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Cn(this._map._container,"leaflet-touch-zoom"),d(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var f=this._map;if(!(!a.touches||a.touches.length!==2||f._animatingZoom||this._zooming)){var m=f.mouseEventToContainerPoint(a.touches[0]),y=f.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(m.add(y)._divideBy(2))),this._startDist=m.distanceTo(y),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),se(document,"touchmove",this._onTouchMove,this),se(document,"touchend touchcancel",this._onTouchEnd,this),H(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var f=this._map,m=f.mouseEventToContainerPoint(a.touches[0]),y=f.mouseEventToContainerPoint(a.touches[1]),w=m.distanceTo(y)/this._startDist;if(this._zoom=f.getScaleZoom(w,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&w<1||this._zoom>f.getMaxZoom()&&w>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var D=m._add(y)._divideBy(2)._subtract(this._centerPoint);if(w===1&&D.x===0&&D.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(D),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),J(this._animRequest);var q=s(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=X(q,this,!0),H(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,J(this._animRequest),d(document,"touchmove",this._onTouchMove,this),d(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});qt.addInitHook("addHandler","touchZoom",qc),qt.BoxZoom=Gc,qt.DoubleClickZoom=Vc,qt.Drag=Uc,qt.Keyboard=Hc,qt.ScrollWheelZoom=Zc,qt.TapHold=jc,qt.TouchZoom=qc,n.Bounds=Tt,n.Browser=Gt,n.CRS=gr,n.Canvas=Ac,n.Circle=ch,n.CircleMarker=Kl,n.Class=it,n.Control=Qe,n.DivIcon=Oc,n.DivOverlay=ro,n.DomEvent=me,n.DomUtil=oh,n.Draggable=Ko,n.Evented=Bt,n.FeatureGroup=ko,n.GeoJSON=xo,n.GridLayer=il,n.Handler=oi,n.Icon=sa,n.ImageOverlay=eu,n.LatLng=ie,n.LatLngBounds=Fe,n.Layer=Di,n.LayerGroup=oa,n.LineUtil=Jd,n.Map=qt,n.Marker=Wl,n.Mixin=qd,n.Path=Jo,n.Point=ut,n.PolyUtil=Qd,n.Polygon=aa,n.Polyline=Io,n.Popup=nu,n.PosAnimation=Xe,n.Projection=$d,n.Rectangle=Fc,n.Renderer=To,n.SVG=sl,n.SVGOverlay=Nc,n.TileLayer=ua,n.Tooltip=ru,n.Transformation=bo,n.Util=at,n.VideoOverlay=Tc,n.bind=s,n.bounds=Xt,n.canvas=Bc,n.circle=ag,n.circleMarker=sg,n.control=Jn,n.divIcon=_g,n.extend=i,n.featureGroup=rg,n.geoJSON=xc,n.geoJson=hg,n.gridLayer=mg,n.icon=ig,n.imageOverlay=cg,n.latLng=fe,n.latLngBounds=Ge,n.layerGroup=ng,n.map=Ye,n.marker=og,n.point=Rt,n.polygon=ug,n.polyline=lg,n.popup=dg,n.rectangle=Lg,n.setOptions=P,n.stamp=l,n.svg=zc,n.svgOverlay=pg,n.tileLayer=Dc,n.tooltip=gg,n.transformation=ni,n.version=r,n.videoOverlay=fg;var Cg=window.L;n.noConflict=function(){return window.L=Cg,this},window.L=n})})(jg,nn);const Rn=nn,du=Gr([]),qg=Gr([]),fl=Gr(!1),Ih=Gr(!1),Cu=Gr(!1),pl=Gr(!1),wu=Gr(!1),tf=Gr(!1);function Xg(){const{subscribe:e,set:t,update:n}=Gr(new Map([]));return{subscribe:e,add:(r,i)=>n(o=>new Map(o.set(r,i))),remove:r=>n(i=>(i.delete(r),new Map(i)))}}const au=Xg();function Yg(){const{subscribe:e,set:t,update:n}=Gr(new Map([]));return{subscribe:e,reset:()=>t(new Map([])),set:(r,i)=>t(new Map([[r,i]])),add:(r,i)=>n(o=>o.get(r)?(o.delete(r),new Map(o)):new Map(o.set(r,i))),remove:r=>n(i=>(i.delete(r),new Map(i)))}}const Ts=Yg();function zp(e,t,n){if(e!==null)for(var r,i,o,s,u,l,p,g=0,c=0,_,C=e.type,E=C==="FeatureCollection",P=C==="Feature",S=E?e.features.length:1,I=0;I<S;I++){p=E?e.features[I].geometry:P?e.geometry:e,_=p?p.type==="GeometryCollection":!1,u=_?p.geometries.length:1;for(var T=0;T<u;T++){var N=0,x=0;if(s=_?p.geometries[T]:p,s!==null){l=s.coordinates;var R=s.type;switch(g=n&&(R==="Polygon"||R==="MultiPolygon")?1:0,R){case null:break;case"Point":if(t(l,c,I,N,x)===!1)return!1;c++,N++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++){if(t(l[r],c,I,N,x)===!1)return!1;c++,R==="MultiPoint"&&N++}R==="LineString"&&N++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(i=0;i<l[r].length-g;i++){if(t(l[r][i],c,I,N,x)===!1)return!1;c++}R==="MultiLineString"&&N++,R==="Polygon"&&x++}R==="Polygon"&&N++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for(x=0,i=0;i<l[r].length;i++){for(o=0;o<l[r][i].length-g;o++){if(t(l[r][i][o],c,I,N,x)===!1)return!1;c++}x++}N++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(zp(s.geometries[r],t,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function ef(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var n=0;n<e.features.length&&t(e.features[n],n)!==!1;n++);}function Kh(e,t){var n,r,i,o,s,u,l,p,g,c,_=0,C=e.type==="FeatureCollection",E=e.type==="Feature",P=C?e.features.length:1;for(n=0;n<P;n++){for(u=C?e.features[n].geometry:E?e.geometry:e,p=C?e.features[n].properties:E?e.properties:{},g=C?e.features[n].bbox:E?e.bbox:void 0,c=C?e.features[n].id:E?e.id:void 0,l=u?u.type==="GeometryCollection":!1,s=l?u.geometries.length:1,i=0;i<s;i++){if(o=l?u.geometries[i]:u,o===null){if(t(null,_,p,g,c)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(o,_,p,g,c)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<o.geometries.length;r++)if(t(o.geometries[r],_,p,g,c)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function xh(e){var t=[1/0,1/0,-1/0,-1/0];return zp(e,function(n){t[0]>n[0]&&(t[0]=n[0]),t[1]>n[1]&&(t[1]=n[1]),t[2]<n[0]&&(t[2]=n[0]),t[3]<n[1]&&(t[3]=n[1])}),t}xh.default=xh;function Wg(e,t){t===void 0&&(t={});var n=xh(e),r=(n[0]+n[2])/2,i=(n[1]+n[3])/2;return bu([r,i],t.properties,t)}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(this===void 0||this===null)throw new TypeError(this+" is not an object");var n=Object(this),r=Math.max(Math.min(n.length,9007199254740991),0)||0,i=1 in arguments&&parseInt(Number(arguments[1]),10)||0;i=i<0?Math.max(r+i,0):Math.min(i,r);var o=2 in arguments&&arguments[2]!==void 0?parseInt(Number(arguments[2]),10)||0:r;for(o=o<0?Math.max(r+arguments[2],0):Math.min(o,r);i<o;)n[i]=t,++i;return n},writable:!0});Number.isFinite=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)};Number.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};Number.parseFloat=Number.parseFloat||parseFloat;Number.isNaN=Number.isNaN||function(e){return e!==e};Math.trunc=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};var Ns=function(){};Ns.prototype.interfaces_=function(){return[]};Ns.prototype.getClass=function(){return Ns};Ns.prototype.equalsWithTolerance=function(t,n,r){return Math.abs(t-n)<=r};var $e=function(e){function t(n){e.call(this,n),this.name="IllegalArgumentException",this.message=n,this.stack=new e().stack}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),Yt=function(){},Fp={MAX_VALUE:{configurable:!0}};Yt.isNaN=function(t){return Number.isNaN(t)};Yt.doubleToLongBits=function(t){return t};Yt.longBitsToDouble=function(t){return t};Yt.isInfinite=function(t){return!Number.isFinite(t)};Fp.MAX_VALUE.get=function(){return Number.MAX_VALUE};Object.defineProperties(Yt,Fp);var Vr=function(){},Gu=function(){},ga=function(){};function Ur(){}var $=function e(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)this.x=0,this.y=0,this.z=e.NULL_ORDINATE;else if(arguments.length===1){var t=arguments[0];this.x=t.x,this.y=t.y,this.z=t.z}else arguments.length===2?(this.x=arguments[0],this.y=arguments[1],this.z=e.NULL_ORDINATE):arguments.length===3&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},js={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};$.prototype.setOrdinate=function(t,n){switch(t){case $.X:this.x=n;break;case $.Y:this.y=n;break;case $.Z:this.z=n;break;default:throw new $e("Invalid ordinate index: "+t)}};$.prototype.equals2D=function(){if(arguments.length===1){var t=arguments[0];return!(this.x!==t.x||this.y!==t.y)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return!(!Ns.equalsWithTolerance(this.x,n.x,r)||!Ns.equalsWithTolerance(this.y,n.y,r))}};$.prototype.getOrdinate=function(t){switch(t){case $.X:return this.x;case $.Y:return this.y;case $.Z:return this.z}throw new $e("Invalid ordinate index: "+t)};$.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||Yt.isNaN(this.z))&&Yt.isNaN(t.z)};$.prototype.equals=function(t){return t instanceof $?this.equals2D(t):!1};$.prototype.equalInZ=function(t,n){return Ns.equalsWithTolerance(this.z,t.z,n)};$.prototype.compareTo=function(t){var n=t;return this.x<n.x?-1:this.x>n.x?1:this.y<n.y?-1:this.y>n.y?1:0};$.prototype.clone=function(){};$.prototype.copy=function(){return new $(this)};$.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"};$.prototype.distance3D=function(t){var n=this.x-t.x,r=this.y-t.y,i=this.z-t.z;return Math.sqrt(n*n+r*r+i*i)};$.prototype.distance=function(t){var n=this.x-t.x,r=this.y-t.y;return Math.sqrt(n*n+r*r)};$.prototype.hashCode=function(){var t=17;return t=37*t+$.hashCode(this.x),t=37*t+$.hashCode(this.y),t};$.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z};$.prototype.interfaces_=function(){return[Vr,Gu,Ur]};$.prototype.getClass=function(){return $};$.hashCode=function(){if(arguments.length===1){var t=arguments[0],n=Yt.doubleToLongBits(t);return Math.trunc((n^n)>>>32)}};js.DimensionalComparator.get=function(){return Oo};js.serialVersionUID.get=function(){return 6683108902428367e3};js.NULL_ORDINATE.get=function(){return Yt.NaN};js.X.get=function(){return 0};js.Y.get=function(){return 1};js.Z.get=function(){return 2};Object.defineProperties($,js);var Oo=function(t){if(this._dimensionsToTest=2,arguments.length!==0){if(arguments.length===1){var n=arguments[0];if(n!==2&&n!==3)throw new $e("only 2 or 3 dimensions may be specified");this._dimensionsToTest=n}}};Oo.prototype.compare=function(t,n){var r=t,i=n,o=Oo.compare(r.x,i.x);if(o!==0)return o;var s=Oo.compare(r.y,i.y);if(s!==0)return s;if(this._dimensionsToTest<=2)return 0;var u=Oo.compare(r.z,i.z);return u};Oo.prototype.interfaces_=function(){return[ga]};Oo.prototype.getClass=function(){return Oo};Oo.compare=function(t,n){return t<n?-1:t>n?1:Yt.isNaN(t)?Yt.isNaN(n)?0:-1:Yt.isNaN(n)?1:0};var _a=function(){};_a.prototype.create=function(){};_a.prototype.interfaces_=function(){return[]};_a.prototype.getClass=function(){return _a};var et=function(){},Nl={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};et.prototype.interfaces_=function(){return[]};et.prototype.getClass=function(){return et};et.toLocationSymbol=function(t){switch(t){case et.EXTERIOR:return"e";case et.BOUNDARY:return"b";case et.INTERIOR:return"i";case et.NONE:return"-"}throw new $e("Unknown location value: "+t)};Nl.INTERIOR.get=function(){return 0};Nl.BOUNDARY.get=function(){return 1};Nl.EXTERIOR.get=function(){return 2};Nl.NONE.get=function(){return-1};Object.defineProperties(et,Nl);var jt=function(e,t){return e.interfaces_&&e.interfaces_().indexOf(t)>-1},Pr=function(){},Gp={LOG_10:{configurable:!0}};Pr.prototype.interfaces_=function(){return[]};Pr.prototype.getClass=function(){return Pr};Pr.log10=function(t){var n=Math.log(t);return Yt.isInfinite(n)||Yt.isNaN(n)?n:n/Pr.LOG_10};Pr.min=function(t,n,r,i){var o=t;return n<o&&(o=n),r<o&&(o=r),i<o&&(o=i),o};Pr.clamp=function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],n=arguments[1],r=arguments[2];return t<n?n:t>r?r:t}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1],s=arguments[2];return i<o?o:i>s?s:i}};Pr.wrap=function(t,n){return t<0?n- -t%n:t%n};Pr.max=function(){if(arguments.length===3){var t=arguments[0],n=arguments[1],r=arguments[2],i=t;return n>i&&(i=n),r>i&&(i=r),i}else if(arguments.length===4){var o=arguments[0],s=arguments[1],u=arguments[2],l=arguments[3],p=o;return s>p&&(p=s),u>p&&(p=u),l>p&&(p=l),p}};Pr.average=function(t,n){return(t+n)/2};Gp.LOG_10.get=function(){return Math.log(10)};Object.defineProperties(Pr,Gp);var Ii=function(t){this.str=t};Ii.prototype.append=function(t){this.str+=t};Ii.prototype.setCharAt=function(t,n){this.str=this.str.substr(0,t)+n+this.str.substr(t+1)};Ii.prototype.toString=function(t){return this.str};var yi=function(t){this.value=t};yi.prototype.intValue=function(){return this.value};yi.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0};yi.isNaN=function(t){return Number.isNaN(t)};var gl=function(){};gl.isWhitespace=function(t){return t<=32&&t>=0||t===127};gl.toUpperCase=function(t){return t.toUpperCase()};var st=function e(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}else if(typeof arguments[0]=="string"){var r=arguments[0];e.call(this,e.parse(r))}}else if(arguments.length===2){var i=arguments[0],o=arguments[1];this.init(i,o)}},ti={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};st.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo};st.prototype.extractSignificantDigits=function(t,n){var r=this.abs(),i=st.magnitude(r._hi),o=st.TEN.pow(i);r=r.divide(o),r.gt(st.TEN)?(r=r.divide(st.TEN),i+=1):r.lt(st.ONE)&&(r=r.multiply(st.TEN),i-=1);for(var s=i+1,u=new Ii,l=st.MAX_PRINT_DIGITS-1,p=0;p<=l;p++){t&&p===s&&u.append(".");var g=Math.trunc(r._hi);if(g<0)break;var c=!1,_=0;g>9?(c=!0,_="9"):_="0"+g,u.append(_),r=r.subtract(st.valueOf(g)).multiply(st.TEN),c&&r.selfAdd(st.TEN);var C=!0,E=st.magnitude(r._hi);if(E<0&&Math.abs(E)>=l-p&&(C=!1),!C)break}return n[0]=i,u.toString()};st.prototype.sqr=function(){return this.multiply(this)};st.prototype.doubleValue=function(){return this._hi+this._lo};st.prototype.subtract=function(){if(arguments[0]instanceof st){var t=arguments[0];return this.add(t.negate())}else if(typeof arguments[0]=="number"){var n=arguments[0];return this.add(-n)}};st.prototype.equals=function(){if(arguments.length===1){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}};st.prototype.isZero=function(){return this._hi===0&&this._lo===0};st.prototype.selfSubtract=function(){if(arguments[0]instanceof st){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}else if(typeof arguments[0]=="number"){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n,0)}};st.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null};st.prototype.min=function(t){return this.le(t)?this:t};st.prototype.selfDivide=function(){if(arguments.length===1){if(arguments[0]instanceof st){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}else if(typeof arguments[0]=="number"){var n=arguments[0];return this.selfDivide(n,0)}}else if(arguments.length===2){var r=arguments[0],i=arguments[1],o=null,s=null,u=null,l=null,p=null,g=null,c=null,_=null;return p=this._hi/r,g=st.SPLIT*p,o=g-p,_=st.SPLIT*r,o=g-o,s=p-o,u=_-r,c=p*r,u=_-u,l=r-u,_=o*u-c+o*l+s*u+s*l,g=(this._hi-c-_+this._lo-p*i)/r,_=p+g,this._hi=_,this._lo=p-_+g,this}};st.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"};st.prototype.divide=function(){if(arguments[0]instanceof st){var t=arguments[0],n=null,r=null,i=null,o=null,s=null,u=null,l=null,p=null;s=this._hi/t._hi,u=st.SPLIT*s,n=u-s,p=st.SPLIT*t._hi,n=u-n,r=s-n,i=p-t._hi,l=s*t._hi,i=p-i,o=t._hi-i,p=n*i-l+n*o+r*i+r*o,u=(this._hi-l-p+this._lo-s*t._lo)/t._hi,p=s+u;var g=p,c=s-p+u;return new st(g,c)}else if(typeof arguments[0]=="number"){var _=arguments[0];return Yt.isNaN(_)?st.createNaN():st.copy(this).selfDivide(_,0)}};st.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo};st.prototype.pow=function(t){if(t===0)return st.valueOf(1);var n=new st(this),r=st.valueOf(1),i=Math.abs(t);if(i>1)for(;i>0;)i%2===1&&r.selfMultiply(n),i/=2,i>0&&(n=n.sqr());else r=n;return t<0?r.reciprocal():r};st.prototype.ceil=function(){if(this.isNaN())return st.NaN;var t=Math.ceil(this._hi),n=0;return t===this._hi&&(n=Math.ceil(this._lo)),new st(t,n)};st.prototype.compareTo=function(t){var n=t;return this._hi<n._hi?-1:this._hi>n._hi?1:this._lo<n._lo?-1:this._lo>n._lo?1:0};st.prototype.rint=function(){if(this.isNaN())return this;var t=this.add(.5);return t.floor()};st.prototype.setValue=function(){if(arguments[0]instanceof st){var t=arguments[0];return this.init(t),this}else if(typeof arguments[0]=="number"){var n=arguments[0];return this.init(n),this}};st.prototype.max=function(t){return this.ge(t)?this:t};st.prototype.sqrt=function(){if(this.isZero())return st.valueOf(0);if(this.isNegative())return st.NaN;var t=1/Math.sqrt(this._hi),n=this._hi*t,r=st.valueOf(n),i=this.subtract(r.sqr()),o=i._hi*(t*.5);return r.add(o)};st.prototype.selfAdd=function(){if(arguments.length===1){if(arguments[0]instanceof st){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}else if(typeof arguments[0]=="number"){var n=arguments[0],r=null,i=null,o=null,s=null,u=null,l=null;return o=this._hi+n,u=o-this._hi,s=o-u,s=n-u+(this._hi-s),l=s+this._lo,r=o+l,i=l+(o-r),this._hi=r+i,this._lo=i+(r-this._hi),this}}else if(arguments.length===2){var p=arguments[0],g=arguments[1],c=null,_=null,C=null,E=null,P=null,S=null,I=null,T=null;P=this._hi+p,C=this._lo+g,I=P-this._hi,T=C-this._lo,S=P-I,E=C-T,S=p-I+(this._hi-S),E=g-T+(this._lo-E),I=S+C,c=P+I,_=I+(P-c),I=E+_;var N=c+I,x=I+(c-N);return this._hi=N,this._lo=x,this}};st.prototype.selfMultiply=function(){if(arguments.length===1){if(arguments[0]instanceof st){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}else if(typeof arguments[0]=="number"){var n=arguments[0];return this.selfMultiply(n,0)}}else if(arguments.length===2){var r=arguments[0],i=arguments[1],o=null,s=null,u=null,l=null,p=null,g=null;p=st.SPLIT*this._hi,o=p-this._hi,g=st.SPLIT*r,o=p-o,s=this._hi-o,u=g-r,p=this._hi*r,u=g-u,l=r-u,g=o*u-p+o*l+s*u+s*l+(this._hi*i+this._lo*r);var c=p+g;o=p-c;var _=g+o;return this._hi=c,this._lo=_,this}};st.prototype.selfSqr=function(){return this.selfMultiply(this)};st.prototype.floor=function(){if(this.isNaN())return st.NaN;var t=Math.floor(this._hi),n=0;return t===this._hi&&(n=Math.floor(this._lo)),new st(t,n)};st.prototype.negate=function(){return this.isNaN()?this:new st(-this._hi,-this._lo)};st.prototype.clone=function(){};st.prototype.multiply=function(){if(arguments[0]instanceof st){var t=arguments[0];return t.isNaN()?st.createNaN():st.copy(this).selfMultiply(t)}else if(typeof arguments[0]=="number"){var n=arguments[0];return Yt.isNaN(n)?st.createNaN():st.copy(this).selfMultiply(n,0)}};st.prototype.isNaN=function(){return Yt.isNaN(this._hi)};st.prototype.intValue=function(){return Math.trunc(this._hi)};st.prototype.toString=function(){var t=st.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()};st.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(t!==null)return t;var n=new Array(1).fill(null),r=this.extractSignificantDigits(!0,n),i=n[0]+1,o=r;if(r.charAt(0)===".")o="0"+r;else if(i<0)o="0."+st.stringOfChar("0",-i)+r;else if(r.indexOf(".")===-1){var s=i-r.length,u=st.stringOfChar("0",s);o=r+u+".0"}return this.isNegative()?"-"+o:o};st.prototype.reciprocal=function(){var t=null,n=null,r=null,i=null,o=null,s=null,u=null,l=null;o=1/this._hi,s=st.SPLIT*o,t=s-o,l=st.SPLIT*this._hi,t=s-t,n=o-t,r=l-this._hi,u=o*this._hi,r=l-r,i=this._hi-r,l=t*r-u+t*i+n*r+n*i,s=(1-u-l-o*this._lo)/this._hi;var p=o+s,g=o-p+s;return new st(p,g)};st.prototype.toSciNotation=function(){if(this.isZero())return st.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(t!==null)return t;var n=new Array(1).fill(null),r=this.extractSignificantDigits(!1,n),i=st.SCI_NOT_EXPONENT_CHAR+n[0];if(r.charAt(0)==="0")throw new Error("Found leading zero: "+r);var o="";r.length>1&&(o=r.substring(1));var s=r.charAt(0)+"."+o;return this.isNegative()?"-"+s+i:s+i};st.prototype.abs=function(){return this.isNaN()?st.NaN:this.isNegative()?this.negate():new st(this)};st.prototype.isPositive=function(){return(this._hi>0||this._hi===0)&&this._lo>0};st.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo};st.prototype.add=function(){if(arguments[0]instanceof st){var t=arguments[0];return st.copy(this).selfAdd(t)}else if(typeof arguments[0]=="number"){var n=arguments[0];return st.copy(this).selfAdd(n)}};st.prototype.init=function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof st){var n=arguments[0];this._hi=n._hi,this._lo=n._lo}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this._hi=r,this._lo=i}};st.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo};st.prototype.isNegative=function(){return(this._hi<0||this._hi===0)&&this._lo<0};st.prototype.trunc=function(){return this.isNaN()?st.NaN:this.isPositive()?this.floor():this.ceil()};st.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0};st.prototype.interfaces_=function(){return[Ur,Vr,Gu]};st.prototype.getClass=function(){return st};st.sqr=function(t){return st.valueOf(t).selfMultiply(t)};st.valueOf=function(){if(typeof arguments[0]=="string"){var t=arguments[0];return st.parse(t)}else if(typeof arguments[0]=="number"){var n=arguments[0];return new st(n)}};st.sqrt=function(t){return st.valueOf(t).sqrt()};st.parse=function(t){for(var n=0,r=t.length;gl.isWhitespace(t.charAt(n));)n++;var i=!1;if(n<r){var o=t.charAt(n);(o==="-"||o==="+")&&(n++,o==="-"&&(i=!0))}for(var s=new st,u=0,l=0,p=0;!(n>=r);){var g=t.charAt(n);if(n++,gl.isDigit(g)){var c=g-"0";s.selfMultiply(st.TEN),s.selfAdd(c),u++;continue}if(g==="."){l=u;continue}if(g==="e"||g==="E"){var _=t.substring(n);try{p=yi.parseInt(_)}catch(I){throw I instanceof Error?new Error("Invalid exponent "+_+" in string "+t):I}finally{}break}throw new Error("Unexpected character '"+g+"' at position "+n+" in string "+t)}var C=s,E=u-l-p;if(E===0)C=s;else if(E>0){var P=st.TEN.pow(E);C=s.divide(P)}else if(E<0){var S=st.TEN.pow(-E);C=s.multiply(S)}return i?C.negate():C};st.createNaN=function(){return new st(Yt.NaN,Yt.NaN)};st.copy=function(t){return new st(t)};st.magnitude=function(t){var n=Math.abs(t),r=Math.log(n)/Math.log(10),i=Math.trunc(Math.floor(r)),o=Math.pow(10,i);return o*10<=n&&(i+=1),i};st.stringOfChar=function(t,n){for(var r=new Ii,i=0;i<n;i++)r.append(t);return r.toString()};ti.PI.get=function(){return new st(3.141592653589793,12246467991473532e-32)};ti.TWO_PI.get=function(){return new st(6.283185307179586,24492935982947064e-32)};ti.PI_2.get=function(){return new st(1.5707963267948966,6123233995736766e-32)};ti.E.get=function(){return new st(2.718281828459045,14456468917292502e-32)};ti.NaN.get=function(){return new st(Yt.NaN,Yt.NaN)};ti.EPS.get=function(){return 123259516440783e-46};ti.SPLIT.get=function(){return 134217729};ti.MAX_PRINT_DIGITS.get=function(){return 32};ti.TEN.get=function(){return st.valueOf(10)};ti.ONE.get=function(){return st.valueOf(1)};ti.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"};ti.SCI_NOT_ZERO.get=function(){return"0.0E0"};Object.defineProperties(st,ti);var cr=function(){},Vp={DP_SAFE_EPSILON:{configurable:!0}};cr.prototype.interfaces_=function(){return[]};cr.prototype.getClass=function(){return cr};cr.orientationIndex=function(t,n,r){var i=cr.orientationIndexFilter(t,n,r);if(i<=1)return i;var o=st.valueOf(n.x).selfAdd(-t.x),s=st.valueOf(n.y).selfAdd(-t.y),u=st.valueOf(r.x).selfAdd(-n.x),l=st.valueOf(r.y).selfAdd(-n.y);return o.selfMultiply(l).selfSubtract(s.selfMultiply(u)).signum()};cr.signOfDet2x2=function(t,n,r,i){var o=t.multiply(i).selfSubtract(n.multiply(r));return o.signum()};cr.intersection=function(t,n,r,i){var o=st.valueOf(i.y).selfSubtract(r.y).selfMultiply(st.valueOf(n.x).selfSubtract(t.x)),s=st.valueOf(i.x).selfSubtract(r.x).selfMultiply(st.valueOf(n.y).selfSubtract(t.y)),u=o.subtract(s),l=st.valueOf(i.x).selfSubtract(r.x).selfMultiply(st.valueOf(t.y).selfSubtract(r.y)),p=st.valueOf(i.y).selfSubtract(r.y).selfMultiply(st.valueOf(t.x).selfSubtract(r.x)),g=l.subtract(p),c=g.selfDivide(u).doubleValue(),_=st.valueOf(t.x).selfAdd(st.valueOf(n.x).selfSubtract(t.x).selfMultiply(c)).doubleValue(),C=st.valueOf(n.x).selfSubtract(t.x).selfMultiply(st.valueOf(t.y).selfSubtract(r.y)),E=st.valueOf(n.y).selfSubtract(t.y).selfMultiply(st.valueOf(t.x).selfSubtract(r.x)),P=C.subtract(E),S=P.selfDivide(u).doubleValue(),I=st.valueOf(r.y).selfAdd(st.valueOf(i.y).selfSubtract(r.y).selfMultiply(S)).doubleValue();return new $(_,I)};cr.orientationIndexFilter=function(t,n,r){var i=null,o=(t.x-r.x)*(n.y-r.y),s=(t.y-r.y)*(n.x-r.x),u=o-s;if(o>0){if(s<=0)return cr.signum(u);i=o+s}else if(o<0){if(s>=0)return cr.signum(u);i=-o-s}else return cr.signum(u);var l=cr.DP_SAFE_EPSILON*i;return u>=l||-u>=l?cr.signum(u):2};cr.signum=function(t){return t>0?1:t<0?-1:0};Vp.DP_SAFE_EPSILON.get=function(){return 1e-15};Object.defineProperties(cr,Vp);var Me=function(){},Ol={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Ol.X.get=function(){return 0};Ol.Y.get=function(){return 1};Ol.Z.get=function(){return 2};Ol.M.get=function(){return 3};Me.prototype.setOrdinate=function(t,n,r){};Me.prototype.size=function(){};Me.prototype.getOrdinate=function(t,n){};Me.prototype.getCoordinate=function(){};Me.prototype.getCoordinateCopy=function(t){};Me.prototype.getDimension=function(){};Me.prototype.getX=function(t){};Me.prototype.clone=function(){};Me.prototype.expandEnvelope=function(t){};Me.prototype.copy=function(){};Me.prototype.getY=function(t){};Me.prototype.toCoordinateArray=function(){};Me.prototype.interfaces_=function(){return[Gu]};Me.prototype.getClass=function(){return Me};Object.defineProperties(Me,Ol);var Up=function(){},za=function(e){function t(){e.call(this,"Projective point not representable on the Cartesian plane.")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Up),Fn=function(){};Fn.arraycopy=function(t,n,r,i,o){for(var s=0,u=n;u<n+o;u++)r[i+s]=t[u],s++};Fn.getProperty=function(t){return{"line.separator":`
`}[t]};var jr=function e(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof e&&arguments[1]instanceof e){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof $&&arguments[1]instanceof $){var s=arguments[0],u=arguments[1];this.x=s.y-u.y,this.y=u.x-s.x,this.w=s.x*u.y-u.x*s.y}}else if(arguments.length===3){var l=arguments[0],p=arguments[1],g=arguments[2];this.x=l,this.y=p,this.w=g}else if(arguments.length===4){var c=arguments[0],_=arguments[1],C=arguments[2],E=arguments[3],P=c.y-_.y,S=_.x-c.x,I=c.x*_.y-_.x*c.y,T=C.y-E.y,N=E.x-C.x,x=C.x*E.y-E.x*C.y;this.x=S*x-N*I,this.y=T*I-P*x,this.w=P*N-T*S}};jr.prototype.getY=function(){var t=this.y/this.w;if(Yt.isNaN(t)||Yt.isInfinite(t))throw new za;return t};jr.prototype.getX=function(){var t=this.x/this.w;if(Yt.isNaN(t)||Yt.isInfinite(t))throw new za;return t};jr.prototype.getCoordinate=function(){var t=new $;return t.x=this.getX(),t.y=this.getY(),t};jr.prototype.interfaces_=function(){return[]};jr.prototype.getClass=function(){return jr};jr.intersection=function(t,n,r,i){var o=t.y-n.y,s=n.x-t.x,u=t.x*n.y-n.x*t.y,l=r.y-i.y,p=i.x-r.x,g=r.x*i.y-i.x*r.y,c=s*g-p*u,_=l*u-o*g,C=o*p-l*s,E=c/C,P=_/C;if(Yt.isNaN(E)||Yt.isInfinite(E)||Yt.isNaN(P)||Yt.isInfinite(P))throw new za;return new $(E,P)};var zt=function e(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof $){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(arguments.length===4){var o=arguments[0],s=arguments[1],u=arguments[2],l=arguments[3];this.init(o,s,u,l)}},Hp={serialVersionUID:{configurable:!0}};zt.prototype.getArea=function(){return this.getWidth()*this.getHeight()};zt.prototype.equals=function(t){if(!(t instanceof zt))return!1;var n=t;return this.isNull()?n.isNull():this._maxx===n.getMaxX()&&this._maxy===n.getMaxY()&&this._minx===n.getMinX()&&this._miny===n.getMinY()};zt.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new zt;var n=this._minx>t._minx?this._minx:t._minx,r=this._miny>t._miny?this._miny:t._miny,i=this._maxx<t._maxx?this._maxx:t._maxx,o=this._maxy<t._maxy?this._maxy:t._maxy;return new zt(n,i,r,o)};zt.prototype.isNull=function(){return this._maxx<this._minx};zt.prototype.getMaxX=function(){return this._maxx};zt.prototype.covers=function(){if(arguments.length===1){if(arguments[0]instanceof $){var t=arguments[0];return this.covers(t.x,t.y)}else if(arguments[0]instanceof zt){var n=arguments[0];return this.isNull()||n.isNull()?!1:n.getMinX()>=this._minx&&n.getMaxX()<=this._maxx&&n.getMinY()>=this._miny&&n.getMaxY()<=this._maxy}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];return this.isNull()?!1:r>=this._minx&&r<=this._maxx&&i>=this._miny&&i<=this._maxy}};zt.prototype.intersects=function(){if(arguments.length===1){if(arguments[0]instanceof zt){var t=arguments[0];return this.isNull()||t.isNull()?!1:!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}else if(arguments[0]instanceof $){var n=arguments[0];return this.intersects(n.x,n.y)}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];return this.isNull()?!1:!(r>this._maxx||r<this._minx||i>this._maxy||i<this._miny)}};zt.prototype.getMinY=function(){return this._miny};zt.prototype.getMinX=function(){return this._minx};zt.prototype.expandToInclude=function(){if(arguments.length===1){if(arguments[0]instanceof $){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof zt){var n=arguments[0];if(n.isNull())return null;this.isNull()?(this._minx=n.getMinX(),this._maxx=n.getMaxX(),this._miny=n.getMinY(),this._maxy=n.getMaxY()):(n._minx<this._minx&&(this._minx=n._minx),n._maxx>this._maxx&&(this._maxx=n._maxx),n._miny<this._miny&&(this._miny=n._miny),n._maxy>this._maxy&&(this._maxy=n._maxy))}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this.isNull()?(this._minx=r,this._maxx=r,this._miny=i,this._maxy=i):(r<this._minx&&(this._minx=r),r>this._maxx&&(this._maxx=r),i<this._miny&&(this._miny=i),i>this._maxy&&(this._maxy=i))}};zt.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),n=this.getHeight();return t<n?t:n};zt.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx};zt.prototype.compareTo=function(t){var n=t;return this.isNull()?n.isNull()?0:-1:n.isNull()?1:this._minx<n._minx?-1:this._minx>n._minx?1:this._miny<n._miny?-1:this._miny>n._miny?1:this._maxx<n._maxx?-1:this._maxx>n._maxx?1:this._maxy<n._maxy?-1:this._maxy>n._maxy?1:0};zt.prototype.translate=function(t,n){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+n,this.getMaxY()+n)};zt.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"};zt.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1};zt.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny};zt.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),n=this.getHeight();return t>n?t:n};zt.prototype.expandBy=function(){if(arguments.length===1){var t=arguments[0];this.expandBy(t,t)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];if(this.isNull())return null;this._minx-=n,this._maxx+=n,this._miny-=r,this._maxy+=r,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}};zt.prototype.contains=function(){if(arguments.length===1){if(arguments[0]instanceof zt){var t=arguments[0];return this.covers(t)}else if(arguments[0]instanceof $){var n=arguments[0];return this.covers(n)}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];return this.covers(r,i)}};zt.prototype.centre=function(){return this.isNull()?null:new $((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)};zt.prototype.init=function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof $){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof zt){var n=arguments[0];this._minx=n._minx,this._maxx=n._maxx,this._miny=n._miny,this._maxy=n._maxy}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(arguments.length===4){var o=arguments[0],s=arguments[1],u=arguments[2],l=arguments[3];o<s?(this._minx=o,this._maxx=s):(this._minx=s,this._maxx=o),u<l?(this._miny=u,this._maxy=l):(this._miny=l,this._maxy=u)}};zt.prototype.getMaxY=function(){return this._maxy};zt.prototype.distance=function(t){if(this.intersects(t))return 0;var n=0;this._maxx<t._minx?n=t._minx-this._maxx:this._minx>t._maxx&&(n=this._minx-t._maxx);var r=0;return this._maxy<t._miny?r=t._miny-this._maxy:this._miny>t._maxy&&(r=this._miny-t._maxy),n===0?r:r===0?n:Math.sqrt(n*n+r*r)};zt.prototype.hashCode=function(){var t=17;return t=37*t+$.hashCode(this._minx),t=37*t+$.hashCode(this._maxx),t=37*t+$.hashCode(this._miny),t=37*t+$.hashCode(this._maxy),t};zt.prototype.interfaces_=function(){return[Vr,Ur]};zt.prototype.getClass=function(){return zt};zt.intersects=function(){if(arguments.length===3){var t=arguments[0],n=arguments[1],r=arguments[2];return r.x>=(t.x<n.x?t.x:n.x)&&r.x<=(t.x>n.x?t.x:n.x)&&r.y>=(t.y<n.y?t.y:n.y)&&r.y<=(t.y>n.y?t.y:n.y)}else if(arguments.length===4){var i=arguments[0],o=arguments[1],s=arguments[2],u=arguments[3],l=Math.min(s.x,u.x),p=Math.max(s.x,u.x),g=Math.min(i.x,o.x),c=Math.max(i.x,o.x);return!(g>p||c<l||(l=Math.min(s.y,u.y),p=Math.max(s.y,u.y),g=Math.min(i.y,o.y),c=Math.max(i.y,o.y),g>p)||c<l)}};Hp.serialVersionUID.get=function(){return 5873921885273102e3};Object.defineProperties(zt,Hp);var li={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Vu=function(t){this.geometryFactory=t||new he};Vu.prototype.read=function(t){var n,r,i;t=t.replace(/[\n\r]/g," ");var o=li.typeStr.exec(t);if(t.search("EMPTY")!==-1&&(o=li.emptyTypeStr.exec(t),o[2]=void 0),o&&(r=o[1].toLowerCase(),i=o[2],ca[r]&&(n=ca[r].apply(this,[i]))),n===void 0)throw new Error("Could not parse WKT "+t);return n};Vu.prototype.write=function(t){return this.extractGeometry(t)};Vu.prototype.extractGeometry=function(t){var n=t.getGeometryType().toLowerCase();if(!oo[n])return null;var r=n.toUpperCase(),i;return t.isEmpty()?i=r+" EMPTY":i=r+"("+oo[n].apply(this,[t])+")",i};var oo={coordinate:function(t){return t.x+" "+t.y},point:function(t){return oo.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var n=this,r=[],i=0,o=t._geometries.length;i<o;++i)r.push("("+oo.point.apply(n,[t._geometries[i]])+")");return r.join(",")},linestring:function(t){for(var n=this,r=[],i=0,o=t._points._coordinates.length;i<o;++i)r.push(oo.coordinate.apply(n,[t._points._coordinates[i]]));return r.join(",")},linearring:function(t){for(var n=this,r=[],i=0,o=t._points._coordinates.length;i<o;++i)r.push(oo.coordinate.apply(n,[t._points._coordinates[i]]));return r.join(",")},multilinestring:function(t){for(var n=this,r=[],i=0,o=t._geometries.length;i<o;++i)r.push("("+oo.linestring.apply(n,[t._geometries[i]])+")");return r.join(",")},polygon:function(t){var n=this,r=[];r.push("("+oo.linestring.apply(this,[t._shell])+")");for(var i=0,o=t._holes.length;i<o;++i)r.push("("+oo.linestring.apply(n,[t._holes[i]])+")");return r.join(",")},multipolygon:function(t){for(var n=this,r=[],i=0,o=t._geometries.length;i<o;++i)r.push("("+oo.polygon.apply(n,[t._geometries[i]])+")");return r.join(",")},geometrycollection:function(t){for(var n=this,r=[],i=0,o=t._geometries.length;i<o;++i)r.push(n.extractGeometry(t._geometries[i]));return r.join(",")}},ca={point:function(t){if(t===void 0)return this.geometryFactory.createPoint();var n=t.trim().split(li.spaces);return this.geometryFactory.createPoint(new $(Number.parseFloat(n[0]),Number.parseFloat(n[1])))},multipoint:function(t){var n=this;if(t===void 0)return this.geometryFactory.createMultiPoint();for(var r,i=t.trim().split(","),o=[],s=0,u=i.length;s<u;++s)r=i[s].replace(li.trimParens,"$1"),o.push(ca.point.apply(n,[r]));return this.geometryFactory.createMultiPoint(o)},linestring:function(t){if(t===void 0)return this.geometryFactory.createLineString();for(var n=t.trim().split(","),r=[],i,o=0,s=n.length;o<s;++o)i=n[o].trim().split(li.spaces),r.push(new $(Number.parseFloat(i[0]),Number.parseFloat(i[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(t===void 0)return this.geometryFactory.createLinearRing();for(var n=t.trim().split(","),r=[],i,o=0,s=n.length;o<s;++o)i=n[o].trim().split(li.spaces),r.push(new $(Number.parseFloat(i[0]),Number.parseFloat(i[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){var n=this;if(t===void 0)return this.geometryFactory.createMultiLineString();for(var r,i=t.trim().split(li.parenComma),o=[],s=0,u=i.length;s<u;++s)r=i[s].replace(li.trimParens,"$1"),o.push(ca.linestring.apply(n,[r]));return this.geometryFactory.createMultiLineString(o)},polygon:function(t){var n=this;if(t===void 0)return this.geometryFactory.createPolygon();for(var r,i,o,s=t.trim().split(li.parenComma),u,l=[],p=0,g=s.length;p<g;++p)r=s[p].replace(li.trimParens,"$1"),i=ca.linestring.apply(n,[r]),o=n.geometryFactory.createLinearRing(i._points),p===0?u=o:l.push(o);return this.geometryFactory.createPolygon(u,l)},multipolygon:function(t){var n=this;if(t===void 0)return this.geometryFactory.createMultiPolygon();for(var r,i=t.trim().split(li.doubleParenComma),o=[],s=0,u=i.length;s<u;++s)r=i[s].replace(li.trimParens,"$1"),o.push(ca.polygon.apply(n,[r]));return this.geometryFactory.createMultiPolygon(o)},geometrycollection:function(t){var n=this;if(t===void 0)return this.geometryFactory.createGeometryCollection();t=t.replace(/,\s*([A-Za-z])/g,"|$1");for(var r=t.trim().split("|"),i=[],o=0,s=r.length;o<s;++o)i.push(n.read(r[o]));return this.geometryFactory.createGeometryCollection(i)}},Xr=function(t){this.parser=new Vu(t)};Xr.prototype.write=function(t){return this.parser.write(t)};Xr.toLineString=function(t,n){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+n.x+" "+n.y+" )"};var co=function(e){function t(n){e.call(this,n),this.name="RuntimeException",this.message=n,this.stack=new e().stack}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),Eu=function(e){function t(){if(e.call(this),arguments.length===0)e.call(this);else if(arguments.length===1){var n=arguments[0];e.call(this,n)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(co),Jt=function(){};Jt.prototype.interfaces_=function(){return[]};Jt.prototype.getClass=function(){return Jt};Jt.shouldNeverReachHere=function(){if(arguments.length===0)Jt.shouldNeverReachHere(null);else if(arguments.length===1){var t=arguments[0];throw new Eu("Should never reach here"+(t!==null?": "+t:""))}};Jt.isTrue=function(){var t,n;if(arguments.length===1)t=arguments[0],Jt.isTrue(t,null);else if(arguments.length===2&&(t=arguments[0],n=arguments[1],!t))throw n===null?new Eu:new Eu(n)};Jt.equals=function(){var t,n,r;if(arguments.length===2)t=arguments[0],n=arguments[1],Jt.equals(t,n,null);else if(arguments.length===3&&(t=arguments[0],n=arguments[1],r=arguments[2],!n.equals(t)))throw new Eu("Expected "+t+" but encountered "+n+(r!==null?": "+r:""))};var rn=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new $,this._intPt[1]=new $,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},qs={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};rn.prototype.getIndexAlongSegment=function(t,n){return this.computeIntLineIndex(),this._intLineIndex[t][n]};rn.prototype.getTopologySummary=function(){var t=new Ii;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()};rn.prototype.computeIntersection=function(t,n,r,i){this._inputLines[0][0]=t,this._inputLines[0][1]=n,this._inputLines[1][0]=r,this._inputLines[1][1]=i,this._result=this.computeIntersect(t,n,r,i)};rn.prototype.getIntersectionNum=function(){return this._result};rn.prototype.computeIntLineIndex=function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var t=arguments[0],n=this.getEdgeDistance(t,0),r=this.getEdgeDistance(t,1);n>r?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}};rn.prototype.isProper=function(){return this.hasIntersection()&&this._isProper};rn.prototype.setPrecisionModel=function(t){this._precisionModel=t};rn.prototype.isInteriorIntersection=function(){var t=this;if(arguments.length===0)return!!(this.isInteriorIntersection(0)||this.isInteriorIntersection(1));if(arguments.length===1){for(var n=arguments[0],r=0;r<this._result;r++)if(!(t._intPt[r].equals2D(t._inputLines[n][0])||t._intPt[r].equals2D(t._inputLines[n][1])))return!0;return!1}};rn.prototype.getIntersection=function(t){return this._intPt[t]};rn.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper};rn.prototype.hasIntersection=function(){return this._result!==rn.NO_INTERSECTION};rn.prototype.getEdgeDistance=function(t,n){var r=rn.computeEdgeDistance(this._intPt[n],this._inputLines[t][0],this._inputLines[t][1]);return r};rn.prototype.isCollinear=function(){return this._result===rn.COLLINEAR_INTERSECTION};rn.prototype.toString=function(){return Xr.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Xr.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()};rn.prototype.getEndpoint=function(t,n){return this._inputLines[t][n]};rn.prototype.isIntersection=function(t){for(var n=this,r=0;r<this._result;r++)if(n._intPt[r].equals2D(t))return!0;return!1};rn.prototype.getIntersectionAlongSegment=function(t,n){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][n]]};rn.prototype.interfaces_=function(){return[]};rn.prototype.getClass=function(){return rn};rn.computeEdgeDistance=function(t,n,r){var i=Math.abs(r.x-n.x),o=Math.abs(r.y-n.y),s=-1;if(t.equals(n))s=0;else if(t.equals(r))i>o?s=i:s=o;else{var u=Math.abs(t.x-n.x),l=Math.abs(t.y-n.y);i>o?s=u:s=l,s===0&&!t.equals(n)&&(s=Math.max(u,l))}return Jt.isTrue(!(s===0&&!t.equals(n)),"Bad distance calculation"),s};rn.nonRobustComputeEdgeDistance=function(t,n,r){var i=t.x-n.x,o=t.y-n.y,s=Math.sqrt(i*i+o*o);return Jt.isTrue(!(s===0&&!t.equals(n)),"Invalid distance calculation"),s};qs.DONT_INTERSECT.get=function(){return 0};qs.DO_INTERSECT.get=function(){return 1};qs.COLLINEAR.get=function(){return 2};qs.NO_INTERSECTION.get=function(){return 0};qs.POINT_INTERSECTION.get=function(){return 1};qs.COLLINEAR_INTERSECTION.get=function(){return 2};Object.defineProperties(rn,qs);var ms=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isInSegmentEnvelopes=function(r){var i=new zt(this._inputLines[0][0],this._inputLines[0][1]),o=new zt(this._inputLines[1][0],this._inputLines[1][1]);return i.contains(r)&&o.contains(r)},t.prototype.computeIntersection=function(){if(arguments.length===3){var r=arguments[0],i=arguments[1],o=arguments[2];if(this._isProper=!1,zt.intersects(i,o,r)&&xt.orientationIndex(i,o,r)===0&&xt.orientationIndex(o,i,r)===0)return this._isProper=!0,(r.equals(i)||r.equals(o))&&(this._isProper=!1),this._result=e.POINT_INTERSECTION,null;this._result=e.NO_INTERSECTION}else return e.prototype.computeIntersection.apply(this,arguments)},t.prototype.normalizeToMinimum=function(r,i,o,s,u){u.x=this.smallestInAbsValue(r.x,i.x,o.x,s.x),u.y=this.smallestInAbsValue(r.y,i.y,o.y,s.y),r.x-=u.x,r.y-=u.y,i.x-=u.x,i.y-=u.y,o.x-=u.x,o.y-=u.y,s.x-=u.x,s.y-=u.y},t.prototype.safeHCoordinateIntersection=function(r,i,o,s){var u=null;try{u=jr.intersection(r,i,o,s)}catch(l){if(l instanceof za)u=t.nearestEndpoint(r,i,o,s);else throw l}finally{}return u},t.prototype.intersection=function(r,i,o,s){var u=this.intersectionWithNormalization(r,i,o,s);return this.isInSegmentEnvelopes(u)||(u=new $(t.nearestEndpoint(r,i,o,s))),this._precisionModel!==null&&this._precisionModel.makePrecise(u),u},t.prototype.smallestInAbsValue=function(r,i,o,s){var u=r,l=Math.abs(u);return Math.abs(i)<l&&(u=i,l=Math.abs(i)),Math.abs(o)<l&&(u=o,l=Math.abs(o)),Math.abs(s)<l&&(u=s),u},t.prototype.checkDD=function(r,i,o,s,u){var l=cr.intersection(r,i,o,s),p=this.isInSegmentEnvelopes(l);Fn.out.println("DD in env = "+p+"  --------------------- "+l),u.distance(l)>1e-4&&Fn.out.println("Distance = "+u.distance(l))},t.prototype.intersectionWithNormalization=function(r,i,o,s){var u=new $(r),l=new $(i),p=new $(o),g=new $(s),c=new $;this.normalizeToEnvCentre(u,l,p,g,c);var _=this.safeHCoordinateIntersection(u,l,p,g);return _.x+=c.x,_.y+=c.y,_},t.prototype.computeCollinearIntersection=function(r,i,o,s){var u=zt.intersects(r,i,o),l=zt.intersects(r,i,s),p=zt.intersects(o,s,r),g=zt.intersects(o,s,i);return u&&l?(this._intPt[0]=o,this._intPt[1]=s,e.COLLINEAR_INTERSECTION):p&&g?(this._intPt[0]=r,this._intPt[1]=i,e.COLLINEAR_INTERSECTION):u&&p?(this._intPt[0]=o,this._intPt[1]=r,o.equals(r)&&!l&&!g?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):u&&g?(this._intPt[0]=o,this._intPt[1]=i,o.equals(i)&&!l&&!p?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):l&&p?(this._intPt[0]=s,this._intPt[1]=r,s.equals(r)&&!u&&!g?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):l&&g?(this._intPt[0]=s,this._intPt[1]=i,s.equals(i)&&!u&&!p?e.POINT_INTERSECTION:e.COLLINEAR_INTERSECTION):e.NO_INTERSECTION},t.prototype.normalizeToEnvCentre=function(r,i,o,s,u){var l=r.x<i.x?r.x:i.x,p=r.y<i.y?r.y:i.y,g=r.x>i.x?r.x:i.x,c=r.y>i.y?r.y:i.y,_=o.x<s.x?o.x:s.x,C=o.y<s.y?o.y:s.y,E=o.x>s.x?o.x:s.x,P=o.y>s.y?o.y:s.y,S=l>_?l:_,I=g<E?g:E,T=p>C?p:C,N=c<P?c:P,x=(S+I)/2,R=(T+N)/2;u.x=x,u.y=R,r.x-=u.x,r.y-=u.y,i.x-=u.x,i.y-=u.y,o.x-=u.x,o.y-=u.y,s.x-=u.x,s.y-=u.y},t.prototype.computeIntersect=function(r,i,o,s){if(this._isProper=!1,!zt.intersects(r,i,o,s))return e.NO_INTERSECTION;var u=xt.orientationIndex(r,i,o),l=xt.orientationIndex(r,i,s);if(u>0&&l>0||u<0&&l<0)return e.NO_INTERSECTION;var p=xt.orientationIndex(o,s,r),g=xt.orientationIndex(o,s,i);if(p>0&&g>0||p<0&&g<0)return e.NO_INTERSECTION;var c=u===0&&l===0&&p===0&&g===0;return c?this.computeCollinearIntersection(r,i,o,s):(u===0||l===0||p===0||g===0?(this._isProper=!1,r.equals2D(o)||r.equals2D(s)?this._intPt[0]=r:i.equals2D(o)||i.equals2D(s)?this._intPt[0]=i:u===0?this._intPt[0]=new $(o):l===0?this._intPt[0]=new $(s):p===0?this._intPt[0]=new $(r):g===0&&(this._intPt[0]=new $(i))):(this._isProper=!0,this._intPt[0]=this.intersection(r,i,o,s)),e.POINT_INTERSECTION)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.nearestEndpoint=function(r,i,o,s){var u=r,l=xt.distancePointLine(r,o,s),p=xt.distancePointLine(i,o,s);return p<l&&(l=p,u=i),p=xt.distancePointLine(o,r,i),p<l&&(l=p,u=o),p=xt.distancePointLine(s,r,i),p<l&&(l=p,u=s),u},t}(rn),Os=function(){};Os.prototype.interfaces_=function(){return[]};Os.prototype.getClass=function(){return Os};Os.orientationIndex=function(t,n,r){var i=n.x-t.x,o=n.y-t.y,s=r.x-n.x,u=r.y-n.y;return Os.signOfDet2x2(i,o,s,u)};Os.signOfDet2x2=function(t,n,r,i){var o=null,s=null,u=null;if(o=1,t===0||i===0)return n===0||r===0?0:n>0?r>0?-o:o:r>0?o:-o;if(n===0||r===0)return i>0?t>0?o:-o:t>0?-o:o;if(n>0?i>0?n<=i||(o=-o,s=t,t=r,r=s,s=n,n=i,i=s):n<=-i?(o=-o,r=-r,i=-i):(s=t,t=-r,r=s,s=n,n=-i,i=s):i>0?-n<=i?(o=-o,t=-t,n=-n):(s=-t,t=r,r=s,s=-n,n=i,i=s):n>=i?(t=-t,n=-n,r=-r,i=-i):(o=-o,s=-t,t=-r,r=s,s=-n,n=-i,i=s),t>0)if(r>0){if(!(t<=r))return o}else return o;else{if(r>0)return-o;if(t>=r)o=-o,t=-t,r=-r;else return-o}for(;;){if(u=Math.floor(r/t),r=r-u*t,i=i-u*n,i<0)return-o;if(i>n)return o;if(t>r+r){if(n<i+i)return o}else{if(n>i+i)return-o;r=t-r,i=n-i,o=-o}if(i===0)return r===0?0:-o;if(r===0||(u=Math.floor(t/r),t=t-u*r,n=n-u*i,n<0))return o;if(n>i)return-o;if(r>t+t){if(i<n+n)return-o}else{if(i>n+n)return o;t=r-t,n=i-n,o=-o}if(n===0)return t===0?0:o;if(t===0)return-o}};var mi=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};mi.prototype.countSegment=function(t,n){if(t.x<this._p.x&&n.x<this._p.x)return null;if(this._p.x===n.x&&this._p.y===n.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&n.y===this._p.y){var r=t.x,i=n.x;return r>i&&(r=n.x,i=t.x),this._p.x>=r&&this._p.x<=i&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&n.y<=this._p.y||n.y>this._p.y&&t.y<=this._p.y){var o=t.x-this._p.x,s=t.y-this._p.y,u=n.x-this._p.x,l=n.y-this._p.y,p=Os.signOfDet2x2(o,s,u,l);if(p===0)return this._isPointOnSegment=!0,null;l<s&&(p=-p),p>0&&this._crossingCount++}};mi.prototype.isPointInPolygon=function(){return this.getLocation()!==et.EXTERIOR};mi.prototype.getLocation=function(){return this._isPointOnSegment?et.BOUNDARY:this._crossingCount%2===1?et.INTERIOR:et.EXTERIOR};mi.prototype.isOnSegment=function(){return this._isPointOnSegment};mi.prototype.interfaces_=function(){return[]};mi.prototype.getClass=function(){return mi};mi.locatePointInRing=function(){if(arguments[0]instanceof $&&jt(arguments[1],Me)){for(var t=arguments[0],n=arguments[1],r=new mi(t),i=new $,o=new $,s=1;s<n.size();s++)if(n.getCoordinate(s,i),n.getCoordinate(s-1,o),r.countSegment(i,o),r.isOnSegment())return r.getLocation();return r.getLocation()}else if(arguments[0]instanceof $&&arguments[1]instanceof Array){for(var u=arguments[0],l=arguments[1],p=new mi(u),g=1;g<l.length;g++){var c=l[g],_=l[g-1];if(p.countSegment(c,_),p.isOnSegment())return p.getLocation()}return p.getLocation()}};var xt=function(){},Xs={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};xt.prototype.interfaces_=function(){return[]};xt.prototype.getClass=function(){return xt};xt.orientationIndex=function(t,n,r){return cr.orientationIndex(t,n,r)};xt.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var n=0,r=t[0].x,i=1;i<t.length-1;i++){var o=t[i].x-r,s=t[i+1].y,u=t[i-1].y;n+=o*(u-s)}return n/2}else if(jt(arguments[0],Me)){var l=arguments[0],p=l.size();if(p<3)return 0;var g=new $,c=new $,_=new $;l.getCoordinate(0,c),l.getCoordinate(1,_);var C=c.x;_.x-=C;for(var E=0,P=1;P<p-1;P++)g.y=c.y,c.x=_.x,c.y=_.y,l.getCoordinate(P+1,_),_.x-=C,E+=c.x*(g.y-_.y);return E/2}};xt.distanceLineLine=function(t,n,r,i){if(t.equals(n))return xt.distancePointLine(t,r,i);if(r.equals(i))return xt.distancePointLine(i,t,n);var o=!1;if(!zt.intersects(t,n,r,i))o=!0;else{var s=(n.x-t.x)*(i.y-r.y)-(n.y-t.y)*(i.x-r.x);if(s===0)o=!0;else{var u=(t.y-r.y)*(i.x-r.x)-(t.x-r.x)*(i.y-r.y),l=(t.y-r.y)*(n.x-t.x)-(t.x-r.x)*(n.y-t.y),p=l/s,g=u/s;(g<0||g>1||p<0||p>1)&&(o=!0)}}return o?Pr.min(xt.distancePointLine(t,r,i),xt.distancePointLine(n,r,i),xt.distancePointLine(r,t,n),xt.distancePointLine(i,t,n)):0};xt.isPointInRing=function(t,n){return xt.locatePointInRing(t,n)!==et.EXTERIOR};xt.computeLength=function(t){var n=t.size();if(n<=1)return 0;var r=0,i=new $;t.getCoordinate(0,i);for(var o=i.x,s=i.y,u=1;u<n;u++){t.getCoordinate(u,i);var l=i.x,p=i.y,g=l-o,c=p-s;r+=Math.sqrt(g*g+c*c),o=l,s=p}return r};xt.isCCW=function(t){var n=t.length-1;if(n<3)throw new $e("Ring has fewer than 4 points, so orientation cannot be determined");for(var r=t[0],i=0,o=1;o<=n;o++){var s=t[o];s.y>r.y&&(r=s,i=o)}var u=i;do u=u-1,u<0&&(u=n);while(t[u].equals2D(r)&&u!==i);var l=i;do l=(l+1)%n;while(t[l].equals2D(r)&&l!==i);var p=t[u],g=t[l];if(p.equals2D(r)||g.equals2D(r)||p.equals2D(g))return!1;var c=xt.computeOrientation(p,r,g),_=!1;return c===0?_=p.x>g.x:_=c>0,_};xt.locatePointInRing=function(t,n){return mi.locatePointInRing(t,n)};xt.distancePointLinePerpendicular=function(t,n,r){var i=(r.x-n.x)*(r.x-n.x)+(r.y-n.y)*(r.y-n.y),o=((n.y-t.y)*(r.x-n.x)-(n.x-t.x)*(r.y-n.y))/i;return Math.abs(o)*Math.sqrt(i)};xt.computeOrientation=function(t,n,r){return xt.orientationIndex(t,n,r)};xt.distancePointLine=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];if(n.length===0)throw new $e("Line array must contain at least one vertex");for(var r=t.distance(n[0]),i=0;i<n.length-1;i++){var o=xt.distancePointLine(t,n[i],n[i+1]);o<r&&(r=o)}return r}else if(arguments.length===3){var s=arguments[0],u=arguments[1],l=arguments[2];if(u.x===l.x&&u.y===l.y)return s.distance(u);var p=(l.x-u.x)*(l.x-u.x)+(l.y-u.y)*(l.y-u.y),g=((s.x-u.x)*(l.x-u.x)+(s.y-u.y)*(l.y-u.y))/p;if(g<=0)return s.distance(u);if(g>=1)return s.distance(l);var c=((u.y-s.y)*(l.x-u.x)-(u.x-s.x)*(l.y-u.y))/p;return Math.abs(c)*Math.sqrt(p)}};xt.isOnLine=function(t,n){for(var r=new ms,i=1;i<n.length;i++){var o=n[i-1],s=n[i];if(r.computeIntersection(t,o,s),r.hasIntersection())return!0}return!1};Xs.CLOCKWISE.get=function(){return-1};Xs.RIGHT.get=function(){return xt.CLOCKWISE};Xs.COUNTERCLOCKWISE.get=function(){return 1};Xs.LEFT.get=function(){return xt.COUNTERCLOCKWISE};Xs.COLLINEAR.get=function(){return 0};Xs.STRAIGHT.get=function(){return xt.COLLINEAR};Object.defineProperties(xt,Xs);var fo=function(){};fo.prototype.filter=function(t){};fo.prototype.interfaces_=function(){return[]};fo.prototype.getClass=function(){return fo};var Ht=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},Yi={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Ht.prototype.isGeometryCollection=function(){return this.getSortIndex()===Ht.SORTINDEX_GEOMETRYCOLLECTION};Ht.prototype.getFactory=function(){return this._factory};Ht.prototype.getGeometryN=function(t){return this};Ht.prototype.getArea=function(){return 0};Ht.prototype.isRectangle=function(){return!1};Ht.prototype.equals=function(){if(arguments[0]instanceof Ht){var t=arguments[0];return t===null?!1:this.equalsTopo(t)}else if(arguments[0]instanceof Object){var n=arguments[0];if(!(n instanceof Ht))return!1;var r=n;return this.equalsExact(r)}};Ht.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)};Ht.prototype.geometryChanged=function(){this.apply(Ht.geometryChangedFilter)};Ht.prototype.geometryChangedAction=function(){this._envelope=null};Ht.prototype.equalsNorm=function(t){return t===null?!1:this.norm().equalsExact(t.norm())};Ht.prototype.getLength=function(){return 0};Ht.prototype.getNumGeometries=function(){return 1};Ht.prototype.compareTo=function(){if(arguments.length===1){var t=arguments[0],n=t;return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(t)}else if(arguments.length===2){var r=arguments[0],i=arguments[1];return this.getSortIndex()!==r.getSortIndex()?this.getSortIndex()-r.getSortIndex():this.isEmpty()&&r.isEmpty()?0:this.isEmpty()?-1:r.isEmpty()?1:this.compareToSameClass(r,i)}};Ht.prototype.getUserData=function(){return this._userData};Ht.prototype.getSRID=function(){return this._SRID};Ht.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())};Ht.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===Ht.SORTINDEX_GEOMETRYCOLLECTION)throw new $e("This method does not support GeometryCollection arguments")};Ht.prototype.equal=function(t,n,r){return r===0?t.equals(n):t.distance(n)<=r};Ht.prototype.norm=function(){var t=this.copy();return t.normalize(),t};Ht.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()};Ht.prototype.getEnvelopeInternal=function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new zt(this._envelope)};Ht.prototype.setSRID=function(t){this._SRID=t};Ht.prototype.setUserData=function(t){this._userData=t};Ht.prototype.compare=function(t,n){for(var r=t.iterator(),i=n.iterator();r.hasNext()&&i.hasNext();){var o=r.next(),s=i.next(),u=o.compareTo(s);if(u!==0)return u}return r.hasNext()?1:i.hasNext()?-1:0};Ht.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()};Ht.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Ht.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Ht.SORTINDEX_MULTIPOINT||this.getSortIndex()===Ht.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Ht.SORTINDEX_MULTIPOLYGON};Ht.prototype.interfaces_=function(){return[Gu,Vr,Ur]};Ht.prototype.getClass=function(){return Ht};Ht.hasNonEmptyElements=function(t){for(var n=0;n<t.length;n++)if(!t[n].isEmpty())return!0;return!1};Ht.hasNullElements=function(t){for(var n=0;n<t.length;n++)if(t[n]===null)return!0;return!1};Yi.serialVersionUID.get=function(){return 8763622679187377e3};Yi.SORTINDEX_POINT.get=function(){return 0};Yi.SORTINDEX_MULTIPOINT.get=function(){return 1};Yi.SORTINDEX_LINESTRING.get=function(){return 2};Yi.SORTINDEX_LINEARRING.get=function(){return 3};Yi.SORTINDEX_MULTILINESTRING.get=function(){return 4};Yi.SORTINDEX_POLYGON.get=function(){return 5};Yi.SORTINDEX_MULTIPOLYGON.get=function(){return 6};Yi.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7};Yi.geometryChangedFilter.get=function(){return Jh};Object.defineProperties(Ht,Yi);var Jh=function(){};Jh.interfaces_=function(){return[fo]};Jh.filter=function(t){t.geometryChangedAction()};var Fi=function(){};Fi.prototype.filter=function(t){};Fi.prototype.interfaces_=function(){return[]};Fi.prototype.getClass=function(){return Fi};var Br=function(){},yo={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Br.prototype.isInBoundary=function(t){};Br.prototype.interfaces_=function(){return[]};Br.prototype.getClass=function(){return Br};yo.Mod2BoundaryNodeRule.get=function(){return ma};yo.EndPointBoundaryNodeRule.get=function(){return va};yo.MultiValentEndPointBoundaryNodeRule.get=function(){return ya};yo.MonoValentEndPointBoundaryNodeRule.get=function(){return La};yo.MOD2_BOUNDARY_RULE.get=function(){return new ma};yo.ENDPOINT_BOUNDARY_RULE.get=function(){return new va};yo.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new ya};yo.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new La};yo.OGC_SFS_BOUNDARY_RULE.get=function(){return Br.MOD2_BOUNDARY_RULE};Object.defineProperties(Br,yo);var ma=function(){};ma.prototype.isInBoundary=function(t){return t%2===1};ma.prototype.interfaces_=function(){return[Br]};ma.prototype.getClass=function(){return ma};var va=function(){};va.prototype.isInBoundary=function(t){return t>0};va.prototype.interfaces_=function(){return[Br]};va.prototype.getClass=function(){return va};var ya=function(){};ya.prototype.isInBoundary=function(t){return t>1};ya.prototype.interfaces_=function(){return[Br]};ya.prototype.getClass=function(){return ya};var La=function(){};La.prototype.isInBoundary=function(t){return t===1};La.prototype.interfaces_=function(){return[Br]};La.prototype.getClass=function(){return La};var wn=function(){};wn.prototype.add=function(){};wn.prototype.addAll=function(){};wn.prototype.isEmpty=function(){};wn.prototype.iterator=function(){};wn.prototype.size=function(){};wn.prototype.toArray=function(){};wn.prototype.remove=function(){};function Qh(e){this.message=e||""}Qh.prototype=new Error;Qh.prototype.name="IndexOutOfBoundsException";var Fa=function(){};Fa.prototype.hasNext=function(){};Fa.prototype.next=function(){};Fa.prototype.remove=function(){};var qr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(){},t.prototype.set=function(){},t.prototype.isEmpty=function(){},t}(wn);function Ga(e){this.message=e||""}Ga.prototype=new Error;Ga.prototype.name="NoSuchElementException";var kt=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof wn&&this.addAll(arguments[0])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.ensureCapacity=function(){},t.prototype.interfaces_=function(){return[e,wn]},t.prototype.add=function(r){return arguments.length===1?this.array_.push(r):this.array_.splice(arguments[0],arguments[1]),!0},t.prototype.clear=function(){this.array_=[]},t.prototype.addAll=function(r){for(var i=this,o=r.iterator();o.hasNext();)i.add(o.next());return!0},t.prototype.set=function(r,i){var o=this.array_[r];return this.array_[r]=i,o},t.prototype.iterator=function(){return new Kg(this)},t.prototype.get=function(r){if(r<0||r>=this.size())throw new Qh;return this.array_[r]},t.prototype.isEmpty=function(){return this.array_.length===0},t.prototype.size=function(){return this.array_.length},t.prototype.toArray=function(){for(var r=this,i=[],o=0,s=this.array_.length;o<s;o++)i.push(r.array_[o]);return i},t.prototype.remove=function(r){for(var i=this,o=!1,s=0,u=this.array_.length;s<u;s++)if(i.array_[s]===r){i.array_.splice(s,1),o=!0;break}return o},t}(qr),Kg=function(e){function t(n){e.call(this),this.arrayList_=n,this.position_=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new Ga;return this.arrayList_.get(this.position_++)},t.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},t.prototype.set=function(r){return this.arrayList_.set(this.position_-1,r)},t.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},t}(Fa),Dl=function(e){function t(){if(e.call(this),arguments.length!==0){if(arguments.length===1){var r=arguments[0];this.ensureCapacity(r.length),this.add(r,!0)}else if(arguments.length===2){var i=arguments[0],o=arguments[1];this.ensureCapacity(i.length),this.add(i,o)}}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},t.prototype.getCoordinate=function(i){return this.get(i)},t.prototype.addAll=function(){var i=this;if(arguments.length===2){for(var o=arguments[0],s=arguments[1],u=!1,l=o.iterator();l.hasNext();)i.add(l.next(),s),u=!0;return u}else return e.prototype.addAll.apply(this,arguments)},t.prototype.clone=function(){for(var i=this,o=e.prototype.clone.call(this),s=0;s<this.size();s++)o.add(s,i.get(s).copy());return o},t.prototype.toCoordinateArray=function(){return this.toArray(t.coordArrayType)},t.prototype.add=function(){var i=this;if(arguments.length===1){var o=arguments[0];e.prototype.add.call(this,o)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var s=arguments[0],u=arguments[1];return this.add(s,u,!0),!0}else if(arguments[0]instanceof $&&typeof arguments[1]=="boolean"){var l=arguments[0],p=arguments[1];if(!p&&this.size()>=1){var g=this.get(this.size()-1);if(g.equals2D(l))return null}e.prototype.add.call(this,l)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var c=arguments[0],_=arguments[1];return this.add(c,_),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var C=arguments[0],E=arguments[1],P=arguments[2];if(P)for(var S=0;S<C.length;S++)i.add(C[S],E);else for(var I=C.length-1;I>=0;I--)i.add(C[I],E);return!0}else if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof $){var T=arguments[0],N=arguments[1],x=arguments[2];if(!x){var R=this.size();if(R>0){if(T>0){var B=this.get(T-1);if(B.equals2D(N))return null}if(T<R){var Y=this.get(T);if(Y.equals2D(N))return null}}}e.prototype.add.call(this,T,N)}}else if(arguments.length===4){var Q=arguments[0],rt=arguments[1],ct=arguments[2],X=arguments[3],J=1;ct>X&&(J=-1);for(var at=ct;at!==X;at+=J)i.add(Q[at],rt);return!0}},t.prototype.closeRing=function(){this.size()>0&&this.add(new $(this.get(0)),!1)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},Object.defineProperties(t,n),t}(kt),ce=function(){},Uu={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Uu.ForwardComparator.get=function(){return _l};Uu.BidirectionalComparator.get=function(){return ba};Uu.coordArrayType.get=function(){return new Array(0).fill(null)};ce.prototype.interfaces_=function(){return[]};ce.prototype.getClass=function(){return ce};ce.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))};ce.ptNotInList=function(t,n){for(var r=0;r<t.length;r++){var i=t[r];if(ce.indexOf(i,n)<0)return i}return null};ce.scroll=function(t,n){var r=ce.indexOf(n,t);if(r<0)return null;var i=new Array(t.length).fill(null);Fn.arraycopy(t,r,i,0,t.length-r),Fn.arraycopy(t,0,i,t.length-r,r),Fn.arraycopy(i,0,t,0,t.length)};ce.equals=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];if(t===n)return!0;if(t===null||n===null||t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!t[r].equals(n[r]))return!1;return!0}else if(arguments.length===3){var i=arguments[0],o=arguments[1],s=arguments[2];if(i===o)return!0;if(i===null||o===null||i.length!==o.length)return!1;for(var u=0;u<i.length;u++)if(s.compare(i[u],o[u])!==0)return!1;return!0}};ce.intersection=function(t,n){for(var r=new Dl,i=0;i<t.length;i++)n.intersects(t[i])&&r.add(t[i],!0);return r.toCoordinateArray()};ce.hasRepeatedPoints=function(t){for(var n=1;n<t.length;n++)if(t[n-1].equals(t[n]))return!0;return!1};ce.removeRepeatedPoints=function(t){if(!ce.hasRepeatedPoints(t))return t;var n=new Dl(t,!1);return n.toCoordinateArray()};ce.reverse=function(t){for(var n=t.length-1,r=Math.trunc(n/2),i=0;i<=r;i++){var o=t[i];t[i]=t[n-i],t[n-i]=o}};ce.removeNull=function(t){for(var n=0,r=0;r<t.length;r++)t[r]!==null&&n++;var i=new Array(n).fill(null);if(n===0)return i;for(var o=0,s=0;s<t.length;s++)t[s]!==null&&(i[o++]=t[s]);return i};ce.copyDeep=function(){if(arguments.length===1){for(var t=arguments[0],n=new Array(t.length).fill(null),r=0;r<t.length;r++)n[r]=new $(t[r]);return n}else if(arguments.length===5)for(var i=arguments[0],o=arguments[1],s=arguments[2],u=arguments[3],l=arguments[4],p=0;p<l;p++)s[u+p]=new $(i[o+p])};ce.isEqualReversed=function(t,n){for(var r=0;r<t.length;r++){var i=t[r],o=n[t.length-r-1];if(i.compareTo(o)!==0)return!1}return!0};ce.envelope=function(t){for(var n=new zt,r=0;r<t.length;r++)n.expandToInclude(t[r]);return n};ce.toCoordinateArray=function(t){return t.toArray(ce.coordArrayType)};ce.atLeastNCoordinatesOrNothing=function(t,n){return n.length>=t?n:[]};ce.indexOf=function(t,n){for(var r=0;r<n.length;r++)if(t.equals(n[r]))return r;return-1};ce.increasingDirection=function(t){for(var n=0;n<Math.trunc(t.length/2);n++){var r=t.length-1-n,i=t[n].compareTo(t[r]);if(i!==0)return i}return 1};ce.compare=function(t,n){for(var r=0;r<t.length&&r<n.length;){var i=t[r].compareTo(n[r]);if(i!==0)return i;r++}return r<n.length?-1:r<t.length?1:0};ce.minCoordinate=function(t){for(var n=null,r=0;r<t.length;r++)(n===null||n.compareTo(t[r])>0)&&(n=t[r]);return n};ce.extract=function(t,n,r){n=Pr.clamp(n,0,t.length),r=Pr.clamp(r,-1,t.length);var i=r-n+1;r<0&&(i=0),n>=t.length&&(i=0),r<n&&(i=0);var o=new Array(i).fill(null);if(i===0)return o;for(var s=0,u=n;u<=r;u++)o[s++]=t[u];return o};Object.defineProperties(ce,Uu);var _l=function(){};_l.prototype.compare=function(t,n){var r=t,i=n;return ce.compare(r,i)};_l.prototype.interfaces_=function(){return[ga]};_l.prototype.getClass=function(){return _l};var ba=function(){};ba.prototype.compare=function(t,n){var r=t,i=n;if(r.length<i.length)return-1;if(r.length>i.length)return 1;if(r.length===0)return 0;var o=ce.compare(r,i),s=ce.isEqualReversed(r,i);return s?0:o};ba.prototype.OLDcompare=function(t,n){var r=t,i=n;if(r.length<i.length)return-1;if(r.length>i.length)return 1;if(r.length===0)return 0;for(var o=ce.increasingDirection(r),s=ce.increasingDirection(i),u=o>0?0:r.length-1,l=s>0?0:r.length-1,p=0;p<r.length;p++){var g=r[u].compareTo(i[l]);if(g!==0)return g;u+=o,l+=s}return 0};ba.prototype.interfaces_=function(){return[ga]};ba.prototype.getClass=function(){return ba};var Ys=function(){};Ys.prototype.get=function(){};Ys.prototype.put=function(){};Ys.prototype.size=function(){};Ys.prototype.values=function(){};Ys.prototype.entrySet=function(){};var Jg=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Ys);function Rl(e){this.message=e||""}Rl.prototype=new Error;Rl.prototype.name="OperationNotSupported";function Hu(){}Hu.prototype=new wn;Hu.prototype.contains=function(){};var $h=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof wn&&this.addAll(arguments[0])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contains=function(r){for(var i=this,o=0,s=this.array_.length;o<s;o++){var u=i.array_[o];if(u===r)return!0}return!1},t.prototype.add=function(r){return this.contains(r)?!1:(this.array_.push(r),!0)},t.prototype.addAll=function(r){for(var i=this,o=r.iterator();o.hasNext();)i.add(o.next());return!0},t.prototype.remove=function(r){throw new Error},t.prototype.size=function(){return this.array_.length},t.prototype.isEmpty=function(){return this.array_.length===0},t.prototype.toArray=function(){for(var r=this,i=[],o=0,s=this.array_.length;o<s;o++)i.push(r.array_[o]);return i},t.prototype.iterator=function(){return new Qg(this)},t}(Hu),Qg=function(e){function t(n){e.call(this),this.hashSet_=n,this.position_=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new Ga;return this.hashSet_.array_[this.position_++]},t.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},t.prototype.remove=function(){throw new Rl},t}(Fa),ao=0,$o=1;function nf(e){return e===null?ao:e.color}function Ze(e){return e===null?null:e.parent}function io(e,t){e!==null&&(e.color=t)}function mh(e){return e===null?null:e.left}function rf(e){return e===null?null:e.right}function qn(){this.root_=null,this.size_=0}qn.prototype=new Jg;qn.prototype.get=function(e){for(var t=this.root_;t!==null;){var n=e.compareTo(t.key);if(n<0)t=t.left;else if(n>0)t=t.right;else return t.value}return null};qn.prototype.put=function(e,t){if(this.root_===null)return this.root_={key:e,value:t,left:null,right:null,parent:null,color:ao,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n=this.root_,r,i;do if(r=n,i=e.compareTo(n.key),i<0)n=n.left;else if(i>0)n=n.right;else{var o=n.value;return n.value=t,o}while(n!==null);var s={key:e,left:null,right:null,value:t,parent:r,color:ao,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?r.left=s:r.right=s,this.fixAfterInsertion(s),this.size_++,null};qn.prototype.fixAfterInsertion=function(e){var t=this;for(e.color=$o;e!=null&&e!==this.root_&&e.parent.color===$o;)if(Ze(e)===mh(Ze(Ze(e)))){var n=rf(Ze(Ze(e)));nf(n)===$o?(io(Ze(e),ao),io(n,ao),io(Ze(Ze(e)),$o),e=Ze(Ze(e))):(e===rf(Ze(e))&&(e=Ze(e),t.rotateLeft(e)),io(Ze(e),ao),io(Ze(Ze(e)),$o),t.rotateRight(Ze(Ze(e))))}else{var r=mh(Ze(Ze(e)));nf(r)===$o?(io(Ze(e),ao),io(r,ao),io(Ze(Ze(e)),$o),e=Ze(Ze(e))):(e===mh(Ze(e))&&(e=Ze(e),t.rotateRight(e)),io(Ze(e),ao),io(Ze(Ze(e)),$o),t.rotateLeft(Ze(Ze(e))))}this.root_.color=ao};qn.prototype.values=function(){var e=new kt,t=this.getFirstEntry();if(t!==null)for(e.add(t.value);(t=qn.successor(t))!==null;)e.add(t.value);return e};qn.prototype.entrySet=function(){var e=new $h,t=this.getFirstEntry();if(t!==null)for(e.add(t);(t=qn.successor(t))!==null;)e.add(t);return e};qn.prototype.rotateLeft=function(e){if(e!=null){var t=e.right;e.right=t.left,t.left!=null&&(t.left.parent=e),t.parent=e.parent,e.parent===null?this.root_=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}};qn.prototype.rotateRight=function(e){if(e!=null){var t=e.left;e.left=t.right,t.right!=null&&(t.right.parent=e),t.parent=e.parent,e.parent===null?this.root_=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}};qn.prototype.getFirstEntry=function(){var e=this.root_;if(e!=null)for(;e.left!=null;)e=e.left;return e};qn.successor=function(e){if(e===null)return null;if(e.right!==null){for(var t=e.right;t.left!==null;)t=t.left;return t}else{for(var n=e.parent,r=e;n!==null&&r===n.right;)r=n,n=n.parent;return n}};qn.prototype.size=function(){return this.size_};var ml=function(){};ml.prototype.interfaces_=function(){return[]};ml.prototype.getClass=function(){return ml};function Zp(){}Zp.prototype=new Hu;function Li(){this.array_=[],arguments[0]instanceof wn&&this.addAll(arguments[0])}Li.prototype=new Zp;Li.prototype.contains=function(e){for(var t=this,n=0,r=this.array_.length;n<r;n++){var i=t.array_[n];if(i.compareTo(e)===0)return!0}return!1};Li.prototype.add=function(e){var t=this;if(this.contains(e))return!1;for(var n=0,r=this.array_.length;n<r;n++){var i=t.array_[n];if(i.compareTo(e)===1)return t.array_.splice(n,0,e),!0}return this.array_.push(e),!0};Li.prototype.addAll=function(e){for(var t=this,n=e.iterator();n.hasNext();)t.add(n.next());return!0};Li.prototype.remove=function(e){throw new Rl};Li.prototype.size=function(){return this.array_.length};Li.prototype.isEmpty=function(){return this.array_.length===0};Li.prototype.toArray=function(){for(var e=this,t=[],n=0,r=this.array_.length;n<r;n++)t.push(e.array_[n]);return t};Li.prototype.iterator=function(){return new Zu(this)};var Zu=function(e){this.treeSet_=e,this.position_=0};Zu.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new Ga;return this.treeSet_.array_[this.position_++]};Zu.prototype.hasNext=function(){return this.position_<this.treeSet_.size()};Zu.prototype.remove=function(){throw new Rl};var is=function(){};is.sort=function(){var t=arguments[0],n,r,i,o;if(arguments.length===1)o=function(u,l){return u.compareTo(l)},t.sort(o);else if(arguments.length===2)i=arguments[1],o=function(u,l){return i.compare(u,l)},t.sort(o);else if(arguments.length===3){r=t.slice(arguments[1],arguments[2]),r.sort();var s=t.slice(0,arguments[1]).concat(r,t.slice(arguments[2],t.length));for(t.splice(0,t.length),n=0;n<s.length;n++)t.push(s[n])}else if(arguments.length===4)for(r=t.slice(arguments[1],arguments[2]),i=arguments[3],o=function(u,l){return i.compare(u,l)},r.sort(o),s=t.slice(0,arguments[1]).concat(r,t.slice(arguments[2],t.length)),t.splice(0,t.length),n=0;n<s.length;n++)t.push(s[n])};is.asList=function(t){for(var n=new kt,r=0,i=t.length;r<i;r++)n.add(t[r]);return n};var Ne=function(){},ei={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};ei.P.get=function(){return 0};ei.L.get=function(){return 1};ei.A.get=function(){return 2};ei.FALSE.get=function(){return-1};ei.TRUE.get=function(){return-2};ei.DONTCARE.get=function(){return-3};ei.SYM_FALSE.get=function(){return"F"};ei.SYM_TRUE.get=function(){return"T"};ei.SYM_DONTCARE.get=function(){return"*"};ei.SYM_P.get=function(){return"0"};ei.SYM_L.get=function(){return"1"};ei.SYM_A.get=function(){return"2"};Ne.prototype.interfaces_=function(){return[]};Ne.prototype.getClass=function(){return Ne};Ne.toDimensionSymbol=function(t){switch(t){case Ne.FALSE:return Ne.SYM_FALSE;case Ne.TRUE:return Ne.SYM_TRUE;case Ne.DONTCARE:return Ne.SYM_DONTCARE;case Ne.P:return Ne.SYM_P;case Ne.L:return Ne.SYM_L;case Ne.A:return Ne.SYM_A}throw new $e("Unknown dimension value: "+t)};Ne.toDimensionValue=function(t){switch(gl.toUpperCase(t)){case Ne.SYM_FALSE:return Ne.FALSE;case Ne.SYM_TRUE:return Ne.TRUE;case Ne.SYM_DONTCARE:return Ne.DONTCARE;case Ne.SYM_P:return Ne.P;case Ne.SYM_L:return Ne.L;case Ne.SYM_A:return Ne.A}throw new $e("Unknown dimension symbol: "+t)};Object.defineProperties(Ne,ei);var bi=function(){};bi.prototype.filter=function(t){};bi.prototype.interfaces_=function(){return[]};bi.prototype.getClass=function(){return bi};var Yr=function(){};Yr.prototype.filter=function(t,n){};Yr.prototype.isDone=function(){};Yr.prototype.isGeometryChanged=function(){};Yr.prototype.interfaces_=function(){return[]};Yr.prototype.getClass=function(){return Yr};var rr=function(e){function t(r,i){if(e.call(this,i),this._geometries=r||[],e.hasNullElements(this._geometries))throw new $e("geometries must not contain null elements")}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){for(var i=this,o=new zt,s=0;s<this._geometries.length;s++)o.expandToInclude(i._geometries[s].getEnvelopeInternal());return o},t.prototype.getGeometryN=function(i){return this._geometries[i]},t.prototype.getSortIndex=function(){return e.SORTINDEX_GEOMETRYCOLLECTION},t.prototype.getCoordinates=function(){for(var i=this,o=new Array(this.getNumPoints()).fill(null),s=-1,u=0;u<this._geometries.length;u++)for(var l=i._geometries[u].getCoordinates(),p=0;p<l.length;p++)s++,o[s]=l[p];return o},t.prototype.getArea=function(){for(var i=this,o=0,s=0;s<this._geometries.length;s++)o+=i._geometries[s].getArea();return o},t.prototype.equalsExact=function(){var i=this;if(arguments.length===2){var o=arguments[0],s=arguments[1];if(!this.isEquivalentClass(o))return!1;var u=o;if(this._geometries.length!==u._geometries.length)return!1;for(var l=0;l<this._geometries.length;l++)if(!i._geometries[l].equalsExact(u._geometries[l],s))return!1;return!0}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var i=this,o=0;o<this._geometries.length;o++)i._geometries[o].normalize();is.sort(this._geometries)},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},t.prototype.getBoundaryDimension=function(){for(var i=this,o=Ne.FALSE,s=0;s<this._geometries.length;s++)o=Math.max(o,i._geometries[s].getBoundaryDimension());return o},t.prototype.getDimension=function(){for(var i=this,o=Ne.FALSE,s=0;s<this._geometries.length;s++)o=Math.max(o,i._geometries[s].getDimension());return o},t.prototype.getLength=function(){for(var i=this,o=0,s=0;s<this._geometries.length;s++)o+=i._geometries[s].getLength();return o},t.prototype.getNumPoints=function(){for(var i=this,o=0,s=0;s<this._geometries.length;s++)o+=i._geometries[s].getNumPoints();return o},t.prototype.getNumGeometries=function(){return this._geometries.length},t.prototype.reverse=function(){for(var i=this,o=this._geometries.length,s=new Array(o).fill(null),u=0;u<this._geometries.length;u++)s[u]=i._geometries[u].reverse();return this.getFactory().createGeometryCollection(s)},t.prototype.compareToSameClass=function(){var i=this;if(arguments.length===1){var o=arguments[0],s=new Li(is.asList(this._geometries)),u=new Li(is.asList(o._geometries));return this.compare(s,u)}else if(arguments.length===2){for(var l=arguments[0],p=arguments[1],g=l,c=this.getNumGeometries(),_=g.getNumGeometries(),C=0;C<c&&C<_;){var E=i.getGeometryN(C),P=g.getGeometryN(C),S=E.compareToSameClass(P,p);if(S!==0)return S;C++}return C<c?1:C<_?-1:0}},t.prototype.apply=function(){var i=this;if(jt(arguments[0],Fi))for(var o=arguments[0],s=0;s<this._geometries.length;s++)i._geometries[s].apply(o);else if(jt(arguments[0],Yr)){var u=arguments[0];if(this._geometries.length===0)return null;for(var l=0;l<this._geometries.length&&(i._geometries[l].apply(u),!u.isDone());l++);u.isGeometryChanged()&&this.geometryChanged()}else if(jt(arguments[0],bi)){var p=arguments[0];p.filter(this);for(var g=0;g<this._geometries.length;g++)i._geometries[g].apply(p)}else if(jt(arguments[0],fo)){var c=arguments[0];c.filter(this);for(var _=0;_<this._geometries.length;_++)i._geometries[_].apply(c)}},t.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),Jt.shouldNeverReachHere(),null},t.prototype.clone=function(){var i=this,o=e.prototype.clone.call(this);o._geometries=new Array(this._geometries.length).fill(null);for(var s=0;s<this._geometries.length;s++)o._geometries[s]=i._geometries[s].clone();return o},t.prototype.getGeometryType=function(){return"GeometryCollection"},t.prototype.copy=function(){for(var i=this,o=new Array(this._geometries.length).fill(null),s=0;s<o.length;s++)o[s]=i._geometries[s].copy();return new t(o,this._factory)},t.prototype.isEmpty=function(){for(var i=this,o=0;o<this._geometries.length;o++)if(!i._geometries[o].isEmpty())return!1;return!0},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-5694727726395021e3},Object.defineProperties(t,n),t}(Ht),ss=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Ht.SORTINDEX_MULTILINESTRING},t.prototype.equalsExact=function(){if(arguments.length===2){var i=arguments[0],o=arguments[1];return this.isEquivalentClass(i)?e.prototype.equalsExact.call(this,i,o):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?Ne.FALSE:0},t.prototype.isClosed=function(){var i=this;if(this.isEmpty())return!1;for(var o=0;o<this._geometries.length;o++)if(!i._geometries[o].isClosed())return!1;return!0},t.prototype.getDimension=function(){return 1},t.prototype.reverse=function(){for(var i=this,o=this._geometries.length,s=new Array(o).fill(null),u=0;u<this._geometries.length;u++)s[o-1-u]=i._geometries[u].reverse();return this.getFactory().createMultiLineString(s)},t.prototype.getBoundary=function(){return new Dr(this).getBoundary()},t.prototype.getGeometryType=function(){return"MultiLineString"},t.prototype.copy=function(){for(var i=this,o=new Array(this._geometries.length).fill(null),s=0;s<o.length;s++)o[s]=i._geometries[s].copy();return new t(o,this._factory)},t.prototype.interfaces_=function(){return[ml]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 8166665132445434e3},Object.defineProperties(t,n),t}(rr),Dr=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,arguments.length===1){var t=arguments[0],n=Br.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=n}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this._geom=r,this._geomFact=r.getFactory(),this._bnRule=i}};Dr.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var n=this.computeBoundaryCoordinates(t);return n.length===1?this._geomFact.createPoint(n[0]):this._geomFact.createMultiPointFromCoords(n)};Dr.prototype.getBoundary=function(){return this._geom instanceof an?this.boundaryLineString(this._geom):this._geom instanceof ss?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()};Dr.prototype.boundaryLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();if(t.isClosed()){var n=this._bnRule.isInBoundary(2);return n?t.getStartPoint():this._geomFact.createMultiPoint()}return this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])};Dr.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()};Dr.prototype.computeBoundaryCoordinates=function(t){var n=this,r=new kt;this._endpointMap=new qn;for(var i=0;i<t.getNumGeometries();i++){var o=t.getGeometryN(i);o.getNumPoints()!==0&&(n.addEndpoint(o.getCoordinateN(0)),n.addEndpoint(o.getCoordinateN(o.getNumPoints()-1)))}for(var s=this._endpointMap.entrySet().iterator();s.hasNext();){var u=s.next(),l=u.getValue(),p=l.count;n._bnRule.isInBoundary(p)&&r.add(u.getKey())}return ce.toCoordinateArray(r)};Dr.prototype.addEndpoint=function(t){var n=this._endpointMap.get(t);n===null&&(n=new Mu,this._endpointMap.put(t,n)),n.count++};Dr.prototype.interfaces_=function(){return[]};Dr.prototype.getClass=function(){return Dr};Dr.getBoundary=function(){if(arguments.length===1){var t=arguments[0],n=new Dr(t);return n.getBoundary()}else if(arguments.length===2){var r=arguments[0],i=arguments[1],o=new Dr(r,i);return o.getBoundary()}};var Mu=function(){this.count=null};Mu.prototype.interfaces_=function(){return[]};Mu.prototype.getClass=function(){return Mu};function $g(){}function t_(){}var e_=function(){};function n_(){}function r_(){}function i_(){}var Rr=function(){},tc={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Rr.prototype.interfaces_=function(){return[]};Rr.prototype.getClass=function(){return Rr};Rr.chars=function(t,n){for(var r=new Array(n).fill(null),i=0;i<n;i++)r[i]=t;return String(r)};Rr.getStackTrace=function(){if(arguments.length===1){var t=arguments[0],n=new n_,r=new $g;return t.printStackTrace(r),n.toString()}else if(arguments.length===2){var i=arguments[0],o=arguments[1],s="";new t_(Rr.getStackTrace(i));for(var u=new i_,l=0;l<o;l++)try{s+=u.readLine()+Rr.NEWLINE}catch(p){if(p instanceof r_)Jt.shouldNeverReachHere();else throw p}finally{}return s}};Rr.split=function(t,n){for(var r=n.length,i=new kt,o=""+t,s=o.indexOf(n);s>=0;){var u=o.substring(0,s);i.add(u),o=o.substring(s+r),s=o.indexOf(n)}o.length>0&&i.add(o);for(var l=new Array(i.size()).fill(null),p=0;p<l.length;p++)l[p]=i.get(p);return l};Rr.toString=function(){if(arguments.length===1){var t=arguments[0];return Rr.SIMPLE_ORDINATE_FORMAT.format(t)}};Rr.spaces=function(t){return Rr.chars(" ",t)};tc.NEWLINE.get=function(){return Fn.getProperty("line.separator")};tc.SIMPLE_ORDINATE_FORMAT.get=function(){return new e_};Object.defineProperties(Rr,tc);var pn=function(){};pn.prototype.interfaces_=function(){return[]};pn.prototype.getClass=function(){return pn};pn.copyCoord=function(t,n,r,i){for(var o=Math.min(t.getDimension(),r.getDimension()),s=0;s<o;s++)r.setOrdinate(i,s,t.getOrdinate(n,s))};pn.isRing=function(t){var n=t.size();return n===0?!0:n<=3?!1:t.getOrdinate(0,Me.X)===t.getOrdinate(n-1,Me.X)&&t.getOrdinate(0,Me.Y)===t.getOrdinate(n-1,Me.Y)};pn.isEqual=function(t,n){var r=t.size(),i=n.size();if(r!==i)return!1;for(var o=Math.min(t.getDimension(),n.getDimension()),s=0;s<r;s++)for(var u=0;u<o;u++){var l=t.getOrdinate(s,u),p=n.getOrdinate(s,u);if(t.getOrdinate(s,u)!==n.getOrdinate(s,u)&&!(Yt.isNaN(l)&&Yt.isNaN(p)))return!1}return!0};pn.extend=function(t,n,r){var i=t.create(r,n.getDimension()),o=n.size();if(pn.copy(n,0,i,0,o),o>0)for(var s=o;s<r;s++)pn.copy(n,o-1,i,s,1);return i};pn.reverse=function(t){for(var n=t.size()-1,r=Math.trunc(n/2),i=0;i<=r;i++)pn.swap(t,i,n-i)};pn.swap=function(t,n,r){if(n===r)return null;for(var i=0;i<t.getDimension();i++){var o=t.getOrdinate(n,i);t.setOrdinate(n,i,t.getOrdinate(r,i)),t.setOrdinate(r,i,o)}};pn.copy=function(t,n,r,i,o){for(var s=0;s<o;s++)pn.copyCoord(t,n+s,r,i+s)};pn.toString=function(){if(arguments.length===1){var t=arguments[0],n=t.size();if(n===0)return"()";var r=t.getDimension(),i=new Ii;i.append("(");for(var o=0;o<n;o++){o>0&&i.append(" ");for(var s=0;s<r;s++)s>0&&i.append(","),i.append(Rr.toString(t.getOrdinate(o,s)))}return i.append(")"),i.toString()}};pn.ensureValidRing=function(t,n){var r=n.size();if(r===0)return n;if(r<=3)return pn.createClosedRing(t,n,4);var i=n.getOrdinate(0,Me.X)===n.getOrdinate(r-1,Me.X)&&n.getOrdinate(0,Me.Y)===n.getOrdinate(r-1,Me.Y);return i?n:pn.createClosedRing(t,n,r+1)};pn.createClosedRing=function(t,n,r){var i=t.create(r,n.getDimension()),o=n.size();pn.copy(n,0,i,0,o);for(var s=o;s<r;s++)pn.copy(n,0,i,s,1);return i};var an=function(e){function t(r,i){e.call(this,i),this._points=null,this.init(r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new zt:this._points.expandEnvelope(new zt)},t.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},t.prototype.getSortIndex=function(){return e.SORTINDEX_LINESTRING},t.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},t.prototype.equalsExact=function(){var i=this;if(arguments.length===2){var o=arguments[0],s=arguments[1];if(!this.isEquivalentClass(o))return!1;var u=o;if(this._points.size()!==u._points.size())return!1;for(var l=0;l<this._points.size();l++)if(!i.equal(i._points.getCoordinate(l),u._points.getCoordinate(l),s))return!1;return!0}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var i=this,o=0;o<Math.trunc(this._points.size()/2);o++){var s=i._points.size()-1-o;if(!i._points.getCoordinate(o).equals(i._points.getCoordinate(s)))return i._points.getCoordinate(o).compareTo(i._points.getCoordinate(s))>0&&pn.reverse(i._points),null}},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?Ne.FALSE:0},t.prototype.isClosed=function(){return this.isEmpty()?!1:this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},t.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},t.prototype.getDimension=function(){return 1},t.prototype.getLength=function(){return xt.computeLength(this._points)},t.prototype.getNumPoints=function(){return this._points.size()},t.prototype.reverse=function(){var i=this._points.copy();pn.reverse(i);var o=this.getFactory().createLineString(i);return o},t.prototype.compareToSameClass=function(){var i=this;if(arguments.length===1){for(var o=arguments[0],s=o,u=0,l=0;u<this._points.size()&&l<s._points.size();){var p=i._points.getCoordinate(u).compareTo(s._points.getCoordinate(l));if(p!==0)return p;u++,l++}return u<this._points.size()?1:l<s._points.size()?-1:0}else if(arguments.length===2){var g=arguments[0],c=arguments[1],_=g;return c.compare(this._points,_._points)}},t.prototype.apply=function(){var i=this;if(jt(arguments[0],Fi))for(var o=arguments[0],s=0;s<this._points.size();s++)o.filter(i._points.getCoordinate(s));else if(jt(arguments[0],Yr)){var u=arguments[0];if(this._points.size()===0)return null;for(var l=0;l<this._points.size()&&(u.filter(i._points,l),!u.isDone());l++);u.isGeometryChanged()&&this.geometryChanged()}else if(jt(arguments[0],bi)){var p=arguments[0];p.filter(this)}else if(jt(arguments[0],fo)){var g=arguments[0];g.filter(this)}},t.prototype.getBoundary=function(){return new Dr(this).getBoundary()},t.prototype.isEquivalentClass=function(i){return i instanceof t},t.prototype.clone=function(){var i=e.prototype.clone.call(this);return i._points=this._points.clone(),i},t.prototype.getCoordinateN=function(i){return this._points.getCoordinate(i)},t.prototype.getGeometryType=function(){return"LineString"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._points},t.prototype.isEmpty=function(){return this._points.size()===0},t.prototype.init=function(i){if(i===null&&(i=this.getFactory().getCoordinateSequenceFactory().create([])),i.size()===1)throw new $e("Invalid number of points in LineString (found "+i.size()+" - must be 0 or >= 2)");this._points=i},t.prototype.isCoordinate=function(i){for(var o=this,s=0;s<this._points.size();s++)if(o._points.getCoordinate(s).equals(i))return!0;return!1},t.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},t.prototype.getPointN=function(i){return this.getFactory().createPoint(this._points.getCoordinate(i))},t.prototype.interfaces_=function(){return[ml]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(t,n),t}(Ht),vl=function(){};vl.prototype.interfaces_=function(){return[]};vl.prototype.getClass=function(){return vl};var yr=function(e){function t(r,i){e.call(this,i),this._coordinates=r||null,this.init(this._coordinates)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new zt;var i=new zt;return i.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),i},t.prototype.getSortIndex=function(){return e.SORTINDEX_POINT},t.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},t.prototype.equalsExact=function(){if(arguments.length===2){var i=arguments[0],o=arguments[1];return this.isEquivalentClass(i)?this.isEmpty()&&i.isEmpty()?!0:this.isEmpty()!==i.isEmpty()?!1:this.equal(i.getCoordinate(),this.getCoordinate(),o):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){},t.prototype.getCoordinate=function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null},t.prototype.getBoundaryDimension=function(){return Ne.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getNumPoints=function(){return this.isEmpty()?0:1},t.prototype.reverse=function(){return this.copy()},t.prototype.getX=function(){if(this.getCoordinate()===null)throw new Error("getX called on empty Point");return this.getCoordinate().x},t.prototype.compareToSameClass=function(){if(arguments.length===1){var i=arguments[0],o=i;return this.getCoordinate().compareTo(o.getCoordinate())}else if(arguments.length===2){var s=arguments[0],u=arguments[1],l=s;return u.compare(this._coordinates,l._coordinates)}},t.prototype.apply=function(){if(jt(arguments[0],Fi)){var i=arguments[0];if(this.isEmpty())return null;i.filter(this.getCoordinate())}else if(jt(arguments[0],Yr)){var o=arguments[0];if(this.isEmpty())return null;o.filter(this._coordinates,0),o.isGeometryChanged()&&this.geometryChanged()}else if(jt(arguments[0],bi)){var s=arguments[0];s.filter(this)}else if(jt(arguments[0],fo)){var u=arguments[0];u.filter(this)}},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.clone=function(){var i=e.prototype.clone.call(this);return i._coordinates=this._coordinates.clone(),i},t.prototype.getGeometryType=function(){return"Point"},t.prototype.copy=function(){return new t(this._coordinates.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._coordinates},t.prototype.getY=function(){if(this.getCoordinate()===null)throw new Error("getY called on empty Point");return this.getCoordinate().y},t.prototype.isEmpty=function(){return this._coordinates.size()===0},t.prototype.init=function(i){i===null&&(i=this.getFactory().getCoordinateSequenceFactory().create([])),Jt.isTrue(i.size()<=1),this._coordinates=i},t.prototype.isSimple=function(){return!0},t.prototype.interfaces_=function(){return[vl]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 4902022702746615e3},Object.defineProperties(t,n),t}(Ht),Ao=function(){};Ao.prototype.interfaces_=function(){return[]};Ao.prototype.getClass=function(){return Ao};var Sn=function(e){function t(r,i,o){if(e.call(this,o),this._shell=null,this._holes=null,r===null&&(r=this.getFactory().createLinearRing()),i===null&&(i=[]),e.hasNullElements(i))throw new $e("holes must not contain null elements");if(r.isEmpty()&&e.hasNonEmptyElements(i))throw new $e("shell is empty but holes are not");this._shell=r,this._holes=i}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},t.prototype.getSortIndex=function(){return e.SORTINDEX_POLYGON},t.prototype.getCoordinates=function(){var i=this;if(this.isEmpty())return[];for(var o=new Array(this.getNumPoints()).fill(null),s=-1,u=this._shell.getCoordinates(),l=0;l<u.length;l++)s++,o[s]=u[l];for(var p=0;p<this._holes.length;p++)for(var g=i._holes[p].getCoordinates(),c=0;c<g.length;c++)s++,o[s]=g[c];return o},t.prototype.getArea=function(){var i=this,o=0;o+=Math.abs(xt.signedArea(this._shell.getCoordinateSequence()));for(var s=0;s<this._holes.length;s++)o-=Math.abs(xt.signedArea(i._holes[s].getCoordinateSequence()));return o},t.prototype.isRectangle=function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var i=this._shell.getCoordinateSequence(),o=this.getEnvelopeInternal(),s=0;s<5;s++){var u=i.getX(s);if(!(u===o.getMinX()||u===o.getMaxX()))return!1;var l=i.getY(s);if(!(l===o.getMinY()||l===o.getMaxY()))return!1}for(var p=i.getX(0),g=i.getY(0),c=1;c<=4;c++){var _=i.getX(c),C=i.getY(c),E=_!==p,P=C!==g;if(E===P)return!1;p=_,g=C}return!0},t.prototype.equalsExact=function(){var i=this;if(arguments.length===2){var o=arguments[0],s=arguments[1];if(!this.isEquivalentClass(o))return!1;var u=o,l=this._shell,p=u._shell;if(!l.equalsExact(p,s)||this._holes.length!==u._holes.length)return!1;for(var g=0;g<this._holes.length;g++)if(!i._holes[g].equalsExact(u._holes[g],s))return!1;return!0}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){var i=this;if(arguments.length===0){this.normalize(this._shell,!0);for(var o=0;o<this._holes.length;o++)i.normalize(i._holes[o],!1);is.sort(this._holes)}else if(arguments.length===2){var s=arguments[0],u=arguments[1];if(s.isEmpty())return null;var l=new Array(s.getCoordinates().length-1).fill(null);Fn.arraycopy(s.getCoordinates(),0,l,0,l.length);var p=ce.minCoordinate(s.getCoordinates());ce.scroll(l,p),Fn.arraycopy(l,0,s.getCoordinates(),0,l.length),s.getCoordinates()[l.length]=l[0],xt.isCCW(s.getCoordinates())===u&&ce.reverse(s.getCoordinates())}},t.prototype.getCoordinate=function(){return this._shell.getCoordinate()},t.prototype.getNumInteriorRing=function(){return this._holes.length},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.getLength=function(){var i=this,o=0;o+=this._shell.getLength();for(var s=0;s<this._holes.length;s++)o+=i._holes[s].getLength();return o},t.prototype.getNumPoints=function(){for(var i=this,o=this._shell.getNumPoints(),s=0;s<this._holes.length;s++)o+=i._holes[s].getNumPoints();return o},t.prototype.reverse=function(){var i=this,o=this.copy();o._shell=this._shell.copy().reverse(),o._holes=new Array(this._holes.length).fill(null);for(var s=0;s<this._holes.length;s++)o._holes[s]=i._holes[s].copy().reverse();return o},t.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},t.prototype.compareToSameClass=function(){var i=this;if(arguments.length===1){var o=arguments[0],s=this._shell,u=o._shell;return s.compareToSameClass(u)}else if(arguments.length===2){var l=arguments[0],p=arguments[1],g=l,c=this._shell,_=g._shell,C=c.compareToSameClass(_,p);if(C!==0)return C;for(var E=this.getNumInteriorRing(),P=g.getNumInteriorRing(),S=0;S<E&&S<P;){var I=i.getInteriorRingN(S),T=g.getInteriorRingN(S),N=I.compareToSameClass(T,p);if(N!==0)return N;S++}return S<E?1:S<P?-1:0}},t.prototype.apply=function(i){var o=this;if(jt(i,Fi)){this._shell.apply(i);for(var s=0;s<this._holes.length;s++)o._holes[s].apply(i)}else if(jt(i,Yr)){if(this._shell.apply(i),!i.isDone())for(var u=0;u<this._holes.length&&(o._holes[u].apply(i),!i.isDone());u++);i.isGeometryChanged()&&this.geometryChanged()}else if(jt(i,bi))i.filter(this);else if(jt(i,fo)){i.filter(this),this._shell.apply(i);for(var l=0;l<this._holes.length;l++)o._holes[l].apply(i)}},t.prototype.getBoundary=function(){var i=this;if(this.isEmpty())return this.getFactory().createMultiLineString();var o=new Array(this._holes.length+1).fill(null);o[0]=this._shell;for(var s=0;s<this._holes.length;s++)o[s+1]=i._holes[s];return o.length<=1?this.getFactory().createLinearRing(o[0].getCoordinateSequence()):this.getFactory().createMultiLineString(o)},t.prototype.clone=function(){var i=this,o=e.prototype.clone.call(this);o._shell=this._shell.clone(),o._holes=new Array(this._holes.length).fill(null);for(var s=0;s<this._holes.length;s++)o._holes[s]=i._holes[s].clone();return o},t.prototype.getGeometryType=function(){return"Polygon"},t.prototype.copy=function(){for(var i=this,o=this._shell.copy(),s=new Array(this._holes.length).fill(null),u=0;u<s.length;u++)s[u]=i._holes[u].copy();return new t(o,s,this._factory)},t.prototype.getExteriorRing=function(){return this._shell},t.prototype.isEmpty=function(){return this._shell.isEmpty()},t.prototype.getInteriorRingN=function(i){return this._holes[i]},t.prototype.interfaces_=function(){return[Ao]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(t,n),t}(Ht),Ca=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Ht.SORTINDEX_MULTIPOINT},t.prototype.isValid=function(){return!0},t.prototype.equalsExact=function(){if(arguments.length===2){var i=arguments[0],o=arguments[1];return this.isEquivalentClass(i)?e.prototype.equalsExact.call(this,i,o):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getCoordinate=function(){if(arguments.length===1){var i=arguments[0];return this._geometries[i].getCoordinate()}else return e.prototype.getCoordinate.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return Ne.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.getGeometryType=function(){return"MultiPoint"},t.prototype.copy=function(){for(var i=this,o=new Array(this._geometries.length).fill(null),s=0;s<o.length;s++)o[s]=i._geometries[s].copy();return new t(o,this._factory)},t.prototype.interfaces_=function(){return[vl]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-8048474874175356e3},Object.defineProperties(t,n),t}(rr),Gi=function(e){function t(r,i){r instanceof $&&i instanceof he&&(r=i.getCoordinateSequenceFactory().create(r)),e.call(this,r,i),this.validateConstruction()}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Ht.SORTINDEX_LINEARRING},t.prototype.getBoundaryDimension=function(){return Ne.FALSE},t.prototype.isClosed=function(){return this.isEmpty()?!0:e.prototype.isClosed.call(this)},t.prototype.reverse=function(){var i=this._points.copy();pn.reverse(i);var o=this.getFactory().createLinearRing(i);return o},t.prototype.validateConstruction=function(){if(!this.isEmpty()&&!e.prototype.isClosed.call(this))throw new $e("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<t.MINIMUM_VALID_SIZE)throw new $e("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},t.prototype.getGeometryType=function(){return"LinearRing"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(t,n),t}(an),Bi=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return Ht.SORTINDEX_MULTIPOLYGON},t.prototype.equalsExact=function(){if(arguments.length===2){var i=arguments[0],o=arguments[1];return this.isEquivalentClass(i)?e.prototype.equalsExact.call(this,i,o):!1}else return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.reverse=function(){for(var i=this,o=this._geometries.length,s=new Array(o).fill(null),u=0;u<this._geometries.length;u++)s[u]=i._geometries[u].reverse();return this.getFactory().createMultiPolygon(s)},t.prototype.getBoundary=function(){var i=this;if(this.isEmpty())return this.getFactory().createMultiLineString();for(var o=new kt,s=0;s<this._geometries.length;s++)for(var u=i._geometries[s],l=u.getBoundary(),p=0;p<l.getNumGeometries();p++)o.add(l.getGeometryN(p));var g=new Array(o.size()).fill(null);return this.getFactory().createMultiLineString(o.toArray(g))},t.prototype.getGeometryType=function(){return"MultiPolygon"},t.prototype.copy=function(){for(var i=this,o=new Array(this._geometries.length).fill(null),s=0;s<o.length;s++)o[s]=i._geometries[s].copy();return new t(o,this._factory)},t.prototype.interfaces_=function(){return[Ao]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(t,n),t}(rr),zr=function(t){this._factory=t||null,this._isUserDataCopied=!1},ju={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};zr.prototype.setCopyUserData=function(t){this._isUserDataCopied=t};zr.prototype.edit=function(t,n){if(t===null)return null;var r=this.editInternal(t,n);return this._isUserDataCopied&&r.setUserData(t.getUserData()),r};zr.prototype.editInternal=function(t,n){return this._factory===null&&(this._factory=t.getFactory()),t instanceof rr?this.editGeometryCollection(t,n):t instanceof Sn?this.editPolygon(t,n):t instanceof yr?n.edit(t,this._factory):t instanceof an?n.edit(t,this._factory):(Jt.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)};zr.prototype.editGeometryCollection=function(t,n){for(var r=this,i=n.edit(t,this._factory),o=new kt,s=0;s<i.getNumGeometries();s++){var u=r.edit(i.getGeometryN(s),n);u===null||u.isEmpty()||o.add(u)}return i.getClass()===Ca?this._factory.createMultiPoint(o.toArray([])):i.getClass()===ss?this._factory.createMultiLineString(o.toArray([])):i.getClass()===Bi?this._factory.createMultiPolygon(o.toArray([])):this._factory.createGeometryCollection(o.toArray([]))};zr.prototype.editPolygon=function(t,n){var r=this,i=n.edit(t,this._factory);if(i===null&&(i=this._factory.createPolygon(null)),i.isEmpty())return i;var o=this.edit(i.getExteriorRing(),n);if(o===null||o.isEmpty())return this._factory.createPolygon();for(var s=new kt,u=0;u<i.getNumInteriorRing();u++){var l=r.edit(i.getInteriorRingN(u),n);l===null||l.isEmpty()||s.add(l)}return this._factory.createPolygon(o,s.toArray([]))};zr.prototype.interfaces_=function(){return[]};zr.prototype.getClass=function(){return zr};zr.GeometryEditorOperation=function(){};ju.NoOpGeometryOperation.get=function(){return yl};ju.CoordinateOperation.get=function(){return Ll};ju.CoordinateSequenceOperation.get=function(){return bl};Object.defineProperties(zr,ju);var yl=function(){};yl.prototype.edit=function(t,n){return t};yl.prototype.interfaces_=function(){return[zr.GeometryEditorOperation]};yl.prototype.getClass=function(){return yl};var Ll=function(){};Ll.prototype.edit=function(t,n){var r=this.editCoordinates(t.getCoordinates(),t);return r===null?t:t instanceof Gi?n.createLinearRing(r):t instanceof an?n.createLineString(r):t instanceof yr?r.length>0?n.createPoint(r[0]):n.createPoint():t};Ll.prototype.interfaces_=function(){return[zr.GeometryEditorOperation]};Ll.prototype.getClass=function(){return Ll};var bl=function(){};bl.prototype.edit=function(t,n){return t instanceof Gi?n.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof an?n.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof yr?n.createPoint(this.edit(t.getCoordinateSequence(),t)):t};bl.prototype.interfaces_=function(){return[zr.GeometryEditorOperation]};bl.prototype.getClass=function(){return bl};var cn=function(){var t=this;if(this._dimension=3,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var n=arguments[0];this._coordinates=new Array(n).fill(null);for(var r=0;r<n;r++)t._coordinates[r]=new $}else if(jt(arguments[0],Me)){var i=arguments[0];if(i===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=i.getDimension(),this._coordinates=new Array(i.size()).fill(null);for(var o=0;o<this._coordinates.length;o++)t._coordinates[o]=i.getCoordinateCopy(o)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var s=arguments[0],u=arguments[1];this._coordinates=s,this._dimension=u,s===null&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var l=arguments[0],p=arguments[1];this._coordinates=new Array(l).fill(null),this._dimension=p;for(var g=0;g<l;g++)t._coordinates[g]=new $}}},jp={serialVersionUID:{configurable:!0}};cn.prototype.setOrdinate=function(t,n,r){switch(n){case Me.X:this._coordinates[t].x=r;break;case Me.Y:this._coordinates[t].y=r;break;case Me.Z:this._coordinates[t].z=r;break;default:throw new $e("invalid ordinateIndex")}};cn.prototype.size=function(){return this._coordinates.length};cn.prototype.getOrdinate=function(t,n){switch(n){case Me.X:return this._coordinates[t].x;case Me.Y:return this._coordinates[t].y;case Me.Z:return this._coordinates[t].z}return Yt.NaN};cn.prototype.getCoordinate=function(){if(arguments.length===1){var t=arguments[0];return this._coordinates[t]}else if(arguments.length===2){var n=arguments[0],r=arguments[1];r.x=this._coordinates[n].x,r.y=this._coordinates[n].y,r.z=this._coordinates[n].z}};cn.prototype.getCoordinateCopy=function(t){return new $(this._coordinates[t])};cn.prototype.getDimension=function(){return this._dimension};cn.prototype.getX=function(t){return this._coordinates[t].x};cn.prototype.clone=function(){for(var t=this,n=new Array(this.size()).fill(null),r=0;r<this._coordinates.length;r++)n[r]=t._coordinates[r].clone();return new cn(n,this._dimension)};cn.prototype.expandEnvelope=function(t){for(var n=this,r=0;r<this._coordinates.length;r++)t.expandToInclude(n._coordinates[r]);return t};cn.prototype.copy=function(){for(var t=this,n=new Array(this.size()).fill(null),r=0;r<this._coordinates.length;r++)n[r]=t._coordinates[r].copy();return new cn(n,this._dimension)};cn.prototype.toString=function(){var t=this;if(this._coordinates.length>0){var n=new Ii(17*this._coordinates.length);n.append("("),n.append(this._coordinates[0]);for(var r=1;r<this._coordinates.length;r++)n.append(", "),n.append(t._coordinates[r]);return n.append(")"),n.toString()}else return"()"};cn.prototype.getY=function(t){return this._coordinates[t].y};cn.prototype.toCoordinateArray=function(){return this._coordinates};cn.prototype.interfaces_=function(){return[Me,Ur]};cn.prototype.getClass=function(){return cn};jp.serialVersionUID.get=function(){return-0xcb44a778db18e00};Object.defineProperties(cn,jp);var Vi=function(){},ec={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Vi.prototype.readResolve=function(){return Vi.instance()};Vi.prototype.create=function(){if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return new cn(t)}else if(jt(arguments[0],Me)){var n=arguments[0];return new cn(n)}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];return i>3&&(i=3),i<2?new cn(r):new cn(r,i)}};Vi.prototype.interfaces_=function(){return[_a,Ur]};Vi.prototype.getClass=function(){return Vi};Vi.instance=function(){return Vi.instanceObject};ec.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00};ec.instanceObject.get=function(){return new Vi};Object.defineProperties(Vi,ec);var qp=function(e){function t(){e.call(this),this.map_=new Map}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r){return this.map_.get(r)||null},t.prototype.put=function(r,i){return this.map_.set(r,i),i},t.prototype.values=function(){for(var r=new kt,i=this.map_.values(),o=i.next();!o.done;)r.add(o.value),o=i.next();return r},t.prototype.entrySet=function(){var r=new $h;return this.map_.entries().forEach(function(i){return r.add(i)}),r},t.prototype.size=function(){return this.map_.size()},t}(Ys),De=function e(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=e.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Ci){var t=arguments[0];this._modelType=t,t===e.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var n=arguments[0];this._modelType=e.FIXED,this.setScale(n)}else if(arguments[0]instanceof e){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}}},nc={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};De.prototype.equals=function(t){if(!(t instanceof De))return!1;var n=t;return this._modelType===n._modelType&&this._scale===n._scale};De.prototype.compareTo=function(t){var n=t,r=this.getMaximumSignificantDigits(),i=n.getMaximumSignificantDigits();return new yi(r).compareTo(new yi(i))};De.prototype.getScale=function(){return this._scale};De.prototype.isFloating=function(){return this._modelType===De.FLOATING||this._modelType===De.FLOATING_SINGLE};De.prototype.getType=function(){return this._modelType};De.prototype.toString=function(){var t="UNKNOWN";return this._modelType===De.FLOATING?t="Floating":this._modelType===De.FLOATING_SINGLE?t="Floating-Single":this._modelType===De.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t};De.prototype.makePrecise=function(){if(typeof arguments[0]=="number"){var t=arguments[0];if(Yt.isNaN(t))return t;if(this._modelType===De.FLOATING_SINGLE){var n=t;return n}return this._modelType===De.FIXED?Math.round(t*this._scale)/this._scale:t}else if(arguments[0]instanceof $){var r=arguments[0];if(this._modelType===De.FLOATING)return null;r.x=this.makePrecise(r.x),r.y=this.makePrecise(r.y)}};De.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===De.FLOATING?t=16:this._modelType===De.FLOATING_SINGLE?t=6:this._modelType===De.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t};De.prototype.setScale=function(t){this._scale=Math.abs(t)};De.prototype.interfaces_=function(){return[Ur,Vr]};De.prototype.getClass=function(){return De};De.mostPrecise=function(t,n){return t.compareTo(n)>=0?t:n};nc.serialVersionUID.get=function(){return 7777263578777804e3};nc.maximumPreciseValue.get=function(){return 9007199254740992};Object.defineProperties(De,nc);var Ci=function e(t){this._name=t||null,e.nameToTypeMap.put(t,this)},rc={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Ci.prototype.readResolve=function(){return Ci.nameToTypeMap.get(this._name)};Ci.prototype.toString=function(){return this._name};Ci.prototype.interfaces_=function(){return[Ur]};Ci.prototype.getClass=function(){return Ci};rc.serialVersionUID.get=function(){return-552860263173159e4};rc.nameToTypeMap.get=function(){return new qp};Object.defineProperties(Ci,rc);De.Type=Ci;De.FIXED=new Ci("FIXED");De.FLOATING=new Ci("FLOATING");De.FLOATING_SINGLE=new Ci("FLOATING SINGLE");var he=function e(){this._precisionModel=new De,this._SRID=0,this._coordinateSequenceFactory=e.getDefaultCoordinateSequenceFactory(),arguments.length===0||(arguments.length===1?jt(arguments[0],_a)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof De&&(this._precisionModel=arguments[0]):arguments.length===2?(this._precisionModel=arguments[0],this._SRID=arguments[1]):arguments.length===3&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Xp={serialVersionUID:{configurable:!0}};he.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new $(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new $(t.getMinX(),t.getMinY()),new $(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new $(t.getMinX(),t.getMinY()),new $(t.getMinX(),t.getMaxY()),new $(t.getMaxX(),t.getMaxY()),new $(t.getMaxX(),t.getMinY()),new $(t.getMinX(),t.getMinY())]),null)};he.prototype.createLineString=function(t){if(t){if(t instanceof Array)return new an(this.getCoordinateSequenceFactory().create(t),this);if(jt(t,Me))return new an(t,this)}else return new an(this.getCoordinateSequenceFactory().create([]),this)};he.prototype.createMultiLineString=function(){if(arguments.length===0)return new ss(null,this);if(arguments.length===1){var t=arguments[0];return new ss(t,this)}};he.prototype.buildGeometry=function(t){for(var n=null,r=!1,i=!1,o=t.iterator();o.hasNext();){var s=o.next(),u=s.getClass();n===null&&(n=u),u!==n&&(r=!0),s.isGeometryCollectionOrDerived()&&(i=!0)}if(n===null)return this.createGeometryCollection();if(r||i)return this.createGeometryCollection(he.toGeometryArray(t));var l=t.iterator().next(),p=t.size()>1;if(p){if(l instanceof Sn)return this.createMultiPolygon(he.toPolygonArray(t));if(l instanceof an)return this.createMultiLineString(he.toLineStringArray(t));if(l instanceof yr)return this.createMultiPoint(he.toPointArray(t));Jt.shouldNeverReachHere("Unhandled class: "+l.getClass().getName())}return l};he.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(t!==null?this.getCoordinateSequenceFactory().create(t):null)};he.prototype.createPoint=function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof $){var t=arguments[0];return this.createPoint(t!==null?this.getCoordinateSequenceFactory().create([t]):null)}else if(jt(arguments[0],Me)){var n=arguments[0];return new yr(n,this)}}};he.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory};he.prototype.createPolygon=function(){if(arguments.length===0)return new Sn(null,null,this);if(arguments.length===1){if(jt(arguments[0],Me)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}else if(arguments[0]instanceof Array){var n=arguments[0];return this.createPolygon(this.createLinearRing(n))}else if(arguments[0]instanceof Gi){var r=arguments[0];return this.createPolygon(r,null)}}else if(arguments.length===2){var i=arguments[0],o=arguments[1];return new Sn(i,o,this)}};he.prototype.getSRID=function(){return this._SRID};he.prototype.createGeometryCollection=function(){if(arguments.length===0)return new rr(null,this);if(arguments.length===1){var t=arguments[0];return new rr(t,this)}};he.prototype.createGeometry=function(t){var n=new zr(this);return n.edit(t,{edit:function(){if(arguments.length===2){var r=arguments[0];return this._coordinateSequenceFactory.create(r)}}})};he.prototype.getPrecisionModel=function(){return this._precisionModel};he.prototype.createLinearRing=function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(t!==null?this.getCoordinateSequenceFactory().create(t):null)}else if(jt(arguments[0],Me)){var n=arguments[0];return new Gi(n,this)}}};he.prototype.createMultiPolygon=function(){if(arguments.length===0)return new Bi(null,this);if(arguments.length===1){var t=arguments[0];return new Bi(t,this)}};he.prototype.createMultiPoint=function(){var t=this;if(arguments.length===0)return new Ca(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];return new Ca(n,this)}else if(arguments[0]instanceof Array){var r=arguments[0];return this.createMultiPoint(r!==null?this.getCoordinateSequenceFactory().create(r):null)}else if(jt(arguments[0],Me)){var i=arguments[0];if(i===null)return this.createMultiPoint(new Array(0).fill(null));for(var o=new Array(i.size()).fill(null),s=0;s<i.size();s++){var u=t.getCoordinateSequenceFactory().create(1,i.getDimension());pn.copy(i,s,u,0,1),o[s]=t.createPoint(u)}return this.createMultiPoint(o)}}};he.prototype.interfaces_=function(){return[Ur]};he.prototype.getClass=function(){return he};he.toMultiPolygonArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)};he.toGeometryArray=function(t){if(t===null)return null;var n=new Array(t.size()).fill(null);return t.toArray(n)};he.getDefaultCoordinateSequenceFactory=function(){return Vi.instance()};he.toMultiLineStringArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)};he.toLineStringArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)};he.toMultiPointArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)};he.toLinearRingArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)};he.toPointArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)};he.toPolygonArray=function(t){var n=new Array(t.size()).fill(null);return t.toArray(n)};he.createPointFromInternalCoord=function(t,n){return n.getPrecisionModel().makePrecise(t),n.getFactory().createPoint(t)};Xp.serialVersionUID.get=function(){return-6820524753094096e3};Object.defineProperties(he,Xp);var o_=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],qu=function(t){this.geometryFactory=t||new he};qu.prototype.read=function(t){var n;typeof t=="string"?n=JSON.parse(t):n=t;var r=n.type;if(!ci[r])throw new Error("Unknown GeoJSON type: "+n.type);return o_.indexOf(r)!==-1?ci[r].apply(this,[n.coordinates]):r==="GeometryCollection"?ci[r].apply(this,[n.geometries]):ci[r].apply(this,[n])};qu.prototype.write=function(t){var n=t.getGeometryType();if(!so[n])throw new Error("Geometry is not supported");return so[n].apply(this,[t])};var ci={Feature:function(e){var t={};for(var n in e)t[n]=e[n];if(e.geometry){var r=e.geometry.type;if(!ci[r])throw new Error("Unknown GeoJSON type: "+e.type);t.geometry=this.read(e.geometry)}return e.bbox&&(t.bbox=ci.bbox.apply(this,[e.bbox])),t},FeatureCollection:function(e){var t=this,n={};if(e.features){n.features=[];for(var r=0;r<e.features.length;++r)n.features.push(t.read(e.features[r]))}return e.bbox&&(n.bbox=this.parse.bbox.apply(this,[e.bbox])),n},coordinates:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(new $(r[0],r[1]))}return t},bbox:function(e){return this.geometryFactory.createLinearRing([new $(e[0],e[1]),new $(e[2],e[1]),new $(e[2],e[3]),new $(e[0],e[3]),new $(e[0],e[1])])},Point:function(e){var t=new $(e[0],e[1]);return this.geometryFactory.createPoint(t)},MultiPoint:function(e){for(var t=this,n=[],r=0;r<e.length;++r)n.push(ci.Point.apply(t,[e[r]]));return this.geometryFactory.createMultiPoint(n)},LineString:function(e){var t=ci.coordinates.apply(this,[e]);return this.geometryFactory.createLineString(t)},MultiLineString:function(e){for(var t=this,n=[],r=0;r<e.length;++r)n.push(ci.LineString.apply(t,[e[r]]));return this.geometryFactory.createMultiLineString(n)},Polygon:function(e){for(var t=this,n=ci.coordinates.apply(this,[e[0]]),r=this.geometryFactory.createLinearRing(n),i=[],o=1;o<e.length;++o){var s=e[o],u=ci.coordinates.apply(t,[s]),l=t.geometryFactory.createLinearRing(u);i.push(l)}return this.geometryFactory.createPolygon(r,i)},MultiPolygon:function(e){for(var t=this,n=[],r=0;r<e.length;++r){var i=e[r];n.push(ci.Polygon.apply(t,[i]))}return this.geometryFactory.createMultiPolygon(n)},GeometryCollection:function(e){for(var t=this,n=[],r=0;r<e.length;++r){var i=e[r];n.push(t.read(i))}return this.geometryFactory.createGeometryCollection(n)}},so={coordinate:function(e){return[e.x,e.y]},Point:function(e){var t=so.coordinate.apply(this,[e.getCoordinate()]);return{type:"Point",coordinates:t}},MultiPoint:function(e){for(var t=this,n=[],r=0;r<e._geometries.length;++r){var i=e._geometries[r],o=so.Point.apply(t,[i]);n.push(o.coordinates)}return{type:"MultiPoint",coordinates:n}},LineString:function(e){for(var t=this,n=[],r=e.getCoordinates(),i=0;i<r.length;++i){var o=r[i];n.push(so.coordinate.apply(t,[o]))}return{type:"LineString",coordinates:n}},MultiLineString:function(e){for(var t=this,n=[],r=0;r<e._geometries.length;++r){var i=e._geometries[r],o=so.LineString.apply(t,[i]);n.push(o.coordinates)}return{type:"MultiLineString",coordinates:n}},Polygon:function(e){var t=this,n=[],r=so.LineString.apply(this,[e._shell]);n.push(r.coordinates);for(var i=0;i<e._holes.length;++i){var o=e._holes[i],s=so.LineString.apply(t,[o]);n.push(s.coordinates)}return{type:"Polygon",coordinates:n}},MultiPolygon:function(e){for(var t=this,n=[],r=0;r<e._geometries.length;++r){var i=e._geometries[r],o=so.Polygon.apply(t,[i]);n.push(o.coordinates)}return{type:"MultiPolygon",coordinates:n}},GeometryCollection:function(e){for(var t=this,n=[],r=0;r<e._geometries.length;++r){var i=e._geometries[r],o=i.getGeometryType();n.push(so[o].apply(t,[i]))}return{type:"GeometryCollection",geometries:n}}},ic=function(t){this.geometryFactory=t||new he,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new qu(this.geometryFactory)};ic.prototype.read=function(t){var n=this.parser.read(t);return this.precisionModel.getType()===De.FIXED&&this.reducePrecision(n),n};ic.prototype.reducePrecision=function(t){var n=this,r,i;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(r=0,i=t.points.length;r<i;r++)n.precisionModel.makePrecise(t.points[r]);else if(t.geometries)for(r=0,i=t.geometries.length;r<i;r++)n.reducePrecision(t.geometries[r])};var Yp=function(){this.parser=new qu(this.geometryFactory)};Yp.prototype.write=function(t){return this.parser.write(t)};var Mt=function(){},Xu={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Mt.prototype.interfaces_=function(){return[]};Mt.prototype.getClass=function(){return Mt};Mt.opposite=function(t){return t===Mt.LEFT?Mt.RIGHT:t===Mt.RIGHT?Mt.LEFT:t};Xu.ON.get=function(){return 0};Xu.LEFT.get=function(){return 1};Xu.RIGHT.get=function(){return 2};Object.defineProperties(Mt,Xu);function Yu(e){this.message=e||""}Yu.prototype=new Error;Yu.prototype.name="EmptyStackException";function xi(){this.array_=[]}xi.prototype=new qr;xi.prototype.add=function(e){return this.array_.push(e),!0};xi.prototype.get=function(e){if(e<0||e>=this.size())throw new Error;return this.array_[e]};xi.prototype.push=function(e){return this.array_.push(e),e};xi.prototype.pop=function(e){if(this.array_.length===0)throw new Yu;return this.array_.pop()};xi.prototype.peek=function(){if(this.array_.length===0)throw new Yu;return this.array_[this.array_.length-1]};xi.prototype.empty=function(){return this.array_.length===0};xi.prototype.isEmpty=function(){return this.empty()};xi.prototype.search=function(e){return this.array_.indexOf(e)};xi.prototype.size=function(){return this.array_.length};xi.prototype.toArray=function(){for(var e=this,t=[],n=0,r=this.array_.length;n<r;n++)t.push(e.array_[n]);return t};var wi=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};wi.prototype.getCoordinate=function(){return this._minCoord};wi.prototype.getRightmostSide=function(t,n){var r=this.getRightmostSideOfSegment(t,n);return r<0&&(r=this.getRightmostSideOfSegment(t,n-1)),r<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),r};wi.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();Jt.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var n=t[this._minIndex-1],r=t[this._minIndex+1],i=xt.computeOrientation(this._minCoord,r,n),o=!1;(n.y<this._minCoord.y&&r.y<this._minCoord.y&&i===xt.COUNTERCLOCKWISE||n.y>this._minCoord.y&&r.y>this._minCoord.y&&i===xt.CLOCKWISE)&&(o=!0),o&&(this._minIndex=this._minIndex-1)};wi.prototype.getRightmostSideOfSegment=function(t,n){var r=t.getEdge(),i=r.getCoordinates();if(n<0||n+1>=i.length||i[n].y===i[n+1].y)return-1;var o=Mt.LEFT;return i[n].y<i[n+1].y&&(o=Mt.RIGHT),o};wi.prototype.getEdge=function(){return this._orientedDe};wi.prototype.checkForRightmostCoordinate=function(t){for(var n=this,r=t.getEdge().getCoordinates(),i=0;i<r.length-1;i++)(n._minCoord===null||r[i].x>n._minCoord.x)&&(n._minDe=t,n._minIndex=i,n._minCoord=r[i])};wi.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode(),n=t.getEdges();this._minDe=n.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)};wi.prototype.findEdge=function(t){for(var n=this,r=t.iterator();r.hasNext();){var i=r.next();i.isForward()&&n.checkForRightmostCoordinate(i)}Jt.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe;var o=this.getRightmostSide(this._minDe,this._minIndex);o===Mt.LEFT&&(this._orientedDe=this._minDe.getSym())};wi.prototype.interfaces_=function(){return[]};wi.prototype.getClass=function(){return wi};var po=function(e){function t(n,r){e.call(this,t.msgWithCoord(n,r)),this.pt=r?new $(r):null,this.name="TopologyException"}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCoordinate=function(){return this.pt},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.msgWithCoord=function(r,i){return i?r:r+" [ "+i+" ]"},t}(co),Wu=function(){this.array_=[]};Wu.prototype.addLast=function(t){this.array_.push(t)};Wu.prototype.removeFirst=function(){return this.array_.shift()};Wu.prototype.isEmpty=function(){return this.array_.length===0};var ir=function(){this._finder=null,this._dirEdgeList=new kt,this._nodes=new kt,this._rightMostCoord=null,this._env=null,this._finder=new wi};ir.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var n=t.next();n.setVisited(!1)}};ir.prototype.getRightmostCoordinate=function(){return this._rightMostCoord};ir.prototype.computeNodeDepth=function(t){for(var n=this,r=null,i=t.getEdges().iterator();i.hasNext();){var o=i.next();if(o.isVisited()||o.getSym().isVisited()){r=o;break}}if(r===null)throw new po("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(r);for(var s=t.getEdges().iterator();s.hasNext();){var u=s.next();u.setVisited(!0),n.copySymDepths(u)}};ir.prototype.computeDepth=function(t){this.clearVisitedEdges();var n=this._finder.getEdge();n.setEdgeDepths(Mt.RIGHT,t),this.copySymDepths(n),this.computeDepths(n)};ir.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()};ir.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var n=t.next();n.getDepth(Mt.RIGHT)>=1&&n.getDepth(Mt.LEFT)<=0&&!n.isInteriorAreaEdge()&&n.setInResult(!0)}};ir.prototype.computeDepths=function(t){var n=this,r=new $h,i=new Wu,o=t.getNode();for(i.addLast(o),r.add(o),t.setVisited(!0);!i.isEmpty();){var s=i.removeFirst();r.add(s),n.computeNodeDepth(s);for(var u=s.getEdges().iterator();u.hasNext();){var l=u.next(),p=l.getSym();if(!p.isVisited()){var g=p.getNode();r.contains(g)||(i.addLast(g),r.add(g))}}}};ir.prototype.compareTo=function(t){var n=t;return this._rightMostCoord.x<n._rightMostCoord.x?-1:this._rightMostCoord.x>n._rightMostCoord.x?1:0};ir.prototype.getEnvelope=function(){if(this._env===null){for(var t=new zt,n=this._dirEdgeList.iterator();n.hasNext();)for(var r=n.next(),i=r.getEdge().getCoordinates(),o=0;o<i.length-1;o++)t.expandToInclude(i[o]);this._env=t}return this._env};ir.prototype.addReachable=function(t){var n=this,r=new xi;for(r.add(t);!r.empty();){var i=r.pop();n.add(i,r)}};ir.prototype.copySymDepths=function(t){var n=t.getSym();n.setDepth(Mt.LEFT,t.getDepth(Mt.RIGHT)),n.setDepth(Mt.RIGHT,t.getDepth(Mt.LEFT))};ir.prototype.add=function(t,n){var r=this;t.setVisited(!0),this._nodes.add(t);for(var i=t.getEdges().iterator();i.hasNext();){var o=i.next();r._dirEdgeList.add(o);var s=o.getSym(),u=s.getNode();u.isVisited()||n.push(u)}};ir.prototype.getNodes=function(){return this._nodes};ir.prototype.getDirectedEdges=function(){return this._dirEdgeList};ir.prototype.interfaces_=function(){return[Vr]};ir.prototype.getClass=function(){return ir};var je=function e(){var t=this;if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var n=arguments[0];this.init(n.length)}else if(Number.isInteger(arguments[0])){var r=arguments[0];this.init(1),this.location[Mt.ON]=r}else if(arguments[0]instanceof e){var i=arguments[0];if(this.init(i.location.length),i!==null)for(var o=0;o<this.location.length;o++)t.location[o]=i.location[o]}}else if(arguments.length===3){var s=arguments[0],u=arguments[1],l=arguments[2];this.init(3),this.location[Mt.ON]=s,this.location[Mt.LEFT]=u,this.location[Mt.RIGHT]=l}};je.prototype.setAllLocations=function(t){for(var n=this,r=0;r<this.location.length;r++)n.location[r]=t};je.prototype.isNull=function(){for(var t=this,n=0;n<this.location.length;n++)if(t.location[n]!==et.NONE)return!1;return!0};je.prototype.setAllLocationsIfNull=function(t){for(var n=this,r=0;r<this.location.length;r++)n.location[r]===et.NONE&&(n.location[r]=t)};je.prototype.isLine=function(){return this.location.length===1};je.prototype.merge=function(t){var n=this;if(t.location.length>this.location.length){var r=new Array(3).fill(null);r[Mt.ON]=this.location[Mt.ON],r[Mt.LEFT]=et.NONE,r[Mt.RIGHT]=et.NONE,this.location=r}for(var i=0;i<this.location.length;i++)n.location[i]===et.NONE&&i<t.location.length&&(n.location[i]=t.location[i])};je.prototype.getLocations=function(){return this.location};je.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Mt.LEFT];this.location[Mt.LEFT]=this.location[Mt.RIGHT],this.location[Mt.RIGHT]=t};je.prototype.toString=function(){var t=new Ii;return this.location.length>1&&t.append(et.toLocationSymbol(this.location[Mt.LEFT])),t.append(et.toLocationSymbol(this.location[Mt.ON])),this.location.length>1&&t.append(et.toLocationSymbol(this.location[Mt.RIGHT])),t.toString()};je.prototype.setLocations=function(t,n,r){this.location[Mt.ON]=t,this.location[Mt.LEFT]=n,this.location[Mt.RIGHT]=r};je.prototype.get=function(t){return t<this.location.length?this.location[t]:et.NONE};je.prototype.isArea=function(){return this.location.length>1};je.prototype.isAnyNull=function(){for(var t=this,n=0;n<this.location.length;n++)if(t.location[n]===et.NONE)return!0;return!1};je.prototype.setLocation=function(){if(arguments.length===1){var t=arguments[0];this.setLocation(Mt.ON,t)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.location[n]=r}};je.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(et.NONE)};je.prototype.isEqualOnSide=function(t,n){return this.location[n]===t.location[n]};je.prototype.allPositionsEqual=function(t){for(var n=this,r=0;r<this.location.length;r++)if(n.location[r]!==t)return!1;return!0};je.prototype.interfaces_=function(){return[]};je.prototype.getClass=function(){return je};var ze=function e(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new je(t),this.elt[1]=new je(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.elt[0]=new je(n.elt[0]),this.elt[1]=new je(n.elt[1])}}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this.elt[0]=new je(et.NONE),this.elt[1]=new je(et.NONE),this.elt[r].setLocation(i)}else if(arguments.length===3){var o=arguments[0],s=arguments[1],u=arguments[2];this.elt[0]=new je(o,s,u),this.elt[1]=new je(o,s,u)}else if(arguments.length===4){var l=arguments[0],p=arguments[1],g=arguments[2],c=arguments[3];this.elt[0]=new je(et.NONE,et.NONE,et.NONE),this.elt[1]=new je(et.NONE,et.NONE,et.NONE),this.elt[l].setLocations(p,g,c)}};ze.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t};ze.prototype.setAllLocations=function(t,n){this.elt[t].setAllLocations(n)};ze.prototype.isNull=function(t){return this.elt[t].isNull()};ze.prototype.setAllLocationsIfNull=function(){if(arguments.length===1){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.elt[n].setAllLocationsIfNull(r)}};ze.prototype.isLine=function(t){return this.elt[t].isLine()};ze.prototype.merge=function(t){for(var n=this,r=0;r<2;r++)n.elt[r]===null&&t.elt[r]!==null?n.elt[r]=new je(t.elt[r]):n.elt[r].merge(t.elt[r])};ze.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()};ze.prototype.getLocation=function(){if(arguments.length===1){var t=arguments[0];return this.elt[t].get(Mt.ON)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return this.elt[n].get(r)}};ze.prototype.toString=function(){var t=new Ii;return this.elt[0]!==null&&(t.append("A:"),t.append(this.elt[0].toString())),this.elt[1]!==null&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()};ze.prototype.isArea=function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var t=arguments[0];return this.elt[t].isArea()}};ze.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()};ze.prototype.setLocation=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];this.elt[t].setLocation(Mt.ON,n)}else if(arguments.length===3){var r=arguments[0],i=arguments[1],o=arguments[2];this.elt[r].setLocation(i,o)}};ze.prototype.isEqualOnSide=function(t,n){return this.elt[0].isEqualOnSide(t.elt[0],n)&&this.elt[1].isEqualOnSide(t.elt[1],n)};ze.prototype.allPositionsEqual=function(t,n){return this.elt[t].allPositionsEqual(n)};ze.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new je(this.elt[t].location[0]))};ze.prototype.interfaces_=function(){return[]};ze.prototype.getClass=function(){return ze};ze.toLineLabel=function(t){for(var n=new ze(et.NONE),r=0;r<2;r++)n.setLocation(r,t.getLocation(r));return n};var Ln=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new kt,this._pts=new kt,this._label=new ze(et.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new kt,this._geometryFactory=null;var t=arguments[0],n=arguments[1];this._geometryFactory=n,this.computePoints(t),this.computeRing()};Ln.prototype.computeRing=function(){var t=this;if(this._ring!==null)return null;for(var n=new Array(this._pts.size()).fill(null),r=0;r<this._pts.size();r++)n[r]=t._pts.get(r);this._ring=this._geometryFactory.createLinearRing(n),this._isHole=xt.isCCW(this._ring.getCoordinates())};Ln.prototype.isIsolated=function(){return this._label.getGeometryCount()===1};Ln.prototype.computePoints=function(t){var n=this;this._startDe=t;var r=t,i=!0;do{if(r===null)throw new po("Found null DirectedEdge");if(r.getEdgeRing()===n)throw new po("Directed Edge visited twice during ring-building at "+r.getCoordinate());n._edges.add(r);var o=r.getLabel();Jt.isTrue(o.isArea()),n.mergeLabel(o),n.addPoints(r.getEdge(),r.isForward(),i),i=!1,n.setEdgeRing(r,n),r=n.getNext(r)}while(r!==this._startDe)};Ln.prototype.getLinearRing=function(){return this._ring};Ln.prototype.getCoordinate=function(t){return this._pts.get(t)};Ln.prototype.computeMaxNodeDegree=function(){var t=this;this._maxNodeDegree=0;var n=this._startDe;do{var r=n.getNode(),i=r.getEdges().getOutgoingDegree(t);i>t._maxNodeDegree&&(t._maxNodeDegree=i),n=t.getNext(n)}while(n!==this._startDe);this._maxNodeDegree*=2};Ln.prototype.addPoints=function(t,n,r){var i=this,o=t.getCoordinates();if(n){var s=1;r&&(s=0);for(var u=s;u<o.length;u++)i._pts.add(o[u])}else{var l=o.length-2;r&&(l=o.length-1);for(var p=l;p>=0;p--)i._pts.add(o[p])}};Ln.prototype.isHole=function(){return this._isHole};Ln.prototype.setInResult=function(){var t=this._startDe;do t.getEdge().setInResult(!0),t=t.getNext();while(t!==this._startDe)};Ln.prototype.containsPoint=function(t){var n=this.getLinearRing(),r=n.getEnvelopeInternal();if(!r.contains(t)||!xt.isPointInRing(t,n.getCoordinates()))return!1;for(var i=this._holes.iterator();i.hasNext();){var o=i.next();if(o.containsPoint(t))return!1}return!0};Ln.prototype.addHole=function(t){this._holes.add(t)};Ln.prototype.isShell=function(){return this._shell===null};Ln.prototype.getLabel=function(){return this._label};Ln.prototype.getEdges=function(){return this._edges};Ln.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree};Ln.prototype.getShell=function(){return this._shell};Ln.prototype.mergeLabel=function(){if(arguments.length===1){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(arguments.length===2){var n=arguments[0],r=arguments[1],i=n.getLocation(r,Mt.RIGHT);if(i===et.NONE)return null;if(this._label.getLocation(r)===et.NONE)return this._label.setLocation(r,i),null}};Ln.prototype.setShell=function(t){this._shell=t,t!==null&&t.addHole(this)};Ln.prototype.toPolygon=function(t){for(var n=this,r=new Array(this._holes.size()).fill(null),i=0;i<this._holes.size();i++)r[i]=n._holes.get(i).getLinearRing();var o=t.createPolygon(this.getLinearRing(),r);return o};Ln.prototype.interfaces_=function(){return[]};Ln.prototype.getClass=function(){return Ln};var s_=function(e){function t(){var n=arguments[0],r=arguments[1];e.call(this,n,r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setEdgeRing=function(r,i){r.setMinEdgeRing(i)},t.prototype.getNext=function(r){return r.getNextMin()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Ln),a_=function(e){function t(){var n=arguments[0],r=arguments[1];e.call(this,n,r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.buildMinimalRings=function(){var r=this,i=new kt,o=this._startDe;do{if(o.getMinEdgeRing()===null){var s=new s_(o,r._geometryFactory);i.add(s)}o=o.getNext()}while(o!==this._startDe);return i},t.prototype.setEdgeRing=function(r,i){r.setEdgeRing(i)},t.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var r=this,i=this._startDe;do{var o=i.getNode();o.getEdges().linkMinimalDirectedEdges(r),i=i.getNext()}while(i!==this._startDe)},t.prototype.getNext=function(r){return r.getNext()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Ln),Sr=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this._label=t}}};Sr.prototype.setVisited=function(t){this._isVisited=t};Sr.prototype.setInResult=function(t){this._isInResult=t};Sr.prototype.isCovered=function(){return this._isCovered};Sr.prototype.isCoveredSet=function(){return this._isCoveredSet};Sr.prototype.setLabel=function(t){this._label=t};Sr.prototype.getLabel=function(){return this._label};Sr.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0};Sr.prototype.updateIM=function(t){Jt.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)};Sr.prototype.isInResult=function(){return this._isInResult};Sr.prototype.isVisited=function(){return this._isVisited};Sr.prototype.interfaces_=function(){return[]};Sr.prototype.getClass=function(){return Sr};var Ku=function(e){function t(){e.call(this),this._coord=null,this._edges=null;var n=arguments[0],r=arguments[1];this._coord=n,this._edges=r,this._label=new ze(0,et.NONE)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isIncidentEdgeInResult=function(){for(var r=this.getEdges().getEdges().iterator();r.hasNext();){var i=r.next();if(i.getEdge().isInResult())return!0}return!1},t.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},t.prototype.getCoordinate=function(){return this._coord},t.prototype.print=function(r){r.println("node "+this._coord+" lbl: "+this._label)},t.prototype.computeIM=function(r){},t.prototype.computeMergedLocation=function(r,i){var o=et.NONE;if(o=this._label.getLocation(i),!r.isNull(i)){var s=r.getLocation(i);o!==et.BOUNDARY&&(o=s)}return o},t.prototype.setLabel=function(){if(arguments.length===2){var r=arguments[0],i=arguments[1];this._label===null?this._label=new ze(r,i):this._label.setLocation(r,i)}else return e.prototype.setLabel.apply(this,arguments)},t.prototype.getEdges=function(){return this._edges},t.prototype.mergeLabel=function(){var r=this;if(arguments[0]instanceof t){var i=arguments[0];this.mergeLabel(i._label)}else if(arguments[0]instanceof ze)for(var o=arguments[0],s=0;s<2;s++){var u=r.computeMergedLocation(o,s),l=r._label.getLocation(s);l===et.NONE&&r._label.setLocation(s,u)}},t.prototype.add=function(r){this._edges.insert(r),r.setNode(this)},t.prototype.setLabelBoundary=function(r){if(this._label===null)return null;var i=et.NONE;this._label!==null&&(i=this._label.getLocation(r));var o=null;switch(i){case et.BOUNDARY:o=et.INTERIOR;break;case et.INTERIOR:o=et.BOUNDARY;break;default:o=et.BOUNDARY;break}this._label.setLocation(r,o)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Sr),Ei=function(){this.nodeMap=new qn,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};Ei.prototype.find=function(t){return this.nodeMap.get(t)};Ei.prototype.addNode=function(){if(arguments[0]instanceof $){var t=arguments[0],n=this.nodeMap.get(t);return n===null&&(n=this.nodeFact.createNode(t),this.nodeMap.put(t,n)),n}else if(arguments[0]instanceof Ku){var r=arguments[0],i=this.nodeMap.get(r.getCoordinate());return i===null?(this.nodeMap.put(r.getCoordinate(),r),r):(i.mergeLabel(r),i)}};Ei.prototype.print=function(t){for(var n=this.iterator();n.hasNext();){var r=n.next();r.print(t)}};Ei.prototype.iterator=function(){return this.nodeMap.values().iterator()};Ei.prototype.values=function(){return this.nodeMap.values()};Ei.prototype.getBoundaryNodes=function(t){for(var n=new kt,r=this.iterator();r.hasNext();){var i=r.next();i.getLabel().getLocation(t)===et.BOUNDARY&&n.add(i)}return n};Ei.prototype.add=function(t){var n=t.getCoordinate(),r=this.addNode(n);r.add(t)};Ei.prototype.interfaces_=function(){return[]};Ei.prototype.getClass=function(){return Ei};var Ve=function(){},Al={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Ve.prototype.interfaces_=function(){return[]};Ve.prototype.getClass=function(){return Ve};Ve.isNorthern=function(t){return t===Ve.NE||t===Ve.NW};Ve.isOpposite=function(t,n){if(t===n)return!1;var r=(t-n+4)%4;return r===2};Ve.commonHalfPlane=function(t,n){if(t===n)return t;var r=(t-n+4)%4;if(r===2)return-1;var i=t<n?t:n,o=t>n?t:n;return i===0&&o===3?3:i};Ve.isInHalfPlane=function(t,n){return n===Ve.SE?t===Ve.SE||t===Ve.SW:t===n||t===n+1};Ve.quadrant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],n=arguments[1];if(t===0&&n===0)throw new $e("Cannot compute the quadrant for point ( "+t+", "+n+" )");return t>=0?n>=0?Ve.NE:Ve.SE:n>=0?Ve.NW:Ve.SW}else if(arguments[0]instanceof $&&arguments[1]instanceof $){var r=arguments[0],i=arguments[1];if(i.x===r.x&&i.y===r.y)throw new $e("Cannot compute the quadrant for two identical points "+r);return i.x>=r.x?i.y>=r.y?Ve.NE:Ve.SE:i.y>=r.y?Ve.NW:Ve.SW}};Al.NE.get=function(){return 0};Al.NW.get=function(){return 1};Al.SW.get=function(){return 2};Al.SE.get=function(){return 3};Object.defineProperties(Ve,Al);var Xn=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var t=arguments[0];this._edge=t}else if(arguments.length===3){var n=arguments[0],r=arguments[1],i=arguments[2],o=null;this._edge=n,this.init(r,i),this._label=o}else if(arguments.length===4){var s=arguments[0],u=arguments[1],l=arguments[2],p=arguments[3];this._edge=s,this.init(u,l),this._label=p}};Xn.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:xt.computeOrientation(t._p0,t._p1,this._p1)};Xn.prototype.getDy=function(){return this._dy};Xn.prototype.getCoordinate=function(){return this._p0};Xn.prototype.setNode=function(t){this._node=t};Xn.prototype.print=function(t){var n=Math.atan2(this._dy,this._dx),r=this.getClass().getName(),i=r.lastIndexOf("."),o=r.substring(i+1);t.print("  "+o+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+n+"   "+this._label)};Xn.prototype.compareTo=function(t){var n=t;return this.compareDirection(n)};Xn.prototype.getDirectedCoordinate=function(){return this._p1};Xn.prototype.getDx=function(){return this._dx};Xn.prototype.getLabel=function(){return this._label};Xn.prototype.getEdge=function(){return this._edge};Xn.prototype.getQuadrant=function(){return this._quadrant};Xn.prototype.getNode=function(){return this._node};Xn.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);return"  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label};Xn.prototype.computeLabel=function(t){};Xn.prototype.init=function(t,n){this._p0=t,this._p1=n,this._dx=n.x-t.x,this._dy=n.y-t.y,this._quadrant=Ve.quadrant(this._dx,this._dy),Jt.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")};Xn.prototype.interfaces_=function(){return[Vr]};Xn.prototype.getClass=function(){return Xn};var Th=function(e){function t(){var n=arguments[0],r=arguments[1];if(e.call(this,n),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=r,r)this.init(n.getCoordinate(0),n.getCoordinate(1));else{var i=n.getNumPoints()-1;this.init(n.getCoordinate(i),n.getCoordinate(i-1))}this.computeDirectedLabel()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getNextMin=function(){return this._nextMin},t.prototype.getDepth=function(r){return this._depth[r]},t.prototype.setVisited=function(r){this._isVisited=r},t.prototype.computeDirectedLabel=function(){this._label=new ze(this._edge.getLabel()),this._isForward||this._label.flip()},t.prototype.getNext=function(){return this._next},t.prototype.setDepth=function(r,i){if(this._depth[r]!==-999&&this._depth[r]!==i)throw new po("assigned depths do not match",this.getCoordinate());this._depth[r]=i},t.prototype.isInteriorAreaEdge=function(){for(var r=this,i=!0,o=0;o<2;o++)r._label.isArea(o)&&r._label.getLocation(o,Mt.LEFT)===et.INTERIOR&&r._label.getLocation(o,Mt.RIGHT)===et.INTERIOR||(i=!1);return i},t.prototype.setNextMin=function(r){this._nextMin=r},t.prototype.print=function(r){e.prototype.print.call(this,r),r.print(" "+this._depth[Mt.LEFT]+"/"+this._depth[Mt.RIGHT]),r.print(" ("+this.getDepthDelta()+")"),this._isInResult&&r.print(" inResult")},t.prototype.setMinEdgeRing=function(r){this._minEdgeRing=r},t.prototype.isLineEdge=function(){var r=this._label.isLine(0)||this._label.isLine(1),i=!this._label.isArea(0)||this._label.allPositionsEqual(0,et.EXTERIOR),o=!this._label.isArea(1)||this._label.allPositionsEqual(1,et.EXTERIOR);return r&&i&&o},t.prototype.setEdgeRing=function(r){this._edgeRing=r},t.prototype.getMinEdgeRing=function(){return this._minEdgeRing},t.prototype.getDepthDelta=function(){var r=this._edge.getDepthDelta();return this._isForward||(r=-r),r},t.prototype.setInResult=function(r){this._isInResult=r},t.prototype.getSym=function(){return this._sym},t.prototype.isForward=function(){return this._isForward},t.prototype.getEdge=function(){return this._edge},t.prototype.printEdge=function(r){this.print(r),r.print(" "),this._isForward?this._edge.print(r):this._edge.printReverse(r)},t.prototype.setSym=function(r){this._sym=r},t.prototype.setVisitedEdge=function(r){this.setVisited(r),this._sym.setVisited(r)},t.prototype.setEdgeDepths=function(r,i){var o=this.getEdge().getDepthDelta();this._isForward||(o=-o);var s=1;r===Mt.LEFT&&(s=-1);var u=Mt.opposite(r),l=o*s,p=i+l;this.setDepth(r,i),this.setDepth(u,p)},t.prototype.getEdgeRing=function(){return this._edgeRing},t.prototype.isInResult=function(){return this._isInResult},t.prototype.setNext=function(r){this._next=r},t.prototype.isVisited=function(){return this._isVisited},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.depthFactor=function(r,i){return r===et.EXTERIOR&&i===et.INTERIOR?1:r===et.INTERIOR&&i===et.EXTERIOR?-1:0},t}(Xn),wa=function(){};wa.prototype.createNode=function(t){return new Ku(t,null)};wa.prototype.interfaces_=function(){return[]};wa.prototype.getClass=function(){return wa};var on=function(){if(this._edges=new kt,this._nodes=null,this._edgeEndList=new kt,arguments.length===0)this._nodes=new Ei(new wa);else if(arguments.length===1){var t=arguments[0];this._nodes=new Ei(t)}};on.prototype.printEdges=function(t){var n=this;t.println("Edges:");for(var r=0;r<this._edges.size();r++){t.println("edge "+r+":");var i=n._edges.get(r);i.print(t),i.eiList.print(t)}};on.prototype.find=function(t){return this._nodes.find(t)};on.prototype.addNode=function(){if(arguments[0]instanceof Ku){var t=arguments[0];return this._nodes.addNode(t)}else if(arguments[0]instanceof $){var n=arguments[0];return this._nodes.addNode(n)}};on.prototype.getNodeIterator=function(){return this._nodes.iterator()};on.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();){var n=t.next();n.getEdges().linkResultDirectedEdges()}};on.prototype.debugPrintln=function(t){Fn.out.println(t)};on.prototype.isBoundaryNode=function(t,n){var r=this._nodes.find(n);if(r===null)return!1;var i=r.getLabel();return i!==null&&i.getLocation(t)===et.BOUNDARY};on.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();){var n=t.next();n.getEdges().linkAllDirectedEdges()}};on.prototype.matchInSameDirection=function(t,n,r,i){return t.equals(r)?xt.computeOrientation(t,n,i)===xt.COLLINEAR&&Ve.quadrant(t,n)===Ve.quadrant(r,i):!1};on.prototype.getEdgeEnds=function(){return this._edgeEndList};on.prototype.debugPrint=function(t){Fn.out.print(t)};on.prototype.getEdgeIterator=function(){return this._edges.iterator()};on.prototype.findEdgeInSameDirection=function(t,n){for(var r=this,i=0;i<this._edges.size();i++){var o=r._edges.get(i),s=o.getCoordinates();if(r.matchInSameDirection(t,n,s[0],s[1])||r.matchInSameDirection(t,n,s[s.length-1],s[s.length-2]))return o}return null};on.prototype.insertEdge=function(t){this._edges.add(t)};on.prototype.findEdgeEnd=function(t){for(var n=this.getEdgeEnds().iterator();n.hasNext();){var r=n.next();if(r.getEdge()===t)return r}return null};on.prototype.addEdges=function(t){for(var n=this,r=t.iterator();r.hasNext();){var i=r.next();n._edges.add(i);var o=new Th(i,!0),s=new Th(i,!1);o.setSym(s),s.setSym(o),n.add(o),n.add(s)}};on.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)};on.prototype.getNodes=function(){return this._nodes.values()};on.prototype.findEdge=function(t,n){for(var r=this,i=0;i<this._edges.size();i++){var o=r._edges.get(i),s=o.getCoordinates();if(t.equals(s[0])&&n.equals(s[1]))return o}return null};on.prototype.interfaces_=function(){return[]};on.prototype.getClass=function(){return on};on.linkResultDirectedEdges=function(t){for(var n=t.iterator();n.hasNext();){var r=n.next();r.getEdges().linkResultDirectedEdges()}};var Lr=function(){this._geometryFactory=null,this._shellList=new kt;var t=arguments[0];this._geometryFactory=t};Lr.prototype.sortShellsAndHoles=function(t,n,r){for(var i=t.iterator();i.hasNext();){var o=i.next();o.isHole()?r.add(o):n.add(o)}};Lr.prototype.computePolygons=function(t){for(var n=this,r=new kt,i=t.iterator();i.hasNext();){var o=i.next(),s=o.toPolygon(n._geometryFactory);r.add(s)}return r};Lr.prototype.placeFreeHoles=function(t,n){for(var r=this,i=n.iterator();i.hasNext();){var o=i.next();if(o.getShell()===null){var s=r.findEdgeRingContaining(o,t);if(s===null)throw new po("unable to assign hole to a shell",o.getCoordinate(0));o.setShell(s)}}};Lr.prototype.buildMinimalEdgeRings=function(t,n,r){for(var i=this,o=new kt,s=t.iterator();s.hasNext();){var u=s.next();if(u.getMaxNodeDegree()>2){u.linkDirectedEdgesForMinimalEdgeRings();var l=u.buildMinimalRings(),p=i.findShell(l);p!==null?(i.placePolygonHoles(p,l),n.add(p)):r.addAll(l)}else o.add(u)}return o};Lr.prototype.containsPoint=function(t){for(var n=this._shellList.iterator();n.hasNext();){var r=n.next();if(r.containsPoint(t))return!0}return!1};Lr.prototype.buildMaximalEdgeRings=function(t){for(var n=this,r=new kt,i=t.iterator();i.hasNext();){var o=i.next();if(o.isInResult()&&o.getLabel().isArea()&&o.getEdgeRing()===null){var s=new a_(o,n._geometryFactory);r.add(s),s.setInResult()}}return r};Lr.prototype.placePolygonHoles=function(t,n){for(var r=n.iterator();r.hasNext();){var i=r.next();i.isHole()&&i.setShell(t)}};Lr.prototype.getPolygons=function(){var t=this.computePolygons(this._shellList);return t};Lr.prototype.findEdgeRingContaining=function(t,n){for(var r=t.getLinearRing(),i=r.getEnvelopeInternal(),o=r.getCoordinateN(0),s=null,u=null,l=n.iterator();l.hasNext();){var p=l.next(),g=p.getLinearRing(),c=g.getEnvelopeInternal();s!==null&&(u=s.getLinearRing().getEnvelopeInternal());var _=!1;c.contains(i)&&xt.isPointInRing(o,g.getCoordinates())&&(_=!0),_&&(s===null||u.contains(c))&&(s=p)}return s};Lr.prototype.findShell=function(t){for(var n=0,r=null,i=t.iterator();i.hasNext();){var o=i.next();o.isHole()||(r=o,n++)}return Jt.isTrue(n<=1,"found two shells in MinimalEdgeRing list"),r};Lr.prototype.add=function(){if(arguments.length===1){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(arguments.length===2){var n=arguments[0],r=arguments[1];on.linkResultDirectedEdges(r);var i=this.buildMaximalEdgeRings(n),o=new kt,s=this.buildMinimalEdgeRings(i,this._shellList,o);this.sortShellsAndHoles(s,this._shellList,o),this.placeFreeHoles(this._shellList,o)}};Lr.prototype.interfaces_=function(){return[]};Lr.prototype.getClass=function(){return Lr};var Ea=function(){};Ea.prototype.getBounds=function(){};Ea.prototype.interfaces_=function(){return[]};Ea.prototype.getClass=function(){return Ea};var Wr=function(){this._bounds=null,this._item=null;var t=arguments[0],n=arguments[1];this._bounds=t,this._item=n};Wr.prototype.getItem=function(){return this._item};Wr.prototype.getBounds=function(){return this._bounds};Wr.prototype.interfaces_=function(){return[Ea,Ur]};Wr.prototype.getClass=function(){return Wr};var go=function(){this._size=null,this._items=null,this._size=0,this._items=new kt,this._items.add(null)};go.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t};go.prototype.size=function(){return this._size};go.prototype.reorder=function(t){for(var n=this,r=null,i=this._items.get(t);t*2<=this._size&&(r=t*2,r!==n._size&&n._items.get(r+1).compareTo(n._items.get(r))<0&&r++,n._items.get(r).compareTo(i)<0);t=r)n._items.set(t,n._items.get(r));this._items.set(t,i)};go.prototype.clear=function(){this._size=0,this._items.clear()};go.prototype.isEmpty=function(){return this._size===0};go.prototype.add=function(t){var n=this;this._items.add(null),this._size+=1;var r=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(r/2)))<0;r/=2)n._items.set(r,n._items.get(Math.trunc(r/2)));this._items.set(r,t)};go.prototype.interfaces_=function(){return[]};go.prototype.getClass=function(){return go};var Bo=function(){};Bo.prototype.visitItem=function(t){};Bo.prototype.interfaces_=function(){return[]};Bo.prototype.getClass=function(){return Bo};var Ds=function(){};Ds.prototype.insert=function(t,n){};Ds.prototype.remove=function(t,n){};Ds.prototype.query=function(){};Ds.prototype.interfaces_=function(){return[]};Ds.prototype.getClass=function(){return Ds};var Pn=function(){if(this._childBoundables=new kt,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this._level=t}}},Wp={serialVersionUID:{configurable:!0}};Pn.prototype.getLevel=function(){return this._level};Pn.prototype.size=function(){return this._childBoundables.size()};Pn.prototype.getChildBoundables=function(){return this._childBoundables};Pn.prototype.addChildBoundable=function(t){Jt.isTrue(this._bounds===null),this._childBoundables.add(t)};Pn.prototype.isEmpty=function(){return this._childBoundables.isEmpty()};Pn.prototype.getBounds=function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds};Pn.prototype.interfaces_=function(){return[Ea,Ur]};Pn.prototype.getClass=function(){return Pn};Wp.serialVersionUID.get=function(){return 6493722185909574e3};Object.defineProperties(Pn,Wp);var Kr=function(){};Kr.reverseOrder=function(){return{compare:function(n,r){return r.compareTo(n)}}};Kr.min=function(t){return Kr.sort(t),t.get(0)};Kr.sort=function(t,n){var r=t.toArray();n?is.sort(r,n):is.sort(r);for(var i=t.iterator(),o=0,s=r.length;o<s;o++)i.next(),i.set(r[o])};Kr.singletonList=function(t){var n=new kt;return n.add(t),n};var vn=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],n=arguments[1],r=arguments[2];this._boundable1=t,this._boundable2=n,this._itemDistance=r,this._distance=this.distance()};vn.prototype.expandToQueue=function(t,n){var r=vn.isComposite(this._boundable1),i=vn.isComposite(this._boundable2);if(r&&i)return vn.area(this._boundable1)>vn.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,n),null):(this.expand(this._boundable2,this._boundable1,t,n),null);if(r)return this.expand(this._boundable1,this._boundable2,t,n),null;if(i)return this.expand(this._boundable2,this._boundable1,t,n),null;throw new $e("neither boundable is composite")};vn.prototype.isLeaves=function(){return!(vn.isComposite(this._boundable1)||vn.isComposite(this._boundable2))};vn.prototype.compareTo=function(t){var n=t;return this._distance<n._distance?-1:this._distance>n._distance?1:0};vn.prototype.expand=function(t,n,r,i){for(var o=this,s=t.getChildBoundables(),u=s.iterator();u.hasNext();){var l=u.next(),p=new vn(l,n,o._itemDistance);p.getDistance()<i&&r.add(p)}};vn.prototype.getBoundable=function(t){return t===0?this._boundable1:this._boundable2};vn.prototype.getDistance=function(){return this._distance};vn.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())};vn.prototype.interfaces_=function(){return[Vr]};vn.prototype.getClass=function(){return vn};vn.area=function(t){return t.getBounds().getArea()};vn.isComposite=function(t){return t instanceof Pn};var Tn=function e(){if(this._root=null,this._built=!1,this._itemBoundables=new kt,this._nodeCapacity=null,arguments.length===0){var t=e.DEFAULT_NODE_CAPACITY;this._nodeCapacity=t}else if(arguments.length===1){var n=arguments[0];Jt.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},Ju={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Tn.prototype.getNodeCapacity=function(){return this._nodeCapacity};Tn.prototype.lastNode=function(t){return t.get(t.size()-1)};Tn.prototype.size=function(){var t=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var n=arguments[0],r=0,i=n.getChildBoundables().iterator();i.hasNext();){var o=i.next();o instanceof Pn?r+=t.size(o):o instanceof Wr&&(r+=1)}return r}};Tn.prototype.removeItem=function(t,n){for(var r=null,i=t.getChildBoundables().iterator();i.hasNext();){var o=i.next();o instanceof Wr&&o.getItem()===n&&(r=o)}return r!==null?(t.getChildBoundables().remove(r),!0):!1};Tn.prototype.itemsTree=function(){var t=this;if(arguments.length===0){this.build();var n=this.itemsTree(this._root);return n===null?new kt:n}else if(arguments.length===1){for(var r=arguments[0],i=new kt,o=r.getChildBoundables().iterator();o.hasNext();){var s=o.next();if(s instanceof Pn){var u=t.itemsTree(s);u!==null&&i.add(u)}else s instanceof Wr?i.add(s.getItem()):Jt.shouldNeverReachHere()}return i.size()<=0?null:i}};Tn.prototype.insert=function(t,n){Jt.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Wr(t,n))};Tn.prototype.boundablesAtLevel=function(){var t=this;if(arguments.length===1){var n=arguments[0],r=new kt;return this.boundablesAtLevel(n,this._root,r),r}else if(arguments.length===3){var i=arguments[0],o=arguments[1],s=arguments[2];if(Jt.isTrue(i>-2),o.getLevel()===i)return s.add(o),null;for(var u=o.getChildBoundables().iterator();u.hasNext();){var l=u.next();l instanceof Pn?t.boundablesAtLevel(i,l,s):(Jt.isTrue(l instanceof Wr),i===-1&&s.add(l))}return null}};Tn.prototype.query=function(){var t=this;if(arguments.length===1){var n=arguments[0];this.build();var r=new kt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r),r}else if(arguments.length===2){var i=arguments[0],o=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),i)&&this.query(i,this._root,o)}else if(arguments.length===3){if(jt(arguments[2],Bo)&&arguments[0]instanceof Object&&arguments[1]instanceof Pn)for(var s=arguments[0],u=arguments[1],l=arguments[2],p=u.getChildBoundables(),g=0;g<p.size();g++){var c=p.get(g);t.getIntersectsOp().intersects(c.getBounds(),s)&&(c instanceof Pn?t.query(s,c,l):c instanceof Wr?l.visitItem(c.getItem()):Jt.shouldNeverReachHere())}else if(jt(arguments[2],qr)&&arguments[0]instanceof Object&&arguments[1]instanceof Pn)for(var _=arguments[0],C=arguments[1],E=arguments[2],P=C.getChildBoundables(),S=0;S<P.size();S++){var I=P.get(S);t.getIntersectsOp().intersects(I.getBounds(),_)&&(I instanceof Pn?t.query(_,I,E):I instanceof Wr?E.add(I.getItem()):Jt.shouldNeverReachHere())}}};Tn.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0};Tn.prototype.getRoot=function(){return this.build(),this._root};Tn.prototype.remove=function(){var t=this;if(arguments.length===2){var n=arguments[0],r=arguments[1];return this.build(),this.getIntersectsOp().intersects(this._root.getBounds(),n)?this.remove(n,this._root,r):!1}else if(arguments.length===3){var i=arguments[0],o=arguments[1],s=arguments[2],u=this.removeItem(o,s);if(u)return!0;for(var l=null,p=o.getChildBoundables().iterator();p.hasNext();){var g=p.next();if(t.getIntersectsOp().intersects(g.getBounds(),i)&&g instanceof Pn&&(u=t.remove(i,g,s),u)){l=g;break}}return l!==null&&l.getChildBoundables().isEmpty()&&o.getChildBoundables().remove(l),u}};Tn.prototype.createHigherLevels=function(t,n){Jt.isTrue(!t.isEmpty());var r=this.createParentBoundables(t,n+1);return r.size()===1?r.get(0):this.createHigherLevels(r,n+1)};Tn.prototype.depth=function(){var t=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var n=arguments[0],r=0,i=n.getChildBoundables().iterator();i.hasNext();){var o=i.next();if(o instanceof Pn){var s=t.depth(o);s>r&&(r=s)}}return r+1}};Tn.prototype.createParentBoundables=function(t,n){var r=this;Jt.isTrue(!t.isEmpty());var i=new kt;i.add(this.createNode(n));var o=new kt(t);Kr.sort(o,this.getComparator());for(var s=o.iterator();s.hasNext();){var u=s.next();r.lastNode(i).getChildBoundables().size()===r.getNodeCapacity()&&i.add(r.createNode(n)),r.lastNode(i).addChildBoundable(u)}return i};Tn.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()};Tn.prototype.interfaces_=function(){return[Ur]};Tn.prototype.getClass=function(){return Tn};Tn.compareDoubles=function(t,n){return t>n?1:t<n?-1:0};Ju.IntersectsOp.get=function(){return l_};Ju.serialVersionUID.get=function(){return-3886435814360241e3};Ju.DEFAULT_NODE_CAPACITY.get=function(){return 10};Object.defineProperties(Tn,Ju);var l_=function(){},Ma=function(){};Ma.prototype.distance=function(t,n){};Ma.prototype.interfaces_=function(){return[]};Ma.prototype.getClass=function(){return Ma};var Kp=function(e){function t(r){r=r||t.DEFAULT_NODE_CAPACITY,e.call(this,r)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return t.prototype.createParentBoundablesFromVerticalSlices=function(i,o){var s=this;Jt.isTrue(i.length>0);for(var u=new kt,l=0;l<i.length;l++)u.addAll(s.createParentBoundablesFromVerticalSlice(i[l],o));return u},t.prototype.createNode=function(i){return new of(i)},t.prototype.size=function(){return arguments.length===0?e.prototype.size.call(this):e.prototype.size.apply(this,arguments)},t.prototype.insert=function(){if(arguments.length===2){var i=arguments[0],o=arguments[1];if(i.isNull())return null;e.prototype.insert.call(this,i,o)}else return e.prototype.insert.apply(this,arguments)},t.prototype.getIntersectsOp=function(){return t.intersectsOp},t.prototype.verticalSlices=function(i,o){for(var s=Math.trunc(Math.ceil(i.size()/o)),u=new Array(o).fill(null),l=i.iterator(),p=0;p<o;p++){u[p]=new kt;for(var g=0;l.hasNext()&&g<s;){var c=l.next();u[p].add(c),g++}}return u},t.prototype.query=function(){if(arguments.length===1){var i=arguments[0];return e.prototype.query.call(this,i)}else if(arguments.length===2){var o=arguments[0],s=arguments[1];e.prototype.query.call(this,o,s)}else if(arguments.length===3){if(jt(arguments[2],Bo)&&arguments[0]instanceof Object&&arguments[1]instanceof Pn){var u=arguments[0],l=arguments[1],p=arguments[2];e.prototype.query.call(this,u,l,p)}else if(jt(arguments[2],qr)&&arguments[0]instanceof Object&&arguments[1]instanceof Pn){var g=arguments[0],c=arguments[1],_=arguments[2];e.prototype.query.call(this,g,c,_)}}},t.prototype.getComparator=function(){return t.yComparator},t.prototype.createParentBoundablesFromVerticalSlice=function(i,o){return e.prototype.createParentBoundables.call(this,i,o)},t.prototype.remove=function(){if(arguments.length===2){var i=arguments[0],o=arguments[1];return e.prototype.remove.call(this,i,o)}else return e.prototype.remove.apply(this,arguments)},t.prototype.depth=function(){return arguments.length===0?e.prototype.depth.call(this):e.prototype.depth.apply(this,arguments)},t.prototype.createParentBoundables=function(i,o){Jt.isTrue(!i.isEmpty());var s=Math.trunc(Math.ceil(i.size()/this.getNodeCapacity())),u=new kt(i);Kr.sort(u,t.xComparator);var l=this.verticalSlices(u,Math.trunc(Math.ceil(Math.sqrt(s))));return this.createParentBoundablesFromVerticalSlices(l,o)},t.prototype.nearestNeighbour=function(){if(arguments.length===1){if(jt(arguments[0],Ma)){var i=arguments[0],o=new vn(this.getRoot(),this.getRoot(),i);return this.nearestNeighbour(o)}else if(arguments[0]instanceof vn){var s=arguments[0];return this.nearestNeighbour(s,Yt.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof t&&jt(arguments[1],Ma)){var u=arguments[0],l=arguments[1],p=new vn(this.getRoot(),u.getRoot(),l);return this.nearestNeighbour(p)}else if(arguments[0]instanceof vn&&typeof arguments[1]=="number"){var g=arguments[0],c=arguments[1],_=c,C=null,E=new go;for(E.add(g);!E.isEmpty()&&_>0;){var P=E.poll(),S=P.getDistance();if(S>=_)break;P.isLeaves()?(_=S,C=P):P.expandToQueue(E,_)}return[C.getBoundable(0).getItem(),C.getBoundable(1).getItem()]}}else if(arguments.length===3){var I=arguments[0],T=arguments[1],N=arguments[2],x=new Wr(I,T),R=new vn(this.getRoot(),x,N);return this.nearestNeighbour(R)[0]}},t.prototype.interfaces_=function(){return[Ds,Ur]},t.prototype.getClass=function(){return t},t.centreX=function(i){return t.avg(i.getMinX(),i.getMaxX())},t.avg=function(i,o){return(i+o)/2},t.centreY=function(i){return t.avg(i.getMinY(),i.getMaxY())},n.STRtreeNode.get=function(){return of},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[ga]},compare:function(r,i){return e.compareDoubles(t.centreX(r.getBounds()),t.centreX(i.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[ga]},compare:function(r,i){return e.compareDoubles(t.centreY(r.getBounds()),t.centreY(i.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[e.IntersectsOp]},intersects:function(r,i){return r.intersects(i)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(t,n),t}(Tn),of=function(e){function t(){var n=arguments[0];e.call(this,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.computeBounds=function(){for(var r=null,i=this.getChildBoundables().iterator();i.hasNext();){var o=i.next();r===null?r=new zt(o.getBounds()):r.expandToInclude(o.getBounds())}return r},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Pn),hr=function(){};hr.prototype.interfaces_=function(){return[]};hr.prototype.getClass=function(){return hr};hr.relativeSign=function(t,n){return t<n?-1:t>n?1:0};hr.compare=function(t,n,r){if(n.equals2D(r))return 0;var i=hr.relativeSign(n.x,r.x),o=hr.relativeSign(n.y,r.y);switch(t){case 0:return hr.compareValue(i,o);case 1:return hr.compareValue(o,i);case 2:return hr.compareValue(o,-i);case 3:return hr.compareValue(-i,o);case 4:return hr.compareValue(-i,-o);case 5:return hr.compareValue(-o,-i);case 6:return hr.compareValue(-o,i);case 7:return hr.compareValue(i,-o)}return Jt.shouldNeverReachHere("invalid octant value"),0};hr.compareValue=function(t,n){return t<0?-1:t>0?1:n<0?-1:n>0?1:0};var zo=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this._segString=t,this.coord=new $(n),this.segmentIndex=r,this._segmentOctant=i,this._isInterior=!n.equals2D(t.getCoordinate(r))};zo.prototype.getCoordinate=function(){return this.coord};zo.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)};zo.prototype.compareTo=function(t){var n=t;return this.segmentIndex<n.segmentIndex?-1:this.segmentIndex>n.segmentIndex?1:this.coord.equals2D(n.coord)?0:hr.compare(this._segmentOctant,this.coord,n.coord)};zo.prototype.isEndPoint=function(t){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===t};zo.prototype.isInterior=function(){return this._isInterior};zo.prototype.interfaces_=function(){return[Vr]};zo.prototype.getClass=function(){return zo};var or=function(){this._nodeMap=new qn,this._edge=null;var t=arguments[0];this._edge=t};or.prototype.getSplitCoordinates=function(){var t=this,n=new Dl;this.addEndpoints();for(var r=this.iterator(),i=r.next();r.hasNext();){var o=r.next();t.addEdgeCoordinates(i,o,n),i=o}return n.toCoordinateArray()};or.prototype.addCollapsedNodes=function(){var t=this,n=new kt;this.findCollapsesFromInsertedNodes(n),this.findCollapsesFromExistingVertices(n);for(var r=n.iterator();r.hasNext();){var i=r.next().intValue();t.add(t._edge.getCoordinate(i),i)}};or.prototype.print=function(t){t.println("Intersections:");for(var n=this.iterator();n.hasNext();){var r=n.next();r.print(t)}};or.prototype.findCollapsesFromExistingVertices=function(t){for(var n=this,r=0;r<this._edge.size()-2;r++){var i=n._edge.getCoordinate(r),o=n._edge.getCoordinate(r+2);i.equals2D(o)&&t.add(new yi(r+1))}};or.prototype.addEdgeCoordinates=function(t,n,r){var i=this,o=this._edge.getCoordinate(n.segmentIndex),s=n.isInterior()||!n.coord.equals2D(o);r.add(new $(t.coord),!1);for(var u=t.segmentIndex+1;u<=n.segmentIndex;u++)r.add(i._edge.getCoordinate(u));s&&r.add(new $(n.coord))};or.prototype.iterator=function(){return this._nodeMap.values().iterator()};or.prototype.addSplitEdges=function(t){var n=this;this.addEndpoints(),this.addCollapsedNodes();for(var r=this.iterator(),i=r.next();r.hasNext();){var o=r.next(),s=n.createSplitEdge(i,o);t.add(s),i=o}};or.prototype.findCollapseIndex=function(t,n,r){if(!t.coord.equals2D(n.coord))return!1;var i=n.segmentIndex-t.segmentIndex;return n.isInterior()||i--,i===1?(r[0]=t.segmentIndex+1,!0):!1};or.prototype.findCollapsesFromInsertedNodes=function(t){for(var n=this,r=new Array(1).fill(null),i=this.iterator(),o=i.next();i.hasNext();){var s=i.next(),u=n.findCollapseIndex(o,s,r);u&&t.add(new yi(r[0])),o=s}};or.prototype.getEdge=function(){return this._edge};or.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)};or.prototype.createSplitEdge=function(t,n){var r=this,i=n.segmentIndex-t.segmentIndex+2,o=this._edge.getCoordinate(n.segmentIndex),s=n.isInterior()||!n.coord.equals2D(o);s||i--;var u=new Array(i).fill(null),l=0;u[l++]=new $(t.coord);for(var p=t.segmentIndex+1;p<=n.segmentIndex;p++)u[l++]=r._edge.getCoordinate(p);return s&&(u[l]=new $(n.coord)),new dn(u,this._edge.getData())};or.prototype.add=function(t,n){var r=new zo(this._edge,t,n,this._edge.getSegmentOctant(n)),i=this._nodeMap.get(r);return i!==null?(Jt.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this._nodeMap.put(r,r),r)};or.prototype.checkSplitEdgesCorrectness=function(t){var n=this._edge.getCoordinates(),r=t.get(0),i=r.getCoordinate(0);if(!i.equals2D(n[0]))throw new co("bad split edge start point at "+i);var o=t.get(t.size()-1),s=o.getCoordinates(),u=s[s.length-1];if(!u.equals2D(n[n.length-1]))throw new co("bad split edge end point at "+u)};or.prototype.interfaces_=function(){return[]};or.prototype.getClass=function(){return or};var Rs=function(){};Rs.prototype.interfaces_=function(){return[]};Rs.prototype.getClass=function(){return Rs};Rs.octant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],n=arguments[1];if(t===0&&n===0)throw new $e("Cannot compute the octant for point ( "+t+", "+n+" )");var r=Math.abs(t),i=Math.abs(n);return t>=0?n>=0?r>=i?0:1:r>=i?7:6:n>=0?r>=i?3:2:r>=i?4:5}else if(arguments[0]instanceof $&&arguments[1]instanceof $){var o=arguments[0],s=arguments[1],u=s.x-o.x,l=s.y-o.y;if(u===0&&l===0)throw new $e("Cannot compute the octant for two identical points "+o);return Rs.octant(u,l)}};var Ui=function(){};Ui.prototype.getCoordinates=function(){};Ui.prototype.size=function(){};Ui.prototype.getCoordinate=function(t){};Ui.prototype.isClosed=function(){};Ui.prototype.setData=function(t){};Ui.prototype.getData=function(){};Ui.prototype.interfaces_=function(){return[]};Ui.prototype.getClass=function(){return Ui};var Cl=function(){};Cl.prototype.addIntersection=function(t,n){};Cl.prototype.interfaces_=function(){return[Ui]};Cl.prototype.getClass=function(){return Cl};var dn=function(){this._nodeList=new or(this),this._pts=null,this._data=null;var t=arguments[0],n=arguments[1];this._pts=t,this._data=n};dn.prototype.getCoordinates=function(){return this._pts};dn.prototype.size=function(){return this._pts.length};dn.prototype.getCoordinate=function(t){return this._pts[t]};dn.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])};dn.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))};dn.prototype.setData=function(t){this._data=t};dn.prototype.safeOctant=function(t,n){return t.equals2D(n)?0:Rs.octant(t,n)};dn.prototype.getData=function(){return this._data};dn.prototype.addIntersection=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1];this.addIntersectionNode(t,n)}else if(arguments.length===4){var r=arguments[0],i=arguments[1],o=arguments[3],s=new $(r.getIntersection(o));this.addIntersection(s,i)}};dn.prototype.toString=function(){return Xr.toLineString(new cn(this._pts))};dn.prototype.getNodeList=function(){return this._nodeList};dn.prototype.addIntersectionNode=function(t,n){var r=n,i=r+1;if(i<this._pts.length){var o=this._pts[i];t.equals2D(o)&&(r=i)}var s=this._nodeList.add(t,r);return s};dn.prototype.addIntersections=function(t,n,r){for(var i=this,o=0;o<t.getIntersectionNum();o++)i.addIntersection(t,n,r,o)};dn.prototype.interfaces_=function(){return[Cl]};dn.prototype.getClass=function(){return dn};dn.getNodedSubstrings=function(){if(arguments.length===1){var t=arguments[0],n=new kt;return dn.getNodedSubstrings(t,n),n}else if(arguments.length===2)for(var r=arguments[0],i=arguments[1],o=r.iterator();o.hasNext();){var s=o.next();s.getNodeList().addSplitEdges(i)}};var Ft=function(){if(this.p0=null,this.p1=null,arguments.length===0)this.p0=new $,this.p1=new $;else if(arguments.length===1){var t=arguments[0];this.p0=new $(t.p0),this.p1=new $(t.p1)}else if(arguments.length===2)this.p0=arguments[0],this.p1=arguments[1];else if(arguments.length===4){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];this.p0=new $(n,r),this.p1=new $(i,o)}},Jp={serialVersionUID:{configurable:!0}};Ft.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)};Ft.prototype.orientationIndex=function(){if(arguments[0]instanceof Ft){var t=arguments[0],n=xt.orientationIndex(this.p0,this.p1,t.p0),r=xt.orientationIndex(this.p0,this.p1,t.p1);return n>=0&&r>=0||n<=0&&r<=0?Math.max(n,r):0}else if(arguments[0]instanceof $){var i=arguments[0];return xt.orientationIndex(this.p0,this.p1,i)}};Ft.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])};Ft.prototype.isVertical=function(){return this.p0.x===this.p1.x};Ft.prototype.equals=function(t){if(!(t instanceof Ft))return!1;var n=t;return this.p0.equals(n.p0)&&this.p1.equals(n.p1)};Ft.prototype.intersection=function(t){var n=new ms;return n.computeIntersection(this.p0,this.p1,t.p0,t.p1),n.hasIntersection()?n.getIntersection(0):null};Ft.prototype.project=function(){if(arguments[0]instanceof $){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new $(t);var n=this.projectionFactor(t),r=new $;return r.x=this.p0.x+n*(this.p1.x-this.p0.x),r.y=this.p0.y+n*(this.p1.y-this.p0.y),r}else if(arguments[0]instanceof Ft){var i=arguments[0],o=this.projectionFactor(i.p0),s=this.projectionFactor(i.p1);if(o>=1&&s>=1||o<=0&&s<=0)return null;var u=this.project(i.p0);o<0&&(u=this.p0),o>1&&(u=this.p1);var l=this.project(i.p1);return s<0&&(l=this.p0),s>1&&(l=this.p1),new Ft(u,l)}};Ft.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()};Ft.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)};Ft.prototype.getCoordinate=function(t){return t===0?this.p0:this.p1};Ft.prototype.distancePerpendicular=function(t){return xt.distancePointLinePerpendicular(t,this.p0,this.p1)};Ft.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)};Ft.prototype.midPoint=function(){return Ft.midPoint(this.p0,this.p1)};Ft.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var n=this.p1.x-this.p0.x,r=this.p1.y-this.p0.y,i=n*n+r*r;if(i<=0)return Yt.NaN;var o=((t.x-this.p0.x)*n+(t.y-this.p0.y)*r)/i;return o};Ft.prototype.closestPoints=function(t){var n=this.intersection(t);if(n!==null)return[n,n];var r=new Array(2).fill(null),i=Yt.MAX_VALUE,o=null,s=this.closestPoint(t.p0);i=s.distance(t.p0),r[0]=s,r[1]=t.p0;var u=this.closestPoint(t.p1);o=u.distance(t.p1),o<i&&(i=o,r[0]=u,r[1]=t.p1);var l=t.closestPoint(this.p0);o=l.distance(this.p0),o<i&&(i=o,r[0]=this.p0,r[1]=l);var p=t.closestPoint(this.p1);return o=p.distance(this.p1),o<i&&(i=o,r[0]=this.p1,r[1]=p),r};Ft.prototype.closestPoint=function(t){var n=this.projectionFactor(t);if(n>0&&n<1)return this.project(t);var r=this.p0.distance(t),i=this.p1.distance(t);return r<i?this.p0:this.p1};Ft.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)};Ft.prototype.getLength=function(){return this.p0.distance(this.p1)};Ft.prototype.compareTo=function(t){var n=t,r=this.p0.compareTo(n.p0);return r!==0?r:this.p1.compareTo(n.p1)};Ft.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t};Ft.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)};Ft.prototype.lineIntersection=function(t){try{var n=jr.intersection(this.p0,this.p1,t.p0,t.p1);return n}catch(r){if(!(r instanceof za))throw r}finally{}return null};Ft.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)};Ft.prototype.pointAlongOffset=function(t,n){var r=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),o=this.p1.x-this.p0.x,s=this.p1.y-this.p0.y,u=Math.sqrt(o*o+s*s),l=0,p=0;if(n!==0){if(u<=0)throw new Error("Cannot compute offset from zero-length line segment");l=n*o/u,p=n*s/u}var g=r-p,c=i+l,_=new $(g,c);return _};Ft.prototype.setCoordinates=function(){if(arguments.length===1){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.p0.x=n.x,this.p0.y=n.y,this.p1.x=r.x,this.p1.y=r.y}};Ft.prototype.segmentFraction=function(t){var n=this.projectionFactor(t);return n<0?n=0:(n>1||Yt.isNaN(n))&&(n=1),n};Ft.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"};Ft.prototype.isHorizontal=function(){return this.p0.y===this.p1.y};Ft.prototype.distance=function(){if(arguments[0]instanceof Ft){var t=arguments[0];return xt.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}else if(arguments[0]instanceof $){var n=arguments[0];return xt.distancePointLine(n,this.p0,this.p1)}};Ft.prototype.pointAlong=function(t){var n=new $;return n.x=this.p0.x+t*(this.p1.x-this.p0.x),n.y=this.p0.y+t*(this.p1.y-this.p0.y),n};Ft.prototype.hashCode=function(){var t=Yt.doubleToLongBits(this.p0.x);t^=Yt.doubleToLongBits(this.p0.y)*31;var n=Math.trunc(t)^Math.trunc(t>>32),r=Yt.doubleToLongBits(this.p1.x);r^=Yt.doubleToLongBits(this.p1.y)*31;var i=Math.trunc(r)^Math.trunc(r>>32);return n^i};Ft.prototype.interfaces_=function(){return[Vr,Ur]};Ft.prototype.getClass=function(){return Ft};Ft.midPoint=function(t,n){return new $((t.x+n.x)/2,(t.y+n.y)/2)};Jp.serialVersionUID.get=function(){return 0x2d2172135f411c00};Object.defineProperties(Ft,Jp);var wl=function(){this.tempEnv1=new zt,this.tempEnv2=new zt,this._overlapSeg1=new Ft,this._overlapSeg2=new Ft};wl.prototype.overlap=function(){if(arguments.length!==2){if(arguments.length===4){var t=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];t.getLineSegment(n,this._overlapSeg1),r.getLineSegment(i,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}};wl.prototype.interfaces_=function(){return[]};wl.prototype.getClass=function(){return wl};var br=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this._pts=t,this._start=n,this._end=r,this._context=i};br.prototype.getLineSegment=function(t,n){n.p0=this._pts[t],n.p1=this._pts[t+1]};br.prototype.computeSelect=function(t,n,r,i){var o=this._pts[n],s=this._pts[r];if(i.tempEnv1.init(o,s),r-n===1)return i.select(this,n),null;if(!t.intersects(i.tempEnv1))return null;var u=Math.trunc((n+r)/2);n<u&&this.computeSelect(t,n,u,i),u<r&&this.computeSelect(t,u,r,i)};br.prototype.getCoordinates=function(){for(var t=this,n=new Array(this._end-this._start+1).fill(null),r=0,i=this._start;i<=this._end;i++)n[r++]=t._pts[i];return n};br.prototype.computeOverlaps=function(t,n){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,n)};br.prototype.setId=function(t){this._id=t};br.prototype.select=function(t,n){this.computeSelect(t,this._start,this._end,n)};br.prototype.getEnvelope=function(){if(this._env===null){var t=this._pts[this._start],n=this._pts[this._end];this._env=new zt(t,n)}return this._env};br.prototype.getEndIndex=function(){return this._end};br.prototype.getStartIndex=function(){return this._start};br.prototype.getContext=function(){return this._context};br.prototype.getId=function(){return this._id};br.prototype.computeOverlapsInternal=function(t,n,r,i,o,s){var u=this._pts[t],l=this._pts[n],p=r._pts[i],g=r._pts[o];if(n-t===1&&o-i===1)return s.overlap(this,t,r,i),null;if(s.tempEnv1.init(u,l),s.tempEnv2.init(p,g),!s.tempEnv1.intersects(s.tempEnv2))return null;var c=Math.trunc((t+n)/2),_=Math.trunc((i+o)/2);t<c&&(i<_&&this.computeOverlapsInternal(t,c,r,i,_,s),_<o&&this.computeOverlapsInternal(t,c,r,_,o,s)),c<n&&(i<_&&this.computeOverlapsInternal(c,n,r,i,_,s),_<o&&this.computeOverlapsInternal(c,n,r,_,o,s))};br.prototype.interfaces_=function(){return[]};br.prototype.getClass=function(){return br};var vi=function(){};vi.prototype.interfaces_=function(){return[]};vi.prototype.getClass=function(){return vi};vi.getChainStartIndices=function(t){var n=0,r=new kt;r.add(new yi(n));do{var i=vi.findChainEnd(t,n);r.add(new yi(i)),n=i}while(n<t.length-1);var o=vi.toIntArray(r);return o};vi.findChainEnd=function(t,n){for(var r=n;r<t.length-1&&t[r].equals2D(t[r+1]);)r++;if(r>=t.length-1)return t.length-1;for(var i=Ve.quadrant(t[r],t[r+1]),o=n+1;o<t.length;){if(!t[o-1].equals2D(t[o])){var s=Ve.quadrant(t[o-1],t[o]);if(s!==i)break}o++}return o-1};vi.getChains=function(){if(arguments.length===1){var t=arguments[0];return vi.getChains(t,null)}else if(arguments.length===2){for(var n=arguments[0],r=arguments[1],i=new kt,o=vi.getChainStartIndices(n),s=0;s<o.length-1;s++){var u=new br(n,o[s],o[s+1],r);i.add(u)}return i}};vi.toIntArray=function(t){for(var n=new Array(t.size()).fill(null),r=0;r<n.length;r++)n[r]=t.get(r).intValue();return n};var as=function(){};as.prototype.computeNodes=function(t){};as.prototype.getNodedSubstrings=function(){};as.prototype.interfaces_=function(){return[]};as.prototype.getClass=function(){return as};var El=function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this.setSegmentIntersector(t)}}};El.prototype.setSegmentIntersector=function(t){this._segInt=t};El.prototype.interfaces_=function(){return[as]};El.prototype.getClass=function(){return El};var oc=function(e){function t(r){r?e.call(this,r):e.call(this),this._monoChains=new kt,this._index=new Kp,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={SegmentOverlapAction:{configurable:!0}};return t.prototype.getMonotoneChains=function(){return this._monoChains},t.prototype.getNodedSubstrings=function(){return dn.getNodedSubstrings(this._nodedSegStrings)},t.prototype.getIndex=function(){return this._index},t.prototype.add=function(i){for(var o=this,s=vi.getChains(i.getCoordinates(),i),u=s.iterator();u.hasNext();){var l=u.next();l.setId(o._idCounter++),o._index.insert(l.getEnvelope(),l),o._monoChains.add(l)}},t.prototype.computeNodes=function(i){var o=this;this._nodedSegStrings=i;for(var s=i.iterator();s.hasNext();)o.add(s.next());this.intersectChains()},t.prototype.intersectChains=function(){for(var i=this,o=new sf(this._segInt),s=this._monoChains.iterator();s.hasNext();)for(var u=s.next(),l=i._index.query(u.getEnvelope()),p=l.iterator();p.hasNext();){var g=p.next();if(g.getId()>u.getId()&&(u.computeOverlaps(g,o),i._nOverlaps++),i._segInt.isDone())return null}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.SegmentOverlapAction.get=function(){return sf},Object.defineProperties(t,n),t}(El),sf=function(e){function t(){e.call(this),this._si=null;var n=arguments[0];this._si=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.overlap=function(){if(arguments.length===4){var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],u=r.getContext(),l=o.getContext();this._si.processIntersections(u,i,l,s)}else return e.prototype.overlap.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(wl),Oe=function e(){if(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=e.CAP_ROUND,this._joinStyle=e.JOIN_ROUND,this._mitreLimit=e.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=e.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this.setQuadrantSegments(t)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(arguments.length===4){var i=arguments[0],o=arguments[1],s=arguments[2],u=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(u)}}},Lo={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Oe.prototype.getEndCapStyle=function(){return this._endCapStyle};Oe.prototype.isSingleSided=function(){return this._isSingleSided};Oe.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,this._quadrantSegments===0&&(this._joinStyle=Oe.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Oe.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==Oe.JOIN_ROUND&&(this._quadrantSegments=Oe.DEFAULT_QUADRANT_SEGMENTS)};Oe.prototype.getJoinStyle=function(){return this._joinStyle};Oe.prototype.setJoinStyle=function(t){this._joinStyle=t};Oe.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t};Oe.prototype.getSimplifyFactor=function(){return this._simplifyFactor};Oe.prototype.getQuadrantSegments=function(){return this._quadrantSegments};Oe.prototype.setEndCapStyle=function(t){this._endCapStyle=t};Oe.prototype.getMitreLimit=function(){return this._mitreLimit};Oe.prototype.setMitreLimit=function(t){this._mitreLimit=t};Oe.prototype.setSingleSided=function(t){this._isSingleSided=t};Oe.prototype.interfaces_=function(){return[]};Oe.prototype.getClass=function(){return Oe};Oe.bufferDistanceError=function(t){var n=Math.PI/2/t;return 1-Math.cos(n/2)};Lo.CAP_ROUND.get=function(){return 1};Lo.CAP_FLAT.get=function(){return 2};Lo.CAP_SQUARE.get=function(){return 3};Lo.JOIN_ROUND.get=function(){return 1};Lo.JOIN_MITRE.get=function(){return 2};Lo.JOIN_BEVEL.get=function(){return 3};Lo.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8};Lo.DEFAULT_MITRE_LIMIT.get=function(){return 5};Lo.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01};Object.defineProperties(Oe,Lo);var ln=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=xt.COUNTERCLOCKWISE,this._inputLine=t||null},Bl={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};ln.prototype.isDeletable=function(t,n,r,i){var o=this._inputLine[t],s=this._inputLine[n],u=this._inputLine[r];return!this.isConcave(o,s,u)||!this.isShallow(o,s,u,i)?!1:this.isShallowSampled(o,s,t,r,i)};ln.prototype.deleteShallowConcavities=function(){for(var t=this,n=1,r=this.findNextNonDeletedIndex(n),i=this.findNextNonDeletedIndex(r),o=!1;i<this._inputLine.length;){var s=!1;t.isDeletable(n,r,i,t._distanceTol)&&(t._isDeleted[r]=ln.DELETE,s=!0,o=!0),s?n=i:n=r,r=t.findNextNonDeletedIndex(n),i=t.findNextNonDeletedIndex(r)}return o};ln.prototype.isShallowConcavity=function(t,n,r,i){var o=xt.computeOrientation(t,n,r),s=o===this._angleOrientation;if(!s)return!1;var u=xt.distancePointLine(n,t,r);return u<i};ln.prototype.isShallowSampled=function(t,n,r,i,o){var s=this,u=Math.trunc((i-r)/ln.NUM_PTS_TO_CHECK);u<=0&&(u=1);for(var l=r;l<i;l+=u)if(!s.isShallow(t,n,s._inputLine[l],o))return!1;return!0};ln.prototype.isConcave=function(t,n,r){var i=xt.computeOrientation(t,n,r),o=i===this._angleOrientation;return o};ln.prototype.simplify=function(t){var n=this;this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=xt.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var r=!1;do r=n.deleteShallowConcavities();while(r);return this.collapseLine()};ln.prototype.findNextNonDeletedIndex=function(t){for(var n=t+1;n<this._inputLine.length&&this._isDeleted[n]===ln.DELETE;)n++;return n};ln.prototype.isShallow=function(t,n,r,i){var o=xt.distancePointLine(n,t,r);return o<i};ln.prototype.collapseLine=function(){for(var t=this,n=new Dl,r=0;r<this._inputLine.length;r++)t._isDeleted[r]!==ln.DELETE&&n.add(t._inputLine[r]);return n.toCoordinateArray()};ln.prototype.interfaces_=function(){return[]};ln.prototype.getClass=function(){return ln};ln.simplify=function(t,n){var r=new ln(t);return r.simplify(n)};Bl.INIT.get=function(){return 0};Bl.DELETE.get=function(){return 1};Bl.KEEP.get=function(){return 1};Bl.NUM_PTS_TO_CHECK.get=function(){return 10};Object.defineProperties(ln,Bl);var kr=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new kt},Qp={COORDINATE_ARRAY_TYPE:{configurable:!0}};kr.prototype.getCoordinates=function(){var t=this._ptList.toArray(kr.COORDINATE_ARRAY_TYPE);return t};kr.prototype.setPrecisionModel=function(t){this._precisionModel=t};kr.prototype.addPt=function(t){var n=new $(t);if(this._precisionModel.makePrecise(n),this.isRedundant(n))return null;this._ptList.add(n)};kr.prototype.revere=function(){};kr.prototype.addPts=function(t,n){var r=this;if(n)for(var i=0;i<t.length;i++)r.addPt(t[i]);else for(var o=t.length-1;o>=0;o--)r.addPt(t[o])};kr.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var n=this._ptList.get(this._ptList.size()-1),r=t.distance(n);return r<this._minimimVertexDistance};kr.prototype.toString=function(){var t=new he,n=t.createLineString(this.getCoordinates());return n.toString()};kr.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new $(this._ptList.get(0)),n=this._ptList.get(this._ptList.size()-1);if(t.equals(n))return null;this._ptList.add(t)};kr.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t};kr.prototype.interfaces_=function(){return[]};kr.prototype.getClass=function(){return kr};Qp.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)};Object.defineProperties(kr,Qp);var Le=function(){},Ws={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Le.prototype.interfaces_=function(){return[]};Le.prototype.getClass=function(){return Le};Le.toDegrees=function(t){return t*180/Math.PI};Le.normalize=function(t){for(;t>Math.PI;)t-=Le.PI_TIMES_2;for(;t<=-Math.PI;)t+=Le.PI_TIMES_2;return t};Le.angle=function(){if(arguments.length===1){var t=arguments[0];return Math.atan2(t.y,t.x)}else if(arguments.length===2){var n=arguments[0],r=arguments[1],i=r.x-n.x,o=r.y-n.y;return Math.atan2(o,i)}};Le.isAcute=function(t,n,r){var i=t.x-n.x,o=t.y-n.y,s=r.x-n.x,u=r.y-n.y,l=i*s+o*u;return l>0};Le.isObtuse=function(t,n,r){var i=t.x-n.x,o=t.y-n.y,s=r.x-n.x,u=r.y-n.y,l=i*s+o*u;return l<0};Le.interiorAngle=function(t,n,r){var i=Le.angle(n,t),o=Le.angle(n,r);return Math.abs(o-i)};Le.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Le.PI_TIMES_2;t>=Le.PI_TIMES_2&&(t=0)}else{for(;t>=Le.PI_TIMES_2;)t-=Le.PI_TIMES_2;t<0&&(t=0)}return t};Le.angleBetween=function(t,n,r){var i=Le.angle(n,t),o=Le.angle(n,r);return Le.diff(i,o)};Le.diff=function(t,n){var r=null;return t<n?r=n-t:r=t-n,r>Math.PI&&(r=2*Math.PI-r),r};Le.toRadians=function(t){return t*Math.PI/180};Le.getTurn=function(t,n){var r=Math.sin(n-t);return r>0?Le.COUNTERCLOCKWISE:r<0?Le.CLOCKWISE:Le.NONE};Le.angleBetweenOriented=function(t,n,r){var i=Le.angle(n,t),o=Le.angle(n,r),s=o-i;return s<=-Math.PI?s+Le.PI_TIMES_2:s>Math.PI?s-Le.PI_TIMES_2:s};Ws.PI_TIMES_2.get=function(){return 2*Math.PI};Ws.PI_OVER_2.get=function(){return Math.PI/2};Ws.PI_OVER_4.get=function(){return Math.PI/4};Ws.COUNTERCLOCKWISE.get=function(){return xt.COUNTERCLOCKWISE};Ws.CLOCKWISE.get=function(){return xt.CLOCKWISE};Ws.NONE.get=function(){return xt.COLLINEAR};Object.defineProperties(Le,Ws);var We=function e(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Ft,this._seg1=new Ft,this._offset0=new Ft,this._offset1=new Ft,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=t,this._bufParams=n,this._li=new ms,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===Oe.JOIN_ROUND&&(this._closingSegLengthFactor=e.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},zl={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};We.prototype.addNextSegment=function(t,n){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var r=xt.computeOrientation(this._s0,this._s1,this._s2),i=r===xt.CLOCKWISE&&this._side===Mt.LEFT||r===xt.COUNTERCLOCKWISE&&this._side===Mt.RIGHT;r===0?this.addCollinear(n):i?this.addOutsideTurn(r,n):this.addInsideTurn(r,n)};We.prototype.addLineEndCap=function(t,n){var r=new Ft(t,n),i=new Ft;this.computeOffsetSegment(r,Mt.LEFT,this._distance,i);var o=new Ft;this.computeOffsetSegment(r,Mt.RIGHT,this._distance,o);var s=n.x-t.x,u=n.y-t.y,l=Math.atan2(u,s);switch(this._bufParams.getEndCapStyle()){case Oe.CAP_ROUND:this._segList.addPt(i.p1),this.addFilletArc(n,l+Math.PI/2,l-Math.PI/2,xt.CLOCKWISE,this._distance),this._segList.addPt(o.p1);break;case Oe.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(o.p1);break;case Oe.CAP_SQUARE:var p=new $;p.x=Math.abs(this._distance)*Math.cos(l),p.y=Math.abs(this._distance)*Math.sin(l);var g=new $(i.p1.x+p.x,i.p1.y+p.y),c=new $(o.p1.x+p.x,o.p1.y+p.y);this._segList.addPt(g),this._segList.addPt(c);break}};We.prototype.getCoordinates=function(){var t=this._segList.getCoordinates();return t};We.prototype.addMitreJoin=function(t,n,r,i){var o=!0,s=null;try{s=jr.intersection(n.p0,n.p1,r.p0,r.p1);var u=i<=0?1:s.distance(t)/Math.abs(i);u>this._bufParams.getMitreLimit()&&(o=!1)}catch(l){if(l instanceof za)s=new $(0,0),o=!1;else throw l}finally{}o?this._segList.addPt(s):this.addLimitedMitreJoin(n,r,i,this._bufParams.getMitreLimit())};We.prototype.addFilletCorner=function(t,n,r,i,o){var s=n.x-t.x,u=n.y-t.y,l=Math.atan2(u,s),p=r.x-t.x,g=r.y-t.y,c=Math.atan2(g,p);i===xt.CLOCKWISE?l<=c&&(l+=2*Math.PI):l>=c&&(l-=2*Math.PI),this._segList.addPt(n),this.addFilletArc(t,l,c,i,o),this._segList.addPt(r)};We.prototype.addOutsideTurn=function(t,n){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*We.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Oe.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Oe.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(n&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))};We.prototype.createSquare=function(t){this._segList.addPt(new $(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new $(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new $(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new $(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()};We.prototype.addSegments=function(t,n){this._segList.addPts(t,n)};We.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)};We.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)};We.prototype.initSideSegments=function(t,n,r){this._s1=t,this._s2=n,this._side=r,this._seg1.setCoordinates(t,n),this.computeOffsetSegment(this._seg1,r,this._distance,this._offset1)};We.prototype.addLimitedMitreJoin=function(t,n,r,i){var o=this._seg0.p1,s=Le.angle(o,this._seg0.p0),u=Le.angleBetweenOriented(this._seg0.p0,o,this._seg1.p1),l=u/2,p=Le.normalize(s+l),g=Le.normalize(p+Math.PI),c=i*r,_=c*Math.abs(Math.sin(l)),C=r-_,E=o.x+c*Math.cos(g),P=o.y+c*Math.sin(g),S=new $(E,P),I=new Ft(o,S),T=I.pointAlongOffset(1,C),N=I.pointAlongOffset(1,-C);this._side===Mt.LEFT?(this._segList.addPt(T),this._segList.addPt(N)):(this._segList.addPt(N),this._segList.addPt(T))};We.prototype.computeOffsetSegment=function(t,n,r,i){var o=n===Mt.LEFT?1:-1,s=t.p1.x-t.p0.x,u=t.p1.y-t.p0.y,l=Math.sqrt(s*s+u*u),p=o*r*s/l,g=o*r*u/l;i.p0.x=t.p0.x-g,i.p0.y=t.p0.y+p,i.p1.x=t.p1.x-g,i.p1.y=t.p1.y+p};We.prototype.addFilletArc=function(t,n,r,i,o){var s=this,u=i===xt.CLOCKWISE?-1:1,l=Math.abs(n-r),p=Math.trunc(l/this._filletAngleQuantum+.5);if(p<1)return null;for(var g=0,c=l/p,_=g,C=new $;_<l;){var E=n+u*_;C.x=t.x+o*Math.cos(E),C.y=t.y+o*Math.sin(E),s._segList.addPt(C),_+=c}};We.prototype.addInsideTurn=function(t,n){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*We.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var r=new $((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r);var i=new $((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}};We.prototype.createCircle=function(t){var n=new $(t.x+this._distance,t.y);this._segList.addPt(n),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()};We.prototype.addBevelJoin=function(t,n){this._segList.addPt(t.p1),this._segList.addPt(n.p0)};We.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new kr,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*We.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)};We.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2);var n=this._li.getIntersectionNum();n>=2&&(this._bufParams.getJoinStyle()===Oe.JOIN_BEVEL||this._bufParams.getJoinStyle()===Oe.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,xt.CLOCKWISE,this._distance))};We.prototype.closeRing=function(){this._segList.closeRing()};We.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle};We.prototype.interfaces_=function(){return[]};We.prototype.getClass=function(){return We};zl.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001};zl.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001};zl.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6};zl.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80};Object.defineProperties(We,zl);var fr=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],n=arguments[1];this._precisionModel=t,this._bufParams=n};fr.prototype.getOffsetCurve=function(t,n){if(this._distance=n,n===0)return null;var r=n<0,i=Math.abs(n),o=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],o):this.computeOffsetCurve(t,r,o);var s=o.getCoordinates();return r&&ce.reverse(s),s};fr.prototype.computeSingleSidedBufferCurve=function(t,n,r){var i=this.simplifyTolerance(this._distance);if(n){r.addSegments(t,!0);var o=ln.simplify(t,-i),s=o.length-1;r.initSideSegments(o[s],o[s-1],Mt.LEFT),r.addFirstSegment();for(var u=s-2;u>=0;u--)r.addNextSegment(o[u],!0)}else{r.addSegments(t,!1);var l=ln.simplify(t,i),p=l.length-1;r.initSideSegments(l[0],l[1],Mt.LEFT),r.addFirstSegment();for(var g=2;g<=p;g++)r.addNextSegment(l[g],!0)}r.addLastSegment(),r.closeRing()};fr.prototype.computeRingBufferCurve=function(t,n,r){var i=this.simplifyTolerance(this._distance);n===Mt.RIGHT&&(i=-i);var o=ln.simplify(t,i),s=o.length-1;r.initSideSegments(o[s-1],o[0],n);for(var u=1;u<=s;u++){var l=u!==1;r.addNextSegment(o[u],l)}r.closeRing()};fr.prototype.computeLineBufferCurve=function(t,n){var r=this.simplifyTolerance(this._distance),i=ln.simplify(t,r),o=i.length-1;n.initSideSegments(i[0],i[1],Mt.LEFT);for(var s=2;s<=o;s++)n.addNextSegment(i[s],!0);n.addLastSegment(),n.addLineEndCap(i[o-1],i[o]);var u=ln.simplify(t,-r),l=u.length-1;n.initSideSegments(u[l],u[l-1],Mt.LEFT);for(var p=l-2;p>=0;p--)n.addNextSegment(u[p],!0);n.addLastSegment(),n.addLineEndCap(u[1],u[0]),n.closeRing()};fr.prototype.computePointCurve=function(t,n){switch(this._bufParams.getEndCapStyle()){case Oe.CAP_ROUND:n.createCircle(t);break;case Oe.CAP_SQUARE:n.createSquare(t);break}};fr.prototype.getLineCurve=function(t,n){if(this._distance=n,n<0&&!this._bufParams.isSingleSided()||n===0)return null;var r=Math.abs(n),i=this.getSegGen(r);if(t.length<=1)this.computePointCurve(t[0],i);else if(this._bufParams.isSingleSided()){var o=n<0;this.computeSingleSidedBufferCurve(t,o,i)}else this.computeLineBufferCurve(t,i);var s=i.getCoordinates();return s};fr.prototype.getBufferParameters=function(){return this._bufParams};fr.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()};fr.prototype.getRingCurve=function(t,n,r){if(this._distance=r,t.length<=2)return this.getLineCurve(t,r);if(r===0)return fr.copyCoordinates(t);var i=this.getSegGen(r);return this.computeRingBufferCurve(t,n,i),i.getCoordinates()};fr.prototype.computeOffsetCurve=function(t,n,r){var i=this.simplifyTolerance(this._distance);if(n){var o=ln.simplify(t,-i),s=o.length-1;r.initSideSegments(o[s],o[s-1],Mt.LEFT),r.addFirstSegment();for(var u=s-2;u>=0;u--)r.addNextSegment(o[u],!0)}else{var l=ln.simplify(t,i),p=l.length-1;r.initSideSegments(l[0],l[1],Mt.LEFT),r.addFirstSegment();for(var g=2;g<=p;g++)r.addNextSegment(l[g],!0)}r.addLastSegment()};fr.prototype.getSegGen=function(t){return new We(this._precisionModel,this._bufParams,t)};fr.prototype.interfaces_=function(){return[]};fr.prototype.getClass=function(){return fr};fr.copyCoordinates=function(t){for(var n=new Array(t.length).fill(null),r=0;r<n.length;r++)n[r]=new $(t[r]);return n};var As=function(){this._subgraphs=null,this._seg=new Ft,this._cga=new xt;var t=arguments[0];this._subgraphs=t},$p={DepthSegment:{configurable:!0}};As.prototype.findStabbedSegments=function(){var t=this;if(arguments.length===1){for(var n=arguments[0],r=new kt,i=this._subgraphs.iterator();i.hasNext();){var o=i.next(),s=o.getEnvelope();n.y<s.getMinY()||n.y>s.getMaxY()||t.findStabbedSegments(n,o.getDirectedEdges(),r)}return r}else if(arguments.length===3){if(jt(arguments[2],qr)&&arguments[0]instanceof $&&arguments[1]instanceof Th)for(var u=arguments[0],l=arguments[1],p=arguments[2],g=l.getEdge().getCoordinates(),c=0;c<g.length-1;c++){t._seg.p0=g[c],t._seg.p1=g[c+1],t._seg.p0.y>t._seg.p1.y&&t._seg.reverse();var _=Math.max(t._seg.p0.x,t._seg.p1.x);if(!(_<u.x)&&!t._seg.isHorizontal()&&!(u.y<t._seg.p0.y||u.y>t._seg.p1.y)&&xt.computeOrientation(t._seg.p0,t._seg.p1,u)!==xt.RIGHT){var C=l.getDepth(Mt.LEFT);t._seg.p0.equals(g[c])||(C=l.getDepth(Mt.RIGHT));var E=new ls(t._seg,C);p.add(E)}}else if(jt(arguments[2],qr)&&arguments[0]instanceof $&&jt(arguments[1],qr))for(var P=arguments[0],S=arguments[1],I=arguments[2],T=S.iterator();T.hasNext();){var N=T.next();N.isForward()&&t.findStabbedSegments(P,N,I)}}};As.prototype.getDepth=function(t){var n=this.findStabbedSegments(t);if(n.size()===0)return 0;var r=Kr.min(n);return r._leftDepth};As.prototype.interfaces_=function(){return[]};As.prototype.getClass=function(){return As};$p.DepthSegment.get=function(){return ls};Object.defineProperties(As,$p);var ls=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],n=arguments[1];this._upwardSeg=new Ft(t),this._leftDepth=n};ls.prototype.compareTo=function(t){var n=t;if(this._upwardSeg.minX()>=n._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=n._upwardSeg.minX())return-1;var r=this._upwardSeg.orientationIndex(n._upwardSeg);return r!==0||(r=-1*n._upwardSeg.orientationIndex(this._upwardSeg),r!==0)?r:this._upwardSeg.compareTo(n._upwardSeg)};ls.prototype.compareX=function(t,n){var r=t.p0.compareTo(n.p0);return r!==0?r:t.p1.compareTo(n.p1)};ls.prototype.toString=function(){return this._upwardSeg.toString()};ls.prototype.interfaces_=function(){return[Vr]};ls.prototype.getClass=function(){return ls};var Re=function(t,n,r){this.p0=t||null,this.p1=n||null,this.p2=r||null};Re.prototype.area=function(){return Re.area(this.p0,this.p1,this.p2)};Re.prototype.signedArea=function(){return Re.signedArea(this.p0,this.p1,this.p2)};Re.prototype.interpolateZ=function(t){if(t===null)throw new $e("Supplied point is null.");return Re.interpolateZ(t,this.p0,this.p1,this.p2)};Re.prototype.longestSideLength=function(){return Re.longestSideLength(this.p0,this.p1,this.p2)};Re.prototype.isAcute=function(){return Re.isAcute(this.p0,this.p1,this.p2)};Re.prototype.circumcentre=function(){return Re.circumcentre(this.p0,this.p1,this.p2)};Re.prototype.area3D=function(){return Re.area3D(this.p0,this.p1,this.p2)};Re.prototype.centroid=function(){return Re.centroid(this.p0,this.p1,this.p2)};Re.prototype.inCentre=function(){return Re.inCentre(this.p0,this.p1,this.p2)};Re.prototype.interfaces_=function(){return[]};Re.prototype.getClass=function(){return Re};Re.area=function(t,n,r){return Math.abs(((r.x-t.x)*(n.y-t.y)-(n.x-t.x)*(r.y-t.y))/2)};Re.signedArea=function(t,n,r){return((r.x-t.x)*(n.y-t.y)-(n.x-t.x)*(r.y-t.y))/2};Re.det=function(t,n,r,i){return t*i-n*r};Re.interpolateZ=function(t,n,r,i){var o=n.x,s=n.y,u=r.x-o,l=i.x-o,p=r.y-s,g=i.y-s,c=u*g-l*p,_=t.x-o,C=t.y-s,E=(g*_-l*C)/c,P=(-p*_+u*C)/c,S=n.z+E*(r.z-n.z)+P*(i.z-n.z);return S};Re.longestSideLength=function(t,n,r){var i=t.distance(n),o=n.distance(r),s=r.distance(t),u=i;return o>u&&(u=o),s>u&&(u=s),u};Re.isAcute=function(t,n,r){return!(!Le.isAcute(t,n,r)||!Le.isAcute(n,r,t)||!Le.isAcute(r,t,n))};Re.circumcentre=function(t,n,r){var i=r.x,o=r.y,s=t.x-i,u=t.y-o,l=n.x-i,p=n.y-o,g=2*Re.det(s,u,l,p),c=Re.det(u,s*s+u*u,p,l*l+p*p),_=Re.det(s,s*s+u*u,l,l*l+p*p),C=i-c/g,E=o+_/g;return new $(C,E)};Re.perpendicularBisector=function(t,n){var r=n.x-t.x,i=n.y-t.y,o=new jr(t.x+r/2,t.y+i/2,1),s=new jr(t.x-i+r/2,t.y+r+i/2,1);return new jr(o,s)};Re.angleBisector=function(t,n,r){var i=n.distance(t),o=n.distance(r),s=i/(i+o),u=r.x-t.x,l=r.y-t.y,p=new $(t.x+s*u,t.y+s*l);return p};Re.area3D=function(t,n,r){var i=n.x-t.x,o=n.y-t.y,s=n.z-t.z,u=r.x-t.x,l=r.y-t.y,p=r.z-t.z,g=o*p-s*l,c=s*u-i*p,_=i*l-o*u,C=g*g+c*c+_*_,E=Math.sqrt(C)/2;return E};Re.centroid=function(t,n,r){var i=(t.x+n.x+r.x)/3,o=(t.y+n.y+r.y)/3;return new $(i,o)};Re.inCentre=function(t,n,r){var i=n.distance(r),o=t.distance(r),s=t.distance(n),u=i+o+s,l=(i*t.x+o*n.x+s*r.x)/u,p=(i*t.y+o*n.y+s*r.y)/u;return new $(l,p)};var Fr=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new kt;var t=arguments[0],n=arguments[1],r=arguments[2];this._inputGeom=t,this._distance=n,this._curveBuilder=r};Fr.prototype.addPoint=function(t){if(this._distance<=0)return null;var n=t.getCoordinates(),r=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(r,et.EXTERIOR,et.INTERIOR)};Fr.prototype.addPolygon=function(t){var n=this,r=this._distance,i=Mt.LEFT;this._distance<0&&(r=-this._distance,i=Mt.RIGHT);var o=t.getExteriorRing(),s=ce.removeRepeatedPoints(o.getCoordinates());if(this._distance<0&&this.isErodedCompletely(o,this._distance)||this._distance<=0&&s.length<3)return null;this.addPolygonRing(s,r,i,et.EXTERIOR,et.INTERIOR);for(var u=0;u<t.getNumInteriorRing();u++){var l=t.getInteriorRingN(u),p=ce.removeRepeatedPoints(l.getCoordinates());n._distance>0&&n.isErodedCompletely(l,-n._distance)||n.addPolygonRing(p,r,Mt.opposite(i),et.INTERIOR,et.EXTERIOR)}};Fr.prototype.isTriangleErodedCompletely=function(t,n){var r=new Re(t[0],t[1],t[2]),i=r.inCentre(),o=xt.distancePointLine(i,r.p0,r.p1);return o<Math.abs(n)};Fr.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var n=ce.removeRepeatedPoints(t.getCoordinates()),r=this._curveBuilder.getLineCurve(n,this._distance);this.addCurve(r,et.EXTERIOR,et.INTERIOR)};Fr.prototype.addCurve=function(t,n,r){if(t===null||t.length<2)return null;var i=new dn(t,new ze(0,et.BOUNDARY,n,r));this._curveList.add(i)};Fr.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList};Fr.prototype.addPolygonRing=function(t,n,r,i,o){if(n===0&&t.length<Gi.MINIMUM_VALID_SIZE)return null;var s=i,u=o;t.length>=Gi.MINIMUM_VALID_SIZE&&xt.isCCW(t)&&(s=o,u=i,r=Mt.opposite(r));var l=this._curveBuilder.getRingCurve(t,r,n);this.addCurve(l,s,u)};Fr.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Sn?this.addPolygon(t):t instanceof an?this.addLineString(t):t instanceof yr?this.addPoint(t):t instanceof Ca?this.addCollection(t):t instanceof ss?this.addCollection(t):t instanceof Bi?this.addCollection(t):t instanceof rr&&this.addCollection(t)};Fr.prototype.isErodedCompletely=function(t,n){var r=t.getCoordinates();if(r.length<4)return n<0;if(r.length===4)return this.isTriangleErodedCompletely(r,n);var i=t.getEnvelopeInternal(),o=Math.min(i.getHeight(),i.getWidth());return n<0&&2*Math.abs(n)>o};Fr.prototype.addCollection=function(t){for(var n=this,r=0;r<t.getNumGeometries();r++){var i=t.getGeometryN(r);n.add(i)}};Fr.prototype.interfaces_=function(){return[]};Fr.prototype.getClass=function(){return Fr};var Pa=function(){};Pa.prototype.locate=function(t){};Pa.prototype.interfaces_=function(){return[]};Pa.prototype.getClass=function(){return Pa};var zi=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};zi.prototype.next=function(){if(this._atStart)return this._atStart=!1,zi.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Ga;var t=this._parent.getGeometryN(this._index++);return t instanceof rr?(this._subcollectionIterator=new zi(t),this._subcollectionIterator.next()):t};zi.prototype.remove=function(){throw new Error(this.getClass().getName())};zi.prototype.hasNext=function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)};zi.prototype.interfaces_=function(){return[Fa]};zi.prototype.getClass=function(){return zi};zi.isAtomic=function(t){return!(t instanceof rr)};var Mr=function(){this._geom=null;var t=arguments[0];this._geom=t};Mr.prototype.locate=function(t){return Mr.locate(t,this._geom)};Mr.prototype.interfaces_=function(){return[Pa]};Mr.prototype.getClass=function(){return Mr};Mr.isPointInRing=function(t,n){return n.getEnvelopeInternal().intersects(t)?xt.isPointInRing(t,n.getCoordinates()):!1};Mr.containsPointInPolygon=function(t,n){if(n.isEmpty())return!1;var r=n.getExteriorRing();if(!Mr.isPointInRing(t,r))return!1;for(var i=0;i<n.getNumInteriorRing();i++){var o=n.getInteriorRingN(i);if(Mr.isPointInRing(t,o))return!1}return!0};Mr.containsPoint=function(t,n){if(n instanceof Sn)return Mr.containsPointInPolygon(t,n);if(n instanceof rr)for(var r=new zi(n);r.hasNext();){var i=r.next();if(i!==n&&Mr.containsPoint(t,i))return!0}return!1};Mr.locate=function(t,n){return n.isEmpty()?et.EXTERIOR:Mr.containsPoint(t,n)?et.INTERIOR:et.EXTERIOR};var Yn=function(){this._edgeMap=new qn,this._edgeList=null,this._ptInAreaLocation=[et.NONE,et.NONE]};Yn.prototype.getNextCW=function(t){this.getEdges();var n=this._edgeList.indexOf(t),r=n-1;return n===0&&(r=this._edgeList.size()-1),this._edgeList.get(r)};Yn.prototype.propagateSideLabels=function(t){for(var n=et.NONE,r=this.iterator();r.hasNext();){var i=r.next(),o=i.getLabel();o.isArea(t)&&o.getLocation(t,Mt.LEFT)!==et.NONE&&(n=o.getLocation(t,Mt.LEFT))}if(n===et.NONE)return null;for(var s=n,u=this.iterator();u.hasNext();){var l=u.next(),p=l.getLabel();if(p.getLocation(t,Mt.ON)===et.NONE&&p.setLocation(t,Mt.ON,s),p.isArea(t)){var g=p.getLocation(t,Mt.LEFT),c=p.getLocation(t,Mt.RIGHT);if(c!==et.NONE){if(c!==s)throw new po("side location conflict",l.getCoordinate());g===et.NONE&&Jt.shouldNeverReachHere("found single null side (at "+l.getCoordinate()+")"),s=g}else Jt.isTrue(p.getLocation(t,Mt.LEFT)===et.NONE,"found single null side"),p.setLocation(t,Mt.RIGHT,s),p.setLocation(t,Mt.LEFT,s)}}};Yn.prototype.getCoordinate=function(){var t=this.iterator();if(!t.hasNext())return null;var n=t.next();return n.getCoordinate()};Yn.prototype.print=function(t){Fn.out.println("EdgeEndStar:   "+this.getCoordinate());for(var n=this.iterator();n.hasNext();){var r=n.next();r.print(t)}};Yn.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)};Yn.prototype.checkAreaLabelsConsistent=function(t){var n=this.getEdges();if(n.size()<=0)return!0;var r=n.size()-1,i=n.get(r).getLabel(),o=i.getLocation(t,Mt.LEFT);Jt.isTrue(o!==et.NONE,"Found unlabelled area edge");for(var s=o,u=this.iterator();u.hasNext();){var l=u.next(),p=l.getLabel();Jt.isTrue(p.isArea(t),"Found non-area edge");var g=p.getLocation(t,Mt.LEFT),c=p.getLocation(t,Mt.RIGHT);if(g===c||c!==s)return!1;s=g}return!0};Yn.prototype.findIndex=function(t){var n=this;this.iterator();for(var r=0;r<this._edgeList.size();r++){var i=n._edgeList.get(r);if(i===t)return r}return-1};Yn.prototype.iterator=function(){return this.getEdges().iterator()};Yn.prototype.getEdges=function(){return this._edgeList===null&&(this._edgeList=new kt(this._edgeMap.values())),this._edgeList};Yn.prototype.getLocation=function(t,n,r){return this._ptInAreaLocation[t]===et.NONE&&(this._ptInAreaLocation[t]=Mr.locate(n,r[t].getGeometry())),this._ptInAreaLocation[t]};Yn.prototype.toString=function(){var t=new Ii;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append(`
`);for(var n=this.iterator();n.hasNext();){var r=n.next();t.append(r),t.append(`
`)}return t.toString()};Yn.prototype.computeEdgeEndLabels=function(t){for(var n=this.iterator();n.hasNext();){var r=n.next();r.computeLabel(t)}};Yn.prototype.computeLabelling=function(t){var n=this;this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var r=[!1,!1],i=this.iterator();i.hasNext();)for(var o=i.next(),s=o.getLabel(),u=0;u<2;u++)s.isLine(u)&&s.getLocation(u)===et.BOUNDARY&&(r[u]=!0);for(var l=this.iterator();l.hasNext();)for(var p=l.next(),g=p.getLabel(),c=0;c<2;c++)if(g.isAnyNull(c)){var _=et.NONE;if(r[c])_=et.EXTERIOR;else{var C=p.getCoordinate();_=n.getLocation(c,C,t)}g.setAllLocationsIfNull(c,_)}};Yn.prototype.getDegree=function(){return this._edgeMap.size()};Yn.prototype.insertEdgeEnd=function(t,n){this._edgeMap.put(t,n),this._edgeList=null};Yn.prototype.interfaces_=function(){return[]};Yn.prototype.getClass=function(){return Yn};var u_=function(e){function t(){e.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.linkResultDirectedEdges=function(){var r=this;this.getResultAreaEdges();for(var i=null,o=null,s=this._SCANNING_FOR_INCOMING,u=0;u<this._resultAreaEdgeList.size();u++){var l=r._resultAreaEdgeList.get(u),p=l.getSym();if(l.getLabel().isArea())switch(i===null&&l.isInResult()&&(i=l),s){case r._SCANNING_FOR_INCOMING:if(!p.isInResult())continue;o=p,s=r._LINKING_TO_OUTGOING;break;case r._LINKING_TO_OUTGOING:if(!l.isInResult())continue;o.setNext(l),s=r._SCANNING_FOR_INCOMING;break}}if(s===this._LINKING_TO_OUTGOING){if(i===null)throw new po("no outgoing dirEdge found",this.getCoordinate());Jt.isTrue(i.isInResult(),"unable to link last incoming dirEdge"),o.setNext(i)}},t.prototype.insert=function(r){var i=r;this.insertEdgeEnd(i,i)},t.prototype.getRightmostEdge=function(){var r=this.getEdges(),i=r.size();if(i<1)return null;var o=r.get(0);if(i===1)return o;var s=r.get(i-1),u=o.getQuadrant(),l=s.getQuadrant();return Ve.isNorthern(u)&&Ve.isNorthern(l)?o:!Ve.isNorthern(u)&&!Ve.isNorthern(l)?s:o.getDy()!==0?o:s.getDy()!==0?s:(Jt.shouldNeverReachHere("found two horizontal edges incident on node"),null)},t.prototype.print=function(r){Fn.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var i=this.iterator();i.hasNext();){var o=i.next();r.print("out "),o.print(r),r.println(),r.print("in "),o.getSym().print(r),r.println()}},t.prototype.getResultAreaEdges=function(){var r=this;if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new kt;for(var i=this.iterator();i.hasNext();){var o=i.next();(o.isInResult()||o.getSym().isInResult())&&r._resultAreaEdgeList.add(o)}return this._resultAreaEdgeList},t.prototype.updateLabelling=function(r){for(var i=this.iterator();i.hasNext();){var o=i.next(),s=o.getLabel();s.setAllLocationsIfNull(0,r.getLocation(0)),s.setAllLocationsIfNull(1,r.getLocation(1))}},t.prototype.linkAllDirectedEdges=function(){var r=this;this.getEdges();for(var i=null,o=null,s=this._edgeList.size()-1;s>=0;s--){var u=r._edgeList.get(s),l=u.getSym();o===null&&(o=l),i!==null&&l.setNext(i),i=u}o.setNext(i)},t.prototype.computeDepths=function(){var r=this;if(arguments.length===1){var i=arguments[0],o=this.findIndex(i),s=i.getDepth(Mt.LEFT),u=i.getDepth(Mt.RIGHT),l=this.computeDepths(o+1,this._edgeList.size(),s),p=this.computeDepths(0,o,l);if(p!==u)throw new po("depth mismatch at "+i.getCoordinate())}else if(arguments.length===3){for(var g=arguments[0],c=arguments[1],_=arguments[2],C=_,E=g;E<c;E++){var P=r._edgeList.get(E);P.setEdgeDepths(Mt.RIGHT,C),C=P.getDepth(Mt.LEFT)}return C}},t.prototype.mergeSymLabels=function(){for(var r=this.iterator();r.hasNext();){var i=r.next(),o=i.getLabel();o.merge(i.getSym().getLabel())}},t.prototype.linkMinimalDirectedEdges=function(r){for(var i=this,o=null,s=null,u=this._SCANNING_FOR_INCOMING,l=this._resultAreaEdgeList.size()-1;l>=0;l--){var p=i._resultAreaEdgeList.get(l),g=p.getSym();switch(o===null&&p.getEdgeRing()===r&&(o=p),u){case i._SCANNING_FOR_INCOMING:if(g.getEdgeRing()!==r)continue;s=g,u=i._LINKING_TO_OUTGOING;break;case i._LINKING_TO_OUTGOING:if(p.getEdgeRing()!==r)continue;s.setNextMin(p),u=i._SCANNING_FOR_INCOMING;break}}u===this._LINKING_TO_OUTGOING&&(Jt.isTrue(o!==null,"found null for first outgoing dirEdge"),Jt.isTrue(o.getEdgeRing()===r,"unable to link last incoming dirEdge"),s.setNextMin(o))},t.prototype.getOutgoingDegree=function(){if(arguments.length===0){for(var r=0,i=this.iterator();i.hasNext();){var o=i.next();o.isInResult()&&r++}return r}else if(arguments.length===1){for(var s=arguments[0],u=0,l=this.iterator();l.hasNext();){var p=l.next();p.getEdgeRing()===s&&u++}return u}},t.prototype.getLabel=function(){return this._label},t.prototype.findCoveredLineEdges=function(){for(var r=et.NONE,i=this.iterator();i.hasNext();){var o=i.next(),s=o.getSym();if(!o.isLineEdge()){if(o.isInResult()){r=et.INTERIOR;break}if(s.isInResult()){r=et.EXTERIOR;break}}}if(r===et.NONE)return null;for(var u=r,l=this.iterator();l.hasNext();){var p=l.next(),g=p.getSym();p.isLineEdge()?p.getEdge().setCovered(u===et.INTERIOR):(p.isInResult()&&(u=et.EXTERIOR),g.isInResult()&&(u=et.INTERIOR))}},t.prototype.computeLabelling=function(r){var i=this;e.prototype.computeLabelling.call(this,r),this._label=new ze(et.NONE);for(var o=this.iterator();o.hasNext();)for(var s=o.next(),u=s.getEdge(),l=u.getLabel(),p=0;p<2;p++){var g=l.getLocation(p);(g===et.INTERIOR||g===et.BOUNDARY)&&i._label.setLocation(p,et.INTERIOR)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Yn),td=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createNode=function(r){return new Ku(r,new u_)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(wa),Fo=function e(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=e.orientation(t)};Fo.prototype.compareTo=function(t){var n=t,r=Fo.compareOriented(this._pts,this._orientation,n._pts,n._orientation);return r};Fo.prototype.interfaces_=function(){return[Vr]};Fo.prototype.getClass=function(){return Fo};Fo.orientation=function(t){return ce.increasingDirection(t)===1};Fo.compareOriented=function(t,n,r,i){for(var o=n?1:-1,s=i?1:-1,u=n?t.length:-1,l=i?r.length:-1,p=n?0:t.length-1,g=i?0:r.length-1;;){var c=t[p].compareTo(r[g]);if(c!==0)return c;p+=o,g+=s;var _=p===u,C=g===l;if(_&&!C)return-1;if(!_&&C)return 1;if(_&&C)return 0}};var Jr=function(){this._edges=new kt,this._ocaMap=new qn};Jr.prototype.print=function(t){var n=this;t.print("MULTILINESTRING ( ");for(var r=0;r<this._edges.size();r++){var i=n._edges.get(r);r>0&&t.print(","),t.print("(");for(var o=i.getCoordinates(),s=0;s<o.length;s++)s>0&&t.print(","),t.print(o[s].x+" "+o[s].y);t.println(")")}t.print(")  ")};Jr.prototype.addAll=function(t){for(var n=this,r=t.iterator();r.hasNext();)n.add(r.next())};Jr.prototype.findEdgeIndex=function(t){for(var n=this,r=0;r<this._edges.size();r++)if(n._edges.get(r).equals(t))return r;return-1};Jr.prototype.iterator=function(){return this._edges.iterator()};Jr.prototype.getEdges=function(){return this._edges};Jr.prototype.get=function(t){return this._edges.get(t)};Jr.prototype.findEqualEdge=function(t){var n=new Fo(t.getCoordinates()),r=this._ocaMap.get(n);return r};Jr.prototype.add=function(t){this._edges.add(t);var n=new Fo(t.getCoordinates());this._ocaMap.put(n,t)};Jr.prototype.interfaces_=function(){return[]};Jr.prototype.getClass=function(){return Jr};var us=function(){};us.prototype.processIntersections=function(t,n,r,i){};us.prototype.isDone=function(){};us.prototype.interfaces_=function(){return[]};us.prototype.getClass=function(){return us};var Ir=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Ir.prototype.isTrivialIntersection=function(t,n,r,i){if(t===r&&this._li.getIntersectionNum()===1){if(Ir.isAdjacentSegments(n,i))return!0;if(t.isClosed()){var o=t.size()-1;if(n===0&&i===o||i===0&&n===o)return!0}}return!1};Ir.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint};Ir.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior};Ir.prototype.getLineIntersector=function(){return this._li};Ir.prototype.hasProperIntersection=function(){return this._hasProper};Ir.prototype.processIntersections=function(t,n,r,i){if(t===r&&n===i)return null;this.numTests++;var o=t.getCoordinates()[n],s=t.getCoordinates()[n+1],u=r.getCoordinates()[i],l=r.getCoordinates()[i+1];this._li.computeIntersection(o,s,u,l),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,n,r,i)||(this._hasIntersection=!0,t.addIntersections(this._li,n,0),r.addIntersections(this._li,i,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))};Ir.prototype.hasIntersection=function(){return this._hasIntersection};Ir.prototype.isDone=function(){return!1};Ir.prototype.hasInteriorIntersection=function(){return this._hasInterior};Ir.prototype.interfaces_=function(){return[us]};Ir.prototype.getClass=function(){return Ir};Ir.isAdjacentSegments=function(t,n){return Math.abs(t-n)===1};var Mi=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],n=arguments[1],r=arguments[2];this.coord=new $(t),this.segmentIndex=n,this.dist=r};Mi.prototype.getSegmentIndex=function(){return this.segmentIndex};Mi.prototype.getCoordinate=function(){return this.coord};Mi.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)};Mi.prototype.compareTo=function(t){var n=t;return this.compare(n.segmentIndex,n.dist)};Mi.prototype.isEndPoint=function(t){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===t};Mi.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist};Mi.prototype.getDistance=function(){return this.dist};Mi.prototype.compare=function(t,n){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<n?-1:this.dist>n?1:0};Mi.prototype.interfaces_=function(){return[Vr]};Mi.prototype.getClass=function(){return Mi};var Hi=function(){this._nodeMap=new qn,this.edge=null;var t=arguments[0];this.edge=t};Hi.prototype.print=function(t){t.println("Intersections:");for(var n=this.iterator();n.hasNext();){var r=n.next();r.print(t)}};Hi.prototype.iterator=function(){return this._nodeMap.values().iterator()};Hi.prototype.addSplitEdges=function(t){var n=this;this.addEndpoints();for(var r=this.iterator(),i=r.next();r.hasNext();){var o=r.next(),s=n.createSplitEdge(i,o);t.add(s),i=o}};Hi.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)};Hi.prototype.createSplitEdge=function(t,n){var r=this,i=n.segmentIndex-t.segmentIndex+2,o=this.edge.pts[n.segmentIndex],s=n.dist>0||!n.coord.equals2D(o);s||i--;var u=new Array(i).fill(null),l=0;u[l++]=new $(t.coord);for(var p=t.segmentIndex+1;p<=n.segmentIndex;p++)u[l++]=r.edge.pts[p];return s&&(u[l]=n.coord),new Pu(u,new ze(this.edge._label))};Hi.prototype.add=function(t,n,r){var i=new Mi(t,n,r),o=this._nodeMap.get(i);return o!==null?o:(this._nodeMap.put(i,i),i)};Hi.prototype.isIntersection=function(t){for(var n=this.iterator();n.hasNext();){var r=n.next();if(r.coord.equals(t))return!0}return!1};Hi.prototype.interfaces_=function(){return[]};Hi.prototype.getClass=function(){return Hi};var hs=function(){};hs.prototype.getChainStartIndices=function(t){var n=this,r=0,i=new kt;i.add(new yi(r));do{var o=n.findChainEnd(t,r);i.add(new yi(o)),r=o}while(r<t.length-1);var s=hs.toIntArray(i);return s};hs.prototype.findChainEnd=function(t,n){for(var r=Ve.quadrant(t[n],t[n+1]),i=n+1;i<t.length;){var o=Ve.quadrant(t[i-1],t[i]);if(o!==r)break;i++}return i-1};hs.prototype.interfaces_=function(){return[]};hs.prototype.getClass=function(){return hs};hs.toIntArray=function(t){for(var n=new Array(t.size()).fill(null),r=0;r<n.length;r++)n[r]=t.get(r).intValue();return n};var _o=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new zt,this.env2=new zt;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var n=new hs;this.startIndex=n.getChainStartIndices(this.pts)};_o.prototype.getCoordinates=function(){return this.pts};_o.prototype.getMaxX=function(t){var n=this.pts[this.startIndex[t]].x,r=this.pts[this.startIndex[t+1]].x;return n>r?n:r};_o.prototype.getMinX=function(t){var n=this.pts[this.startIndex[t]].x,r=this.pts[this.startIndex[t+1]].x;return n<r?n:r};_o.prototype.computeIntersectsForChain=function(){if(arguments.length===4){var t=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],n,n.startIndex[r],n.startIndex[r+1],i)}else if(arguments.length===6){var o=arguments[0],s=arguments[1],u=arguments[2],l=arguments[3],p=arguments[4],g=arguments[5],c=this.pts[o],_=this.pts[s],C=u.pts[l],E=u.pts[p];if(s-o===1&&p-l===1)return g.addIntersections(this.e,o,u.e,l),null;if(this.env1.init(c,_),this.env2.init(C,E),!this.env1.intersects(this.env2))return null;var P=Math.trunc((o+s)/2),S=Math.trunc((l+p)/2);o<P&&(l<S&&this.computeIntersectsForChain(o,P,u,l,S,g),S<p&&this.computeIntersectsForChain(o,P,u,S,p,g)),P<s&&(l<S&&this.computeIntersectsForChain(P,s,u,l,S,g),S<p&&this.computeIntersectsForChain(P,s,u,S,p,g))}};_o.prototype.getStartIndexes=function(){return this.startIndex};_o.prototype.computeIntersects=function(t,n){for(var r=this,i=0;i<this.startIndex.length-1;i++)for(var o=0;o<t.startIndex.length-1;o++)r.computeIntersectsForChain(i,t,o,n)};_o.prototype.interfaces_=function(){return[]};_o.prototype.getClass=function(){return _o};var zn=function e(){var t=this;this._depth=Array(2).fill().map(function(){return Array(3)});for(var n=0;n<2;n++)for(var r=0;r<3;r++)t._depth[n][r]=e.NULL_VALUE},ed={NULL_VALUE:{configurable:!0}};zn.prototype.getDepth=function(t,n){return this._depth[t][n]};zn.prototype.setDepth=function(t,n,r){this._depth[t][n]=r};zn.prototype.isNull=function(){var t=this;if(arguments.length===0){for(var n=0;n<2;n++)for(var r=0;r<3;r++)if(t._depth[n][r]!==zn.NULL_VALUE)return!1;return!0}else if(arguments.length===1){var i=arguments[0];return this._depth[i][1]===zn.NULL_VALUE}else if(arguments.length===2){var o=arguments[0],s=arguments[1];return this._depth[o][s]===zn.NULL_VALUE}};zn.prototype.normalize=function(){for(var t=this,n=0;n<2;n++)if(!t.isNull(n)){var r=t._depth[n][1];t._depth[n][2]<r&&(r=t._depth[n][2]),r<0&&(r=0);for(var i=1;i<3;i++){var o=0;t._depth[n][i]>r&&(o=1),t._depth[n][i]=o}}};zn.prototype.getDelta=function(t){return this._depth[t][Mt.RIGHT]-this._depth[t][Mt.LEFT]};zn.prototype.getLocation=function(t,n){return this._depth[t][n]<=0?et.EXTERIOR:et.INTERIOR};zn.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]};zn.prototype.add=function(){var t=this;if(arguments.length===1)for(var n=arguments[0],r=0;r<2;r++)for(var i=1;i<3;i++){var o=n.getLocation(r,i);(o===et.EXTERIOR||o===et.INTERIOR)&&(t.isNull(r,i)?t._depth[r][i]=zn.depthAtLocation(o):t._depth[r][i]+=zn.depthAtLocation(o))}else if(arguments.length===3){var s=arguments[0],u=arguments[1],l=arguments[2];l===et.INTERIOR&&this._depth[s][u]++}};zn.prototype.interfaces_=function(){return[]};zn.prototype.getClass=function(){return zn};zn.depthAtLocation=function(t){return t===et.EXTERIOR?0:t===et.INTERIOR?1:zn.NULL_VALUE};ed.NULL_VALUE.get=function(){return-1};Object.defineProperties(zn,ed);var Pu=function(e){function t(){if(e.call(this),this.pts=null,this._env=null,this.eiList=new Hi(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new zn,this._depthDelta=0,arguments.length===1){var n=arguments[0];t.call(this,n,null)}else if(arguments.length===2){var r=arguments[0],i=arguments[1];this.pts=r,this._label=i}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDepth=function(){return this._depth},t.prototype.getCollapsedEdge=function(){var r=new Array(2).fill(null);r[0]=this.pts[0],r[1]=this.pts[1];var i=new t(r,ze.toLineLabel(this._label));return i},t.prototype.isIsolated=function(){return this._isIsolated},t.prototype.getCoordinates=function(){return this.pts},t.prototype.setIsolated=function(r){this._isIsolated=r},t.prototype.setName=function(r){this._name=r},t.prototype.equals=function(r){var i=this;if(!(r instanceof t))return!1;var o=r;if(this.pts.length!==o.pts.length)return!1;for(var s=!0,u=!0,l=this.pts.length,p=0;p<this.pts.length;p++)if(i.pts[p].equals2D(o.pts[p])||(s=!1),i.pts[p].equals2D(o.pts[--l])||(u=!1),!s&&!u)return!1;return!0},t.prototype.getCoordinate=function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var r=arguments[0];return this.pts[r]}},t.prototype.print=function(r){var i=this;r.print("edge "+this._name+": "),r.print("LINESTRING (");for(var o=0;o<this.pts.length;o++)o>0&&r.print(","),r.print(i.pts[o].x+" "+i.pts[o].y);r.print(")  "+this._label+" "+this._depthDelta)},t.prototype.computeIM=function(r){t.updateIM(this._label,r)},t.prototype.isCollapsed=function(){return!this._label.isArea()||this.pts.length!==3?!1:!!this.pts[0].equals(this.pts[2])},t.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},t.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},t.prototype.getDepthDelta=function(){return this._depthDelta},t.prototype.getNumPoints=function(){return this.pts.length},t.prototype.printReverse=function(r){var i=this;r.print("edge "+this._name+": ");for(var o=this.pts.length-1;o>=0;o--)r.print(i.pts[o]+" ");r.println("")},t.prototype.getMonotoneChainEdge=function(){return this._mce===null&&(this._mce=new _o(this)),this._mce},t.prototype.getEnvelope=function(){var r=this;if(this._env===null){this._env=new zt;for(var i=0;i<this.pts.length;i++)r._env.expandToInclude(r.pts[i])}return this._env},t.prototype.addIntersection=function(r,i,o,s){var u=new $(r.getIntersection(s)),l=i,p=r.getEdgeDistance(o,s),g=l+1;if(g<this.pts.length){var c=this.pts[g];u.equals2D(c)&&(l=g,p=0)}this.eiList.add(u,l,p)},t.prototype.toString=function(){var r=this,i=new Ii;i.append("edge "+this._name+": "),i.append("LINESTRING (");for(var o=0;o<this.pts.length;o++)o>0&&i.append(","),i.append(r.pts[o].x+" "+r.pts[o].y);return i.append(")  "+this._label+" "+this._depthDelta),i.toString()},t.prototype.isPointwiseEqual=function(r){var i=this;if(this.pts.length!==r.pts.length)return!1;for(var o=0;o<this.pts.length;o++)if(!i.pts[o].equals2D(r.pts[o]))return!1;return!0},t.prototype.setDepthDelta=function(r){this._depthDelta=r},t.prototype.getEdgeIntersectionList=function(){return this.eiList},t.prototype.addIntersections=function(r,i,o){for(var s=this,u=0;u<r.getIntersectionNum();u++)s.addIntersection(r,i,o,u)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.updateIM=function(){if(arguments.length===2){var r=arguments[0],i=arguments[1];i.setAtLeastIfValid(r.getLocation(0,Mt.ON),r.getLocation(1,Mt.ON),1),r.isArea()&&(i.setAtLeastIfValid(r.getLocation(0,Mt.LEFT),r.getLocation(1,Mt.LEFT),2),i.setAtLeastIfValid(r.getLocation(0,Mt.RIGHT),r.getLocation(1,Mt.RIGHT),2))}else return e.prototype.updateIM.apply(this,arguments)},t}(Sr),nr=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Jr,this._bufParams=t||null};nr.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t};nr.prototype.insertUniqueEdge=function(t){var n=this._edgeList.findEqualEdge(t);if(n!==null){var r=n.getLabel(),i=t.getLabel();n.isPointwiseEqual(t)||(i=new ze(t.getLabel()),i.flip()),r.merge(i);var o=nr.depthDelta(i),s=n.getDepthDelta(),u=s+o;n.setDepthDelta(u)}else this._edgeList.add(t),t.setDepthDelta(nr.depthDelta(t.getLabel()))};nr.prototype.buildSubgraphs=function(t,n){for(var r=new kt,i=t.iterator();i.hasNext();){var o=i.next(),s=o.getRightmostCoordinate(),u=new As(r),l=u.getDepth(s);o.computeDepth(l),o.findResultEdges(),r.add(o),n.add(o.getDirectedEdges(),o.getNodes())}};nr.prototype.createSubgraphs=function(t){for(var n=new kt,r=t.getNodes().iterator();r.hasNext();){var i=r.next();if(!i.isVisited()){var o=new ir;o.create(i),n.add(o)}}return Kr.sort(n,Kr.reverseOrder()),n};nr.prototype.createEmptyResultGeometry=function(){var t=this._geomFact.createPolygon();return t};nr.prototype.getNoder=function(t){if(this._workingNoder!==null)return this._workingNoder;var n=new oc,r=new ms;return r.setPrecisionModel(t),n.setSegmentIntersector(new Ir(r)),n};nr.prototype.buffer=function(t,n){var r=this._workingPrecisionModel;r===null&&(r=t.getPrecisionModel()),this._geomFact=t.getFactory();var i=new fr(r,this._bufParams),o=new Fr(t,n,i),s=o.getCurves();if(s.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(s,r),this._graph=new on(new td),this._graph.addEdges(this._edgeList.getEdges());var u=this.createSubgraphs(this._graph),l=new Lr(this._geomFact);this.buildSubgraphs(u,l);var p=l.getPolygons();if(p.size()<=0)return this.createEmptyResultGeometry();var g=this._geomFact.buildGeometry(p);return g};nr.prototype.computeNodedEdges=function(t,n){var r=this,i=this.getNoder(n);i.computeNodes(t);for(var o=i.getNodedSubstrings(),s=o.iterator();s.hasNext();){var u=s.next(),l=u.getCoordinates();if(!(l.length===2&&l[0].equals2D(l[1]))){var p=u.getData(),g=new Pu(u.getCoordinates(),new ze(p));r.insertUniqueEdge(g)}}};nr.prototype.setNoder=function(t){this._workingNoder=t};nr.prototype.interfaces_=function(){return[]};nr.prototype.getClass=function(){return nr};nr.depthDelta=function(t){var n=t.getLocation(0,Mt.LEFT),r=t.getLocation(0,Mt.RIGHT);return n===et.INTERIOR&&r===et.EXTERIOR?1:n===et.EXTERIOR&&r===et.INTERIOR?-1:0};nr.convertSegStrings=function(t){for(var n=new he,r=new kt;t.hasNext();){var i=t.next(),o=n.createLineString(i.getCoordinates());r.add(o)}return n.buildGeometry(r)};var Go=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var t=arguments[0],n=arguments[1];this._noder=t,this._scaleFactor=n,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(arguments.length===4){var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3];this._noder=r,this._scaleFactor=i,this._offsetX=o,this._offsetY=s,this._isScaled=!this.isIntegerPrecision()}};Go.prototype.rescale=function(){var t=this;if(jt(arguments[0],wn))for(var n=arguments[0],r=n.iterator();r.hasNext();){var i=r.next();t.rescale(i.getCoordinates())}else if(arguments[0]instanceof Array){for(var o=arguments[0],s=0;s<o.length;s++)o[s].x=o[s].x/t._scaleFactor+t._offsetX,o[s].y=o[s].y/t._scaleFactor+t._offsetY;o.length===2&&o[0].equals2D(o[1])&&Fn.out.println(o)}};Go.prototype.scale=function(){var t=this;if(jt(arguments[0],wn)){for(var n=arguments[0],r=new kt,i=n.iterator();i.hasNext();){var o=i.next();r.add(new dn(t.scale(o.getCoordinates()),o.getData()))}return r}else if(arguments[0]instanceof Array){for(var s=arguments[0],u=new Array(s.length).fill(null),l=0;l<s.length;l++)u[l]=new $(Math.round((s[l].x-t._offsetX)*t._scaleFactor),Math.round((s[l].y-t._offsetY)*t._scaleFactor),s[l].z);var p=ce.removeRepeatedPoints(u);return p}};Go.prototype.isIntegerPrecision=function(){return this._scaleFactor===1};Go.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t};Go.prototype.computeNodes=function(t){var n=t;this._isScaled&&(n=this.scale(t)),this._noder.computeNodes(n)};Go.prototype.interfaces_=function(){return[as]};Go.prototype.getClass=function(){return Go};var Pi=function(){this._li=new ms,this._segStrings=null;var t=arguments[0];this._segStrings=t},nd={fact:{configurable:!0}};Pi.prototype.checkEndPtVertexIntersections=function(){var t=this;if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var r=n.next(),i=r.getCoordinates();t.checkEndPtVertexIntersections(i[0],t._segStrings),t.checkEndPtVertexIntersections(i[i.length-1],t._segStrings)}else if(arguments.length===2){for(var o=arguments[0],s=arguments[1],u=s.iterator();u.hasNext();)for(var l=u.next(),p=l.getCoordinates(),g=1;g<p.length-1;g++)if(p[g].equals(o))throw new co("found endpt/interior pt intersection at index "+g+" :pt "+o)}};Pi.prototype.checkInteriorIntersections=function(){var t=this;if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();)for(var r=n.next(),i=this._segStrings.iterator();i.hasNext();){var o=i.next();t.checkInteriorIntersections(r,o)}else if(arguments.length===2)for(var s=arguments[0],u=arguments[1],l=s.getCoordinates(),p=u.getCoordinates(),g=0;g<l.length-1;g++)for(var c=0;c<p.length-1;c++)t.checkInteriorIntersections(s,g,u,c);else if(arguments.length===4){var _=arguments[0],C=arguments[1],E=arguments[2],P=arguments[3];if(_===E&&C===P)return null;var S=_.getCoordinates()[C],I=_.getCoordinates()[C+1],T=E.getCoordinates()[P],N=E.getCoordinates()[P+1];if(this._li.computeIntersection(S,I,T,N),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,S,I)||this.hasInteriorIntersection(this._li,T,N)))throw new co("found non-noded intersection at "+S+"-"+I+" and "+T+"-"+N)}};Pi.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()};Pi.prototype.checkCollapses=function(){var t=this;if(arguments.length===0)for(var n=this._segStrings.iterator();n.hasNext();){var r=n.next();t.checkCollapses(r)}else if(arguments.length===1)for(var i=arguments[0],o=i.getCoordinates(),s=0;s<o.length-2;s++)t.checkCollapse(o[s],o[s+1],o[s+2])};Pi.prototype.hasInteriorIntersection=function(t,n,r){for(var i=0;i<t.getIntersectionNum();i++){var o=t.getIntersection(i);if(!(o.equals(n)||o.equals(r)))return!0}return!1};Pi.prototype.checkCollapse=function(t,n,r){if(t.equals(r))throw new co("found non-noded collapse at "+Pi.fact.createLineString([t,n,r]))};Pi.prototype.interfaces_=function(){return[]};Pi.prototype.getClass=function(){return Pi};nd.fact.get=function(){return new he};Object.defineProperties(Pi,nd);var pr=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],n=arguments[1],r=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=n,this._li=r,n<=0)throw new $e("Scale factor must be non-zero");n!==1&&(this._pt=new $(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new $,this._p1Scaled=new $),this.initCorners(this._pt)},rd={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};pr.prototype.intersectsScaled=function(t,n){var r=Math.min(t.x,n.x),i=Math.max(t.x,n.x),o=Math.min(t.y,n.y),s=Math.max(t.y,n.y),u=this._maxx<r||this._minx>i||this._maxy<o||this._miny>s;if(u)return!1;var l=this.intersectsToleranceSquare(t,n);return Jt.isTrue(!(u&&l),"Found bad envelope test"),l};pr.prototype.initCorners=function(t){var n=.5;this._minx=t.x-n,this._maxx=t.x+n,this._miny=t.y-n,this._maxy=t.y+n,this._corner[0]=new $(this._maxx,this._maxy),this._corner[1]=new $(this._minx,this._maxy),this._corner[2]=new $(this._minx,this._miny),this._corner[3]=new $(this._maxx,this._miny)};pr.prototype.intersects=function(t,n){return this._scaleFactor===1?this.intersectsScaled(t,n):(this.copyScaled(t,this._p0Scaled),this.copyScaled(n,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))};pr.prototype.scale=function(t){return Math.round(t*this._scaleFactor)};pr.prototype.getCoordinate=function(){return this._originalPt};pr.prototype.copyScaled=function(t,n){n.x=this.scale(t.x),n.y=this.scale(t.y)};pr.prototype.getSafeEnvelope=function(){if(this._safeEnv===null){var t=pr.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new zt(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv};pr.prototype.intersectsPixelClosure=function(t,n){return this._li.computeIntersection(t,n,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,n,this._corner[1],this._corner[2]),this._li.hasIntersection())||(this._li.computeIntersection(t,n,this._corner[2],this._corner[3]),this._li.hasIntersection())||(this._li.computeIntersection(t,n,this._corner[3],this._corner[0]),this._li.hasIntersection()))};pr.prototype.intersectsToleranceSquare=function(t,n){var r=!1,i=!1;return this._li.computeIntersection(t,n,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,n,this._corner[1],this._corner[2]),this._li.isProper())||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,n,this._corner[2],this._corner[3]),this._li.isProper())||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,n,this._corner[3],this._corner[0]),this._li.isProper())||r&&i||t.equals(this._pt)||n.equals(this._pt))};pr.prototype.addSnappedNode=function(t,n){var r=t.getCoordinate(n),i=t.getCoordinate(n+1);return this.intersects(r,i)?(t.addIntersection(this.getCoordinate(),n),!0):!1};pr.prototype.interfaces_=function(){return[]};pr.prototype.getClass=function(){return pr};rd.SAFE_ENV_EXPANSION_FACTOR.get=function(){return .75};Object.defineProperties(pr,rd);var Ml=function(){this.tempEnv1=new zt,this.selectedSegment=new Ft};Ml.prototype.select=function(){if(arguments.length!==1){if(arguments.length===2){var t=arguments[0],n=arguments[1];t.getLineSegment(n,this.selectedSegment),this.select(this.selectedSegment)}}};Ml.prototype.interfaces_=function(){return[]};Ml.prototype.getClass=function(){return Ml};var Sa=function(){this._index=null;var t=arguments[0];this._index=t},id={HotPixelSnapAction:{configurable:!0}};Sa.prototype.snap=function(){if(arguments.length===1){var t=arguments[0];return this.snap(t,null,-1)}else if(arguments.length===3){var n=arguments[0],r=arguments[1],i=arguments[2],o=n.getSafeEnvelope(),s=new od(n,r,i);return this._index.query(o,{interfaces_:function(){return[Bo]},visitItem:function(u){var l=u;l.select(o,s)}}),s.isNodeAdded()}};Sa.prototype.interfaces_=function(){return[]};Sa.prototype.getClass=function(){return Sa};id.HotPixelSnapAction.get=function(){return od};Object.defineProperties(Sa,id);var od=function(e){function t(){e.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var n=arguments[0],r=arguments[1],i=arguments[2];this._hotPixel=n,this._parentEdge=r,this._hotPixelVertexIndex=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isNodeAdded=function(){return this._isNodeAdded},t.prototype.select=function(){if(arguments.length===2){var r=arguments[0],i=arguments[1],o=r.getContext();if(this._parentEdge!==null&&o===this._parentEdge&&i===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(o,i)}else return e.prototype.select.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Ml),Bs=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new kt};Bs.prototype.processIntersections=function(t,n,r,i){var o=this;if(t===r&&n===i)return null;var s=t.getCoordinates()[n],u=t.getCoordinates()[n+1],l=r.getCoordinates()[i],p=r.getCoordinates()[i+1];if(this._li.computeIntersection(s,u,l,p),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var g=0;g<this._li.getIntersectionNum();g++)o._interiorIntersections.add(o._li.getIntersection(g));t.addIntersections(this._li,n,0),r.addIntersections(this._li,i,1)}};Bs.prototype.isDone=function(){return!1};Bs.prototype.getInteriorIntersections=function(){return this._interiorIntersections};Bs.prototype.interfaces_=function(){return[us]};Bs.prototype.getClass=function(){return Bs};var Zi=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new ms,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};Zi.prototype.checkCorrectness=function(t){var n=dn.getNodedSubstrings(t),r=new Pi(n);try{r.checkValid()}catch(i){if(i instanceof Up)i.printStackTrace();else throw i}finally{}};Zi.prototype.getNodedSubstrings=function(){return dn.getNodedSubstrings(this._nodedSegStrings)};Zi.prototype.snapRound=function(t,n){var r=this.findInteriorIntersections(t,n);this.computeIntersectionSnaps(r),this.computeVertexSnaps(t)};Zi.prototype.findInteriorIntersections=function(t,n){var r=new Bs(n);return this._noder.setSegmentIntersector(r),this._noder.computeNodes(t),r.getInteriorIntersections()};Zi.prototype.computeVertexSnaps=function(){var t=this;if(jt(arguments[0],wn))for(var n=arguments[0],r=n.iterator();r.hasNext();){var i=r.next();t.computeVertexSnaps(i)}else if(arguments[0]instanceof dn)for(var o=arguments[0],s=o.getCoordinates(),u=0;u<s.length;u++){var l=new pr(s[u],t._scaleFactor,t._li),p=t._pointSnapper.snap(l,o,u);p&&o.addIntersection(s[u],u)}};Zi.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new oc,this._pointSnapper=new Sa(this._noder.getIndex()),this.snapRound(t,this._li)};Zi.prototype.computeIntersectionSnaps=function(t){for(var n=this,r=t.iterator();r.hasNext();){var i=r.next(),o=new pr(i,n._scaleFactor,n._li);n._pointSnapper.snap(o)}};Zi.prototype.interfaces_=function(){return[as]};Zi.prototype.getClass=function(){return Zi};var Bn=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Oe,this._resultGeometry=null,this._saveException=null,arguments.length===1){var t=arguments[0];this._argGeom=t}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this._argGeom=n,this._bufParams=r}},Va={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Bn.prototype.bufferFixedPrecision=function(t){var n=new Go(new Zi(new De(1)),t.getScale()),r=new nr(this._bufParams);r.setWorkingPrecisionModel(t),r.setNoder(n),this._resultGeometry=r.buffer(this._argGeom,this._distance)};Bn.prototype.bufferReducedPrecision=function(){var t=this;if(arguments.length===0){for(var n=Bn.MAX_PRECISION_DIGITS;n>=0;n--){try{t.bufferReducedPrecision(n)}catch(s){if(s instanceof po)t._saveException=s;else throw s}finally{}if(t._resultGeometry!==null)return null}throw this._saveException}else if(arguments.length===1){var r=arguments[0],i=Bn.precisionScaleFactor(this._argGeom,this._distance,r),o=new De(i);this.bufferFixedPrecision(o)}};Bn.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===De.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()};Bn.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)};Bn.prototype.bufferOriginalPrecision=function(){try{var t=new nr(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(n){if(n instanceof co)this._saveException=n;else throw n}finally{}};Bn.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry};Bn.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)};Bn.prototype.interfaces_=function(){return[]};Bn.prototype.getClass=function(){return Bn};Bn.bufferOp=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1],r=new Bn(t),i=r.getResultGeometry(n);return i}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Ht&&typeof arguments[1]=="number"){var o=arguments[0],s=arguments[1],u=arguments[2],l=new Bn(o);l.setQuadrantSegments(u);var p=l.getResultGeometry(s);return p}else if(arguments[2]instanceof Oe&&arguments[0]instanceof Ht&&typeof arguments[1]=="number"){var g=arguments[0],c=arguments[1],_=arguments[2],C=new Bn(g,_),E=C.getResultGeometry(c);return E}}else if(arguments.length===4){var P=arguments[0],S=arguments[1],I=arguments[2],T=arguments[3],N=new Bn(P);N.setQuadrantSegments(I),N.setEndCapStyle(T);var x=N.getResultGeometry(S);return x}};Bn.precisionScaleFactor=function(t,n,r){var i=t.getEnvelopeInternal(),o=Pr.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY())),s=n>0?n:0,u=o+2*s,l=Math.trunc(Math.log(u)/Math.log(10)+1),p=r-l,g=Math.pow(10,p);return g};Va.CAP_ROUND.get=function(){return Oe.CAP_ROUND};Va.CAP_BUTT.get=function(){return Oe.CAP_FLAT};Va.CAP_FLAT.get=function(){return Oe.CAP_FLAT};Va.CAP_SQUARE.get=function(){return Oe.CAP_SQUARE};Va.MAX_PRECISION_DIGITS.get=function(){return 12};Object.defineProperties(Bn,Va);var $n=function(){this._pt=[new $,new $],this._distance=Yt.NaN,this._isNull=!0};$n.prototype.getCoordinates=function(){return this._pt};$n.prototype.getCoordinate=function(t){return this._pt[t]};$n.prototype.setMinimum=function(){if(arguments.length===1){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],r=arguments[1];if(this._isNull)return this.initialize(n,r),null;var i=n.distance(r);i<this._distance&&this.initialize(n,r,i)}};$n.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var t=arguments[0],n=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(n),this._distance=t.distance(n),this._isNull=!1}else if(arguments.length===3){var r=arguments[0],i=arguments[1],o=arguments[2];this._pt[0].setCoordinate(r),this._pt[1].setCoordinate(i),this._distance=o,this._isNull=!1}};$n.prototype.getDistance=function(){return this._distance};$n.prototype.setMaximum=function(){if(arguments.length===1){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],r=arguments[1];if(this._isNull)return this.initialize(n,r),null;var i=n.distance(r);i>this._distance&&this.initialize(n,r,i)}};$n.prototype.interfaces_=function(){return[]};$n.prototype.getClass=function(){return $n};var Ri=function(){};Ri.prototype.interfaces_=function(){return[]};Ri.prototype.getClass=function(){return Ri};Ri.computeDistance=function(){if(arguments[2]instanceof $n&&arguments[0]instanceof an&&arguments[1]instanceof $)for(var t=arguments[0],n=arguments[1],r=arguments[2],i=t.getCoordinates(),o=new Ft,s=0;s<i.length-1;s++){o.setCoordinates(i[s],i[s+1]);var u=o.closestPoint(n);r.setMinimum(u,n)}else if(arguments[2]instanceof $n&&arguments[0]instanceof Sn&&arguments[1]instanceof $){var l=arguments[0],p=arguments[1],g=arguments[2];Ri.computeDistance(l.getExteriorRing(),p,g);for(var c=0;c<l.getNumInteriorRing();c++)Ri.computeDistance(l.getInteriorRingN(c),p,g)}else if(arguments[2]instanceof $n&&arguments[0]instanceof Ht&&arguments[1]instanceof $){var _=arguments[0],C=arguments[1],E=arguments[2];if(_ instanceof an)Ri.computeDistance(_,C,E);else if(_ instanceof Sn)Ri.computeDistance(_,C,E);else if(_ instanceof rr)for(var P=_,S=0;S<P.getNumGeometries();S++){var I=P.getGeometryN(S);Ri.computeDistance(I,C,E)}else E.setMinimum(_.getCoordinate(),C)}else if(arguments[2]instanceof $n&&arguments[0]instanceof Ft&&arguments[1]instanceof $){var T=arguments[0],N=arguments[1],x=arguments[2],R=T.closestPoint(N);x.setMinimum(R,N)}};var cs=function(t){this._maxPtDist=new $n,this._inputGeom=t||null},sc={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};cs.prototype.computeMaxMidpointDistance=function(t){var n=new Vo(this._inputGeom);t.apply(n),this._maxPtDist.setMaximum(n.getMaxPointDistance())};cs.prototype.computeMaxVertexDistance=function(t){var n=new zs(this._inputGeom);t.apply(n),this._maxPtDist.setMaximum(n.getMaxPointDistance())};cs.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()};cs.prototype.getDistancePoints=function(){return this._maxPtDist};cs.prototype.interfaces_=function(){return[]};cs.prototype.getClass=function(){return cs};sc.MaxPointDistanceFilter.get=function(){return zs};sc.MaxMidpointDistanceFilter.get=function(){return Vo};Object.defineProperties(cs,sc);var zs=function(t){this._maxPtDist=new $n,this._minPtDist=new $n,this._geom=t||null};zs.prototype.filter=function(t){this._minPtDist.initialize(),Ri.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)};zs.prototype.getMaxPointDistance=function(){return this._maxPtDist};zs.prototype.interfaces_=function(){return[Fi]};zs.prototype.getClass=function(){return zs};var Vo=function(t){this._maxPtDist=new $n,this._minPtDist=new $n,this._geom=t||null};Vo.prototype.filter=function(t,n){if(n===0)return null;var r=t.getCoordinate(n-1),i=t.getCoordinate(n),o=new $((r.x+i.x)/2,(r.y+i.y)/2);this._minPtDist.initialize(),Ri.computeDistance(this._geom,o,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)};Vo.prototype.isDone=function(){return!1};Vo.prototype.isGeometryChanged=function(){return!1};Vo.prototype.getMaxPointDistance=function(){return this._maxPtDist};Vo.prototype.interfaces_=function(){return[Yr]};Vo.prototype.getClass=function(){return Vo};var uo=function(t){this._comps=t||null};uo.prototype.filter=function(t){t instanceof Sn&&this._comps.add(t)};uo.prototype.interfaces_=function(){return[bi]};uo.prototype.getClass=function(){return uo};uo.getPolygons=function(){if(arguments.length===1){var t=arguments[0];return uo.getPolygons(t,new kt)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return n instanceof Sn?r.add(n):n instanceof rr&&n.apply(new uo(r)),r}};var An=function(){if(this._lines=null,this._isForcedToLineString=!1,arguments.length===1){var t=arguments[0];this._lines=t}else if(arguments.length===2){var n=arguments[0],r=arguments[1];this._lines=n,this._isForcedToLineString=r}};An.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof Gi){var n=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(n),null}t instanceof an&&this._lines.add(t)};An.prototype.setForceToLineString=function(t){this._isForcedToLineString=t};An.prototype.interfaces_=function(){return[fo]};An.prototype.getClass=function(){return An};An.getGeometry=function(){if(arguments.length===1){var t=arguments[0];return t.getFactory().buildGeometry(An.getLines(t))}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return n.getFactory().buildGeometry(An.getLines(n,r))}};An.getLines=function(){if(arguments.length===1){var t=arguments[0];return An.getLines(t,!1)}else if(arguments.length===2){if(jt(arguments[0],wn)&&jt(arguments[1],wn)){for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();){var o=i.next();An.getLines(o,r)}return r}else if(arguments[0]instanceof Ht&&typeof arguments[1]=="boolean"){var s=arguments[0],u=arguments[1],l=new kt;return s.apply(new An(l,u)),l}else if(arguments[0]instanceof Ht&&jt(arguments[1],wn)){var p=arguments[0],g=arguments[1];return p instanceof an?g.add(p):p.apply(new An(g)),g}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&jt(arguments[0],wn)&&jt(arguments[1],wn)){for(var c=arguments[0],_=arguments[1],C=arguments[2],E=c.iterator();E.hasNext();){var P=E.next();An.getLines(P,_,C)}return _}else if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Ht&&jt(arguments[1],wn)){var S=arguments[0],I=arguments[1],T=arguments[2];return S.apply(new An(I,T)),I}}};var Qr=function(){if(this._boundaryRule=Br.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,arguments.length!==0){if(arguments.length===1){var t=arguments[0];if(t===null)throw new $e("Rule must be non-null");this._boundaryRule=t}}};Qr.prototype.locateInternal=function(){var t=this;if(arguments[0]instanceof $&&arguments[1]instanceof Sn){var n=arguments[0],r=arguments[1];if(r.isEmpty())return et.EXTERIOR;var i=r.getExteriorRing(),o=this.locateInPolygonRing(n,i);if(o===et.EXTERIOR)return et.EXTERIOR;if(o===et.BOUNDARY)return et.BOUNDARY;for(var s=0;s<r.getNumInteriorRing();s++){var u=r.getInteriorRingN(s),l=t.locateInPolygonRing(n,u);if(l===et.INTERIOR)return et.EXTERIOR;if(l===et.BOUNDARY)return et.BOUNDARY}return et.INTERIOR}else if(arguments[0]instanceof $&&arguments[1]instanceof an){var p=arguments[0],g=arguments[1];if(!g.getEnvelopeInternal().intersects(p))return et.EXTERIOR;var c=g.getCoordinates();return!g.isClosed()&&(p.equals(c[0])||p.equals(c[c.length-1]))?et.BOUNDARY:xt.isOnLine(p,c)?et.INTERIOR:et.EXTERIOR}else if(arguments[0]instanceof $&&arguments[1]instanceof yr){var _=arguments[0],C=arguments[1],E=C.getCoordinate();return E.equals2D(_)?et.INTERIOR:et.EXTERIOR}};Qr.prototype.locateInPolygonRing=function(t,n){return n.getEnvelopeInternal().intersects(t)?xt.locatePointInRing(t,n.getCoordinates()):et.EXTERIOR};Qr.prototype.intersects=function(t,n){return this.locate(t,n)!==et.EXTERIOR};Qr.prototype.updateLocationInfo=function(t){t===et.INTERIOR&&(this._isIn=!0),t===et.BOUNDARY&&this._numBoundaries++};Qr.prototype.computeLocation=function(t,n){var r=this;if(n instanceof yr&&this.updateLocationInfo(this.locateInternal(t,n)),n instanceof an)this.updateLocationInfo(this.locateInternal(t,n));else if(n instanceof Sn)this.updateLocationInfo(this.locateInternal(t,n));else if(n instanceof ss)for(var i=n,o=0;o<i.getNumGeometries();o++){var s=i.getGeometryN(o);r.updateLocationInfo(r.locateInternal(t,s))}else if(n instanceof Bi)for(var u=n,l=0;l<u.getNumGeometries();l++){var p=u.getGeometryN(l);r.updateLocationInfo(r.locateInternal(t,p))}else if(n instanceof rr)for(var g=new zi(n);g.hasNext();){var c=g.next();c!==n&&r.computeLocation(t,c)}};Qr.prototype.locate=function(t,n){return n.isEmpty()?et.EXTERIOR:n instanceof an?this.locateInternal(t,n):n instanceof Sn?this.locateInternal(t,n):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,n),this._boundaryRule.isInBoundary(this._numBoundaries)?et.BOUNDARY:this._numBoundaries>0||this._isIn?et.INTERIOR:et.EXTERIOR)};Qr.prototype.interfaces_=function(){return[]};Qr.prototype.getClass=function(){return Qr};var tr=function e(){if(this._component=null,this._segIndex=null,this._pt=null,arguments.length===2){var t=arguments[0],n=arguments[1];e.call(this,t,e.INSIDE_AREA,n)}else if(arguments.length===3){var r=arguments[0],i=arguments[1],o=arguments[2];this._component=r,this._segIndex=i,this._pt=o}},sd={INSIDE_AREA:{configurable:!0}};tr.prototype.isInsideArea=function(){return this._segIndex===tr.INSIDE_AREA};tr.prototype.getCoordinate=function(){return this._pt};tr.prototype.getGeometryComponent=function(){return this._component};tr.prototype.getSegmentIndex=function(){return this._segIndex};tr.prototype.interfaces_=function(){return[]};tr.prototype.getClass=function(){return tr};sd.INSIDE_AREA.get=function(){return-1};Object.defineProperties(tr,sd);var Do=function(t){this._pts=t||null};Do.prototype.filter=function(t){t instanceof yr&&this._pts.add(t)};Do.prototype.interfaces_=function(){return[bi]};Do.prototype.getClass=function(){return Do};Do.getPoints=function(){if(arguments.length===1){var t=arguments[0];return t instanceof yr?Kr.singletonList(t):Do.getPoints(t,new kt)}else if(arguments.length===2){var n=arguments[0],r=arguments[1];return n instanceof yr?r.add(n):n instanceof rr&&n.apply(new Do(r)),r}};var Fs=function(){this._locations=null;var t=arguments[0];this._locations=t};Fs.prototype.filter=function(t){(t instanceof yr||t instanceof an||t instanceof Sn)&&this._locations.add(new tr(t,0,t.getCoordinate()))};Fs.prototype.interfaces_=function(){return[bi]};Fs.prototype.getClass=function(){return Fs};Fs.getLocations=function(t){var n=new kt;return t.apply(new Fs(n)),n};var Gn=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Qr,this._minDistanceLocation=null,this._minDistance=Yt.MAX_VALUE,arguments.length===2){var t=arguments[0],n=arguments[1];this._geom=[t,n],this._terminateDistance=0}else if(arguments.length===3){var r=arguments[0],i=arguments[1],o=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=r,this._geom[1]=i,this._terminateDistance=o}};Gn.prototype.computeContainmentDistance=function(){var t=this;if(arguments.length===0){var n=new Array(2).fill(null);if(this.computeContainmentDistance(0,n),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,n)}else if(arguments.length===2){var r=arguments[0],i=arguments[1],o=1-r,s=uo.getPolygons(this._geom[r]);if(s.size()>0){var u=Fs.getLocations(this._geom[o]);if(this.computeContainmentDistance(u,s,i),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[o]=i[0],this._minDistanceLocation[r]=i[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&jt(arguments[0],qr)&&jt(arguments[1],qr)){for(var l=arguments[0],p=arguments[1],g=arguments[2],c=0;c<l.size();c++)for(var _=l.get(c),C=0;C<p.size();C++)if(t.computeContainmentDistance(_,p.get(C),g),t._minDistance<=t._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof tr&&arguments[1]instanceof Sn){var E=arguments[0],P=arguments[1],S=arguments[2],I=E.getCoordinate();if(et.EXTERIOR!==this._ptLocator.locate(I,P))return this._minDistance=0,S[0]=E,S[1]=new tr(P,I),null}}};Gn.prototype.computeMinDistanceLinesPoints=function(t,n,r){for(var i=this,o=0;o<t.size();o++)for(var s=t.get(o),u=0;u<n.size();u++){var l=n.get(u);if(i.computeMinDistance(s,l,r),i._minDistance<=i._terminateDistance)return null}};Gn.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),n=An.getLines(this._geom[0]),r=An.getLines(this._geom[1]),i=Do.getPoints(this._geom[0]),o=Do.getPoints(this._geom[1]);if(this.computeMinDistanceLines(n,r,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance||(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,o,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance)||(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(r,i,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance))return null;t[0]=null,t[1]=null,this.computeMinDistancePoints(i,o,t),this.updateMinDistance(t,!1)};Gn.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation};Gn.prototype.updateMinDistance=function(t,n){if(t[0]===null)return null;n?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])};Gn.prototype.nearestPoints=function(){this.computeMinDistance();var t=[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()];return t};Gn.prototype.computeMinDistance=function(){var t=this;if(arguments.length===0){if(this._minDistanceLocation!==null||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof an&&arguments[1]instanceof yr){var n=arguments[0],r=arguments[1],i=arguments[2];if(n.getEnvelopeInternal().distance(r.getEnvelopeInternal())>this._minDistance)return null;for(var o=n.getCoordinates(),s=r.getCoordinate(),u=0;u<o.length-1;u++){var l=xt.distancePointLine(s,o[u],o[u+1]);if(l<t._minDistance){t._minDistance=l;var p=new Ft(o[u],o[u+1]),g=p.closestPoint(s);i[0]=new tr(n,u,g),i[1]=new tr(r,0,s)}if(t._minDistance<=t._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof an&&arguments[1]instanceof an){var c=arguments[0],_=arguments[1],C=arguments[2];if(c.getEnvelopeInternal().distance(_.getEnvelopeInternal())>this._minDistance)return null;for(var E=c.getCoordinates(),P=_.getCoordinates(),S=0;S<E.length-1;S++)for(var I=0;I<P.length-1;I++){var T=xt.distanceLineLine(E[S],E[S+1],P[I],P[I+1]);if(T<t._minDistance){t._minDistance=T;var N=new Ft(E[S],E[S+1]),x=new Ft(P[I],P[I+1]),R=N.closestPoints(x);C[0]=new tr(c,S,R[0]),C[1]=new tr(_,I,R[1])}if(t._minDistance<=t._terminateDistance)return null}}}};Gn.prototype.computeMinDistancePoints=function(t,n,r){for(var i=this,o=0;o<t.size();o++)for(var s=t.get(o),u=0;u<n.size();u++){var l=n.get(u),p=s.getCoordinate().distance(l.getCoordinate());if(p<i._minDistance&&(i._minDistance=p,r[0]=new tr(s,0,s.getCoordinate()),r[1]=new tr(l,0,l.getCoordinate())),i._minDistance<=i._terminateDistance)return null}};Gn.prototype.distance=function(){if(this._geom[0]===null||this._geom[1]===null)throw new $e("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)};Gn.prototype.computeMinDistanceLines=function(t,n,r){for(var i=this,o=0;o<t.size();o++)for(var s=t.get(o),u=0;u<n.size();u++){var l=n.get(u);if(i.computeMinDistance(s,l,r),i._minDistance<=i._terminateDistance)return null}};Gn.prototype.interfaces_=function(){return[]};Gn.prototype.getClass=function(){return Gn};Gn.distance=function(t,n){var r=new Gn(t,n);return r.distance()};Gn.isWithinDistance=function(t,n,r){var i=new Gn(t,n,r);return i.distance()<=r};Gn.nearestPoints=function(t,n){var r=new Gn(t,n);return r.nearestPoints()};var jn=function(){this._pt=[new $,new $],this._distance=Yt.NaN,this._isNull=!0};jn.prototype.getCoordinates=function(){return this._pt};jn.prototype.getCoordinate=function(t){return this._pt[t]};jn.prototype.setMinimum=function(){if(arguments.length===1){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],r=arguments[1];if(this._isNull)return this.initialize(n,r),null;var i=n.distance(r);i<this._distance&&this.initialize(n,r,i)}};jn.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var t=arguments[0],n=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(n),this._distance=t.distance(n),this._isNull=!1}else if(arguments.length===3){var r=arguments[0],i=arguments[1],o=arguments[2];this._pt[0].setCoordinate(r),this._pt[1].setCoordinate(i),this._distance=o,this._isNull=!1}};jn.prototype.toString=function(){return Xr.toLineString(this._pt[0],this._pt[1])};jn.prototype.getDistance=function(){return this._distance};jn.prototype.setMaximum=function(){if(arguments.length===1){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(arguments.length===2){var n=arguments[0],r=arguments[1];if(this._isNull)return this.initialize(n,r),null;var i=n.distance(r);i>this._distance&&this.initialize(n,r,i)}};jn.prototype.interfaces_=function(){return[]};jn.prototype.getClass=function(){return jn};var pi=function(){};pi.prototype.interfaces_=function(){return[]};pi.prototype.getClass=function(){return pi};pi.computeDistance=function(){if(arguments[2]instanceof jn&&arguments[0]instanceof an&&arguments[1]instanceof $)for(var t=arguments[0],n=arguments[1],r=arguments[2],i=new Ft,o=t.getCoordinates(),s=0;s<o.length-1;s++){i.setCoordinates(o[s],o[s+1]);var u=i.closestPoint(n);r.setMinimum(u,n)}else if(arguments[2]instanceof jn&&arguments[0]instanceof Sn&&arguments[1]instanceof $){var l=arguments[0],p=arguments[1],g=arguments[2];pi.computeDistance(l.getExteriorRing(),p,g);for(var c=0;c<l.getNumInteriorRing();c++)pi.computeDistance(l.getInteriorRingN(c),p,g)}else if(arguments[2]instanceof jn&&arguments[0]instanceof Ht&&arguments[1]instanceof $){var _=arguments[0],C=arguments[1],E=arguments[2];if(_ instanceof an)pi.computeDistance(_,C,E);else if(_ instanceof Sn)pi.computeDistance(_,C,E);else if(_ instanceof rr)for(var P=_,S=0;S<P.getNumGeometries();S++){var I=P.getGeometryN(S);pi.computeDistance(I,C,E)}else E.setMinimum(_.getCoordinate(),C)}else if(arguments[2]instanceof jn&&arguments[0]instanceof Ft&&arguments[1]instanceof $){var T=arguments[0],N=arguments[1],x=arguments[2],R=T.closestPoint(N);x.setMinimum(R,N)}};var Ar=function(){this._g0=null,this._g1=null,this._ptDist=new jn,this._densifyFrac=0;var t=arguments[0],n=arguments[1];this._g0=t,this._g1=n},ac={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Ar.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()};Ar.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new $e("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t};Ar.prototype.compute=function(t,n){this.computeOrientedDistance(t,n,this._ptDist),this.computeOrientedDistance(n,t,this._ptDist)};Ar.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()};Ar.prototype.computeOrientedDistance=function(t,n,r){var i=new Gs(n);if(t.apply(i),r.setMaximum(i.getMaxPointDistance()),this._densifyFrac>0){var o=new Uo(n,this._densifyFrac);t.apply(o),r.setMaximum(o.getMaxPointDistance())}};Ar.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()};Ar.prototype.interfaces_=function(){return[]};Ar.prototype.getClass=function(){return Ar};Ar.distance=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1],r=new Ar(t,n);return r.distance()}else if(arguments.length===3){var i=arguments[0],o=arguments[1],s=arguments[2],u=new Ar(i,o);return u.setDensifyFraction(s),u.distance()}};ac.MaxPointDistanceFilter.get=function(){return Gs};ac.MaxDensifiedByFractionDistanceFilter.get=function(){return Uo};Object.defineProperties(Ar,ac);var Gs=function(){this._maxPtDist=new jn,this._minPtDist=new jn,this._euclideanDist=new pi,this._geom=null;var t=arguments[0];this._geom=t};Gs.prototype.filter=function(t){this._minPtDist.initialize(),pi.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)};Gs.prototype.getMaxPointDistance=function(){return this._maxPtDist};Gs.prototype.interfaces_=function(){return[Fi]};Gs.prototype.getClass=function(){return Gs};var Uo=function(){this._maxPtDist=new jn,this._minPtDist=new jn,this._geom=null,this._numSubSegs=0;var t=arguments[0],n=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/n))};Uo.prototype.filter=function(t,n){var r=this;if(n===0)return null;for(var i=t.getCoordinate(n-1),o=t.getCoordinate(n),s=(o.x-i.x)/this._numSubSegs,u=(o.y-i.y)/this._numSubSegs,l=0;l<this._numSubSegs;l++){var p=i.x+l*s,g=i.y+l*u,c=new $(p,g);r._minPtDist.initialize(),pi.computeDistance(r._geom,c,r._minPtDist),r._maxPtDist.setMaximum(r._minPtDist)}};Uo.prototype.isDone=function(){return!1};Uo.prototype.isGeometryChanged=function(){return!1};Uo.prototype.getMaxPointDistance=function(){return this._maxPtDist};Uo.prototype.interfaces_=function(){return[Yr]};Uo.prototype.getClass=function(){return Uo};var vr=function(t,n,r){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=n||null,this._result=r||null},lc={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};vr.prototype.checkMaximumDistance=function(t,n,r){var i=new Ar(n,t);if(i.setDensifyFraction(.25),this._maxDistanceFound=i.orientedDistance(),this._maxDistanceFound>r){this._isValid=!1;var o=i.getCoordinates();this._errorLocation=o[1],this._errorIndicator=t.getFactory().createLineString(o),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Xr.toLineString(o[0],o[1])+")"}};vr.prototype.isValid=function(){var t=Math.abs(this._bufDistance),n=vr.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-n,this._maxValidDistance=t+n,this._input.isEmpty()||this._result.isEmpty()?!0:(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),vr.VERBOSE&&Fn.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)};vr.prototype.checkNegativeValid=function(){if(!(this._input instanceof Sn||this._input instanceof Bi||this._input instanceof rr))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)};vr.prototype.getErrorIndicator=function(){return this._errorIndicator};vr.prototype.checkMinimumDistance=function(t,n,r){var i=new Gn(t,n,r);if(this._minDistanceFound=i.distance(),this._minDistanceFound<r){this._isValid=!1;var o=i.nearestPoints();this._errorLocation=i.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(o),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Xr.toLineString(o[0],o[1])+" )"}};vr.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)};vr.prototype.getErrorLocation=function(){return this._errorLocation};vr.prototype.getPolygonLines=function(t){for(var n=new kt,r=new An(n),i=uo.getPolygons(t),o=i.iterator();o.hasNext();){var s=o.next();s.apply(r)}return t.getFactory().buildGeometry(n)};vr.prototype.getErrorMessage=function(){return this._errMsg};vr.prototype.interfaces_=function(){return[]};vr.prototype.getClass=function(){return vr};lc.VERBOSE.get=function(){return!1};lc.MAX_DISTANCE_DIFF_FRAC.get=function(){return .012};Object.defineProperties(vr,lc);var Vn=function(t,n,r){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=n||null,this._result=r||null},uc={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Vn.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid};Vn.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*Vn.MAX_ENV_DIFF_FRAC;t===0&&(t=.001);var n=new zt(this._input.getEnvelopeInternal());n.expandBy(this._distance);var r=new zt(this._result.getEnvelopeInternal());r.expandBy(t),r.contains(n)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(r)),this.report("Envelope")};Vn.prototype.checkDistance=function(){var t=new vr(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")};Vn.prototype.checkArea=function(){var t=this._input.getArea(),n=this._result.getArea();this._distance>0&&t>n&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<n&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")};Vn.prototype.checkPolygonal=function(){this._result instanceof Sn||this._result instanceof Bi||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")};Vn.prototype.getErrorIndicator=function(){return this._errorIndicator};Vn.prototype.getErrorLocation=function(){return this._errorLocation};Vn.prototype.checkExpectedEmpty=function(){if(this._input.getDimension()>=2||this._distance>0)return null;this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),this.report("ExpectedEmpty")};Vn.prototype.report=function(t){if(!Vn.VERBOSE)return null;Fn.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))};Vn.prototype.getErrorMessage=function(){return this._errorMsg};Vn.prototype.interfaces_=function(){return[]};Vn.prototype.getClass=function(){return Vn};Vn.isValidMsg=function(t,n,r){var i=new Vn(t,n,r);return i.isValid()?null:i.getErrorMessage()};Vn.isValid=function(t,n,r){var i=new Vn(t,n,r);return!!i.isValid()};uc.VERBOSE.get=function(){return!1};uc.MAX_ENV_DIFF_FRAC.get=function(){return .012};Object.defineProperties(Vn,uc);var Si=function(){this._pts=null,this._data=null;var t=arguments[0],n=arguments[1];this._pts=t,this._data=n};Si.prototype.getCoordinates=function(){return this._pts};Si.prototype.size=function(){return this._pts.length};Si.prototype.getCoordinate=function(t){return this._pts[t]};Si.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])};Si.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:Rs.octant(this.getCoordinate(t),this.getCoordinate(t+1))};Si.prototype.setData=function(t){this._data=t};Si.prototype.getData=function(){return this._data};Si.prototype.toString=function(){return Xr.toLineString(new cn(this._pts))};Si.prototype.interfaces_=function(){return[Ui]};Si.prototype.getClass=function(){return Si};var Nn=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new kt,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};Nn.prototype.getInteriorIntersection=function(){return this._interiorIntersection};Nn.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t};Nn.prototype.getIntersectionSegments=function(){return this._intSegments};Nn.prototype.count=function(){return this._intersectionCount};Nn.prototype.getIntersections=function(){return this._intersections};Nn.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t};Nn.prototype.setKeepIntersections=function(t){this._keepIntersections=t};Nn.prototype.processIntersections=function(t,n,r,i){if(!this._findAllIntersections&&this.hasIntersection()||t===r&&n===i)return null;if(this._isCheckEndSegmentsOnly){var o=this.isEndSegment(t,n)||this.isEndSegment(r,i);if(!o)return null}var s=t.getCoordinates()[n],u=t.getCoordinates()[n+1],l=r.getCoordinates()[i],p=r.getCoordinates()[i+1];this._li.computeIntersection(s,u,l,p),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=s,this._intSegments[1]=u,this._intSegments[2]=l,this._intSegments[3]=p,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)};Nn.prototype.isEndSegment=function(t,n){return n===0||n>=t.size()-2};Nn.prototype.hasIntersection=function(){return this._interiorIntersection!==null};Nn.prototype.isDone=function(){return this._findAllIntersections?!1:this._interiorIntersection!==null};Nn.prototype.interfaces_=function(){return[us]};Nn.prototype.getClass=function(){return Nn};Nn.createAllIntersectionsFinder=function(t){var n=new Nn(t);return n.setFindAllIntersections(!0),n};Nn.createAnyIntersectionFinder=function(t){return new Nn(t)};Nn.createIntersectionCounter=function(t){var n=new Nn(t);return n.setFindAllIntersections(!0),n.setKeepIntersections(!1),n};var $r=function(){this._li=new ms,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};$r.prototype.execute=function(){if(this._segInt!==null)return null;this.checkInteriorIntersections()};$r.prototype.getIntersections=function(){return this._segInt.getIntersections()};$r.prototype.isValid=function(){return this.execute(),this._isValid};$r.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t};$r.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Nn(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new oc;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null};$r.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new po(this.getErrorMessage(),this._segInt.getInteriorIntersection())};$r.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Xr.toLineString(t[0],t[1])+" and "+Xr.toLineString(t[2],t[3])};$r.prototype.interfaces_=function(){return[]};$r.prototype.getClass=function(){return $r};$r.computeIntersections=function(t){var n=new $r(t);return n.setFindAllIntersections(!0),n.isValid(),n.getIntersections()};var fs=function e(){this._nv=null;var t=arguments[0];this._nv=new $r(e.toSegmentStrings(t))};fs.prototype.checkValid=function(){this._nv.checkValid()};fs.prototype.interfaces_=function(){return[]};fs.prototype.getClass=function(){return fs};fs.toSegmentStrings=function(t){for(var n=new kt,r=t.iterator();r.hasNext();){var i=r.next();n.add(new Si(i.getCoordinates(),i))}return n};fs.checkValid=function(t){var n=new fs(t);n.checkValid()};var Vs=function(t){this._mapOp=t};Vs.prototype.map=function(t){for(var n=this,r=new kt,i=0;i<t.getNumGeometries();i++){var o=n._mapOp.map(t.getGeometryN(i));o.isEmpty()||r.add(o)}return t.getFactory().createGeometryCollection(he.toGeometryArray(r))};Vs.prototype.interfaces_=function(){return[]};Vs.prototype.getClass=function(){return Vs};Vs.map=function(t,n){var r=new Vs(n);return r.map(t)};var ki=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new kt,this._resultLineList=new kt;var t=arguments[0],n=arguments[1],r=arguments[2];this._op=t,this._geometryFactory=n,this._ptLocator=r};ki.prototype.collectLines=function(t){for(var n=this,r=this._op.getGraph().getEdgeEnds().iterator();r.hasNext();){var i=r.next();n.collectLineEdge(i,t,n._lineEdgesList),n.collectBoundaryTouchEdge(i,t,n._lineEdgesList)}};ki.prototype.labelIsolatedLine=function(t,n){var r=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(n));t.getLabel().setLocation(n,r)};ki.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList};ki.prototype.collectLineEdge=function(t,n,r){var i=t.getLabel(),o=t.getEdge();t.isLineEdge()&&!t.isVisited()&&Kt.isResultOfOp(i,n)&&!o.isCovered()&&(r.add(o),t.setVisitedEdge(!0))};ki.prototype.findCoveredLineEdges=function(){for(var t=this,n=this._op.getGraph().getNodes().iterator();n.hasNext();){var r=n.next();r.getEdges().findCoveredLineEdges()}for(var i=this._op.getGraph().getEdgeEnds().iterator();i.hasNext();){var o=i.next(),s=o.getEdge();if(o.isLineEdge()&&!s.isCoveredSet()){var u=t._op.isCoveredByA(o.getCoordinate());s.setCovered(u)}}};ki.prototype.labelIsolatedLines=function(t){for(var n=this,r=t.iterator();r.hasNext();){var i=r.next(),o=i.getLabel();i.isIsolated()&&(o.isNull(0)?n.labelIsolatedLine(i,0):n.labelIsolatedLine(i,1))}};ki.prototype.buildLines=function(t){for(var n=this,r=this._lineEdgesList.iterator();r.hasNext();){var i=r.next(),o=n._geometryFactory.createLineString(i.getCoordinates());n._resultLineList.add(o),i.setInResult(!0)}};ki.prototype.collectBoundaryTouchEdge=function(t,n,r){var i=t.getLabel();if(t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult())return null;Jt.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),Kt.isResultOfOp(i,n)&&n===Kt.INTERSECTION&&(r.add(t.getEdge()),t.setVisitedEdge(!0))};ki.prototype.interfaces_=function(){return[]};ki.prototype.getClass=function(){return ki};var Us=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new kt;var t=arguments[0],n=arguments[1];this._op=t,this._geometryFactory=n};Us.prototype.filterCoveredNodeToPoint=function(t){var n=t.getCoordinate();if(!this._op.isCoveredByLA(n)){var r=this._geometryFactory.createPoint(n);this._resultPointList.add(r)}};Us.prototype.extractNonCoveredResultNodes=function(t){for(var n=this,r=this._op.getGraph().getNodes().iterator();r.hasNext();){var i=r.next();if(!i.isInResult()&&!i.isIncidentEdgeInResult()&&(i.getEdges().getDegree()===0||t===Kt.INTERSECTION)){var o=i.getLabel();Kt.isResultOfOp(o,t)&&n.filterCoveredNodeToPoint(i)}}};Us.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList};Us.prototype.interfaces_=function(){return[]};Us.prototype.getClass=function(){return Us};var dr=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};dr.prototype.transformPoint=function(t,n){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))};dr.prototype.transformPolygon=function(t,n){var r=this,i=!0,o=this.transformLinearRing(t.getExteriorRing(),t);(o===null||!(o instanceof Gi)||o.isEmpty())&&(i=!1);for(var s=new kt,u=0;u<t.getNumInteriorRing();u++){var l=r.transformLinearRing(t.getInteriorRingN(u),t);l===null||l.isEmpty()||(l instanceof Gi||(i=!1),s.add(l))}if(i)return this._factory.createPolygon(o,s.toArray([]));var p=new kt;return o!==null&&p.add(o),p.addAll(s),this._factory.buildGeometry(p)};dr.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)};dr.prototype.getInputGeometry=function(){return this._inputGeom};dr.prototype.transformMultiLineString=function(t,n){for(var r=this,i=new kt,o=0;o<t.getNumGeometries();o++){var s=r.transformLineString(t.getGeometryN(o),t);s!==null&&(s.isEmpty()||i.add(s))}return this._factory.buildGeometry(i)};dr.prototype.transformCoordinates=function(t,n){return this.copy(t)};dr.prototype.transformLineString=function(t,n){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))};dr.prototype.transformMultiPoint=function(t,n){for(var r=this,i=new kt,o=0;o<t.getNumGeometries();o++){var s=r.transformPoint(t.getGeometryN(o),t);s!==null&&(s.isEmpty()||i.add(s))}return this._factory.buildGeometry(i)};dr.prototype.transformMultiPolygon=function(t,n){for(var r=this,i=new kt,o=0;o<t.getNumGeometries();o++){var s=r.transformPolygon(t.getGeometryN(o),t);s!==null&&(s.isEmpty()||i.add(s))}return this._factory.buildGeometry(i)};dr.prototype.copy=function(t){return t.copy()};dr.prototype.transformGeometryCollection=function(t,n){for(var r=this,i=new kt,o=0;o<t.getNumGeometries();o++){var s=r.transform(t.getGeometryN(o));s!==null&&(r._pruneEmptyGeometry&&s.isEmpty()||i.add(s))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(he.toGeometryArray(i)):this._factory.buildGeometry(i)};dr.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof yr)return this.transformPoint(t,null);if(t instanceof Ca)return this.transformMultiPoint(t,null);if(t instanceof Gi)return this.transformLinearRing(t,null);if(t instanceof an)return this.transformLineString(t,null);if(t instanceof ss)return this.transformMultiLineString(t,null);if(t instanceof Sn)return this.transformPolygon(t,null);if(t instanceof Bi)return this.transformMultiPolygon(t,null);if(t instanceof rr)return this.transformGeometryCollection(t,null);throw new $e("Unknown Geometry subtype: "+t.getClass().getName())};dr.prototype.transformLinearRing=function(t,n){var r=this.transformCoordinates(t.getCoordinateSequence(),t);if(r===null)return this._factory.createLinearRing(null);var i=r.size();return i>0&&i<4&&!this._preserveType?this._factory.createLineString(r):this._factory.createLinearRing(r)};dr.prototype.interfaces_=function(){return[]};dr.prototype.getClass=function(){return dr};var ji=function e(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Ft,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof an&&typeof arguments[1]=="number"){var t=arguments[0],n=arguments[1];e.call(this,t.getCoordinates(),n)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var r=arguments[0],i=arguments[1];this._srcPts=r,this._isClosed=e.isClosed(r),this._snapTolerance=i}};ji.prototype.snapVertices=function(t,n){for(var r=this,i=this._isClosed?t.size()-1:t.size(),o=0;o<i;o++){var s=t.get(o),u=r.findSnapForVertex(s,n);u!==null&&(t.set(o,new $(u)),o===0&&r._isClosed&&t.set(t.size()-1,new $(u)))}};ji.prototype.findSnapForVertex=function(t,n){for(var r=this,i=0;i<n.length;i++){if(t.equals2D(n[i]))return null;if(t.distance(n[i])<r._snapTolerance)return n[i]}return null};ji.prototype.snapTo=function(t){var n=new Dl(this._srcPts);this.snapVertices(n,t),this.snapSegments(n,t);var r=n.toCoordinateArray();return r};ji.prototype.snapSegments=function(t,n){var r=this;if(n.length===0)return null;var i=n.length;n[0].equals2D(n[n.length-1])&&(i=n.length-1);for(var o=0;o<i;o++){var s=n[o],u=r.findSegmentIndexToSnap(s,t);u>=0&&t.add(u+1,new $(s),!1)}};ji.prototype.findSegmentIndexToSnap=function(t,n){for(var r=this,i=Yt.MAX_VALUE,o=-1,s=0;s<n.size()-1;s++){if(r._seg.p0=n.get(s),r._seg.p1=n.get(s+1),r._seg.p0.equals2D(t)||r._seg.p1.equals2D(t)){if(r._allowSnappingToSourceVertices)continue;return-1}var u=r._seg.distance(t);u<r._snapTolerance&&u<i&&(i=u,o=s)}return o};ji.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t};ji.prototype.interfaces_=function(){return[]};ji.prototype.getClass=function(){return ji};ji.isClosed=function(t){return t.length<=1?!1:t[0].equals2D(t[t.length-1])};var fn=function(t){this._srcGeom=t||null},ad={SNAP_PRECISION_FACTOR:{configurable:!0}};fn.prototype.snapTo=function(t,n){var r=this.extractTargetCoordinates(t),i=new ld(n,r);return i.transform(this._srcGeom)};fn.prototype.snapToSelf=function(t,n){var r=this.extractTargetCoordinates(this._srcGeom),i=new ld(t,r,!0),o=i.transform(this._srcGeom),s=o;return n&&jt(s,Ao)&&(s=o.buffer(0)),s};fn.prototype.computeSnapTolerance=function(t){var n=this.computeMinimumSegmentLength(t),r=n/10;return r};fn.prototype.extractTargetCoordinates=function(t){for(var n=new Li,r=t.getCoordinates(),i=0;i<r.length;i++)n.add(r[i]);return n.toArray(new Array(0).fill(null))};fn.prototype.computeMinimumSegmentLength=function(t){for(var n=Yt.MAX_VALUE,r=0;r<t.length-1;r++){var i=t[r].distance(t[r+1]);i<n&&(n=i)}return n};fn.prototype.interfaces_=function(){return[]};fn.prototype.getClass=function(){return fn};fn.snap=function(t,n,r){var i=new Array(2).fill(null),o=new fn(t);i[0]=o.snapTo(n,r);var s=new fn(n);return i[1]=s.snapTo(i[0],r),i};fn.computeOverlaySnapTolerance=function(){if(arguments.length===1){var t=arguments[0],n=fn.computeSizeBasedSnapTolerance(t),r=t.getPrecisionModel();if(r.getType()===De.FIXED){var i=1/r.getScale()*2/1.415;i>n&&(n=i)}return n}else if(arguments.length===2){var o=arguments[0],s=arguments[1];return Math.min(fn.computeOverlaySnapTolerance(o),fn.computeOverlaySnapTolerance(s))}};fn.computeSizeBasedSnapTolerance=function(t){var n=t.getEnvelopeInternal(),r=Math.min(n.getHeight(),n.getWidth()),i=r*fn.SNAP_PRECISION_FACTOR;return i};fn.snapToSelf=function(t,n,r){var i=new fn(t);return i.snapToSelf(n,r)};ad.SNAP_PRECISION_FACTOR.get=function(){return 1e-9};Object.defineProperties(fn,ad);var ld=function(e){function t(n,r,i){e.call(this),this._snapTolerance=n||null,this._snapPts=r||null,this._isSelfSnap=i!==void 0?i:!1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.snapLine=function(r,i){var o=new ji(r,this._snapTolerance);return o.setAllowSnappingToSourceVertices(this._isSelfSnap),o.snapTo(i)},t.prototype.transformCoordinates=function(r,i){var o=r.toCoordinateArray(),s=this.snapLine(o,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(s)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(dr),Qn=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Qn.prototype.getCommon=function(){return Yt.longBitsToDouble(this._commonBits)};Qn.prototype.add=function(t){var n=Yt.doubleToLongBits(t);if(this._isFirst)return this._commonBits=n,this._commonSignExp=Qn.signExpBits(this._commonBits),this._isFirst=!1,null;var r=Qn.signExpBits(n);if(r!==this._commonSignExp)return this._commonBits=0,null;this._commonMantissaBitsCount=Qn.numCommonMostSigMantissaBits(this._commonBits,n),this._commonBits=Qn.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))};Qn.prototype.toString=function(){if(arguments.length===1){var t=arguments[0],n=Yt.longBitsToDouble(t),r=Yt.toBinaryString(t),i="0000000000000000000000000000000000000000000000000000000000000000"+r,o=i.substring(i.length-64),s=o.substring(0,1)+"  "+o.substring(1,12)+"(exp) "+o.substring(12)+" [ "+n+" ]";return s}};Qn.prototype.interfaces_=function(){return[]};Qn.prototype.getClass=function(){return Qn};Qn.getBit=function(t,n){var r=1<<n;return t&r?1:0};Qn.signExpBits=function(t){return t>>52};Qn.zeroLowerBits=function(t,n){var r=(1<<n)-1,i=~r,o=t&i;return o};Qn.numCommonMostSigMantissaBits=function(t,n){for(var r=0,i=52;i>=0;i--){if(Qn.getBit(t,i)!==Qn.getBit(n,i))return r;r++}return 52};var Ho=function(){this._commonCoord=null,this._ccFilter=new Hs},hc={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Ho.prototype.addCommonBits=function(t){var n=new Zo(this._commonCoord);t.apply(n),t.geometryChanged()};Ho.prototype.removeCommonBits=function(t){if(this._commonCoord.x===0&&this._commonCoord.y===0)return t;var n=new $(this._commonCoord);n.x=-n.x,n.y=-n.y;var r=new Zo(n);return t.apply(r),t.geometryChanged(),t};Ho.prototype.getCommonCoordinate=function(){return this._commonCoord};Ho.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()};Ho.prototype.interfaces_=function(){return[]};Ho.prototype.getClass=function(){return Ho};hc.CommonCoordinateFilter.get=function(){return Hs};hc.Translater.get=function(){return Zo};Object.defineProperties(Ho,hc);var Hs=function(){this._commonBitsX=new Qn,this._commonBitsY=new Qn};Hs.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)};Hs.prototype.getCommonCoordinate=function(){return new $(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())};Hs.prototype.interfaces_=function(){return[Fi]};Hs.prototype.getClass=function(){return Hs};var Zo=function(){this.trans=null;var t=arguments[0];this.trans=t};Zo.prototype.filter=function(t,n){var r=t.getOrdinate(n,0)+this.trans.x,i=t.getOrdinate(n,1)+this.trans.y;t.setOrdinate(n,0,r),t.setOrdinate(n,1,i)};Zo.prototype.isDone=function(){return!1};Zo.prototype.isGeometryChanged=function(){return!0};Zo.prototype.interfaces_=function(){return[Yr]};Zo.prototype.getClass=function(){return Zo};var On=function(t,n){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=n,this.computeSnapTolerance()};On.prototype.selfSnap=function(t){var n=new fn(t),r=n.snapTo(t,this._snapTolerance);return r};On.prototype.removeCommonBits=function(t){this._cbr=new Ho,this._cbr.add(t[0]),this._cbr.add(t[1]);var n=new Array(2).fill(null);return n[0]=this._cbr.removeCommonBits(t[0].copy()),n[1]=this._cbr.removeCommonBits(t[1].copy()),n};On.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t};On.prototype.getResultGeometry=function(t){var n=this.snap(this._geom),r=Kt.overlayOp(n[0],n[1],t);return this.prepareResult(r)};On.prototype.checkValid=function(t){t.isValid()||Fn.out.println("Snapped geometry is invalid")};On.prototype.computeSnapTolerance=function(){this._snapTolerance=fn.computeOverlaySnapTolerance(this._geom[0],this._geom[1])};On.prototype.snap=function(t){var n=this.removeCommonBits(t),r=fn.snap(n[0],n[1],this._snapTolerance);return r};On.prototype.interfaces_=function(){return[]};On.prototype.getClass=function(){return On};On.overlayOp=function(t,n,r){var i=new On(t,n);return i.getResultGeometry(r)};On.union=function(t,n){return On.overlayOp(t,n,Kt.UNION)};On.intersection=function(t,n){return On.overlayOp(t,n,Kt.INTERSECTION)};On.symDifference=function(t,n){return On.overlayOp(t,n,Kt.SYMDIFFERENCE)};On.difference=function(t,n){return On.overlayOp(t,n,Kt.DIFFERENCE)};var sr=function(t,n){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=n};sr.prototype.getResultGeometry=function(t){var n=null,r=!1,i=null;try{n=Kt.overlayOp(this._geom[0],this._geom[1],t);var o=!0;o&&(r=!0)}catch(s){if(s instanceof co)i=s;else throw s}finally{}if(!r)try{n=On.overlayOp(this._geom[0],this._geom[1],t)}catch(s){throw s instanceof co?i:s}finally{}return n};sr.prototype.interfaces_=function(){return[]};sr.prototype.getClass=function(){return sr};sr.overlayOp=function(t,n,r){var i=new sr(t,n);return i.getResultGeometry(r)};sr.union=function(t,n){return sr.overlayOp(t,n,Kt.UNION)};sr.intersection=function(t,n){return sr.overlayOp(t,n,Kt.INTERSECTION)};sr.symDifference=function(t,n){return sr.overlayOp(t,n,Kt.SYMDIFFERENCE)};sr.difference=function(t,n){return sr.overlayOp(t,n,Kt.DIFFERENCE)};var Pl=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],n=arguments[1];this.mce=t,this.chainIndex=n};Pl.prototype.computeIntersections=function(t,n){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,n)};Pl.prototype.interfaces_=function(){return[]};Pl.prototype.getClass=function(){return Pl};var Cr=function e(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,arguments.length===2){var t=arguments[0],n=arguments[1];this._eventType=e.DELETE,this._xValue=t,this._insertEvent=n}else if(arguments.length===3){var r=arguments[0],i=arguments[1],o=arguments[2];this._eventType=e.INSERT,this._label=r,this._xValue=i,this._obj=o}},cc={INSERT:{configurable:!0},DELETE:{configurable:!0}};Cr.prototype.isDelete=function(){return this._eventType===Cr.DELETE};Cr.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t};Cr.prototype.getObject=function(){return this._obj};Cr.prototype.compareTo=function(t){var n=t;return this._xValue<n._xValue?-1:this._xValue>n._xValue?1:this._eventType<n._eventType?-1:this._eventType>n._eventType?1:0};Cr.prototype.getInsertEvent=function(){return this._insertEvent};Cr.prototype.isInsert=function(){return this._eventType===Cr.INSERT};Cr.prototype.isSameLabel=function(t){return this._label===null?!1:this._label===t._label};Cr.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex};Cr.prototype.interfaces_=function(){return[Vr]};Cr.prototype.getClass=function(){return Cr};cc.INSERT.get=function(){return 1};cc.DELETE.get=function(){return 2};Object.defineProperties(Cr,cc);var Su=function(){};Su.prototype.interfaces_=function(){return[]};Su.prototype.getClass=function(){return Su};var Un=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],n=arguments[1],r=arguments[2];this._li=t,this._includeProper=n,this._recordIsolated=r};Un.prototype.isTrivialIntersection=function(t,n,r,i){if(t===r&&this._li.getIntersectionNum()===1){if(Un.isAdjacentSegments(n,i))return!0;if(t.isClosed()){var o=t.getNumPoints()-1;if(n===0&&i===o||i===0&&n===o)return!0}}return!1};Un.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint};Un.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t};Un.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior};Un.prototype.isBoundaryPointInternal=function(t,n){for(var r=n.iterator();r.hasNext();){var i=r.next(),o=i.getCoordinate();if(t.isIntersection(o))return!0}return!1};Un.prototype.hasProperIntersection=function(){return this._hasProper};Un.prototype.hasIntersection=function(){return this._hasIntersection};Un.prototype.isDone=function(){return this._isDone};Un.prototype.isBoundaryPoint=function(t,n){return n===null?!1:!!(this.isBoundaryPointInternal(t,n[0])||this.isBoundaryPointInternal(t,n[1]))};Un.prototype.setBoundaryNodes=function(t,n){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=n};Un.prototype.addIntersections=function(t,n,r,i){if(t===r&&n===i)return null;this.numTests++;var o=t.getCoordinates()[n],s=t.getCoordinates()[n+1],u=r.getCoordinates()[i],l=r.getCoordinates()[i+1];this._li.computeIntersection(o,s,u,l),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),r.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,n,r,i)||(this._hasIntersection=!0,(this._includeProper||!this._li.isProper())&&(t.addIntersections(this._li,n,0),r.addIntersections(this._li,i,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))};Un.prototype.interfaces_=function(){return[]};Un.prototype.getClass=function(){return Un};Un.isAdjacentSegments=function(t,n){return Math.abs(t-n)===1};var h_=function(e){function t(){e.call(this),this.events=new kt,this.nOverlaps=null}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.prepareEvents=function(){var r=this;Kr.sort(this.events);for(var i=0;i<this.events.size();i++){var o=r.events.get(i);o.isDelete()&&o.getInsertEvent().setDeleteEventIndex(i)}},t.prototype.computeIntersections=function(){var r=this;if(arguments.length===1){var i=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var o=0;o<this.events.size();o++){var s=r.events.get(o);if(s.isInsert()&&r.processOverlaps(o,s.getDeleteEventIndex(),s,i),i.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof Un&&jt(arguments[0],qr)&&jt(arguments[1],qr)){var u=arguments[0],l=arguments[1],p=arguments[2];this.addEdges(u,u),this.addEdges(l,l),this.computeIntersections(p)}else if(typeof arguments[2]=="boolean"&&jt(arguments[0],qr)&&arguments[1]instanceof Un){var g=arguments[0],c=arguments[1],_=arguments[2];_?this.addEdges(g,null):this.addEdges(g),this.computeIntersections(c)}}},t.prototype.addEdge=function(r,i){for(var o=this,s=r.getMonotoneChainEdge(),u=s.getStartIndexes(),l=0;l<u.length-1;l++){var p=new Pl(s,l),g=new Cr(i,s.getMinX(l),p);o.events.add(g),o.events.add(new Cr(s.getMaxX(l),g))}},t.prototype.processOverlaps=function(r,i,o,s){for(var u=this,l=o.getObject(),p=r;p<i;p++){var g=u.events.get(p);if(g.isInsert()){var c=g.getObject();o.isSameLabel(g)||(l.computeIntersections(c,s),u.nOverlaps++)}}},t.prototype.addEdges=function(){var r=this;if(arguments.length===1)for(var i=arguments[0],o=i.iterator();o.hasNext();){var s=o.next();r.addEdge(s,s)}else if(arguments.length===2)for(var u=arguments[0],l=arguments[1],p=u.iterator();p.hasNext();){var g=p.next();r.addEdge(g,l)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Su),qi=function(){this._min=Yt.POSITIVE_INFINITY,this._max=Yt.NEGATIVE_INFINITY},ud={NodeComparator:{configurable:!0}};qi.prototype.getMin=function(){return this._min};qi.prototype.intersects=function(t,n){return!(this._min>n||this._max<t)};qi.prototype.getMax=function(){return this._max};qi.prototype.toString=function(){return Xr.toLineString(new $(this._min,0),new $(this._max,0))};qi.prototype.interfaces_=function(){return[]};qi.prototype.getClass=function(){return qi};ud.NodeComparator.get=function(){return Sl};Object.defineProperties(qi,ud);var Sl=function(){};Sl.prototype.compare=function(t,n){var r=t,i=n,o=(r._min+r._max)/2,s=(i._min+i._max)/2;return o<s?-1:o>s?1:0};Sl.prototype.interfaces_=function(){return[ga]};Sl.prototype.getClass=function(){return Sl};var c_=function(e){function t(){e.call(this),this._item=null;var n=arguments[0],r=arguments[1],i=arguments[2];this._min=n,this._max=r,this._item=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.query=function(r,i,o){if(!this.intersects(r,i))return null;o.visitItem(this._item)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(qi),f_=function(e){function t(){e.call(this),this._node1=null,this._node2=null;var n=arguments[0],r=arguments[1];this._node1=n,this._node2=r,this.buildExtent(this._node1,this._node2)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.buildExtent=function(r,i){this._min=Math.min(r._min,i._min),this._max=Math.max(r._max,i._max)},t.prototype.query=function(r,i,o){if(!this.intersects(r,i))return null;this._node1!==null&&this._node1.query(r,i,o),this._node2!==null&&this._node2.query(r,i,o)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(qi),Xi=function(){this._leaves=new kt,this._root=null,this._level=0};Xi.prototype.buildTree=function(){var t=this;Kr.sort(this._leaves,new qi.NodeComparator);for(var n=this._leaves,r=null,i=new kt;;){if(t.buildLevel(n,i),i.size()===1)return i.get(0);r=n,n=i,i=r}};Xi.prototype.insert=function(t,n,r){if(this._root!==null)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new c_(t,n,r))};Xi.prototype.query=function(t,n,r){this.init(),this._root.query(t,n,r)};Xi.prototype.buildRoot=function(){if(this._root!==null)return null;this._root=this.buildTree()};Xi.prototype.printNode=function(t){Fn.out.println(Xr.toLineString(new $(t._min,this._level),new $(t._max,this._level)))};Xi.prototype.init=function(){if(this._root!==null)return null;this.buildRoot()};Xi.prototype.buildLevel=function(t,n){this._level++,n.clear();for(var r=0;r<t.size();r+=2){var i=t.get(r),o=r+1<t.size()?t.get(r):null;if(o===null)n.add(i);else{var s=new f_(t.get(r),t.get(r+1));n.add(s)}}};Xi.prototype.interfaces_=function(){return[]};Xi.prototype.getClass=function(){return Xi};var ka=function(){this._items=new kt};ka.prototype.visitItem=function(t){this._items.add(t)};ka.prototype.getItems=function(){return this._items};ka.prototype.interfaces_=function(){return[Bo]};ka.prototype.getClass=function(){return ka};var Ia=function(){this._index=null;var t=arguments[0];if(!jt(t,Ao))throw new $e("Argument must be Polygonal");this._index=new ps(t)},fc={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Ia.prototype.locate=function(t){var n=new mi(t),r=new xa(n);return this._index.query(t.y,t.y,r),n.getLocation()};Ia.prototype.interfaces_=function(){return[Pa]};Ia.prototype.getClass=function(){return Ia};fc.SegmentVisitor.get=function(){return xa};fc.IntervalIndexedGeometry.get=function(){return ps};Object.defineProperties(Ia,fc);var xa=function(){this._counter=null;var t=arguments[0];this._counter=t};xa.prototype.visitItem=function(t){var n=t;this._counter.countSegment(n.getCoordinate(0),n.getCoordinate(1))};xa.prototype.interfaces_=function(){return[Bo]};xa.prototype.getClass=function(){return xa};var ps=function(){this._index=new Xi;var t=arguments[0];this.init(t)};ps.prototype.init=function(t){for(var n=this,r=An.getLines(t),i=r.iterator();i.hasNext();){var o=i.next(),s=o.getCoordinates();n.addLine(s)}};ps.prototype.addLine=function(t){for(var n=this,r=1;r<t.length;r++){var i=new Ft(t[r-1],t[r]),o=Math.min(i.p0.y,i.p1.y),s=Math.max(i.p0.y,i.p1.y);n._index.insert(o,s,i)}};ps.prototype.query=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1],r=new ka;return this._index.query(t,n,r),r.getItems()}else if(arguments.length===3){var i=arguments[0],o=arguments[1],s=arguments[2];this._index.query(i,o,s)}};ps.prototype.interfaces_=function(){return[]};ps.prototype.getClass=function(){return ps};var al=function(e){function t(){if(e.call(this),this._parentGeom=null,this._lineEdgeMap=new qp,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Qr,arguments.length===2){var n=arguments[0],r=arguments[1],i=Br.OGC_SFS_BOUNDARY_RULE;this._argIndex=n,this._parentGeom=r,this._boundaryNodeRule=i,r!==null&&this.add(r)}else if(arguments.length===3){var o=arguments[0],s=arguments[1],u=arguments[2];this._argIndex=o,this._parentGeom=s,this._boundaryNodeRule=u,s!==null&&this.add(s)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.insertBoundaryPoint=function(r,i){var o=this._nodes.addNode(i),s=o.getLabel(),u=1,l=et.NONE;l=s.getLocation(r,Mt.ON),l===et.BOUNDARY&&u++;var p=t.determineBoundary(this._boundaryNodeRule,u);s.setLocation(r,p)},t.prototype.computeSelfNodes=function(){if(arguments.length===2){var r=arguments[0],i=arguments[1];return this.computeSelfNodes(r,i,!1)}else if(arguments.length===3){var o=arguments[0],s=arguments[1],u=arguments[2],l=new Un(o,!0,!1);l.setIsDoneIfProperInt(u);var p=this.createEdgeSetIntersector(),g=this._parentGeom instanceof Gi||this._parentGeom instanceof Sn||this._parentGeom instanceof Bi,c=s||!g;return p.computeIntersections(this._edges,l,c),this.addSelfIntersectionNodes(this._argIndex),l}},t.prototype.computeSplitEdges=function(r){for(var i=this._edges.iterator();i.hasNext();){var o=i.next();o.eiList.addSplitEdges(r)}},t.prototype.computeEdgeIntersections=function(r,i,o){var s=new Un(i,o,!0);s.setBoundaryNodes(this.getBoundaryNodes(),r.getBoundaryNodes());var u=this.createEdgeSetIntersector();return u.computeIntersections(this._edges,r._edges,s),s},t.prototype.getGeometry=function(){return this._parentGeom},t.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},t.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},t.prototype.addPoint=function(){if(arguments[0]instanceof yr){var r=arguments[0],i=r.getCoordinate();this.insertPoint(this._argIndex,i,et.INTERIOR)}else if(arguments[0]instanceof $){var o=arguments[0];this.insertPoint(this._argIndex,o,et.INTERIOR)}},t.prototype.addPolygon=function(r){var i=this;this.addPolygonRing(r.getExteriorRing(),et.EXTERIOR,et.INTERIOR);for(var o=0;o<r.getNumInteriorRing();o++){var s=r.getInteriorRingN(o);i.addPolygonRing(s,et.INTERIOR,et.EXTERIOR)}},t.prototype.addEdge=function(r){this.insertEdge(r);var i=r.getCoordinates();this.insertPoint(this._argIndex,i[0],et.BOUNDARY),this.insertPoint(this._argIndex,i[i.length-1],et.BOUNDARY)},t.prototype.addLineString=function(r){var i=ce.removeRepeatedPoints(r.getCoordinates());if(i.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=i[0],null;var o=new Pu(i,new ze(this._argIndex,et.INTERIOR));this._lineEdgeMap.put(r,o),this.insertEdge(o),Jt.isTrue(i.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,i[0]),this.insertBoundaryPoint(this._argIndex,i[i.length-1])},t.prototype.getInvalidPoint=function(){return this._invalidPoint},t.prototype.getBoundaryPoints=function(){for(var r=this.getBoundaryNodes(),i=new Array(r.size()).fill(null),o=0,s=r.iterator();s.hasNext();){var u=s.next();i[o++]=u.getCoordinate().copy()}return i},t.prototype.getBoundaryNodes=function(){return this._boundaryNodes===null&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},t.prototype.addSelfIntersectionNode=function(r,i,o){if(this.isBoundaryNode(r,i))return null;o===et.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(r,i):this.insertPoint(r,i,o)},t.prototype.addPolygonRing=function(r,i,o){if(r.isEmpty())return null;var s=ce.removeRepeatedPoints(r.getCoordinates());if(s.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=s[0],null;var u=i,l=o;xt.isCCW(s)&&(u=o,l=i);var p=new Pu(s,new ze(this._argIndex,et.BOUNDARY,u,l));this._lineEdgeMap.put(r,p),this.insertEdge(p),this.insertPoint(this._argIndex,s[0],et.BOUNDARY)},t.prototype.insertPoint=function(r,i,o){var s=this._nodes.addNode(i),u=s.getLabel();u===null?s._label=new ze(r,o):u.setLocation(r,o)},t.prototype.createEdgeSetIntersector=function(){return new h_},t.prototype.addSelfIntersectionNodes=function(r){for(var i=this,o=this._edges.iterator();o.hasNext();)for(var s=o.next(),u=s.getLabel().getLocation(r),l=s.eiList.iterator();l.hasNext();){var p=l.next();i.addSelfIntersectionNode(r,p.coord,u)}},t.prototype.add=function(){if(arguments.length===1){var r=arguments[0];if(r.isEmpty())return null;if(r instanceof Bi&&(this._useBoundaryDeterminationRule=!1),r instanceof Sn)this.addPolygon(r);else if(r instanceof an)this.addLineString(r);else if(r instanceof yr)this.addPoint(r);else if(r instanceof Ca)this.addCollection(r);else if(r instanceof ss)this.addCollection(r);else if(r instanceof Bi)this.addCollection(r);else if(r instanceof rr)this.addCollection(r);else throw new Error(r.getClass().getName())}else return e.prototype.add.apply(this,arguments)},t.prototype.addCollection=function(r){for(var i=this,o=0;o<r.getNumGeometries();o++){var s=r.getGeometryN(o);i.add(s)}},t.prototype.locate=function(r){return jt(this._parentGeom,Ao)&&this._parentGeom.getNumGeometries()>50?(this._areaPtLocator===null&&(this._areaPtLocator=new Ia(this._parentGeom)),this._areaPtLocator.locate(r)):this._ptLocator.locate(r,this._parentGeom)},t.prototype.findEdge=function(){if(arguments.length===1){var r=arguments[0];return this._lineEdgeMap.get(r)}else return e.prototype.findEdge.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.determineBoundary=function(r,i){return r.isInBoundary(i)?et.BOUNDARY:et.INTERIOR},t}(on),Ta=function(){if(this._li=new ms,this._resultPrecisionModel=null,this._arg=null,arguments.length===1){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new al(0,t)}else if(arguments.length===2){var n=arguments[0],r=arguments[1],i=Br.OGC_SFS_BOUNDARY_RULE;n.getPrecisionModel().compareTo(r.getPrecisionModel())>=0?this.setComputationPrecision(n.getPrecisionModel()):this.setComputationPrecision(r.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new al(0,n,i),this._arg[1]=new al(1,r,i)}else if(arguments.length===3){var o=arguments[0],s=arguments[1],u=arguments[2];o.getPrecisionModel().compareTo(s.getPrecisionModel())>=0?this.setComputationPrecision(o.getPrecisionModel()):this.setComputationPrecision(s.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new al(0,o,u),this._arg[1]=new al(1,s,u)}};Ta.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()};Ta.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)};Ta.prototype.interfaces_=function(){return[]};Ta.prototype.getClass=function(){return Ta};var os=function(){};os.prototype.interfaces_=function(){return[]};os.prototype.getClass=function(){return os};os.map=function(){if(arguments[0]instanceof Ht&&jt(arguments[1],os.MapOp)){for(var t=arguments[0],n=arguments[1],r=new kt,i=0;i<t.getNumGeometries();i++){var o=n.map(t.getGeometryN(i));o!==null&&r.add(o)}return t.getFactory().buildGeometry(r)}else if(jt(arguments[0],wn)&&jt(arguments[1],os.MapOp)){for(var s=arguments[0],u=arguments[1],l=new kt,p=s.iterator();p.hasNext();){var g=p.next(),c=u.map(g);c!==null&&l.add(c)}return l}};os.MapOp=function(){};var Kt=function(e){function t(){var n=arguments[0],r=arguments[1];e.call(this,n,r),this._ptLocator=new Qr,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Jr,this._resultPolyList=new kt,this._resultLineList=new kt,this._resultPointList=new kt,this._graph=new on(new td),this._geomFact=n.getFactory()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.insertUniqueEdge=function(r){var i=this._edgeList.findEqualEdge(r);if(i!==null){var o=i.getLabel(),s=r.getLabel();i.isPointwiseEqual(r)||(s=new ze(r.getLabel()),s.flip());var u=i.getDepth();u.isNull()&&u.add(o),u.add(s),o.merge(s)}else this._edgeList.add(r)},t.prototype.getGraph=function(){return this._graph},t.prototype.cancelDuplicateResultEdges=function(){for(var r=this._graph.getEdgeEnds().iterator();r.hasNext();){var i=r.next(),o=i.getSym();i.isInResult()&&o.isInResult()&&(i.setInResult(!1),o.setInResult(!1))}},t.prototype.isCoveredByLA=function(r){return!!(this.isCovered(r,this._resultLineList)||this.isCovered(r,this._resultPolyList))},t.prototype.computeGeometry=function(r,i,o,s){var u=new kt;return u.addAll(r),u.addAll(i),u.addAll(o),u.isEmpty()?t.createEmptyResult(s,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(u)},t.prototype.mergeSymLabels=function(){for(var r=this._graph.getNodes().iterator();r.hasNext();){var i=r.next();i.getEdges().mergeSymLabels()}},t.prototype.isCovered=function(r,i){for(var o=this,s=i.iterator();s.hasNext();){var u=s.next(),l=o._ptLocator.locate(r,u);if(l!==et.EXTERIOR)return!0}return!1},t.prototype.replaceCollapsedEdges=function(){for(var r=new kt,i=this._edgeList.iterator();i.hasNext();){var o=i.next();o.isCollapsed()&&(i.remove(),r.add(o.getCollapsedEdge()))}this._edgeList.addAll(r)},t.prototype.updateNodeLabelling=function(){for(var r=this._graph.getNodes().iterator();r.hasNext();){var i=r.next(),o=i.getEdges().getLabel();i.getLabel().merge(o)}},t.prototype.getResultGeometry=function(r){return this.computeOverlay(r),this._resultGeom},t.prototype.insertUniqueEdges=function(r){for(var i=this,o=r.iterator();o.hasNext();){var s=o.next();i.insertUniqueEdge(s)}},t.prototype.computeOverlay=function(r){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var i=new kt;this._arg[0].computeSplitEdges(i),this._arg[1].computeSplitEdges(i),this.insertUniqueEdges(i),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),fs.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(r),this.cancelDuplicateResultEdges();var o=new Lr(this._geomFact);o.add(this._graph),this._resultPolyList=o.getPolygons();var s=new ki(this,this._geomFact,this._ptLocator);this._resultLineList=s.build(r);var u=new Us(this,this._geomFact,this._ptLocator);this._resultPointList=u.build(r),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,r)},t.prototype.labelIncompleteNode=function(r,i){var o=this._ptLocator.locate(r.getCoordinate(),this._arg[i].getGeometry());r.getLabel().setLocation(i,o)},t.prototype.copyPoints=function(r){for(var i=this,o=this._arg[r].getNodeIterator();o.hasNext();){var s=o.next(),u=i._graph.addNode(s.getCoordinate());u.setLabel(r,s.getLabel().getLocation(r))}},t.prototype.findResultAreaEdges=function(r){for(var i=this._graph.getEdgeEnds().iterator();i.hasNext();){var o=i.next(),s=o.getLabel();s.isArea()&&!o.isInteriorAreaEdge()&&t.isResultOfOp(s.getLocation(0,Mt.RIGHT),s.getLocation(1,Mt.RIGHT),r)&&o.setInResult(!0)}},t.prototype.computeLabelsFromDepths=function(){for(var r=this._edgeList.iterator();r.hasNext();){var i=r.next(),o=i.getLabel(),s=i.getDepth();if(!s.isNull()){s.normalize();for(var u=0;u<2;u++)!o.isNull(u)&&o.isArea()&&!s.isNull(u)&&(s.getDelta(u)===0?o.toLine(u):(Jt.isTrue(!s.isNull(u,Mt.LEFT),"depth of LEFT side has not been initialized"),o.setLocation(u,Mt.LEFT,s.getLocation(u,Mt.LEFT)),Jt.isTrue(!s.isNull(u,Mt.RIGHT),"depth of RIGHT side has not been initialized"),o.setLocation(u,Mt.RIGHT,s.getLocation(u,Mt.RIGHT))))}}},t.prototype.computeLabelling=function(){for(var r=this,i=this._graph.getNodes().iterator();i.hasNext();){var o=i.next();o.getEdges().computeLabelling(r._arg)}this.mergeSymLabels(),this.updateNodeLabelling()},t.prototype.labelIncompleteNodes=function(){for(var r=this,i=this._graph.getNodes().iterator();i.hasNext();){var o=i.next(),s=o.getLabel();o.isIsolated()&&(s.isNull(0)?r.labelIncompleteNode(o,0):r.labelIncompleteNode(o,1)),o.getEdges().updateLabelling(s)}},t.prototype.isCoveredByA=function(r){return!!this.isCovered(r,this._resultPolyList)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Ta);Kt.overlayOp=function(e,t,n){var r=new Kt(e,t),i=r.getResultGeometry(n);return i};Kt.intersection=function(e,t){if(e.isEmpty()||t.isEmpty())return Kt.createEmptyResult(Kt.INTERSECTION,e,t,e.getFactory());if(e.isGeometryCollection()){var n=t;return Vs.map(e,{interfaces_:function(){return[os.MapOp]},map:function(r){return r.intersection(n)}})}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),sr.overlayOp(e,t,Kt.INTERSECTION)};Kt.symDifference=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return Kt.createEmptyResult(Kt.SYMDIFFERENCE,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),sr.overlayOp(e,t,Kt.SYMDIFFERENCE)};Kt.resultDimension=function(e,t,n){var r=t.getDimension(),i=n.getDimension(),o=-1;switch(e){case Kt.INTERSECTION:o=Math.min(r,i);break;case Kt.UNION:o=Math.max(r,i);break;case Kt.DIFFERENCE:o=r;break;case Kt.SYMDIFFERENCE:o=Math.max(r,i);break}return o};Kt.createEmptyResult=function(e,t,n,r){var i=null;switch(Kt.resultDimension(e,t,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon();break}return i};Kt.difference=function(e,t){return e.isEmpty()?Kt.createEmptyResult(Kt.DIFFERENCE,e,t,e.getFactory()):t.isEmpty()?e.copy():(e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),sr.overlayOp(e,t,Kt.DIFFERENCE))};Kt.isResultOfOp=function(){if(arguments.length===2){var e=arguments[0],t=arguments[1],n=e.getLocation(0),r=e.getLocation(1);return Kt.isResultOfOp(n,r,t)}else if(arguments.length===3){var i=arguments[0],o=arguments[1],s=arguments[2];switch(i===et.BOUNDARY&&(i=et.INTERIOR),o===et.BOUNDARY&&(o=et.INTERIOR),s){case Kt.INTERSECTION:return i===et.INTERIOR&&o===et.INTERIOR;case Kt.UNION:return i===et.INTERIOR||o===et.INTERIOR;case Kt.DIFFERENCE:return i===et.INTERIOR&&o!==et.INTERIOR;case Kt.SYMDIFFERENCE:return i===et.INTERIOR&&o!==et.INTERIOR||i!==et.INTERIOR&&o===et.INTERIOR}return!1}};Kt.INTERSECTION=1;Kt.UNION=2;Kt.DIFFERENCE=3;Kt.SYMDIFFERENCE=4;var Ro=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Qr,this._seg=new Ft;var t=arguments[0],n=arguments[1];this._g=t,this._boundaryDistanceTolerance=n,this._linework=this.extractLinework(t)};Ro.prototype.isWithinToleranceOfBoundary=function(t){for(var n=this,r=0;r<this._linework.getNumGeometries();r++)for(var i=n._linework.getGeometryN(r),o=i.getCoordinateSequence(),s=0;s<o.size()-1;s++){o.getCoordinate(s,n._seg.p0),o.getCoordinate(s+1,n._seg.p1);var u=n._seg.distance(t);if(u<=n._boundaryDistanceTolerance)return!0}return!1};Ro.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?et.BOUNDARY:this._ptLocator.locate(t,this._g)};Ro.prototype.extractLinework=function(t){var n=new Na;t.apply(n);var r=n.getLinework(),i=he.toLineStringArray(r);return t.getFactory().createMultiLineString(i)};Ro.prototype.interfaces_=function(){return[]};Ro.prototype.getClass=function(){return Ro};var Na=function(){this._linework=null,this._linework=new kt};Na.prototype.getLinework=function(){return this._linework};Na.prototype.filter=function(t){var n=this;if(t instanceof Sn){var r=t;this._linework.add(r.getExteriorRing());for(var i=0;i<r.getNumInteriorRing();i++)n._linework.add(r.getInteriorRingN(i))}};Na.prototype.interfaces_=function(){return[bi]};Na.prototype.getClass=function(){return Na};var ds=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};ds.prototype.extractPoints=function(t,n,r){for(var i=this,o=t.getCoordinates(),s=0;s<o.length-1;s++)i.computeOffsetPoints(o[s],o[s+1],n,r)};ds.prototype.setSidesToGenerate=function(t,n){this._doLeft=t,this._doRight=n};ds.prototype.getPoints=function(t){for(var n=this,r=new kt,i=An.getLines(this._g),o=i.iterator();o.hasNext();){var s=o.next();n.extractPoints(s,t,r)}return r};ds.prototype.computeOffsetPoints=function(t,n,r,i){var o=n.x-t.x,s=n.y-t.y,u=Math.sqrt(o*o+s*s),l=r*o/u,p=r*s/u,g=(n.x+t.x)/2,c=(n.y+t.y)/2;if(this._doLeft){var _=new $(g-p,c+l);i.add(_)}if(this._doRight){var C=new $(g+p,c-l);i.add(C)}};ds.prototype.interfaces_=function(){return[]};ds.prototype.getClass=function(){return ds};var xr=function e(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=e.TOLERANCE,this._testCoords=new kt;var t=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=e.computeBoundaryDistanceTolerance(t,n),this._geom=[t,n,r],this._locFinder=[new Ro(this._geom[0],this._boundaryDistanceTolerance),new Ro(this._geom[1],this._boundaryDistanceTolerance),new Ro(this._geom[2],this._boundaryDistanceTolerance)]},hd={TOLERANCE:{configurable:!0}};xr.prototype.reportResult=function(t,n,r){Fn.out.println("Overlay result invalid - A:"+et.toLocationSymbol(n[0])+" B:"+et.toLocationSymbol(n[1])+" expected:"+(r?"i":"e")+" actual:"+et.toLocationSymbol(n[2]))};xr.prototype.isValid=function(t){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var n=this.checkValid(t);return n};xr.prototype.checkValid=function(){var t=this;if(arguments.length===1){for(var n=arguments[0],r=0;r<this._testCoords.size();r++){var i=t._testCoords.get(r);if(!t.checkValid(n,i))return t._invalidLocation=i,!1}return!0}else if(arguments.length===2){var o=arguments[0],s=arguments[1];return this._location[0]=this._locFinder[0].getLocation(s),this._location[1]=this._locFinder[1].getLocation(s),this._location[2]=this._locFinder[2].getLocation(s),xr.hasLocation(this._location,et.BOUNDARY)?!0:this.isValidResult(o,this._location)}};xr.prototype.addTestPts=function(t){var n=new ds(t);this._testCoords.addAll(n.getPoints(5*this._boundaryDistanceTolerance))};xr.prototype.isValidResult=function(t,n){var r=Kt.isResultOfOp(n[0],n[1],t),i=n[2]===et.INTERIOR,o=!(r^i);return o||this.reportResult(t,n,r),o};xr.prototype.getInvalidLocation=function(){return this._invalidLocation};xr.prototype.interfaces_=function(){return[]};xr.prototype.getClass=function(){return xr};xr.hasLocation=function(t,n){for(var r=0;r<3;r++)if(t[r]===n)return!0;return!1};xr.computeBoundaryDistanceTolerance=function(t,n){return Math.min(fn.computeSizeBasedSnapTolerance(t),fn.computeSizeBasedSnapTolerance(n))};xr.isValid=function(t,n,r,i){var o=new xr(t,n,i);return o.isValid(r)};hd.TOLERANCE.get=function(){return 1e-6};Object.defineProperties(xr,hd);var Er=function e(t){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=e.extractFactory(t),this._inputGeoms=t};Er.prototype.extractElements=function(t,n){var r=this;if(t===null)return null;for(var i=0;i<t.getNumGeometries();i++){var o=t.getGeometryN(i);r._skipEmpty&&o.isEmpty()||n.add(o)}};Er.prototype.combine=function(){for(var t=this,n=new kt,r=this._inputGeoms.iterator();r.hasNext();){var i=r.next();t.extractElements(i,n)}return n.size()===0?this._geomFactory!==null?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(n)};Er.prototype.interfaces_=function(){return[]};Er.prototype.getClass=function(){return Er};Er.combine=function(){if(arguments.length===1){var t=arguments[0],n=new Er(t);return n.combine()}else if(arguments.length===2){var r=arguments[0],i=arguments[1],o=new Er(Er.createList(r,i));return o.combine()}else if(arguments.length===3){var s=arguments[0],u=arguments[1],l=arguments[2],p=new Er(Er.createList(s,u,l));return p.combine()}};Er.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()};Er.createList=function(){if(arguments.length===2){var t=arguments[0],n=arguments[1],r=new kt;return r.add(t),r.add(n),r}else if(arguments.length===3){var i=arguments[0],o=arguments[1],s=arguments[2],u=new kt;return u.add(i),u.add(o),u.add(s),u}};var yn=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,this._inputPolys===null&&(this._inputPolys=new kt)},cd={STRTREE_NODE_CAPACITY:{configurable:!0}};yn.prototype.reduceToGeometries=function(t){for(var n=this,r=new kt,i=t.iterator();i.hasNext();){var o=i.next(),s=null;jt(o,qr)?s=n.unionTree(o):o instanceof Ht&&(s=o),r.add(s)}return r};yn.prototype.extractByEnvelope=function(t,n,r){for(var i=new kt,o=0;o<n.getNumGeometries();o++){var s=n.getGeometryN(o);s.getEnvelopeInternal().intersects(t)?i.add(s):r.add(s)}return this._geomFactory.buildGeometry(i)};yn.prototype.unionOptimized=function(t,n){var r=t.getEnvelopeInternal(),i=n.getEnvelopeInternal();if(!r.intersects(i)){var o=Er.combine(t,n);return o}if(t.getNumGeometries()<=1&&n.getNumGeometries()<=1)return this.unionActual(t,n);var s=r.intersection(i);return this.unionUsingEnvelopeIntersection(t,n,s)};yn.prototype.union=function(){if(this._inputPolys===null)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new Kp(yn.STRTREE_NODE_CAPACITY),n=this._inputPolys.iterator();n.hasNext();){var r=n.next();t.insert(r.getEnvelopeInternal(),r)}this._inputPolys=null;var i=t.itemsTree(),o=this.unionTree(i);return o};yn.prototype.binaryUnion=function(){if(arguments.length===1){var t=arguments[0];return this.binaryUnion(t,0,t.size())}else if(arguments.length===3){var n=arguments[0],r=arguments[1],i=arguments[2];if(i-r<=1){var o=yn.getGeometry(n,r);return this.unionSafe(o,null)}else{if(i-r===2)return this.unionSafe(yn.getGeometry(n,r),yn.getGeometry(n,r+1));var s=Math.trunc((i+r)/2),u=this.binaryUnion(n,r,s),l=this.binaryUnion(n,s,i);return this.unionSafe(u,l)}}};yn.prototype.repeatedUnion=function(t){for(var n=null,r=t.iterator();r.hasNext();){var i=r.next();n===null?n=i.copy():n=n.union(i)}return n};yn.prototype.unionSafe=function(t,n){return t===null&&n===null?null:t===null?n.copy():n===null?t.copy():this.unionOptimized(t,n)};yn.prototype.unionActual=function(t,n){return yn.restrictToPolygons(t.union(n))};yn.prototype.unionTree=function(t){var n=this.reduceToGeometries(t),r=this.binaryUnion(n);return r};yn.prototype.unionUsingEnvelopeIntersection=function(t,n,r){var i=new kt,o=this.extractByEnvelope(r,t,i),s=this.extractByEnvelope(r,n,i),u=this.unionActual(o,s);i.add(u);var l=Er.combine(i);return l};yn.prototype.bufferUnion=function(){if(arguments.length===1){var t=arguments[0],n=t.get(0).getFactory(),r=n.buildGeometry(t),i=r.buffer(0);return i}else if(arguments.length===2){var o=arguments[0],s=arguments[1],u=o.getFactory(),l=u.createGeometryCollection([o,s]),p=l.buffer(0);return p}};yn.prototype.interfaces_=function(){return[]};yn.prototype.getClass=function(){return yn};yn.restrictToPolygons=function(t){if(jt(t,Ao))return t;var n=uo.getPolygons(t);return n.size()===1?n.get(0):t.getFactory().createMultiPolygon(he.toPolygonArray(n))};yn.getGeometry=function(t,n){return n>=t.size()?null:t.get(n)};yn.union=function(t){var n=new yn(t);return n.union()};cd.STRTREE_NODE_CAPACITY.get=function(){return 4};Object.defineProperties(yn,cd);var ku=function(){};ku.prototype.interfaces_=function(){return[]};ku.prototype.getClass=function(){return ku};ku.union=function(t,n){if(t.isEmpty()||n.isEmpty()){if(t.isEmpty()&&n.isEmpty())return Kt.createEmptyResult(Kt.UNION,t,n,t.getFactory());if(t.isEmpty())return n.copy();if(n.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(n),sr.overlayOp(t,n,Kt.UNION)};function vs(){return new Iu}function Iu(){this.reset()}Iu.prototype={constructor:Iu,reset:function(){this.s=this.t=0},add:function(e){af(lu,e,this.t),af(this,lu.s,this.s),this.s?this.t+=lu.t:this.s=lu.t},valueOf:function(){return this.s}};var lu=new Iu;function af(e,t,n){var r=e.s=t+n,i=r-t,o=r-i;e.t=t-o+(n-i)}var sn=1e-6,Ue=Math.PI,lo=Ue/2,lf=Ue/4,mo=Ue*2,ts=180/Ue,ui=Ue/180,er=Math.abs,p_=Math.atan,Oa=Math.atan2,En=Math.cos,Mn=Math.sin,Ua=Math.sqrt;function fd(e){return e>1?0:e<-1?Ue:Math.acos(e)}function Zs(e){return e>1?lo:e<-1?-lo:Math.asin(e)}function hl(){}function xu(e,t){e&&hf.hasOwnProperty(e.type)&&hf[e.type](e,t)}var uf={Feature:function(e,t){xu(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)xu(n[r].geometry,t)}},hf={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Nh(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Nh(n[r],t,0)},Polygon:function(e,t){cf(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)cf(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)xu(n[r],t)}};function Nh(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function cf(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Nh(e[n],t,1);t.polygonEnd()}function d_(e,t){e&&uf.hasOwnProperty(e.type)?uf[e.type](e,t):xu(e,t)}vs();vs();function Oh(e){return[Oa(e[1],e[0]),Zs(e[2])]}function Da(e){var t=e[0],n=e[1],r=En(n);return[r*En(t),r*Mn(t),Mn(n)]}function uu(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Tu(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function vh(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function hu(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Dh(e){var t=Ua(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}vs();function pd(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function Rh(e,t){return[e>Ue?e-mo:e<-Ue?e+mo:e,t]}Rh.invert=Rh;function g_(e,t,n){return(e%=mo)?t||n?pd(pf(e),df(t,n)):pf(e):t||n?df(t,n):Rh}function ff(e){return function(t,n){return t+=e,[t>Ue?t-mo:t<-Ue?t+mo:t,n]}}function pf(e){var t=ff(e);return t.invert=ff(-e),t}function df(e,t){var n=En(e),r=Mn(e),i=En(t),o=Mn(t);function s(u,l){var p=En(l),g=En(u)*p,c=Mn(u)*p,_=Mn(l),C=_*n+g*r;return[Oa(c*i-C*o,g*n-_*r),Zs(C*i+c*o)]}return s.invert=function(u,l){var p=En(l),g=En(u)*p,c=Mn(u)*p,_=Mn(l),C=_*i-c*o;return[Oa(c*i+_*o,g*n+C*r),Zs(C*n-g*r)]},s}function __(e,t,n,r,i,o){if(n){var s=En(t),u=Mn(t),l=r*n;i==null?(i=t+r*mo,o=t-l/2):(i=gf(s,i),o=gf(s,o),(r>0?i<o:i>o)&&(i+=r*mo));for(var p,g=i;r>0?g>o:g<o;g-=l)p=Oh([s,-u*En(g),-u*Mn(g)]),e.point(p[0],p[1])}}function gf(e,t){t=Da(t),t[0]-=e,Dh(t);var n=fd(-t[1]);return((-t[2]<0?-n:n)+mo-sn)%mo}function dd(){var e=[],t;return{point:function(n,r){t.push([n,r])},lineStart:function(){e.push(t=[])},lineEnd:hl,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function m_(e,t,n,r,i,o){var s=e[0],u=e[1],l=t[0],p=t[1],g=0,c=1,_=l-s,C=p-u,E;if(E=n-s,!(!_&&E>0)){if(E/=_,_<0){if(E<g)return;E<c&&(c=E)}else if(_>0){if(E>c)return;E>g&&(g=E)}if(E=i-s,!(!_&&E<0)){if(E/=_,_<0){if(E>c)return;E>g&&(g=E)}else if(_>0){if(E<g)return;E<c&&(c=E)}if(E=r-u,!(!C&&E>0)){if(E/=C,C<0){if(E<g)return;E<c&&(c=E)}else if(C>0){if(E>c)return;E>g&&(g=E)}if(E=o-u,!(!C&&E<0)){if(E/=C,C<0){if(E>c)return;E>g&&(g=E)}else if(C>0){if(E<g)return;E<c&&(c=E)}return g>0&&(e[0]=s+g*_,e[1]=u+g*C),c<1&&(t[0]=s+c*_,t[1]=u+c*C),!0}}}}}function gu(e,t){return er(e[0]-t[0])<sn&&er(e[1]-t[1])<sn}function cu(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function gd(e,t,n,r,i){var o=[],s=[],u,l;if(e.forEach(function(E){if(!((P=E.length-1)<=0)){var P,S=E[0],I=E[P],T;if(gu(S,I)){for(i.lineStart(),u=0;u<P;++u)i.point((S=E[u])[0],S[1]);i.lineEnd();return}o.push(T=new cu(S,E,null,!0)),s.push(T.o=new cu(S,null,T,!1)),o.push(T=new cu(I,E,null,!1)),s.push(T.o=new cu(I,null,T,!0))}}),!!o.length){for(s.sort(t),_f(o),_f(s),u=0,l=s.length;u<l;++u)s[u].e=n=!n;for(var p=o[0],g,c;;){for(var _=p,C=!0;_.v;)if((_=_.n)===p)return;g=_.z,i.lineStart();do{if(_.v=_.o.v=!0,_.e){if(C)for(u=0,l=g.length;u<l;++u)i.point((c=g[u])[0],c[1]);else r(_.x,_.n.x,1,i);_=_.n}else{if(C)for(g=_.p.z,u=g.length-1;u>=0;--u)i.point((c=g[u])[0],c[1]);else r(_.x,_.p.x,-1,i);_=_.p}_=_.o,g=_.z,C=!C}while(!_.v);i.lineEnd()}}}function _f(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function _d(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function v_(e){return e.length===1&&(e=y_(e)),{left:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}function y_(e){return function(t,n){return _d(e(t),n)}}v_(_d);function md(e){for(var t=e.length,n,r=-1,i=0,o,s;++r<t;)i+=e[r].length;for(o=new Array(i);--t>=0;)for(s=e[t],n=s.length;--n>=0;)o[--i]=s[n];return o}var cl=1e9,fu=-cl;function L_(e,t,n,r){function i(p,g){return e<=p&&p<=n&&t<=g&&g<=r}function o(p,g,c,_){var C=0,E=0;if(p==null||(C=s(p,c))!==(E=s(g,c))||l(p,g)<0^c>0)do _.point(C===0||C===3?e:n,C>1?r:t);while((C=(C+c+4)%4)!==E);else _.point(g[0],g[1])}function s(p,g){return er(p[0]-e)<sn?g>0?0:3:er(p[0]-n)<sn?g>0?2:1:er(p[1]-t)<sn?g>0?1:0:g>0?3:2}function u(p,g){return l(p.x,g.x)}function l(p,g){var c=s(p,1),_=s(g,1);return c!==_?c-_:c===0?g[1]-p[1]:c===1?p[0]-g[0]:c===2?p[1]-g[1]:g[0]-p[0]}return function(p){var g=p,c=dd(),_,C,E,P,S,I,T,N,x,R,B,Y={point:Q,lineStart:J,lineEnd:at,polygonStart:ct,polygonEnd:X};function Q(ot,bt){i(ot,bt)&&g.point(ot,bt)}function rt(){for(var ot=0,bt=0,Bt=C.length;bt<Bt;++bt)for(var ut=C[bt],Ut=1,Rt=ut.length,Tt=ut[0],Xt,Fe,Ge=Tt[0],ie=Tt[1];Ut<Rt;++Ut)Xt=Ge,Fe=ie,Tt=ut[Ut],Ge=Tt[0],ie=Tt[1],Fe<=r?ie>r&&(Ge-Xt)*(r-Fe)>(ie-Fe)*(e-Xt)&&++ot:ie<=r&&(Ge-Xt)*(r-Fe)<(ie-Fe)*(e-Xt)&&--ot;return ot}function ct(){g=c,_=[],C=[],B=!0}function X(){var ot=rt(),bt=B&&ot,Bt=(_=md(_)).length;(bt||Bt)&&(p.polygonStart(),bt&&(p.lineStart(),o(null,null,1,p),p.lineEnd()),Bt&&gd(_,u,ot,o,p),p.polygonEnd()),g=p,_=C=E=null}function J(){Y.point=it,C&&C.push(E=[]),R=!0,x=!1,T=N=NaN}function at(){_&&(it(P,S),I&&x&&c.rejoin(),_.push(c.result())),Y.point=Q,x&&g.lineEnd()}function it(ot,bt){var Bt=i(ot,bt);if(C&&E.push([ot,bt]),R)P=ot,S=bt,I=Bt,R=!1,Bt&&(g.lineStart(),g.point(ot,bt));else if(Bt&&x)g.point(ot,bt);else{var ut=[T=Math.max(fu,Math.min(cl,T)),N=Math.max(fu,Math.min(cl,N))],Ut=[ot=Math.max(fu,Math.min(cl,ot)),bt=Math.max(fu,Math.min(cl,bt))];m_(ut,Ut,e,t,n,r)?(x||(g.lineStart(),g.point(ut[0],ut[1])),g.point(Ut[0],Ut[1]),Bt||g.lineEnd(),B=!1):Bt&&(g.lineStart(),g.point(ot,bt),B=!1)}T=ot,N=bt,x=Bt}return Y}}var yh=vs();function b_(e,t){var n=t[0],r=t[1],i=[Mn(n),-En(n),0],o=0,s=0;yh.reset();for(var u=0,l=e.length;u<l;++u)if(g=(p=e[u]).length)for(var p,g,c=p[g-1],_=c[0],C=c[1]/2+lf,E=Mn(C),P=En(C),S=0;S<g;++S,_=T,E=x,P=R,c=I){var I=p[S],T=I[0],N=I[1]/2+lf,x=Mn(N),R=En(N),B=T-_,Y=B>=0?1:-1,Q=Y*B,rt=Q>Ue,ct=E*x;if(yh.add(Oa(ct*Y*Mn(Q),P*R+ct*En(Q))),o+=rt?B+Y*mo:B,rt^_>=n^T>=n){var X=Tu(Da(c),Da(I));Dh(X);var J=Tu(i,X);Dh(J);var at=(rt^B>=0?-1:1)*Zs(J[2]);(r>at||r===at&&(X[0]||X[1]))&&(s+=rt^B>=0?1:-1)}}return(o<-sn||o<sn&&yh<-sn)^s&1}vs();function mf(e){return e}vs();vs();var Ra=1/0,Nu=Ra,kl=-Ra,Ou=kl,vf={point:C_,lineStart:hl,lineEnd:hl,polygonStart:hl,polygonEnd:hl,result:function(){var e=[[Ra,Nu],[kl,Ou]];return kl=Ou=-(Nu=Ra=1/0),e}};function C_(e,t){e<Ra&&(Ra=e),e>kl&&(kl=e),t<Nu&&(Nu=t),t>Ou&&(Ou=t)}vs();function vd(e,t,n,r){return function(i,o){var s=t(o),u=i.invert(r[0],r[1]),l=dd(),p=t(l),g=!1,c,_,C,E={point:P,lineStart:I,lineEnd:T,polygonStart:function(){E.point=N,E.lineStart=x,E.lineEnd=R,_=[],c=[]},polygonEnd:function(){E.point=P,E.lineStart=I,E.lineEnd=T,_=md(_);var B=b_(c,u);_.length?(g||(o.polygonStart(),g=!0),gd(_,E_,B,n,o)):B&&(g||(o.polygonStart(),g=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),g&&(o.polygonEnd(),g=!1),_=c=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function P(B,Y){var Q=i(B,Y);e(B=Q[0],Y=Q[1])&&o.point(B,Y)}function S(B,Y){var Q=i(B,Y);s.point(Q[0],Q[1])}function I(){E.point=S,s.lineStart()}function T(){E.point=P,s.lineEnd()}function N(B,Y){C.push([B,Y]);var Q=i(B,Y);p.point(Q[0],Q[1])}function x(){p.lineStart(),C=[]}function R(){N(C[0][0],C[0][1]),p.lineEnd();var B=p.clean(),Y=l.result(),Q,rt=Y.length,ct,X,J;if(C.pop(),c.push(C),C=null,!!rt){if(B&1){if(X=Y[0],(ct=X.length-1)>0){for(g||(o.polygonStart(),g=!0),o.lineStart(),Q=0;Q<ct;++Q)o.point((J=X[Q])[0],J[1]);o.lineEnd()}return}rt>1&&B&2&&Y.push(Y.pop().concat(Y.shift())),_.push(Y.filter(w_))}}return E}}function w_(e){return e.length>1}function E_(e,t){return((e=e.x)[0]<0?e[1]-lo-sn:lo-e[1])-((t=t.x)[0]<0?t[1]-lo-sn:lo-t[1])}const yf=vd(function(){return!0},M_,S_,[-Ue,-lo]);function M_(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,s){var u=o>0?Ue:-Ue,l=er(o-t);er(l-Ue)<sn?(e.point(t,n=(n+s)/2>0?lo:-lo),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(u,n),e.point(o,n),i=0):r!==u&&l>=Ue&&(er(t-r)<sn&&(t-=r*sn),er(o-u)<sn&&(o-=u*sn),n=P_(t,n,o,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(u,n),i=0),e.point(t=o,n=s),r=u},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function P_(e,t,n,r){var i,o,s=Mn(e-n);return er(s)>sn?p_((Mn(t)*(o=En(r))*Mn(n)-Mn(r)*(i=En(t))*Mn(e))/(i*o*s)):(t+r)/2}function S_(e,t,n,r){var i;if(e==null)i=n*lo,r.point(-Ue,i),r.point(0,i),r.point(Ue,i),r.point(Ue,0),r.point(Ue,-i),r.point(0,-i),r.point(-Ue,-i),r.point(-Ue,0),r.point(-Ue,i);else if(er(e[0]-t[0])>sn){var o=e[0]<t[0]?Ue:-Ue;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function k_(e,t){var n=En(e),r=n>0,i=er(n)>sn;function o(g,c,_,C){__(C,e,t,_,g,c)}function s(g,c){return En(g)*En(c)>n}function u(g){var c,_,C,E,P;return{lineStart:function(){E=C=!1,P=1},point:function(S,I){var T=[S,I],N,x=s(S,I),R=r?x?0:p(S,I):x?p(S+(S<0?Ue:-Ue),I):0;if(!c&&(E=C=x)&&g.lineStart(),x!==C&&(N=l(c,T),(!N||gu(c,N)||gu(T,N))&&(T[0]+=sn,T[1]+=sn,x=s(T[0],T[1]))),x!==C)P=0,x?(g.lineStart(),N=l(T,c),g.point(N[0],N[1])):(N=l(c,T),g.point(N[0],N[1]),g.lineEnd()),c=N;else if(i&&c&&r^x){var B;!(R&_)&&(B=l(T,c,!0))&&(P=0,r?(g.lineStart(),g.point(B[0][0],B[0][1]),g.point(B[1][0],B[1][1]),g.lineEnd()):(g.point(B[1][0],B[1][1]),g.lineEnd(),g.lineStart(),g.point(B[0][0],B[0][1])))}x&&(!c||!gu(c,T))&&g.point(T[0],T[1]),c=T,C=x,_=R},lineEnd:function(){C&&g.lineEnd(),c=null},clean:function(){return P|(E&&C)<<1}}}function l(g,c,_){var C=Da(g),E=Da(c),P=[1,0,0],S=Tu(C,E),I=uu(S,S),T=S[0],N=I-T*T;if(!N)return!_&&g;var x=n*I/N,R=-n*T/N,B=Tu(P,S),Y=hu(P,x),Q=hu(S,R);vh(Y,Q);var rt=B,ct=uu(Y,rt),X=uu(rt,rt),J=ct*ct-X*(uu(Y,Y)-1);if(!(J<0)){var at=Ua(J),it=hu(rt,(-ct-at)/X);if(vh(it,Y),it=Oh(it),!_)return it;var ot=g[0],bt=c[0],Bt=g[1],ut=c[1],Ut;bt<ot&&(Ut=ot,ot=bt,bt=Ut);var Rt=bt-ot,Tt=er(Rt-Ue)<sn,Xt=Tt||Rt<sn;if(!Tt&&ut<Bt&&(Ut=Bt,Bt=ut,ut=Ut),Xt?Tt?Bt+ut>0^it[1]<(er(it[0]-ot)<sn?Bt:ut):Bt<=it[1]&&it[1]<=ut:Rt>Ue^(ot<=it[0]&&it[0]<=bt)){var Fe=hu(rt,(-ct+at)/X);return vh(Fe,Y),[it,Oh(Fe)]}}}function p(g,c){var _=r?e:Ue-e,C=0;return g<-_?C|=1:g>_&&(C|=2),c<-_?C|=4:c>_&&(C|=8),C}return vd(s,u,o,r?[0,-e]:[-Ue,e-Ue])}function yd(e){return function(t){var n=new Ah;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Ah(){}Ah.prototype={constructor:Ah,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Ld(e,t,n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),o!=null&&e.clipExtent(null),d_(n,e.stream(vf));var s=vf.result(),u=Math.min(r/(s[1][0]-s[0][0]),i/(s[1][1]-s[0][1])),l=+t[0][0]+(r-u*(s[1][0]+s[0][0]))/2,p=+t[0][1]+(i-u*(s[1][1]+s[0][1]))/2;return o!=null&&e.clipExtent(o),e.scale(u*150).translate([l,p])}function I_(e,t,n){return Ld(e,[[0,0],t],n)}var Lf=16,x_=En(30*ui);function bf(e,t){return+t?N_(e,t):T_(e)}function T_(e){return yd({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function N_(e,t){function n(r,i,o,s,u,l,p,g,c,_,C,E,P,S){var I=p-r,T=g-i,N=I*I+T*T;if(N>4*t&&P--){var x=s+_,R=u+C,B=l+E,Y=Ua(x*x+R*R+B*B),Q=Zs(B/=Y),rt=er(er(B)-1)<sn||er(o-c)<sn?(o+c)/2:Oa(R,x),ct=e(rt,Q),X=ct[0],J=ct[1],at=X-r,it=J-i,ot=T*at-I*it;(ot*ot/N>t||er((I*at+T*it)/N-.5)>.3||s*_+u*C+l*E<x_)&&(n(r,i,o,s,u,l,X,J,rt,x/=Y,R/=Y,B,P,S),S.point(X,J),n(X,J,rt,x,R,B,p,g,c,_,C,E,P,S))}}return function(r){var i,o,s,u,l,p,g,c,_,C,E,P,S={point:I,lineStart:T,lineEnd:x,polygonStart:function(){r.polygonStart(),S.lineStart=R},polygonEnd:function(){r.polygonEnd(),S.lineStart=T}};function I(Q,rt){Q=e(Q,rt),r.point(Q[0],Q[1])}function T(){c=NaN,S.point=N,r.lineStart()}function N(Q,rt){var ct=Da([Q,rt]),X=e(Q,rt);n(c,_,g,C,E,P,c=X[0],_=X[1],g=Q,C=ct[0],E=ct[1],P=ct[2],Lf,r),r.point(c,_)}function x(){S.point=I,r.lineEnd()}function R(){T(),S.point=B,S.lineEnd=Y}function B(Q,rt){N(i=Q,rt),o=c,s=_,u=C,l=E,p=P,S.point=N}function Y(){n(c,_,g,C,E,P,o,s,i,u,l,p,Lf,r),S.lineEnd=x,x()}return S}}var O_=yd({point:function(e,t){this.stream.point(e*ui,t*ui)}});function D_(e){return R_(function(){return e})()}function R_(e){var t,n=150,r=480,i=250,o,s,u=0,l=0,p=0,g=0,c=0,_,C,E=null,P=yf,S=null,I,T,N,x=mf,R=.5,B=bf(X,R),Y,Q;function rt(it){return it=C(it[0]*ui,it[1]*ui),[it[0]*n+o,s-it[1]*n]}function ct(it){return it=C.invert((it[0]-o)/n,(s-it[1])/n),it&&[it[0]*ts,it[1]*ts]}function X(it,ot){return it=t(it,ot),[it[0]*n+o,s-it[1]*n]}rt.stream=function(it){return Y&&Q===it?Y:Y=O_(P(_,B(x(Q=it))))},rt.clipAngle=function(it){return arguments.length?(P=+it?k_(E=it*ui,6*ui):(E=null,yf),at()):E*ts},rt.clipExtent=function(it){return arguments.length?(x=it==null?(S=I=T=N=null,mf):L_(S=+it[0][0],I=+it[0][1],T=+it[1][0],N=+it[1][1]),at()):S==null?null:[[S,I],[T,N]]},rt.scale=function(it){return arguments.length?(n=+it,J()):n},rt.translate=function(it){return arguments.length?(r=+it[0],i=+it[1],J()):[r,i]},rt.center=function(it){return arguments.length?(u=it[0]%360*ui,l=it[1]%360*ui,J()):[u*ts,l*ts]},rt.rotate=function(it){return arguments.length?(p=it[0]%360*ui,g=it[1]%360*ui,c=it.length>2?it[2]%360*ui:0,J()):[p*ts,g*ts,c*ts]},rt.precision=function(it){return arguments.length?(B=bf(X,R=it*it),at()):Ua(R)},rt.fitExtent=function(it,ot){return Ld(rt,it,ot)},rt.fitSize=function(it,ot){return I_(rt,it,ot)};function J(){C=pd(_=g_(p,g,c),t);var it=t(u,l);return o=r-it[0]*n,s=i+it[1]*n,at()}function at(){return Y=Q=null,rt}return function(){return t=e.apply(this,arguments),rt.invert=t.invert&&ct,J()}}function bd(e){return function(t,n){var r=En(t),i=En(n),o=e(r*i);return[o*i*Mn(t),o*Mn(n)]}}function Cd(e){return function(t,n){var r=Ua(t*t+n*n),i=e(r),o=Mn(i),s=En(i);return[Oa(t*o,r*s),Zs(r&&n*o/r)]}}var A_=bd(function(e){return Ua(2/(1+e))});A_.invert=Cd(function(e){return 2*Zs(e/2)});var wd=bd(function(e){return(e=fd(e))&&e/Mn(e)});wd.invert=Cd(function(e){return e});function B_(){return D_(wd).scale(79.4188).clipAngle(180-.001)}function Cf(e,t){return[e,t]}Cf.invert=Cf;function z_(e,t,n){n=n||{};var r=n.units||"kilometers",i=n.steps||8;if(!e)throw new Error("geojson is required");if(typeof n!="object")throw new Error("options must be an object");if(typeof i!="number")throw new Error("steps must be an number");if(t===void 0)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");var o=[];switch(e.type){case"GeometryCollection":return Kh(e,function(s){var u=_u(s,t,r,i);u&&o.push(u)}),kh(o);case"FeatureCollection":return ef(e,function(s){var u=_u(s,t,r,i);u&&ef(u,function(l){l&&o.push(l)})}),kh(o)}return _u(e,t,r,i)}function _u(e,t,n,r){var i=e.properties||{},o=e.type==="Feature"?e.geometry:e;if(o.type==="GeometryCollection"){var s=[];return Kh(e,function(P){var S=_u(P,t,n,r);S&&s.push(S)}),kh(s)}var u=F_(o),l={type:o.type,coordinates:Md(o.coordinates,u)},p=new ic,g=p.read(l),c=Ug(Hg(t,n),"meters"),_=Bn.bufferOp(g,c,r),C=new Yp;if(_=C.write(_),!Ed(_.coordinates)){var E={type:_.type,coordinates:Pd(_.coordinates,u)};return Fu(E,i)}}function Ed(e){return Array.isArray(e[0])?Ed(e[0]):isNaN(e[0])}function Md(e,t){return typeof e[0]!="object"?t(e):e.map(function(n){return Md(n,t)})}function Pd(e,t){return typeof e[0]!="object"?t.invert(e):e.map(function(n){return Pd(n,t)})}function F_(e){var t=Wg(e).geometry.coordinates,n=[-t[0],-t[1]];return B_().rotate(n).scale(wr)}function mu(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function G_(e,t){return e.type==="FeatureCollection"?"FeatureCollection":e.type==="GeometryCollection"?"GeometryCollection":e.type==="Feature"&&e.geometry!==null?e.geometry.type:e.type}function V_(e,t){t===void 0&&(t={});var n=typeof t=="object"?t.mutate:t;if(!e)throw new Error("geojson is required");var r=G_(e),i=[];switch(r){case"LineString":i=Lh(e);break;case"MultiLineString":case"Polygon":mu(e).forEach(function(s){i.push(Lh(s))});break;case"MultiPolygon":mu(e).forEach(function(s){var u=[];s.forEach(function(l){u.push(Lh(l))}),i.push(u)});break;case"Point":return e;case"MultiPoint":var o={};mu(e).forEach(function(s){var u=s.join("-");Object.prototype.hasOwnProperty.call(o,u)||(i.push(s),o[u]=!0)});break;default:throw new Error(r+" geometry not supported")}return e.coordinates?n===!0?(e.coordinates=i,e):{type:r,coordinates:i}:n===!0?(e.geometry.coordinates=i,e):Fu({type:r,coordinates:i},e.properties,{bbox:e.bbox,id:e.id})}function Lh(e){var t=mu(e);if(t.length===2&&!wf(t[0],t[1]))return t;var n=[],r=t.length-1,i=n.length;n.push(t[0]);for(var o=1;o<r;o++){var s=n[n.length-1];t[o][0]===s[0]&&t[o][1]===s[1]||(n.push(t[o]),i=n.length,i>2&&Ef(n[i-3],n[i-1],n[i-2])&&n.splice(n.length-2,1))}if(n.push(t[t.length-1]),i=n.length,wf(t[0],t[t.length-1])&&i<4)throw new Error("invalid polygon");return Ef(n[i-3],n[i-1],n[i-2])&&n.splice(n.length-2,1),n}function wf(e,t){return e[0]===t[0]&&e[1]===t[1]}function Ef(e,t,n){var r=n[0],i=n[1],o=e[0],s=e[1],u=t[0],l=t[1],p=r-o,g=i-s,c=u-o,_=l-s,C=p*_-g*c;return C!==0?!1:Math.abs(c)>=Math.abs(_)?c>0?o<=r&&r<=u:u<=r&&r<=o:_>0?s<=i&&i<=l:l<=i&&i<=s}function vu(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return Sd(e);case"FeatureCollection":return U_(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return pc(e);default:throw new Error("unknown GeoJSON type")}}function Sd(e){var t={type:"Feature"};return Object.keys(e).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:t[n]=e[n]}}),t.properties=kd(e.properties),t.geometry=pc(e.geometry),t}function kd(e){var t={};return e&&Object.keys(e).forEach(function(n){var r=e[n];typeof r=="object"?r===null?t[n]=null:Array.isArray(r)?t[n]=r.map(function(i){return i}):t[n]=kd(r):t[n]=r}),t}function U_(e){var t={type:"FeatureCollection"};return Object.keys(e).forEach(function(n){switch(n){case"type":case"features":return;default:t[n]=e[n]}}),t.features=e.features.map(function(n){return Sd(n)}),t}function pc(e){var t={type:e.type};return e.bbox&&(t.bbox=e.bbox),e.type==="GeometryCollection"?(t.geometries=e.geometries.map(function(n){return pc(n)}),t):(t.coordinates=Id(e.coordinates),t)}function Id(e){var t=e;return typeof t[0]!="object"?t.slice():t.map(function(n){return Id(n)})}function H_(e,t){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function Z_(e,t,n){var r=t.x,i=t.y,o=n.x-r,s=n.y-i;if(o!==0||s!==0){var u=((e.x-r)*o+(e.y-i)*s)/(o*o+s*s);u>1?(r=n.x,i=n.y):u>0&&(r+=o*u,i+=s*u)}return o=e.x-r,s=e.y-i,o*o+s*s}function j_(e,t){for(var n=e[0],r=[n],i,o=1,s=e.length;o<s;o++)i=e[o],H_(i,n)>t&&(r.push(i),n=i);return n!==i&&r.push(i),r}function Bh(e,t,n,r,i){for(var o=r,s,u=t+1;u<n;u++){var l=Z_(e[u],e[t],e[n]);l>o&&(s=u,o=l)}o>r&&(s-t>1&&Bh(e,t,s,r,i),i.push(e[s]),n-s>1&&Bh(e,s,n,r,i))}function q_(e,t){var n=e.length-1,r=[e[0]];return Bh(e,0,n,t,r),r.push(e[n]),r}function zh(e,t,n){if(e.length<=2)return e;var r=t!==void 0?t*t:1;return e=n?e:j_(e,r),e=q_(e,r),e}function X_(e,t){if(t=t||{},!Zg(t))throw new Error("options is invalid");var n=t.tolerance!==void 0?t.tolerance:1,r=t.highQuality||!1,i=t.mutate||!1;if(!e)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return i!==!0&&(e=vu(e)),Kh(e,function(o){Y_(o,n,r)}),e}function Y_(e,t,n){var r=e.type;if(r==="Point"||r==="MultiPoint")return e;V_(e,!0);var i=e.coordinates;switch(r){case"LineString":e.coordinates=Mf(i,t,n);break;case"MultiLineString":e.coordinates=i.map(function(o){return Mf(o,t,n)});break;case"Polygon":e.coordinates=Pf(i,t,n);break;case"MultiPolygon":e.coordinates=i.map(function(o){return Pf(o,t,n)})}return e}function Mf(e,t,n){return zh(e.map(function(r){return{x:r[0],y:r[1],z:r[2]}}),t,n).map(function(r){return r.z?[r.x,r.y,r.z]:[r.x,r.y]})}function Pf(e,t,n){return e.map(function(r){var i=r.map(function(s){return{x:s[0],y:s[1]}});if(i.length<4)throw new Error("invalid polygon");for(var o=zh(i,t,n).map(function(s){return[s.x,s.y]});!W_(o);)t-=t*.01,o=zh(i,t,n).map(function(s){return[s.x,s.y]});return(o[o.length-1][0]!==o[0][0]||o[o.length-1][1]!==o[0][1])&&o.push(o[0]),o})}function W_(e){return e.length<3?!1:!(e.length===3&&e[2][0]===e[0][0]&&e[2][1]===e[0][1])}var K_=Object.defineProperty,Qu=(e,t)=>{for(var n in t)K_(e,n,{get:t[n],enumerable:!0})},J_={};Qu(J_,{convertFileSrc:()=>$_,invoke:()=>vo,transformCallback:()=>Du});function Q_(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function Du(e,t=!1){let n=Q_(),r=`_${n}`;return Object.defineProperty(window,r,{value:i=>(t&&Reflect.deleteProperty(window,r),e==null?void 0:e(i)),writable:!1,configurable:!0}),n}async function vo(e,t={}){return new Promise((n,r)=>{let i=Du(s=>{n(s),Reflect.deleteProperty(window,`_${o}`)},!0),o=Du(s=>{r(s),Reflect.deleteProperty(window,`_${i}`)},!0);window.__TAURI_IPC__({cmd:e,callback:i,error:o,...t})})}function $_(e,t="asset"){let n=encodeURIComponent(e);return navigator.userAgent.includes("Windows")?`https://${t}.localhost/${n}`:`${t}://localhost/${n}`}/* @preserve
* @terraformer/spatial - v2.1.1 - MIT
* Copyright (c) 2012-2022 Environmental Systems Research Institute, Inc.
* Tue Aug 02 2022 14:23:50 GMT-0700 (Pacific Daylight Time)
*/var Sf=function(t){for(var n=null,r=null,i=null,o=null,s=0;s<t.length;s++)for(var u=t[s],l=0;l<u.length;l++){var p=u[l],g=p[0],c=p[1];(n===null||g<n)&&(n=g),(r===null||g>r)&&(r=g),(i===null||c<i)&&(i=c),(o===null||c>o)&&(o=c)}return[n,i,r,o]},tm=function(t){for(var n=null,r=null,i=null,o=null,s=0;s<t.length;s++)for(var u=t[s],l=0;l<u.length;l++)for(var p=u[l],g=0;g<p.length;g++){var c=p[g],_=c[0],C=c[1];(n===null||_<n)&&(n=_),(r===null||_>r)&&(r=_),(i===null||C<i)&&(i=C),(o===null||C>o)&&(o=C)}return[n,i,r,o]},Ru=function(t){for(var n=null,r=null,i=null,o=null,s=0;s<t.length;s++){var u=t[s],l=u[0],p=u[1];(n===null||l<n)&&(n=l),(r===null||l>r)&&(r=l),(i===null||p<i)&&(i=p),(o===null||p>o)&&(o=p)}return[n,i,r,o]},em=function(t){for(var n=[],r=t.features.length-1;r>=0;r--){var i=dc(t.features[r].geometry);n.push([i[0],i[1]]),n.push([i[2],i[3]])}return Ru(n)},nm=function(t){for(var n=[],r=t.geometries.length-1;r>=0;r--){var i=dc(t.geometries[r]);n.push([i[0],i[1]]),n.push([i[2],i[3]])}return Ru(n)},dc=function e(t){if(t.type)switch(t.type){case"Point":return[t.coordinates[0],t.coordinates[1],t.coordinates[0],t.coordinates[1]];case"MultiPoint":return Ru(t.coordinates);case"LineString":return Ru(t.coordinates);case"MultiLineString":return Sf(t.coordinates);case"Polygon":return Sf(t.coordinates);case"MultiPolygon":return tm(t.coordinates);case"Feature":return t.geometry?e(t.geometry):null;case"FeatureCollection":return em(t);case"GeometryCollection":return nm(t);default:throw new Error("Unknown type: "+t.type)}return null},kf=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},rm=function(t,n,r,i){var o=(i[0]-r[0])*(t[1]-r[1])-(i[1]-r[1])*(t[0]-r[0]),s=(n[0]-t[0])*(t[1]-r[1])-(n[1]-t[1])*(t[0]-r[0]),u=(i[1]-r[1])*(n[0]-t[0])-(i[0]-r[0])*(n[1]-t[1]);if(u!==0){var l=o/u,p=s/u;if(l>=0&&l<=1&&p>=0&&p<=1)return!0}return!1},yu=function e(t,n){if(kf(t[0][0])){if(kf(n[0][0])){for(var r=0;r<t.length-1;r++)for(var i=0;i<n.length-1;i++)if(rm(t[r],t[r+1],n[i],n[i+1]))return!0}else for(var o=0;o<n.length;o++)if(e(t,n[o]))return!0}else for(var s=0;s<t.length;s++)if(e(t[s],n))return!0;return!1},bh=function(t,n){for(var r=!1,i=-1,o=t.length,s=o-1;++i<o;s=i)(t[i][1]<=n[1]&&n[1]<t[s][1]||t[s][1]<=n[1]&&n[1]<t[i][1])&&n[0]<(t[s][0]-t[i][0])*(n[1]-t[i][1])/(t[s][1]-t[i][1])+t[i][0]&&(r=!r);return r},Fh=function(t,n){for(var r=0;r<t.length;r++)if(t[r]!==n[r])return!1;return!0},If=function(t,n){return t[0]>n[0]?-1:t[0]<n[0]?1:t[1]>n[1]?-1:t[1]<n[1]?1:0},Gh=function(t){for(var n=[],r=0;r<t.length;r++){var i=t[r].slice();Fh(i[0],i[i.length-1])===!1&&i.push(i[0]),n.push(i)}return n};function im(){var e=Array.prototype.slice.apply(arguments);typeof console<"u"&&console.warn&&console.warn.apply(console,e)}var xf=function(t,n){if(t.length!==n.length)return!1;for(var r=t.slice().sort(If),i=n.slice().sort(If),o=0;o<r.length;o++){if(r[o].length!==i[o].length)return!1;for(var s=0;s<r.length;s++)if(r[o][s]!==i[o][s])return!1}return!0},ll=function(t,n){if(t&&t.length){if(t.length===1)return bh(t[0],n);if(bh(t[0],n)){for(var r=1;r<t.length;r++)if(bh(t[r],n))return!1;return!0}else return!1}else return!1},Il=function e(t,n){var r,i,o;if(n.type==="Feature"&&(n=n.geometry),n.type==="Point"&&t.type==="Point")return Fh(t.coordinates,n.coordinates);if(n.type==="MultiLineString"&&t.type==="Point")for(i=0;i<t.coordinates.length;i++){var s={type:"LineString",coordinates:n.coordinates[i]};if(e(t,s))return!0}if((n.type==="LineString"||n.type==="MultiPoint")&&t.type==="Point")for(i=0;i<n.coordinates.length;i++){if(t.coordinates.length!==n.coordinates[i].length)return!1;if(Fh(t.coordinates,n.coordinates[i]))return!0}if(n.type==="Polygon")if(t.type==="Polygon"){if(n.coordinates.length===t.coordinates.length){for(i=0;i<t.coordinates.length;i++)if(xf(t.coordinates[i],n.coordinates[i]))return!0}return t.coordinates.length&&ll(n.coordinates,t.coordinates[0][0])?!yu(Gh(t.coordinates),Gh(n.coordinates)):!1}else{if(t.type==="Point")return ll(n.coordinates,t.coordinates);if(t.type==="LineString"||t.type==="MultiPoint"){if(!t.coordinates||t.coordinates.length===0)return!1;for(i=0;i<t.coordinates.length;i++)if(ll(n.coordinates,t.coordinates[i])===!1)return!1;return!0}else if(t.type==="MultiLineString"){for(i=0;i<t.coordinates.length;i++){var u={type:"LineString",coordinates:t.coordinates[i]};if(e(u,n)===!1)return o++,!1}return!0}else if(t.type==="MultiPolygon"){for(i=0;i<t.coordinates.length;i++){var l={type:"Polygon",coordinates:t.coordinates[i]};if(e(l,n)===!1)return!1}return!0}}if(n.type==="MultiPolygon"){if(t.type==="Point"){if(n.coordinates.length){for(i=0;i<n.coordinates.length;i++)if(r=n.coordinates[i],ll(r,t.coordinates)&&yu([t.coordinates],n.coordinates)===!1)return!0}return!1}else if(t.type==="Polygon"){for(i=0;i<t.coordinates.length;i++)if(n.coordinates[i].length===t.coordinates.length){for(var p=0;p<t.coordinates.length;p++)if(xf(t.coordinates[p],n.coordinates[i][p]))return!0}if(yu(t.coordinates,n.coordinates)===!1&&n.coordinates.length){for(i=0;i<n.coordinates.length;i++)r=n.coordinates[i],ll(r,t.coordinates[0][0])===!1?o=!1:o=!0;return o}}else if(t.type==="LineString"||t.type==="MultiPoint")for(i=0;i<n.coordinates.length;i++){var g={type:"Polygon",coordinates:n.coordinates[i]};return!!e(t,g)}else if(t.type==="MultiLineString"){for(i=0;i<t.coordinates.length;i++){var c={type:"LineString",coordinates:t.coordinates[i]};if(e(c,n)===!1)return!1}return!0}else if(t.type==="MultiPolygon"){for(i=0;i<n.coordinates.length;i++){var _={type:"Polygon",coordinates:n.coordinates[i]};if(e(t,_)===!1)return!1}return!0}}return!1},xd=function(t,n){return Il(n,t)},om=function e(t,n){if(n.type==="Feature"&&(n=n.geometry),Il(t,n)||Il(n,t)||t.type==="MultiPolygon"&&sm(t,n))return!0;if(t.type!=="Point"&&t.type!=="MultiPoint"&&n.type!=="Point"&&n.type!=="MultiPoint")return yu(t.coordinates,n.coordinates);if(t.type==="Feature"){var r=t.geometry;return e(r,n)}return im("Type "+t.type+" to "+n.type+" intersection is not supported by intersects"),!1};function sm(e,t){return e.coordinates.some(function(n){var r={type:"Polygon",coordinates:n};return Il(r,t)||Il(t,r)})}var Ch={a:6378137,b:63567523142e-4,f:1/298.257223563},am=function(t,n,r){var i=r||64,o=n||250;if(!t||t.length<2||!o||!i)throw new Error("Terraformer: missing parameter for Terraformer.Circle");return{type:"Feature",geometry:lm(t,o,i),properties:{radius:o,center:t,steps:i}}},lm=function(t,n,r){for(var i=r||64,o={type:"Polygon",coordinates:[[]]},s,u=0;u<i;u++)s=u*360/i,o.coordinates[0].push(um(t,s,n));return o.coordinates=Gh(o.coordinates),o},um=function(t,n,r){for(var i,o,s,u,l=Ch.a,p=Ch.b,g=Ch.f,c=t[0],_=t[1],C=r,E=Math.PI,P=n*E/180,S=Math.sin(P),I=Math.cos(P),T=(1-g)*Math.tan(_*E/180),N=1/Math.sqrt(1+T*T),x=T*N,R=Math.atan2(T,I),B=N*S,Y=1-B*B,Q=Y*(l*l-p*p)/(p*p),rt=1+Q/16384*(4096+Q*(-768+Q*(320-175*Q))),ct=Q/1024*(256+Q*(-128+Q*(74-47*Q))),X=C/(p*rt),J=2*Math.PI;Math.abs(X-J)>1e-12;)i=Math.cos(2*R+X),o=Math.sin(X),s=Math.cos(X),u=ct*o*(i+ct/4*(s*(-1+2*i*i)-ct/6*i*(-3+4*o*o)*(-3+4*i*i))),J=X,X=C/(p*rt)+u;var at=x*o-N*s*I,it=Math.atan2(x*s+N*o*I,(1-g)*Math.sqrt(B*B+at*at)),ot=Math.atan2(o*S,N*s-x*o*I),bt=g/16*Y*(4+g*(4-3*Y)),Bt=ot-(1-bt)*g*B*(X+bt*o*(i+bt*s*(-1+2*i*i))),ut=c+Bt*180/E,Ut=it*180/E;return[ut,Ut]},Vh=function(e,t){return Vh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Vh(e,t)};function gc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Vh(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var gs=function(){return gs=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},gs.apply(this,arguments)};function Tf(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var hm=function(e){gc(t,e);function t(n,r){var i=e.call(this)||this;return i.polyline=nn.polyline(n,r),i.polygon=nn.polygon(n,gs(gs({},r),{weight:0})),i}return t.prototype.onAdd=function(n){return this.polyline.addTo(n),this.polygon.addTo(n),this},t.prototype.onRemove=function(){return this.polyline.remove(),this.polygon.remove(),this},t.prototype.addLatLng=function(n){return this.polyline.addLatLng(n),this.polygon.addLatLng(n),this},t.prototype.getLatLngs=function(){return this.polygon.getLatLngs()[0]},t.prototype.toGeoJSON=function(){return this.polygon.toGeoJSON()},t}(nn.Layer);function cm(e){var t=dc(e),n=nn.latLngBounds([t[1],t[0]],[t[3],t[2]]);return n}function fm(e,t,n){var r=e.getLatLng(),i=t.latLngToPoint(r,n),o=e.getRadius()/Math.SQRT2,s=nn.point([i.x-o,i.y-o]),u=t.pointToLatLng(s,n),l=t.distance(r,u);return l}function Nf(e,t){return am(nn.GeoJSON.latLngToCoords(e),t).geometry}function Of(e,t){if(t===void 0&&(t={}),e instanceof nn.Circle){var n=e.getLatLng(),r=e.getRadius();return Nf(n,r)}else if(e instanceof nn.CircleMarker)if(t.zoom!=null&&t.crs!=null){var n=e.getLatLng(),r=fm(e,t.crs,t.zoom);return Nf(n,r)}else return console.warn("Zoom and CRS is required for calculating CircleMarker polygon, falling back to center point only"),e.toGeoJSON().geometry;else{if(e instanceof nn.Marker||e instanceof nn.Polyline)return e.toGeoJSON().geometry;console.warn("Layer GeoJSON geometry is not available",e);return}}function pm(e,t){return xd(e,t)}function dm(e,t){return t.type==="Point"?xd(e,t):om(e,t)}function gm(e,t,n){n===void 0&&(n={});var r=e.toGeoJSON().geometry,i=e.getBounds(),o=t.filter(function(s){var u,l;if(s instanceof nn.Polyline?l=s.getBounds():(u=Of(s,n),u&&(l=cm(u))),!l||!l.isValid())return!1;var p=n.intersect?i.intersects(l):i.contains(l);if(!p||(u||(u=Of(s,n)),!u))return!1;var g=n.intersect?dm(r,u):pm(r,u);return g});return o}function Td(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var _m=`.leaflet-lasso-active {
    cursor: crosshair;
    -webkit-user-select: none;
       -moz-user-select: none;
            user-select: none;
}

.leaflet-lasso-active .leaflet-interactive {
    cursor: crosshair;
    pointer-events: none;
}`;Td(_m);var mm="lasso.enabled",vm="lasso.disabled",Nd="lasso.finished",pu="leaflet-lasso-active",Lu=function(e){gc(t,e);function t(n,r){r===void 0&&(r={});var i=e.call(this,n)||this;return i.options={polygon:{color:"#00C3FF",weight:2},intersect:!1},i.onMapMouseDownBound=i.onMapMouseDown.bind(i),i.onDocumentMouseMoveBound=i.onDocumentMouseMove.bind(i),i.onDocumentMouseUpBound=i.onDocumentMouseUp.bind(i),i.map=n,nn.Util.setOptions(i,r),i}return t.prototype.setOptions=function(n){this.options=gs(gs({},this.options),n)},t.prototype.toggle=function(){this.enabled()?this.disable():this.enable()},t.prototype.addHooks=function(){this.map.getPane("mapPane"),this.map.getContainer().addEventListener("mousedown",this.onMapMouseDownBound),this.map.getContainer().addEventListener("touchstart",this.onMapMouseDownBound);var n=this.map.getContainer();n.classList.add(pu),this.map.dragging.disable(),this.map.fire(mm)},t.prototype.removeHooks=function(){this.polygon&&(this.map.removeLayer(this.polygon),this.polygon=void 0),this.map.getContainer().removeEventListener("mousedown",this.onMapMouseDownBound),this.map.getContainer().removeEventListener("touchstart",this.onMapMouseDownBound),document.removeEventListener("mousemove",this.onDocumentMouseMoveBound),document.removeEventListener("touchmove",this.onDocumentMouseMoveBound),document.removeEventListener("mouseup",this.onDocumentMouseUpBound),document.removeEventListener("touchend",this.onDocumentMouseUpBound),this.map.getContainer().classList.remove(pu),document.body.classList.remove(pu),this.map.dragging.enable(),this.map.fire(vm)},t.prototype.onMapMouseDown=function(n){n.stopPropagation();var r=this.eventToMouseEvent("down",n);if(r){if(n instanceof MouseEvent&&!n._simulated&&n.buttons!==1){this.disable();return}if(!n.target.closest(".leaflet-control-container")){var i=this.map.mouseEventToLatLng(r);this.polygon=new hm([i],this.options.polygon).addTo(this.map),document.body.classList.add(pu),document.addEventListener("mousemove",this.onDocumentMouseMoveBound),document.addEventListener("touchmove",this.onDocumentMouseMoveBound),document.addEventListener("mouseup",this.onDocumentMouseUpBound),document.addEventListener("touchend",this.onDocumentMouseUpBound),n.preventDefault()}}},t.prototype.onDocumentMouseMove=function(n){n.stopPropagation();var r=this.eventToMouseEvent("move",n);if(r&&this.polygon){if(n instanceof MouseEvent&&!n._simulated&&n.buttons!==1){this.finish(n);return}var i=this.map.mouseEventToLatLng(r);this.polygon.addLatLng(i),n.preventDefault()}},t.prototype.onDocumentMouseUp=function(n){this.finish(n),n.stopPropagation(),n.preventDefault()},t.prototype.eventToMouseEvent=function(n,r){if(r instanceof MouseEvent)return r;if(r instanceof TouchEvent&&r.touches.length===1)return new MouseEvent(n,{screenX:r.touches[0].screenX,screenY:r.touches[0].screenY,clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,buttons:1})},t.prototype.finish=function(n){var r=this;if(this.polygon){var i=[];this.map.eachLayer(function(s){s===r.polygon||s===r.polygon.polyline||s===r.polygon.polygon||(nn.MarkerCluster&&s instanceof nn.MarkerCluster?i.push.apply(i,s.getAllChildMarkers()):(s instanceof nn.Marker||s instanceof nn.Path)&&i.push(s))});var o=gm(this.polygon.polygon,i,{zoom:this.map.getZoom(),crs:this.map.options.crs,intersect:this.options.intersect});this.map.fire(Nd,{originalEvent:n,latLngs:this.polygon.getLatLngs(),layers:o}),this.disable()}},t}(nn.Handler),ym=`.leaflet-control-lasso {
    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsSAAALEgHS3X78AAAD6UlEQVR4nO1b7XHbMAwFfP0fdYKqE8QbRJ0gGUEjaAR3A4/gbuBOUHWCKhs4E1SegD06jzmYpWhJpiRKNu58Tix+AA8gCQIQK6Xolml109LfAbgDcAfg5gH4NPQEzJwSkf4kRLR2NKmJqNLfSqlqaH7+4y/0McjML0SUQdinHkO8ApCSiPZKqToogxYFAQBC50T03NDkN74raFzSGtahreSLo+9PALG7mlEXaQD6fMD0BgIp8TkQ0ZaINChpl7ExZoZxK2vcGr8nfXl2ztm5g1twI/Q6KHPvVlFg/DMgJgEAWpWCay3lIYX2zJ1bQFQhAO+i9b2l8VEEd/BSWEooBgUAm5REPvg67AGCrZDdIABgQ6qF1oOu8QBAbK4FwTd4bq23SbXeks/OIPg0f7V5TQRCpz3BNdhamH30wgu+CwFC66VqD5IIByRas/eAYDbGqi8AW+FszEp4ocC6y1KQneW6z+YmvJDDLIVDVwBKdNzPVXghi/FbLjprp4AIM2fi6loMcusal8zN8eXirOp885jNrn/BAlKxnL17GWPj+As8viqlDguwAG3V+hR7JKJvSqmyqd1KmMnrUoQHGaEzX6OVaLAfg6sRyUSeUt+UKxGobDSTmZKR5yIAj/h79IhsDPSRFxg6+ho9AAukpI1IgydGxiY4dSRON+/SXgwAyE1sHbkF79JmeEuaPs91H4DWf+Ffk1nSgDwQ0RH5iUbZqgXcAI0MG/FbKn7f+i5DZo14PabISR/lb0qpjWETXq252LmSsidaCYfh8s0pbnKZuFHuEzNvmNl5MiR9YmmRLYHaxb8VJ3SG+UzD3ZyvwyI/UEPozMoZFE2xTjOADId1yuhGBMLO0raSUSE74HsGgDoPiZULsIISPkFqtUlEuOx0YsiHadeIakTC57bGPW0zAVRiP+yVXJhY+M6JHLFcCtfDvUAoahCseoXW0Wz0Oy1310O5WUQLgmX2ZddEzkffhoc2CJMUQ3h4kzt+v7S4ke/CRKWYaBtBYURmF2tcMda7bC0absWEk5TG4ISyS3Suury1BqAB+XIMIDCv7eAEsUTvHtDQoak8bhPSexSlcXadYBlqHu8p0BMIZRVIti9QeD/Hc/S1hVawgKDuufQDriqVZeYcAjeVyL4BGBc1lcaSKY8dolaYmTXgf0ykKFStcCIKpM33Q8vuR1EcXeEuMkhoDnyWCKB81wGUQV+aEhFaJ/mSlgPwYvyHZ8QN9SlS38RbY3hnYQ/NHyH8KVq0+DdGdCgMS+sRe1ImX8xYvAUw8wGb7Q9c88/2l1sAIEPBlPM0ur85GgEPk9IdgAh4mJTuAETAw3RERP8Ab2Uzgrad13wAAAAASUVORK5CYII=');
    background-size: 22px;
}`;Td(ym);var wh=function(e){gc(t,e);function t(n){n===void 0&&(n={});var r=e.call(this)||this;return r.options={position:"topright",title:"Toggle Lasso"},nn.Util.setOptions(r,n),r}return t.prototype.setOptions=function(n){this.options=gs(gs({},this.options),n),this.lasso&&this.lasso.setOptions(this.options)},t.prototype.onAdd=function(n){this.lasso=new Lu(n,this.options);var r=nn.DomUtil.create("div","leaflet-bar leaflet-control"),i=nn.DomUtil.create("a","leaflet-control-lasso",r);return i.href="javascript:void(0)",i.title=this.options.title,i.setAttribute("role","button"),i.setAttribute("aria-label",i.title),nn.DomEvent.addListener(i,"click",this.toggle,this),nn.DomEvent.disableClickPropagation(i),r},t.prototype.enabled=function(){return this.lasso?this.lasso.enabled():!1},t.prototype.enable=function(){this.lasso&&this.lasso.enable()},t.prototype.disable=function(){this.lasso&&this.lasso.disable()},t.prototype.toggle=function(){this.lasso&&this.lasso.toggle()},t}(nn.Control);typeof window.L<"u"&&(window.L.Lasso=Lu,window.L.lasso=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(Lu.bind.apply(Lu,Tf([void 0],e,!1)))},window.L.Control.Lasso=wh,window.L.control.lasso=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(wh.bind.apply(wh,Tf([void 0],e,!1)))});let Eh=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");function Lm(e){let t,n,r=[{xmlns:"http://www.w3.org/2000/svg"},{width:e[0]},{height:e[0]},{fill:e[1]},{class:n=e[4].class},e[5],{"aria-label":e[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<r.length;o+=1)i=Pt(i,r[o]);return{c(){t=_n("svg"),this.h()},l(o){t=mn(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=ft(t);s.forEach(U),this.h()},h(){He(t,i)},m(o,s){Et(o,t,s),t.innerHTML=e[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),He(t,i=Zt(r,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&n!==(n=o[4].class)&&{class:n},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Vt,o:Vt,d(o){o&&U(t)}}}let bm='<path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>',Df='<path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>',Cm='<path d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 0 0 1.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 0 0-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 0 0 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>',wm='<path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>',Em='<path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>';function Mm(e,t,n){const r=["size","color","variation","ariaLabel"];let i=Pe(t,r),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=bm;break;case"outlined":l=Df;break;case"round":l=Cm;break;case"sharp":l=wm;break;case"two-tone":l=Em;break;default:l=Df}let{ariaLabel:p="search"}=t;return e.$$set=g=>{n(4,t=Pt(Pt({},t),Be(g))),n(5,i=Pe(t,r)),"size"in g&&n(0,o=g.size),"color"in g&&n(1,s=g.color),"variation"in g&&n(6,u=g.variation),"ariaLabel"in g&&n(2,p=g.ariaLabel)},t=Be(t),[o,s,p,l,t,i,u]}class Pm extends be{constructor(t){super(),Ce(this,t,Mm,Lm,we,{size:0,color:1,variation:6,ariaLabel:2})}}function Sm(e){const t=e-1;return t*t*t+1}function Od(e,{delay:t=0,duration:n=400,easing:r=Tg}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:o=>`opacity: ${o*i}`}}function Rf(e,{delay:t=0,duration:n=400,easing:r=Sm,x:i=0,y:o=0,opacity:s=0}={}){const u=getComputedStyle(e),l=+u.opacity,p=u.transform==="none"?"":u.transform,g=l*(1-s);return{delay:t,duration:n,easing:r,css:(c,_)=>`
			transform: ${p} translate(${(1-c)*i}px, ${(1-c)*o}px);
			opacity: ${l-g*_}`}}function Af(e,t,n){const r=e.slice();return r[9]=t[n],r}function Bf(e){let t,n,r,i=e[1],o=[];for(let s=0;s<i.length;s+=1)o[s]=zf(Af(e,i,s));return{c(){t=vt("ul");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){t=yt(s,"UL",{class:!0});var u=ft(t);for(let l=0;l<o.length;l+=1)o[l].l(u);u.forEach(U),this.h()},h(){pt(t,"class","max-h-64 overflow-auto py-2")},m(s,u){Et(s,t,u);for(let l=0;l<o.length;l+=1)o[l].m(t,null);r=!0},p(s,u){if(u&18){i=s[1];let l;for(l=0;l<i.length;l+=1){const p=Af(s,i,l);o[l]?o[l].p(p,u):(o[l]=zf(p),o[l].c(),o[l].m(t,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=i.length}},i(s){r||(Xh(()=>{n||(n=Kc(t,Rf,{y:-200,duration:2e3},!0)),n.run(1)}),r=!0)},o(s){n||(n=Kc(t,Rf,{y:-200,duration:2e3},!1)),n.run(0),r=!1},d(s){s&&U(t),Ng(o,s),s&&n&&n.end()}}}function zf(e){let t,n,r=e[9].river_name+"",i,o,s=e[9].river_code+"",u,l,p=e[9].prefecture_name+"",g,c,_,C,E;function P(){return e[6](e[9])}return{c(){t=vt("li"),n=vt("a"),i=un(r),o=un(":"),u=un(s),l=un(" ("),g=un(p),c=un(")"),_=ve(),this.h()},l(S){t=yt(S,"LI",{});var I=ft(t);n=yt(I,"A",{href:!0,class:!0});var T=ft(n);i=hn(T,r),o=hn(T,":"),u=hn(T,s),l=hn(T," ("),g=hn(T,p),c=hn(T,")"),T.forEach(U),_=ye(I),I.forEach(U),this.h()},h(){pt(n,"href","/"),pt(n,"class","block px-4 py-2 text-sm text-gray-800 hover:bg-gray-100")},m(S,I){Et(S,t,I),Ct(t,n),Ct(n,i),Ct(n,o),Ct(n,u),Ct(n,l),Ct(n,g),Ct(n,c),Ct(t,_),C||(E=qe(n,"click",P),C=!0)},p(S,I){e=S,I&2&&r!==(r=e[9].river_name+"")&&rs(i,r),I&2&&s!==(s=e[9].river_code+"")&&rs(u,s),I&2&&p!==(p=e[9].prefecture_name+"")&&rs(g,p)},d(S){S&&U(t),C=!1,E()}}}function km(e){let t,n,r,i,o,s,u,l,p,g;o=new Pm({props:{tabindex:"-1"}});let c=e[2]&&Bf(e);return{c(){t=vt("div"),n=vt("input"),r=ve(),i=vt("button"),ae(o.$$.fragment),s=ve(),u=vt("div"),c&&c.c(),this.h()},l(_){t=yt(_,"DIV",{class:!0});var C=ft(t);n=yt(C,"INPUT",{type:!0,class:!0}),r=ye(C),i=yt(C,"BUTTON",{type:!0,class:!0});var E=ft(i);de(o.$$.fragment,E),E.forEach(U),C.forEach(U),s=ye(_),u=yt(_,"DIV",{class:!0});var P=ft(u);c&&c.l(P),P.forEach(U),this.h()},h(){pt(n,"type","text"),pt(n,"class","rounded-l-sm border-0 text-sm outline outline-1 outline-gray-400"),pt(i,"type","button"),pt(i,"class","rounded-r-sm bg-indigo-500 px-2 text-white outline outline-1 outline-gray-400 hover:bg-indigo-600 focus:bg-indigo-600"),pt(t,"class","pointer-events-auto grid w-min grid-cols-[20rem,_max-content] gap-x-px shadow-md shadow-indigo-600/30 transition hover:-translate-y-px hover:shadow-lg hover:shadow-indigo-600/20"),pt(u,"class","pointer-events-auto mt-1 w-80 bg-white shadow-md shadow-indigo-600/30 transition hover:-translate-y-px hover:shadow-lg hover:shadow-indigo-600/20")},m(_,C){Et(_,t,C),Ct(t,n),pa(n,e[0]),Ct(t,r),Ct(t,i),le(o,i,null),Et(_,s,C),Et(_,u,C),c&&c.m(u,null),l=!0,p||(g=[qe(n,"input",e[5]),qe(i,"click",e[3])],p=!0)},p(_,[C]){C&1&&n.value!==_[0]&&pa(n,_[0]),_[2]?c?(c.p(_,C),C&4&&dt(c,1)):(c=Bf(_),c.c(),dt(c,1),c.m(u,null)):c&&(di(),Lt(c,1,1,()=>{c=null}),gi())},i(_){l||(dt(o.$$.fragment,_),dt(c),l=!0)},o(_){Lt(o.$$.fragment,_),Lt(c),l=!1},d(_){_&&U(t),ue(o),_&&U(s),_&&U(u),c&&c.d(),p=!1,Qt(g)}}}function Im(e,t,n){let r;gn(e,qg,c=>n(7,c));const i=Tl();let o="植田",s=[];const u=async()=>{n(2,r=!0);const c=await vo("candidates",{query:o});console.log(c),n(1,s=c.candidates)},l=async c=>{console.log(c);const _={name:c.river_name,river_code:c.river_code};i("clickedSearchRiver",{curveKey:_})};function p(){o=this.value,n(0,o)}const g=c=>l(c);return n(2,r=!1),[o,s,r,u,l,p,g]}class xm extends be{constructor(t){super(),Ce(this,t,Im,km,we,{})}}function Tm(e){let t,n,r=[{xmlns:"http://www.w3.org/2000/svg"},{width:e[0]},{height:e[0]},{fill:e[1]},{class:n=e[4].class},e[5],{"aria-label":e[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<r.length;o+=1)i=Pt(i,r[o]);return{c(){t=_n("svg"),this.h()},l(o){t=mn(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=ft(t);s.forEach(U),this.h()},h(){He(t,i)},m(o,s){Et(o,t,s),t.innerHTML=e[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),He(t,i=Zt(r,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&n!==(n=o[4].class)&&{class:n},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Vt,o:Vt,d(o){o&&U(t)}}}let Nm='<path d="M23 8c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2z"/>',Ff='<path d="M23 8c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2z"/>',Om='<path d="M23 8c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2zm0 0c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2z"/>',Dm='<path d="M23 8c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2zm0 0c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2z"/>',Rm='<path d="M23 8c0 1.1-.9 2-2 2a1.7 1.7 0 0 1-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56A1.7 1.7 0 0 1 19 8c0-1.1.9-2 2-2s2 .9 2 2z"/>';function Am(e,t,n){const r=["size","color","variation","ariaLabel"];let i=Pe(t,r),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=Nm;break;case"outlined":l=Ff;break;case"round":l=Om;break;case"sharp":l=Dm;break;case"two-tone":l=Rm;break;default:l=Ff}let{ariaLabel:p="timeline"}=t;return e.$$set=g=>{n(4,t=Pt(Pt({},t),Be(g))),n(5,i=Pe(t,r)),"size"in g&&n(0,o=g.size),"color"in g&&n(1,s=g.color),"variation"in g&&n(6,u=g.variation),"ariaLabel"in g&&n(2,p=g.ariaLabel)},t=Be(t),[o,s,p,l,t,i,u]}class Bm extends be{constructor(t){super(),Ce(this,t,Am,Tm,we,{size:0,color:1,variation:6,ariaLabel:2})}}function zm(e){let t,n,r=[{xmlns:"http://www.w3.org/2000/svg"},{width:e[0]},{height:e[0]},{fill:e[1]},{class:n=e[4].class},e[5],{"aria-label":e[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<r.length;o+=1)i=Pt(i,r[o]);return{c(){t=_n("svg"),this.h()},l(o){t=mn(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=ft(t);s.forEach(U),this.h()},h(){He(t,i)},m(o,s){Et(o,t,s),t.innerHTML=e[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),He(t,i=Zt(r,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&n!==(n=o[4].class)&&{class:n},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Vt,o:Vt,d(o){o&&U(t)}}}let Fm='<path d="M16.9 11a5 5 0 0 0-9.8 0H2v2h5.1a5 5 0 0 0 9.8 0H22v-2h-5.1zM12 15c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/>',Gf='<path d="M16.9 11a5 5 0 0 0-9.8 0H2v2h5.1a5 5 0 0 0 9.8 0H22v-2h-5.1zM12 15c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/>',Gm='<path d="M21 13c.55 0 1-.45 1-1s-.45-1-1-1h-4.1a5 5 0 0 0-9.8 0H3c-.55 0-1 .45-1 1s.45 1 1 1h4.1a5 5 0 0 0 9.8 0H21zm-9 2c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/>',Vm='<path d="M16.9 11a5 5 0 0 0-9.8 0H2v2h5.1a5 5 0 0 0 9.8 0H22v-2h-5.1zM12 15c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/>',Um='<path d="M16.9 11a5 5 0 0 0-9.8 0H2v2h5.1a5 5 0 0 0 9.8 0H22v-2h-5.1zM12 15c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/>';function Hm(e,t,n){const r=["size","color","variation","ariaLabel"];let i=Pe(t,r),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=Fm;break;case"outlined":l=Gf;break;case"round":l=Gm;break;case"sharp":l=Vm;break;case"two-tone":l=Um;break;default:l=Gf}let{ariaLabel:p="commit"}=t;return e.$$set=g=>{n(4,t=Pt(Pt({},t),Be(g))),n(5,i=Pe(t,r)),"size"in g&&n(0,o=g.size),"color"in g&&n(1,s=g.color),"variation"in g&&n(6,u=g.variation),"ariaLabel"in g&&n(2,p=g.ariaLabel)},t=Be(t),[o,s,p,l,t,i,u]}class Zm extends be{constructor(t){super(),Ce(this,t,Hm,zm,we,{size:0,color:1,variation:6,ariaLabel:2})}}function jm(e){let t,n,r=[{xmlns:"http://www.w3.org/2000/svg"},{width:e[0]},{height:e[0]},{fill:e[1]},{class:n=e[4].class},e[5],{"aria-label":e[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<r.length;o+=1)i=Pt(i,r[o]);return{c(){t=_n("svg"),this.h()},l(o){t=mn(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=ft(t);s.forEach(U),this.h()},h(){He(t,i)},m(o,s){Et(o,t,s),t.innerHTML=e[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),He(t,i=Zt(r,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&n!==(n=o[4].class)&&{class:n},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Vt,o:Vt,d(o){o&&U(t)}}}let qm='<path d="M18 8c0-3.31-2.69-6-6-6S6 4.69 6 8c0 4.5 6 11 6 11s6-6.5 6-11zm-8 0c0-1.1.9-2 2-2s2 .9 2 2a2 2 0 1 1-4 0zM5 20v2h14v-2H5z"/>',Vf='<path d="M12 4c1.93 0 5 1.4 5 5.15 0 2.16-1.72 4.67-5 7.32-3.28-2.65-5-5.17-5-7.32C7 5.4 10.07 4 12 4m0-2C8.73 2 5 4.46 5 9.15c0 3.12 2.33 6.41 7 9.85 4.67-3.44 7-6.73 7-9.85C19 4.46 15.27 2 12 2z"/><path d="M12 7c-1.1 0-2 .9-2 2s.9 2 2 2a2 2 0 1 0 0-4zM5 20h14v2H5v-2z"/>',Xm='<path d="M6 20h12c.55 0 1 .45 1 1s-.45 1-1 1H6c-.55 0-1-.45-1-1s.45-1 1-1zm6-13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-5c3.27 0 7 2.46 7 7.15 0 2.98-2.13 6.12-6.39 9.39-.36.28-.86.28-1.22 0C7.13 15.26 5 12.13 5 9.15 5 4.46 8.73 2 12 2z"/>',Ym='<path fill-rule="evenodd" d="M5 20h14v2H5v-2zm7-13c-1.1 0-2 .9-2 2s.9 2 2 2a2 2 0 1 0 0-4zm0-5c3.27 0 7 2.46 7 7.15 0 3.12-2.33 6.41-7 9.85-4.67-3.44-7-6.73-7-9.85C5 4.46 8.73 2 12 2z"/>',Wm='<path fill-opacity=".3" d="M12 3C9.19 3 6 5.11 6 9.13c0 2.68 2 5.49 6 8.44 4-2.95 6-5.77 6-8.44C18 5.11 14.81 3 12 3z"/><path d="M12 4c1.93 0 5 1.4 5 5.15 0 2.16-1.72 4.67-5 7.32-3.28-2.65-5-5.17-5-7.32C7 5.4 10.07 4 12 4m0-2C8.73 2 5 4.46 5 9.15c0 3.12 2.33 6.41 7 9.85 4.67-3.44 7-6.73 7-9.85C19 4.46 15.27 2 12 2z"/><path d="M12 7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM5 20h14v2H5v-2z"/>';function Km(e,t,n){const r=["size","color","variation","ariaLabel"];let i=Pe(t,r),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=qm;break;case"outlined":l=Vf;break;case"round":l=Xm;break;case"sharp":l=Ym;break;case"two-tone":l=Wm;break;default:l=Vf}let{ariaLabel:p="pin drop"}=t;return e.$$set=g=>{n(4,t=Pt(Pt({},t),Be(g))),n(5,i=Pe(t,r)),"size"in g&&n(0,o=g.size),"color"in g&&n(1,s=g.color),"variation"in g&&n(6,u=g.variation),"ariaLabel"in g&&n(2,p=g.ariaLabel)},t=Be(t),[o,s,p,l,t,i,u]}class Jm extends be{constructor(t){super(),Ce(this,t,Km,jm,we,{size:0,color:1,variation:6,ariaLabel:2})}}function Qm(e){let t,n,r=[{xmlns:"http://www.w3.org/2000/svg"},{width:e[0]},{height:e[0]},{fill:e[1]},{class:n=e[4].class},e[5],{"aria-label":e[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<r.length;o+=1)i=Pt(i,r[o]);return{c(){t=_n("svg"),this.h()},l(o){t=mn(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=ft(t);s.forEach(U),this.h()},h(){He(t,i)},m(o,s){Et(o,t,s),t.innerHTML=e[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),He(t,i=Zt(r,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&n!==(n=o[4].class)&&{class:n},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Vt,o:Vt,d(o){o&&U(t)}}}let $m='<path d="M12 6.5A2.5 2.5 0 0 1 14.5 9c0 .74-.33 1.39-.83 1.85l3.63 3.63c.98-1.86 1.7-3.8 1.7-5.48 0-3.87-3.13-7-7-7a7 7 0 0 0-5.04 2.15l3.19 3.19c.46-.52 1.11-.84 1.85-.84zm4.37 9.6-4.63-4.63-.11-.11L3.27 3 2 4.27l3.18 3.18C5.07 7.95 5 8.47 5 9c0 5.25 7 13 7 13s1.67-1.85 3.38-4.35L18.73 21 20 19.73l-3.63-3.63z"/>',Uf='<path d="M12 4c2.76 0 5 2.24 5 5 0 1.06-.39 2.32-1 3.62l1.49 1.49C18.37 12.36 19 10.57 19 9c0-3.87-3.13-7-7-7-1.84 0-3.5.71-4.75 1.86l1.43 1.43C9.56 4.5 10.72 4 12 4zm0 2.5c-.59 0-1.13.21-1.56.56l3.5 3.5c.35-.43.56-.97.56-1.56A2.5 2.5 0 0 0 12 6.5zM3.41 2.86 2 4.27l3.18 3.18C5.07 7.95 5 8.47 5 9c0 5.25 7 13 7 13s1.67-1.85 3.38-4.35L18.73 21l1.41-1.41L3.41 2.86zM12 18.88c-2.01-2.58-4.8-6.74-4.98-9.59l6.92 6.92c-.65.98-1.33 1.89-1.94 2.67z"/>',tv='<path d="M2.71 3.56a.996.996 0 0 0 0 1.41l2.47 2.47C5.07 7.95 5 8.47 5 9c0 4.17 4.42 9.92 6.23 12.11.4.48 1.13.48 1.53 0 .65-.78 1.62-2.01 2.61-3.46l2.65 2.65a.996.996 0 1 0 1.41-1.41L4.12 3.56a.996.996 0 0 0-1.41 0zM12 2c-1.84 0-3.5.71-4.75 1.86l3.19 3.19c.43-.34.97-.55 1.56-.55A2.5 2.5 0 0 1 14.5 9c0 .59-.21 1.13-.56 1.56l3.55 3.55C18.37 12.36 19 10.57 19 9c0-3.87-3.13-7-7-7z"/>',ev='<path d="M3.41 2.86 2 4.27l3.18 3.18C5.07 7.95 5 8.47 5 9c0 5.25 7 13 7 13s1.67-1.85 3.38-4.35L18.73 21l1.41-1.41L3.41 2.86zM12 2c-1.84 0-3.5.71-4.75 1.86l3.19 3.19c.43-.34.97-.55 1.56-.55A2.5 2.5 0 0 1 14.5 9c0 .59-.21 1.13-.56 1.56l3.55 3.55C18.37 12.36 19 10.57 19 9c0-3.87-3.13-7-7-7z"/>',nv='<path d="M17 9c0 1.06-.39 2.32-1 3.62l1.49 1.49C18.37 12.36 19 10.57 19 9c0-3.87-3.13-7-7-7-1.84 0-3.5.71-4.75 1.86l1.43 1.43C9.56 4.5 10.72 4 12 4c2.76 0 5 2.24 5 5zm-5-2.5c-.59 0-1.13.21-1.56.56l3.5 3.5c.35-.43.56-.97.56-1.56A2.5 2.5 0 0 0 12 6.5zM3.41 2.86 2 4.27l3.18 3.18C5.07 7.95 5 8.47 5 9c0 5.25 7 13 7 13s1.67-1.85 3.38-4.35L18.73 21l1.41-1.41L3.41 2.86zM12 18.88c-2.01-2.58-4.8-6.74-4.98-9.59l6.92 6.92c-.65.98-1.33 1.89-1.94 2.67z"/>';function rv(e,t,n){const r=["size","color","variation","ariaLabel"];let i=Pe(t,r),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=$m;break;case"outlined":l=Uf;break;case"round":l=tv;break;case"sharp":l=ev;break;case"two-tone":l=nv;break;default:l=Uf}let{ariaLabel:p="location off"}=t;return e.$$set=g=>{n(4,t=Pt(Pt({},t),Be(g))),n(5,i=Pe(t,r)),"size"in g&&n(0,o=g.size),"color"in g&&n(1,s=g.color),"variation"in g&&n(6,u=g.variation),"ariaLabel"in g&&n(2,p=g.ariaLabel)},t=Be(t),[o,s,p,l,t,i,u]}class iv extends be{constructor(t){super(),Ce(this,t,rv,Qm,we,{size:0,color:1,variation:6,ariaLabel:2})}}function ov(e){let t,n,r=[{xmlns:"http://www.w3.org/2000/svg"},{width:e[0]},{height:e[0]},{fill:e[1]},{class:n=e[4].class},e[5],{"aria-label":e[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<r.length;o+=1)i=Pt(i,r[o]);return{c(){t=_n("svg"),this.h()},l(o){t=mn(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=ft(t);s.forEach(U),this.h()},h(){He(t,i)},m(o,s){Et(o,t,s),t.innerHTML=e[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),He(t,i=Zt(r,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&n!==(n=o[4].class)&&{class:n},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Vt,o:Vt,d(o){o&&U(t)}}}let sv='<path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"/>',Hf='<path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"/>',av='<path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM8 17h8c.55 0 1-.45 1-1V8c0-.55-.45-1-1-1H8c-.55 0-1 .45-1 1v8c0 .55.45 1 1 1zm1-8h6v6H9V9z"/>',lv='<path d="M3 13h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zM3 17h2v-2H3v2zM9 3H7v2h2V3zM5 3H3v2h2V3zm6 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0-4h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zm4 0h2V3h-2v2zm0 16h2v-2h-2v2zM3 21h2v-2H3v2zm4-4h10V7H7v10zm2-8h6v6H9V9z"/>',uv='<path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"/>';function hv(e,t,n){const r=["size","color","variation","ariaLabel"];let i=Pe(t,r),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=sv;break;case"outlined":l=Hf;break;case"round":l=av;break;case"sharp":l=lv;break;case"two-tone":l=uv;break;default:l=Hf}let{ariaLabel:p="select all"}=t;return e.$$set=g=>{n(4,t=Pt(Pt({},t),Be(g))),n(5,i=Pe(t,r)),"size"in g&&n(0,o=g.size),"color"in g&&n(1,s=g.color),"variation"in g&&n(6,u=g.variation),"ariaLabel"in g&&n(2,p=g.ariaLabel)},t=Be(t),[o,s,p,l,t,i,u]}class cv extends be{constructor(t){super(),Ce(this,t,hv,ov,we,{size:0,color:1,variation:6,ariaLabel:2})}}function fv(e){let t,n,r=[{xmlns:"http://www.w3.org/2000/svg"},{width:e[0]},{height:e[0]},{fill:e[1]},{class:n=e[4].class},e[5],{"aria-label":e[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<r.length;o+=1)i=Pt(i,r[o]);return{c(){t=_n("svg"),this.h()},l(o){t=mn(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=ft(t);s.forEach(U),this.h()},h(){He(t,i)},m(o,s){Et(o,t,s),t.innerHTML=e[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),He(t,i=Zt(r,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&n!==(n=o[4].class)&&{class:n},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Vt,o:Vt,d(o){o&&U(t)}}}let pv='<path d="M21 12.4V7l-4-4H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7.4l8.6-8.6zM15 15c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zM6 6h9v4H6V6zm13.99 10.25 1.77 1.77L16.77 23H15v-1.77l4.99-4.98zm3.26.26-.85.85-1.77-1.77.85-.85c.2-.2.51-.2.71 0l1.06 1.06c.2.2.2.52 0 .71z"/>',Zf='<path d="M21 12.4V7l-4-4H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7.4l2-2H5V5h11.17L19 7.83v6.57l2-2zM15 15c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zM6 6h9v4H6V6zm13.99 10.25 1.77 1.77L16.77 23H15v-1.77l4.99-4.98zm3.26.26-.85.85-1.77-1.77.85-.85c.2-.2.51-.2.71 0l1.06 1.06c.2.2.2.52 0 .71z"/>',dv='<path d="m20.41 6.41-2.83-2.83c-.37-.37-.88-.58-1.41-.58H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h7.4l8.6-8.6V7.83c0-.53-.21-1.04-.59-1.42zM12 18c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-9c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1V7c0-.55.45-1 1-1h7c.55 0 1 .45 1 1v2zm4.99 7.25 1.77 1.77-4.84 4.84c-.1.09-.23.14-.36.14H15.5c-.28 0-.5-.22-.5-.5v-1.06c0-.13.05-.26.15-.35l4.84-4.84zm3.26.26-.85.85-1.77-1.77.85-.85c.2-.2.51-.2.71 0l1.06 1.06c.2.2.2.52 0 .71z"/>',gv='<path d="M21 12.4V7l-4-4H3v18h9.4l8.6-8.6zM15 15c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zM6 6h9v4H6V6zm13.99 10.25 1.77 1.77L16.77 23H15v-1.77l4.99-4.98zm3.62-.09-1.2 1.2-1.77-1.77 1.2-1.2 1.77 1.77z"/>',_v='<path d="M16.17 5H5v14h9.4l4.6-4.6V7.83L16.17 5zM12 18c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-8H6V6h9v4z" opacity=".3"/><path d="M21 12.4V7l-4-4H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7.4l2-2H5V5h11.17L19 7.83v6.57l2-2zM15 15c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zM6 6h9v4H6V6zm13.99 10.25 1.77 1.77L16.77 23H15v-1.77l4.99-4.98zm3.26.26-.85.85-1.77-1.77.85-.85c.2-.2.51-.2.71 0l1.06 1.06c.2.2.2.52 0 .71z"/>';function mv(e,t,n){const r=["size","color","variation","ariaLabel"];let i=Pe(t,r),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=pv;break;case"outlined":l=Zf;break;case"round":l=dv;break;case"sharp":l=gv;break;case"two-tone":l=_v;break;default:l=Zf}let{ariaLabel:p="save as"}=t;return e.$$set=g=>{n(4,t=Pt(Pt({},t),Be(g))),n(5,i=Pe(t,r)),"size"in g&&n(0,o=g.size),"color"in g&&n(1,s=g.color),"variation"in g&&n(6,u=g.variation),"ariaLabel"in g&&n(2,p=g.ariaLabel)},t=Be(t),[o,s,p,l,t,i,u]}class vv extends be{constructor(t){super(),Ce(this,t,mv,fv,we,{size:0,color:1,variation:6,ariaLabel:2})}}function yv(e){let t,n,r=[{xmlns:"http://www.w3.org/2000/svg"},{width:e[0]},{height:e[0]},{fill:e[1]},{class:n=e[4].class},e[5],{"aria-label":e[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<r.length;o+=1)i=Pt(i,r[o]);return{c(){t=_n("svg"),this.h()},l(o){t=mn(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=ft(t);s.forEach(U),this.h()},h(){He(t,i)},m(o,s){Et(o,t,s),t.innerHTML=e[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),He(t,i=Zt(r,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&n!==(n=o[4].class)&&{class:n},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Vt,o:Vt,d(o){o&&U(t)}}}let Lv='<path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"/>',jf='<path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"/>',bv='<path d="M7 7h10v1.79c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.79a.5.5 0 0 0-.85.36V5H6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7zm10 10H7v-1.79c0-.45-.54-.67-.85-.35l-2.79 2.79c-.2.2-.2.51 0 .71l2.79 2.79a.5.5 0 0 0 .85-.36V19h11c.55 0 1-.45 1-1v-4c0-.55-.45-1-1-1s-1 .45-1 1v3z"/>',Cv='<path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"/>',wv='<path d="M7 22v-3h12v-6h-2v4H7v-3l-4 4zM21 6l-4-4v3H5v6h2V7h10v3z"/>';function Ev(e,t,n){const r=["size","color","variation","ariaLabel"];let i=Pe(t,r),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=Lv;break;case"outlined":l=jf;break;case"round":l=bv;break;case"sharp":l=Cv;break;case"two-tone":l=wv;break;default:l=jf}let{ariaLabel:p="repeat"}=t;return e.$$set=g=>{n(4,t=Pt(Pt({},t),Be(g))),n(5,i=Pe(t,r)),"size"in g&&n(0,o=g.size),"color"in g&&n(1,s=g.color),"variation"in g&&n(6,u=g.variation),"ariaLabel"in g&&n(2,p=g.ariaLabel)},t=Be(t),[o,s,p,l,t,i,u]}class Mv extends be{constructor(t){super(),Ce(this,t,Ev,yv,we,{size:0,color:1,variation:6,ariaLabel:2})}}function Pv(e){let t,n,r=[{xmlns:"http://www.w3.org/2000/svg"},{width:e[0]},{height:e[0]},{fill:e[1]},{class:n=e[4].class},e[5],{"aria-label":e[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<r.length;o+=1)i=Pt(i,r[o]);return{c(){t=_n("svg"),this.h()},l(o){t=mn(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=ft(t);s.forEach(U),this.h()},h(){He(t,i)},m(o,s){Et(o,t,s),t.innerHTML=e[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),He(t,i=Zt(r,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&n!==(n=o[4].class)&&{class:n},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Vt,o:Vt,d(o){o&&U(t)}}}let Sv='<path d="m19.81 14.99 1.19-.92-1.43-1.43-1.19.92 1.43 1.43zm-.45-4.72L21 9l-9-7-2.91 2.27 7.87 7.88 2.4-1.88zM3.27 1 2 2.27l4.22 4.22L3 9l1.63 1.27L12 16l2.1-1.63 1.43 1.43L12 18.54l-7.37-5.73L3 14.07l9 7 4.95-3.85L20.73 21 22 19.73 3.27 1z"/>',qf='<path d="M12 4.53 17.74 9l-1.89 1.47 1.43 1.42L21 9l-9-7-2.59 2.02 1.42 1.42zm9 9.54-1.63-1.27-.67.52 1.43 1.43zM3.41.86 2 2.27l4.22 4.22L3 9l9 7 2.1-1.63 1.42 1.42-3.53 2.75-7.37-5.73L3 14.07l9 7 4.95-3.85L20.73 21l1.41-1.41L3.41.86zM12 13.47 6.26 9l1.39-1.08 5.02 5.02-.67.53z"/>',kv='<path d="M19.99 9.79c.51-.4.51-1.18 0-1.58l-6.76-5.26c-.72-.56-1.73-.56-2.46 0L9.41 4.02l7.88 7.88 2.7-2.11zm0 3.49-.01-.01a.991.991 0 0 0-1.22 0l-.05.04 1.4 1.4a.982.982 0 0 0-.12-1.43zm1.45 5.6L4.12 1.56a.996.996 0 1 0-1.41 1.41l3.52 3.52-2.22 1.72c-.51.4-.51 1.18 0 1.58l6.76 5.26c.72.56 1.73.56 2.46 0l.87-.68 1.42 1.42-2.92 2.27c-.36.28-.87.28-1.23 0l-6.15-4.78a.991.991 0 0 0-1.22 0 .997.997 0 0 0 0 1.57l6.76 5.26c.72.56 1.73.56 2.46 0l3.72-2.89 3.07 3.07c.39.39 1.02.39 1.41 0 .41-.39.41-1.02.02-1.41z"/>',Iv='<path d="m21 9-9-7-2.59 2.02 7.87 7.87zm0 5.07-1.63-1.27-.67.52 1.43 1.43zM3.41.86 2 2.27l4.22 4.22L3 9l9 7 2.1-1.63 1.42 1.42-3.53 2.75-7.37-5.73L3 14.07l9 7 4.95-3.85L20.73 21l1.41-1.41z"/>',xv='<path d="m12 13.47.67-.53-5.02-5.02L6.26 9zm0-8.94-1.17.91 5.02 5.03L17.74 9z" opacity=".3"/><path d="M12 4.53 17.74 9l-1.89 1.47 1.43 1.42L21 9l-9-7-2.59 2.02 1.42 1.42zm9 9.54-1.63-1.27-.67.52 1.43 1.43zM3.41.86 2 2.27l4.22 4.22L3 9l9 7 2.1-1.63 1.42 1.42-3.53 2.75-7.37-5.73L3 14.07l9 7 4.95-3.85L20.73 21l1.41-1.41L3.41.86zM12 13.47 6.26 9l1.39-1.08 5.02 5.02-.67.53z"/>';function Tv(e,t,n){const r=["size","color","variation","ariaLabel"];let i=Pe(t,r),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=Sv;break;case"outlined":l=qf;break;case"round":l=kv;break;case"sharp":l=Iv;break;case"two-tone":l=xv;break;default:l=qf}let{ariaLabel:p="layers clear"}=t;return e.$$set=g=>{n(4,t=Pt(Pt({},t),Be(g))),n(5,i=Pe(t,r)),"size"in g&&n(0,o=g.size),"color"in g&&n(1,s=g.color),"variation"in g&&n(6,u=g.variation),"ariaLabel"in g&&n(2,p=g.ariaLabel)},t=Be(t),[o,s,p,l,t,i,u]}class Nv extends be{constructor(t){super(),Ce(this,t,Tv,Pv,we,{size:0,color:1,variation:6,ariaLabel:2})}}function Ov(e){let t,n,r=[{xmlns:"http://www.w3.org/2000/svg"},{width:e[0]},{height:e[0]},{fill:e[1]},{class:n=e[4].class},e[5],{"aria-label":e[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<r.length;o+=1)i=Pt(i,r[o]);return{c(){t=_n("svg"),this.h()},l(o){t=mn(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=ft(t);s.forEach(U),this.h()},h(){He(t,i)},m(o,s){Et(o,t,s),t.innerHTML=e[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),He(t,i=Zt(r,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&n!==(n=o[4].class)&&{class:n},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Vt,o:Vt,d(o){o&&U(t)}}}let Dv='<path d="M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3z"/>',Xf='<path d="M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3h-3z"/>',Rv='<path d="M9.64 7.64c.29-.62.42-1.33.34-2.09-.19-1.73-1.54-3.2-3.26-3.49a4.008 4.008 0 0 0-4.66 4.65c.3 1.72 1.76 3.07 3.49 3.26.76.08 1.46-.05 2.09-.34L10 12l-2.36 2.36c-.62-.29-1.33-.42-2.09-.34-1.73.19-3.2 1.54-3.49 3.26a4.002 4.002 0 0 0 4.65 4.65c1.72-.3 3.07-1.76 3.26-3.49.08-.76-.05-1.46-.34-2.09L12 14l7.59 7.59c.89.89 2.41.26 2.41-1v-.01c0-.37-.15-.73-.41-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zm7.59-10.09L13 9l2 2 6.59-6.59c.26-.26.41-.62.41-1V3.4c0-1.25-1.52-1.88-2.41-.99z"/>',Av='<path d="M9.64 7.64c.23-.5.36-1.05.36-1.64 0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-7.5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5.5.22.5.5-.22.5-.5.5zM19 3l-6 6 2 2 7-7V3h-3z"/>',Bv='<path d="m19 3-6 6 2 2 7-7V3zm-9 3c0-2.21-1.79-4-4-4S2 3.79 2 6s1.79 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1L9.64 7.64c.23-.5.36-1.05.36-1.64zM6 8c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm0 12c-1.1 0-2-.89-2-2s.9-2 2-2 2 .89 2 2-.9 2-2 2zm6-8.5c.28 0 .5.22.5.5s-.22.5-.5.5-.5-.22-.5-.5.22-.5.5-.5z"/>';function zv(e,t,n){const r=["size","color","variation","ariaLabel"];let i=Pe(t,r),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=Dv;break;case"outlined":l=Xf;break;case"round":l=Rv;break;case"sharp":l=Av;break;case"two-tone":l=Bv;break;default:l=Xf}let{ariaLabel:p="content cut"}=t;return e.$$set=g=>{n(4,t=Pt(Pt({},t),Be(g))),n(5,i=Pe(t,r)),"size"in g&&n(0,o=g.size),"color"in g&&n(1,s=g.color),"variation"in g&&n(6,u=g.variation),"ariaLabel"in g&&n(2,p=g.ariaLabel)},t=Be(t),[o,s,p,l,t,i,u]}class Fv extends be{constructor(t){super(),Ce(this,t,zv,Ov,we,{size:0,color:1,variation:6,ariaLabel:2})}}function Gv(e){let t,n,r=[{xmlns:"http://www.w3.org/2000/svg"},{width:e[0]},{height:e[0]},{fill:e[1]},{class:n=e[4].class},e[5],{"aria-label":e[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<r.length;o+=1)i=Pt(i,r[o]);return{c(){t=_n("svg"),this.h()},l(o){t=mn(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=ft(t);s.forEach(U),this.h()},h(){He(t,i)},m(o,s){Et(o,t,s),t.innerHTML=e[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),He(t,i=Zt(r,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&n!==(n=o[4].class)&&{class:n},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Vt,o:Vt,d(o){o&&U(t)}}}let Vv='<path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3 5 6.99h3V14h2V6.99h3L9 3z"/>',Yf='<path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3 5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3 5 6.99h3V14h2V6.99h3L9 3z"/>',Uv='<path d="M16 17.01V11c0-.55-.45-1-1-1s-1 .45-1 1v6.01h-1.79c-.45 0-.67.54-.35.85l2.79 2.78c.2.19.51.19.71 0l2.79-2.78c.32-.31.09-.85-.35-.85H16zM8.65 3.35 5.86 6.14c-.32.31-.1.85.35.85H8V13c0 .55.45 1 1 1s1-.45 1-1V6.99h1.79c.45 0 .67-.54.35-.85L9.35 3.35a.501.501 0 0 0-.7 0z"/>',Hv='<path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3 5 6.99h3V14h2V6.99h3L9 3z"/>',Zv='<path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3 5 6.99h3V14h2V6.99h3L9 3z"/>';function jv(e,t,n){const r=["size","color","variation","ariaLabel"];let i=Pe(t,r),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=Vv;break;case"outlined":l=Yf;break;case"round":l=Uv;break;case"sharp":l=Hv;break;case"two-tone":l=Zv;break;default:l=Yf}let{ariaLabel:p="swap vert"}=t;return e.$$set=g=>{n(4,t=Pt(Pt({},t),Be(g))),n(5,i=Pe(t,r)),"size"in g&&n(0,o=g.size),"color"in g&&n(1,s=g.color),"variation"in g&&n(6,u=g.variation),"ariaLabel"in g&&n(2,p=g.ariaLabel)},t=Be(t),[o,s,p,l,t,i,u]}class qv extends be{constructor(t){super(),Ce(this,t,jv,Gv,we,{size:0,color:1,variation:6,ariaLabel:2})}}function Xv(e){let t,n,r=[{xmlns:"http://www.w3.org/2000/svg"},{width:e[0]},{height:e[0]},{fill:e[1]},{class:n=e[4].class},e[5],{"aria-label":e[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<r.length;o+=1)i=Pt(i,r[o]);return{c(){t=_n("svg"),this.h()},l(o){t=mn(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=ft(t);s.forEach(U),this.h()},h(){He(t,i)},m(o,s){Et(o,t,s),t.innerHTML=e[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),He(t,i=Zt(r,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&n!==(n=o[4].class)&&{class:n},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Vt,o:Vt,d(o){o&&U(t)}}}let Yv='<path d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/>',Wf='<path d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/>',Wv='<path d="m9 16.2-3.5-3.5a.984.984 0 0 0-1.4 0 .984.984 0 0 0 0 1.4l4.19 4.19c.39.39 1.02.39 1.41 0L20.3 7.7a.984.984 0 0 0 0-1.4.984.984 0 0 0-1.4 0L9 16.2z"/>',Kv='<path d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/>',Jv='<path d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/>';function Qv(e,t,n){const r=["size","color","variation","ariaLabel"];let i=Pe(t,r),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=Yv;break;case"outlined":l=Wf;break;case"round":l=Wv;break;case"sharp":l=Kv;break;case"two-tone":l=Jv;break;default:l=Wf}let{ariaLabel:p="done"}=t;return e.$$set=g=>{n(4,t=Pt(Pt({},t),Be(g))),n(5,i=Pe(t,r)),"size"in g&&n(0,o=g.size),"color"in g&&n(1,s=g.color),"variation"in g&&n(6,u=g.variation),"ariaLabel"in g&&n(2,p=g.ariaLabel)},t=Be(t),[o,s,p,l,t,i,u]}class $v extends be{constructor(t){super(),Ce(this,t,Qv,Xv,we,{size:0,color:1,variation:6,ariaLabel:2})}}function ty(e){let t,n,r=[{xmlns:"http://www.w3.org/2000/svg"},{width:e[0]},{height:e[0]},{fill:e[1]},{class:n=e[4].class},e[5],{"aria-label":e[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<r.length;o+=1)i=Pt(i,r[o]);return{c(){t=_n("svg"),this.h()},l(o){t=mn(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=ft(t);s.forEach(U),this.h()},h(){He(t,i)},m(o,s){Et(o,t,s),t.innerHTML=e[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),He(t,i=Zt(r,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&n!==(n=o[4].class)&&{class:n},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Vt,o:Vt,d(o){o&&U(t)}}}let ey='<path d="M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2v2zm4 2h-2v-2h2v2zM19 5V3h2v2h-2zm-5.27 9h-3.49l-.73 2H7.89l3.4-9h1.4l3.41 9h-1.63l-.74-2zm-3.04-1.26h2.61L12 8.91l-1.31 3.83z"/>',Kf='<path d="M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2v2zm4 2h-2v-2h2v2zM19 5V3h2v2h-2zm-5.27 9h-3.49l-.73 2H7.89l3.4-9h1.4l3.41 9h-1.63l-.74-2zm-3.04-1.26h2.61L12 8.91l-1.31 3.83z"/>',ny='<path d="M23 6V2c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v1H7V2c0-.55-.45-1-1-1H2c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h1v10H2c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1h10v1c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-4c0-.55-.45-1-1-1h-1V7h1c.55 0 1-.45 1-1zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-1c0-.55-.45-1-1-1H5V7h1c.55 0 1-.45 1-1V5h10v1c0 .55.45 1 1 1h1v10h-1c-.55 0-1 .45-1 1v1zm4 2h-2v-2h2v2zM19 5V3h2v2h-2zm-6.06 2.65a1.02 1.02 0 0 0-.95-.65c-.42 0-.8.26-.94.65l-2.77 7.33c-.19.49.17 1.02.7 1.02.32 0 .6-.2.71-.5l.55-1.5h3.49l.56 1.51c.11.29.39.49.71.49h.01c.53 0 .89-.53.71-1.02l-2.78-7.33zm-2.25 5.09L12 8.91l1.3 3.83h-2.61z"/>',ry='<path d="M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2v2zm4 2h-2v-2h2v2zM19 5V3h2v2h-2zm-5.27 9h-3.49l-.73 2H7.89l3.4-9h1.4l3.41 9h-1.63l-.74-2zm-3.04-1.26h2.61L12 8.91l-1.31 3.83z"/>',iy='<path d="M3 3h2v2H3zm16 16h2v2h-2zm0-16h2v2h-2zM3 19h2v2H3z" opacity=".3"/><path d="m11.29 7-3.4 9h1.62l.73-2h3.49l.74 2h1.63l-3.41-9h-1.4zm-.6 5.74L12 8.91l1.3 3.83h-2.61zM17 3H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2V1h-6v2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm16 0h-2v-2h2v2zM19 3h2v2h-2V3zm0 14h-2v2H7v-2H5V7h2V5h10v2h2v10z"/>';function oy(e,t,n){const r=["size","color","variation","ariaLabel"];let i=Pe(t,r),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=ey;break;case"outlined":l=Kf;break;case"round":l=ny;break;case"sharp":l=ry;break;case"two-tone":l=iy;break;default:l=Kf}let{ariaLabel:p="format shapes"}=t;return e.$$set=g=>{n(4,t=Pt(Pt({},t),Be(g))),n(5,i=Pe(t,r)),"size"in g&&n(0,o=g.size),"color"in g&&n(1,s=g.color),"variation"in g&&n(6,u=g.variation),"ariaLabel"in g&&n(2,p=g.ariaLabel)},t=Be(t),[o,s,p,l,t,i,u]}class sy extends be{constructor(t){super(),Ce(this,t,oy,ty,we,{size:0,color:1,variation:6,ariaLabel:2})}}function ay(e){let t,n,r=[{xmlns:"http://www.w3.org/2000/svg"},{width:e[0]},{height:e[0]},{fill:e[1]},{class:n=e[4].class},e[5],{"aria-label":e[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<r.length;o+=1)i=Pt(i,r[o]);return{c(){t=_n("svg"),this.h()},l(o){t=mn(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=ft(t);s.forEach(U),this.h()},h(){He(t,i)},m(o,s){Et(o,t,s),t.innerHTML=e[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),He(t,i=Zt(r,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&n!==(n=o[4].class)&&{class:n},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Vt,o:Vt,d(o){o&&U(t)}}}let ly='<path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>',Jf='<path d="M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5 5-5z"/>',uy='<path d="M16.59 9H15V4c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v5H7.41c-.89 0-1.34 1.08-.71 1.71l4.59 4.59c.39.39 1.02.39 1.41 0l4.59-4.59c.63-.63.19-1.71-.7-1.71zM5 19c0 .55.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1z"/>',hy='<path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>',cy='<path d="M14.17 11H13V5h-2v6H9.83L12 13.17z" opacity=".3"/><path d="M5 18h14v2H5zm14-9h-4V3H9v6H5l7 7 7-7zm-8 2V5h2v6h1.17L12 13.17 9.83 11H11z"/>';function fy(e,t,n){const r=["size","color","variation","ariaLabel"];let i=Pe(t,r),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=ly;break;case"outlined":l=Jf;break;case"round":l=uy;break;case"sharp":l=hy;break;case"two-tone":l=cy;break;default:l=Jf}let{ariaLabel:p="file download"}=t;return e.$$set=g=>{n(4,t=Pt(Pt({},t),Be(g))),n(5,i=Pe(t,r)),"size"in g&&n(0,o=g.size),"color"in g&&n(1,s=g.color),"variation"in g&&n(6,u=g.variation),"ariaLabel"in g&&n(2,p=g.ariaLabel)},t=Be(t),[o,s,p,l,t,i,u]}class py extends be{constructor(t){super(),Ce(this,t,fy,ay,we,{size:0,color:1,variation:6,ariaLabel:2})}}function Qf(e){let t,n,r,i,o;return n=new Mv({props:{tabindex:"-1",class:"outline-none"}}),{c(){t=vt("button"),ae(n.$$.fragment),this.h()},l(s){t=yt(s,"BUTTON",{class:!0,type:!0});var u=ft(t);de(n.$$.fragment,u),u.forEach(U),this.h()},h(){pt(t,"class","btn svelte-1fo0nmr"),pt(t,"type","button"),_i(t,"!bg-red-200",e[6])},m(s,u){Et(s,t,u),le(n,t,null),r=!0,i||(o=qe(t,"click",e[23]),i=!0)},p(s,u){(!r||u&64)&&_i(t,"!bg-red-200",s[6])},i(s){r||(dt(n.$$.fragment,s),r=!0)},o(s){Lt(n.$$.fragment,s),r=!1},d(s){s&&U(t),ue(n),i=!1,o()}}}function $f(e){let t,n,r,i,o;return n=new iv({props:{tabindex:"-1",class:"outline-none",variation:"filled"}}),{c(){t=vt("button"),ae(n.$$.fragment),this.h()},l(s){t=yt(s,"BUTTON",{class:!0,type:!0});var u=ft(t);de(n.$$.fragment,u),u.forEach(U),this.h()},h(){pt(t,"class","btn svelte-1fo0nmr"),pt(t,"type","button")},m(s,u){Et(s,t,u),le(n,t,null),r=!0,i||(o=qe(t,"click",e[11]),i=!0)},p:Vt,i(s){r||(dt(n.$$.fragment,s),r=!0)},o(s){Lt(n.$$.fragment,s),r=!1},d(s){s&&U(t),ue(n),i=!1,o()}}}function tp(e){let t,n,r,i,o,s,u,l,p,g,c,_,C,E,P,S;r=new cv({props:{class:"outline-none",tabindex:"-1"}});let I=e[3]&&ep(e);return u=new qv({props:{tabindex:"-1"}}),g=new Fv({props:{class:"outline-none",tabindex:"-1"}}),C=new sy({props:{class:"outline-none",tabindex:"-1"}}),{c(){t=vt("div"),n=vt("button"),ae(r.$$.fragment),i=ve(),I&&I.c(),o=ve(),s=vt("button"),ae(u.$$.fragment),l=ve(),p=vt("button"),ae(g.$$.fragment),c=ve(),_=vt("button"),ae(C.$$.fragment),this.h()},l(T){t=yt(T,"DIV",{class:!0});var N=ft(t);n=yt(N,"BUTTON",{class:!0,type:!0});var x=ft(n);de(r.$$.fragment,x),x.forEach(U),i=ye(N),I&&I.l(N),N.forEach(U),o=ye(T),s=yt(T,"BUTTON",{class:!0,type:!0});var R=ft(s);de(u.$$.fragment,R),R.forEach(U),l=ye(T),p=yt(T,"BUTTON",{class:!0,type:!0});var B=ft(p);de(g.$$.fragment,B),B.forEach(U),c=ye(T),_=yt(T,"BUTTON",{class:!0,type:!0});var Y=ft(_);de(C.$$.fragment,Y),Y.forEach(U),this.h()},h(){pt(n,"class","btn mb-1 svelte-1fo0nmr"),pt(n,"type","button"),_i(n,"!bg-indigo-200",e[3]),pt(t,"class","flex flex-col"),pt(s,"class","btn svelte-1fo0nmr"),pt(s,"type","button"),pt(p,"class","btn svelte-1fo0nmr"),pt(p,"type","button"),pt(_,"class","btn svelte-1fo0nmr"),pt(_,"type","button"),_i(_,"!bg-indigo-200",e[8])},m(T,N){Et(T,t,N),Ct(t,n),le(r,n,null),Ct(t,i),I&&I.m(t,null),Et(T,o,N),Et(T,s,N),le(u,s,null),Et(T,l,N),Et(T,p,N),le(g,p,null),Et(T,c,N),Et(T,_,N),le(C,_,null),E=!0,P||(S=[qe(n,"click",e[13]),qe(s,"click",e[17]),qe(p,"click",e[12]),qe(_,"click",e[18])],P=!0)},p(T,N){(!E||N&8)&&_i(n,"!bg-indigo-200",T[3]),T[3]?I?(I.p(T,N),N&8&&dt(I,1)):(I=ep(T),I.c(),dt(I,1),I.m(t,null)):I&&(di(),Lt(I,1,1,()=>{I=null}),gi()),(!E||N&256)&&_i(_,"!bg-indigo-200",T[8])},i(T){E||(dt(r.$$.fragment,T),dt(I),dt(u.$$.fragment,T),dt(g.$$.fragment,T),dt(C.$$.fragment,T),E=!0)},o(T){Lt(r.$$.fragment,T),Lt(I),Lt(u.$$.fragment,T),Lt(g.$$.fragment,T),Lt(C.$$.fragment,T),E=!1},d(T){T&&U(t),ue(r),I&&I.d(),T&&U(o),T&&U(s),ue(u),T&&U(l),T&&U(p),ue(g),T&&U(c),T&&U(_),ue(C),P=!1,Qt(S)}}}function ep(e){let t,n,r,i,o,s,u,l,p,g,c,_,C;return g=new $v({props:{tabindex:"-1"}}),{c(){t=vt("div"),n=vt("div"),r=vt("div"),i=vt("input"),o=ve(),s=vt("button"),u=un("m"),l=ve(),p=vt("button"),ae(g.$$.fragment),this.h()},l(E){t=yt(E,"DIV",{class:!0});var P=ft(t);n=yt(P,"DIV",{class:!0});var S=ft(n);r=yt(S,"DIV",{class:!0});var I=ft(r);i=yt(I,"INPUT",{class:!0,type:!0}),o=ye(I),s=yt(I,"BUTTON",{type:!0,class:!0});var T=ft(s);u=hn(T,"m"),T.forEach(U),I.forEach(U),l=ye(S),p=yt(S,"BUTTON",{class:!0,type:!0});var N=ft(p);de(g.$$.fragment,N),N.forEach(U),S.forEach(U),P.forEach(U),this.h()},h(){pt(i,"class","pointer-events-auto w-16 rounded-l-sm border-0 py-1 px-2 outline outline-1 outline-gray-400"),pt(i,"type","number"),pt(s,"type","button"),pt(s,"class","pointer-events-auto rounded-r-sm bg-indigo-500 px-2 text-white outline outline-1 outline-gray-400 hover:bg-indigo-600 focus:bg-indigo-600"),pt(r,"class","mb-1 grid w-min grid-cols-[4rem,_max-content] gap-x-px shadow-md shadow-indigo-600/30 transition hover:-translate-y-px hover:shadow-lg hover:shadow-indigo-600/20"),pt(p,"class","btn pointer-events-auto svelte-1fo0nmr"),pt(p,"type","button"),pt(n,"class","absolute flex flex-col"),pt(t,"class","relatvie pointer-events-none")},m(E,P){Et(E,t,P),Ct(t,n),Ct(n,r),Ct(r,i),pa(i,e[0]),Ct(r,o),Ct(r,s),Ct(s,u),Ct(n,l),Ct(n,p),le(g,p,null),c=!0,_||(C=[qe(i,"input",e[24]),qe(s,"click",e[14]),qe(p,"click",e[15])],_=!0)},p(E,P){P&1&&Np(i.value)!==E[0]&&pa(i,E[0])},i(E){c||(dt(g.$$.fragment,E),c=!0)},o(E){Lt(g.$$.fragment,E),c=!1},d(E){E&&U(t),ue(g),_=!1,Qt(C)}}}function np(e){let t,n,r,i,o,s,u,l,p,g,c,_,C,E,P,S,I;r=new vv({props:{class:"outline-none",tabindex:"-1"}});let T=e[9]&&rp(e);return u=new Nv({props:{class:"outline-none",tabindex:"-1"}}),{c(){t=vt("div"),n=vt("button"),ae(r.$$.fragment),i=ve(),T&&T.c(),o=ve(),s=vt("button"),ae(u.$$.fragment),l=ve(),p=vt("button"),g=_n("svg"),c=_n("g"),_=_n("g"),C=_n("g"),E=_n("path"),this.h()},l(N){t=yt(N,"DIV",{class:!0});var x=ft(t);n=yt(x,"BUTTON",{class:!0,type:!0});var R=ft(n);de(r.$$.fragment,R),R.forEach(U),i=ye(x),T&&T.l(x),x.forEach(U),o=ye(N),s=yt(N,"BUTTON",{class:!0,type:!0});var B=ft(s);de(u.$$.fragment,B),B.forEach(U),l=ye(N),p=yt(N,"BUTTON",{class:!0,type:!0});var Y=ft(p);g=mn(Y,"svg",{xmlns:!0,x:!0,y:!0,width:!0,height:!0,viewBox:!0,style:!0});var Q=ft(g);c=mn(Q,"g",{transform:!0});var rt=ft(c);_=mn(rt,"g",{fill:!0,"fill-rule":!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-miterlimit":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"font-family":!0,"font-weight":!0,"font-size":!0,"text-anchor":!0,style:!0});var ct=ft(_);C=mn(ct,"g",{transform:!0});var X=ft(C);E=mn(X,"path",{d:!0}),ft(E).forEach(U),X.forEach(U),ct.forEach(U),rt.forEach(U),Q.forEach(U),Y.forEach(U),this.h()},h(){pt(n,"class","btn mb-1 svelte-1fo0nmr"),pt(n,"type","button"),_i(n,"!bg-indigo-200",e[9]),pt(t,"class","flex flex-col"),pt(s,"class","btn !bg-red-200 svelte-1fo0nmr"),pt(s,"type","button"),pt(E,"d","M7,2.01563l13.16016,12.32813l-5.375,0.48438l-0.97656,0.08984l0.40625,0.89453l3.26172,7.14453l-2.40625,1.05859l-3.11328,-7.22266l-0.39062,-0.91016l-0.72266,0.67969l-3.81641,3.58203l-0.02734,-18.12891M7,0.01563c-0.26953,0 -0.53906,0.05078 -0.79687,0.16406c-0.73047,0.31641 -1.20312,1.03906 -1.20312,1.83594l0.02734,18.12891c0,0.79688 0.47656,1.51563 1.20313,1.83203c0.25781,0.10938 0.52734,0.16406 0.79297,0.16406c0.5,0 0.99219,-0.1875 1.37109,-0.53906l2.46094,-2.3125l2.37891,5.51563c0.21094,0.49219 0.60938,0.875 1.10547,1.07031c0.23438,0.09375 0.48047,0.14063 0.73047,0.14063c0.27344,0 0.54688,-0.05859 0.80469,-0.17187l2.40625,-1.05859c0.48828,-0.21484 0.875,-0.61719 1.0625,-1.11719c0.19141,-0.5 0.17578,-1.05469 -0.04687,-1.54297l-2.5,-5.46875l3.54297,-0.32422c0.78516,-0.07031 1.45703,-0.59375 1.71094,-1.33984c0.25781,-0.74609 0.05078,-1.57031 -0.52344,-2.10937l-13.16016,-12.32812c-0.37891,-0.35547 -0.87109,-0.53906 -1.36719,-0.53906z"),pt(C,"transform","scale(9.84615,9.84615)"),pt(_,"fill","#000000"),pt(_,"fill-rule","nonzero"),pt(_,"stroke","none"),pt(_,"stroke-width","1"),pt(_,"stroke-linecap","butt"),pt(_,"stroke-linejoin","miter"),pt(_,"stroke-miterlimit","10"),pt(_,"stroke-dasharray",""),pt(_,"stroke-dashoffset","0"),pt(_,"font-family","none"),pt(_,"font-weight","none"),pt(_,"font-size","none"),pt(_,"text-anchor","none"),da(_,"mix-blend-mode","normal"),pt(c,"transform","translate(19.69231,19.69231) scale(0.84615,0.84615)"),pt(g,"xmlns","http://www.w3.org/2000/svg"),pt(g,"x","0px"),pt(g,"y","0px"),pt(g,"width","24"),pt(g,"height","24"),pt(g,"viewBox","0,0,256,256"),da(g,"fill","#000000"),pt(p,"class","btn svelte-1fo0nmr"),pt(p,"type","button")},m(N,x){Et(N,t,x),Ct(t,n),le(r,n,null),Ct(t,i),T&&T.m(t,null),Et(N,o,x),Et(N,s,x),le(u,s,null),Et(N,l,x),Et(N,p,x),Ct(p,g),Ct(g,c),Ct(c,_),Ct(_,C),Ct(C,E),P=!0,S||(I=[qe(n,"click",e[25]),qe(s,"click",e[16]),qe(p,"click",e[12])],S=!0)},p(N,x){(!P||x&512)&&_i(n,"!bg-indigo-200",N[9]),N[9]?T?(T.p(N,x),x&512&&dt(T,1)):(T=rp(N),T.c(),dt(T,1),T.m(t,null)):T&&(di(),Lt(T,1,1,()=>{T=null}),gi())},i(N){P||(dt(r.$$.fragment,N),dt(T),dt(u.$$.fragment,N),P=!0)},o(N){Lt(r.$$.fragment,N),Lt(T),Lt(u.$$.fragment,N),P=!1},d(N){N&&U(t),ue(r),T&&T.d(),N&&U(o),N&&U(s),ue(u),N&&U(l),N&&U(p),S=!1,Qt(I)}}}function rp(e){let t,n,r,i,o,s,u,l,p,g,c,_,C;return g=new py({props:{tabindex:"-1"}}),{c(){t=vt("div"),n=vt("div"),r=vt("div"),i=vt("div"),o=un("file name"),s=ve(),u=vt("input"),l=ve(),p=vt("button"),ae(g.$$.fragment),this.h()},l(E){t=yt(E,"DIV",{class:!0});var P=ft(t);n=yt(P,"DIV",{class:!0});var S=ft(n);r=yt(S,"DIV",{class:!0});var I=ft(r);i=yt(I,"DIV",{class:!0});var T=ft(i);o=hn(T,"file name"),T.forEach(U),s=ye(I),u=yt(I,"INPUT",{class:!0,type:!0,placeholder:!0}),I.forEach(U),l=ye(S),p=yt(S,"BUTTON",{class:!0,type:!0});var N=ft(p);de(g.$$.fragment,N),N.forEach(U),S.forEach(U),P.forEach(U),this.h()},h(){pt(i,"class","flex items-center rounded-r-sm bg-gray-200 px-2 text-gray-700 outline outline-1 outline-gray-400"),pt(u,"class","pointer-events-auto w-full rounded-l-sm border-0 py-1 px-2 text-sm outline outline-1 outline-gray-400"),pt(u,"type","text"),pt(u,"placeholder","export_file"),pt(r,"class","mb-1 grid w-min grid-cols-[max-content,_6rem] gap-x-px shadow-md shadow-indigo-600/30 transition hover:-translate-y-px hover:shadow-lg hover:shadow-indigo-600/20"),pt(p,"class","btn pointer-events-auto svelte-1fo0nmr"),pt(p,"type","button"),pt(n,"class","absolute flex flex-col"),pt(t,"class","relatvie pointer-events-none")},m(E,P){Et(E,t,P),Ct(t,n),Ct(n,r),Ct(r,i),Ct(i,o),Ct(r,s),Ct(r,u),pa(u,e[1]),Ct(n,l),Ct(n,p),le(g,p,null),c=!0,_||(C=[qe(u,"input",e[26]),qe(p,"click",e[19])],_=!0)},p(E,P){P&2&&u.value!==E[1]&&pa(u,E[1])},i(E){c||(dt(g.$$.fragment,E),c=!0)},o(E){Lt(g.$$.fragment,E),c=!1},d(E){E&&U(t),ue(g),_=!1,Qt(C)}}}function dy(e){let t,n,r,i,o,s,u,l,p,g,c,_,C,E,P,S,I,T;r=new Bm({props:{tabindex:"-1",class:"outline-none"}}),u=new Zm({props:{tabindex:"-1",class:"outline-none"}});let N=e[5]&&Qf(e);_=new Jm({props:{tabindex:"-1",class:"outline-none",variation:"filled"}});let x=e[2]&&$f(e),R=e[7].size===1&&tp(e),B=e[7].size>0&&np(e);return{c(){t=vt("div"),n=vt("button"),ae(r.$$.fragment),i=ve(),o=vt("div"),s=vt("button"),ae(u.$$.fragment),l=ve(),N&&N.c(),p=ve(),g=vt("div"),c=vt("button"),ae(_.$$.fragment),C=ve(),x&&x.c(),E=ve(),R&&R.c(),P=ve(),B&&B.c(),this.h()},l(Y){t=yt(Y,"DIV",{class:!0});var Q=ft(t);n=yt(Q,"BUTTON",{class:!0,type:!0});var rt=ft(n);de(r.$$.fragment,rt),rt.forEach(U),i=ye(Q),o=yt(Q,"DIV",{class:!0});var ct=ft(o);s=yt(ct,"BUTTON",{class:!0,type:!0});var X=ft(s);de(u.$$.fragment,X),X.forEach(U),l=ye(ct),N&&N.l(ct),ct.forEach(U),p=ye(Q),g=yt(Q,"DIV",{class:!0});var J=ft(g);c=yt(J,"BUTTON",{class:!0,type:!0});var at=ft(c);de(_.$$.fragment,at),at.forEach(U),C=ye(J),x&&x.l(J),J.forEach(U),E=ye(Q),R&&R.l(Q),P=ye(Q),B&&B.l(Q),Q.forEach(U),this.h()},h(){pt(n,"class","btn svelte-1fo0nmr"),pt(n,"type","button"),_i(n,"!bg-red-200",e[4]),pt(s,"class","btn mb-1 svelte-1fo0nmr"),pt(s,"type","button"),_i(s,"!bg-indigo-200",e[5]),pt(o,"class","flex flex-col"),pt(c,"class","btn mb-1 svelte-1fo0nmr"),pt(c,"type","button"),pt(g,"class","flex flex-col"),pt(t,"class","pointer-events-auto col-span-2 flex w-max items-start gap-x-2")},m(Y,Q){Et(Y,t,Q),Ct(t,n),le(r,n,null),Ct(t,i),Ct(t,o),Ct(o,s),le(u,s,null),Ct(o,l),N&&N.m(o,null),Ct(t,p),Ct(t,g),Ct(g,c),le(_,c,null),Ct(g,C),x&&x.m(g,null),Ct(t,E),R&&R.m(t,null),Ct(t,P),B&&B.m(t,null),S=!0,I||(T=[qe(n,"click",e[21]),qe(s,"click",e[22]),qe(c,"click",e[10])],I=!0)},p(Y,[Q]){(!S||Q&16)&&_i(n,"!bg-red-200",Y[4]),(!S||Q&32)&&_i(s,"!bg-indigo-200",Y[5]),Y[5]?N?(N.p(Y,Q),Q&32&&dt(N,1)):(N=Qf(Y),N.c(),dt(N,1),N.m(o,null)):N&&(di(),Lt(N,1,1,()=>{N=null}),gi()),Y[2]?x?(x.p(Y,Q),Q&4&&dt(x,1)):(x=$f(Y),x.c(),dt(x,1),x.m(g,null)):x&&(di(),Lt(x,1,1,()=>{x=null}),gi()),Y[7].size===1?R?(R.p(Y,Q),Q&128&&dt(R,1)):(R=tp(Y),R.c(),dt(R,1),R.m(t,P)):R&&(di(),Lt(R,1,1,()=>{R=null}),gi()),Y[7].size>0?B?(B.p(Y,Q),Q&128&&dt(B,1)):(B=np(Y),B.c(),dt(B,1),B.m(t,null)):B&&(di(),Lt(B,1,1,()=>{B=null}),gi())},i(Y){S||(dt(r.$$.fragment,Y),dt(u.$$.fragment,Y),dt(N),dt(_.$$.fragment,Y),dt(x),dt(R),dt(B),S=!0)},o(Y){Lt(r.$$.fragment,Y),Lt(u.$$.fragment,Y),Lt(N),Lt(_.$$.fragment,Y),Lt(x),Lt(R),Lt(B),S=!1},d(Y){Y&&U(t),ue(r),ue(u),N&&N.d(),ue(_),x&&x.d(),R&&R.d(),B&&B.d(),I=!1,Qt(T)}}}function gy(e,t,n){let r,i,o,s,u,l,p,g,c;gn(e,pl,ot=>n(3,i=ot)),gn(e,du,ot=>n(20,o=ot)),gn(e,Cu,ot=>n(4,s=ot)),gn(e,fl,ot=>n(5,u=ot)),gn(e,Ih,ot=>n(6,l=ot)),gn(e,Ts,ot=>n(7,p=ot)),gn(e,wu,ot=>n(8,g=ot)),gn(e,tf,ot=>n(9,c=ot));const _=Tl();let C=100,E="export";async function P(){_("clickedPin",{})}function S(){_("clickedOffPin",{})}function I(){Ts.reset()}function T(){if(i){No(pl,i=!1,i);return}n(0,C=100),_("createZoneEvent",{})}function N(){_("extendZoneEvent",{extend:C})}function x(){_("fixedZoneEvent",{})}function R(){_("clickedRemoveSegment",{})}function B(){_("clickedSwapStartEnd",{})}function Y(){_("clickedEditZone",{})}function Q(){_("clickedExportSegments",{fileName:E})}const rt=()=>{No(Cu,s=!s,s)},ct=()=>{No(fl,u=!u,u)},X=()=>{No(Ih,l=!l,l)};function J(){C=Np(this.value),n(0,C)}const at=()=>{No(tf,c=!c,c)};function it(){E=this.value,n(1,E)}return e.$$.update=()=>{e.$$.dirty&1048576&&n(2,r=o.length>0)},[C,E,r,i,s,u,l,p,g,c,P,S,I,T,N,x,R,B,Y,Q,o,rt,ct,X,J,at,it]}class _y extends be{constructor(t){super(),Ce(this,t,gy,dy,we,{})}}console.log("map2 script module");var Uh={},my={get exports(){return Uh},set exports(e){Uh=e}};(function(e,t){(function(n,r){r(t)})(Bp,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(o){L.Util.setOptions(this,o),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var s=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,s?this._withAnimation:this._noAnimation),this._markerCluster=s?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(o){if(o instanceof L.LayerGroup)return this.addLayers([o]);if(!o.getLatLng)return this._nonPointGroup.addLayer(o),this.fire("layeradd",{layer:o}),this;if(!this._map)return this._needsClustering.push(o),this.fire("layeradd",{layer:o}),this;if(this.hasLayer(o))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(o,this._maxZoom),this.fire("layeradd",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var s=o,u=this._zoom;if(o.__parent)for(;s.__parent._zoom>=u;)s=s.__parent;return this._currentShownBounds.contains(s.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(o,s):this._animationAddLayerNonAnimated(o,s)),this},removeLayer:function(o){return o instanceof L.LayerGroup?this.removeLayers([o]):o.getLatLng?this._map?o.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(o)),this._removeLayer(o,!0),this.fire("layerremove",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),o.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(o)&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,o)&&this.hasLayer(o)&&this._needsRemoving.push({layer:o,latlng:o._latlng}),this.fire("layerremove",{layer:o}),this):(this._nonPointGroup.removeLayer(o),this.fire("layerremove",{layer:o}),this)},addLayers:function(o,s){if(!L.Util.isArray(o))return this.addLayer(o);var u=this._featureGroup,l=this._nonPointGroup,p=this.options.chunkedLoading,g=this.options.chunkInterval,c=this.options.chunkProgress,_=o.length,C=0,E=!0,P;if(this._map){var S=new Date().getTime(),I=L.bind(function(){var N=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();C<_;C++){if(p&&C%200===0){var x=new Date().getTime()-N;if(x>g)break}if(P=o[C],P instanceof L.LayerGroup){E&&(o=o.slice(),E=!1),this._extractNonGroupLayers(P,o),_=o.length;continue}if(!P.getLatLng){l.addLayer(P),s||this.fire("layeradd",{layer:P});continue}if(!this.hasLayer(P)&&(this._addLayer(P,this._maxZoom),s||this.fire("layeradd",{layer:P}),P.__parent&&P.__parent.getChildCount()===2)){var R=P.__parent.getAllChildMarkers(),B=R[0]===P?R[1]:R[0];u.removeLayer(B)}}c&&c(C,_,new Date().getTime()-S),C===_?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(I,this.options.chunkDelay)},this);I()}else for(var T=this._needsClustering;C<_;C++){if(P=o[C],P instanceof L.LayerGroup){E&&(o=o.slice(),E=!1),this._extractNonGroupLayers(P,o),_=o.length;continue}if(!P.getLatLng){l.addLayer(P);continue}this.hasLayer(P)||T.push(P)}return this},removeLayers:function(o){var s,u,l=o.length,p=this._featureGroup,g=this._nonPointGroup,c=!0;if(!this._map){for(s=0;s<l;s++){if(u=o[s],u instanceof L.LayerGroup){c&&(o=o.slice(),c=!1),this._extractNonGroupLayers(u,o),l=o.length;continue}this._arraySplice(this._needsClustering,u),g.removeLayer(u),this.hasLayer(u)&&this._needsRemoving.push({layer:u,latlng:u._latlng}),this.fire("layerremove",{layer:u})}return this}if(this._unspiderfy){this._unspiderfy();var _=o.slice(),C=l;for(s=0;s<C;s++){if(u=_[s],u instanceof L.LayerGroup){this._extractNonGroupLayers(u,_),C=_.length;continue}this._unspiderfyLayer(u)}}for(s=0;s<l;s++){if(u=o[s],u instanceof L.LayerGroup){c&&(o=o.slice(),c=!1),this._extractNonGroupLayers(u,o),l=o.length;continue}if(!u.__parent){g.removeLayer(u),this.fire("layerremove",{layer:u});continue}this._removeLayer(u,!0,!0),this.fire("layerremove",{layer:u}),p.hasLayer(u)&&(p.removeLayer(u),u.clusterShow&&u.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(o){o.off(this._childMarkerEventHandlers,this),delete o.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var o=new L.LatLngBounds;this._topClusterLevel&&o.extend(this._topClusterLevel._bounds);for(var s=this._needsClustering.length-1;s>=0;s--)o.extend(this._needsClustering[s].getLatLng());return o.extend(this._nonPointGroup.getBounds()),o},eachLayer:function(o,s){var u=this._needsClustering.slice(),l=this._needsRemoving,p,g,c;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(u),g=u.length-1;g>=0;g--){for(p=!0,c=l.length-1;c>=0;c--)if(l[c].layer===u[g]){p=!1;break}p&&o.call(s,u[g])}this._nonPointGroup.eachLayer(o,s)},getLayers:function(){var o=[];return this.eachLayer(function(s){o.push(s)}),o},getLayer:function(o){var s=null;return o=parseInt(o,10),this.eachLayer(function(u){L.stamp(u)===o&&(s=u)}),s},hasLayer:function(o){if(!o)return!1;var s,u=this._needsClustering;for(s=u.length-1;s>=0;s--)if(u[s]===o)return!0;for(u=this._needsRemoving,s=u.length-1;s>=0;s--)if(u[s].layer===o)return!1;return!!(o.__parent&&o.__parent._group===this)||this._nonPointGroup.hasLayer(o)},zoomToShowLayer:function(o,s){var u=this._map;typeof s!="function"&&(s=function(){});var l=function(){(u.hasLayer(o)||u.hasLayer(o.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",l,this),this.off("animationend",l,this),u.hasLayer(o)?s():o.__parent._icon&&(this.once("spiderfied",s,this),o.__parent.spiderfy()))};o._icon&&this._map.getBounds().contains(o.getLatLng())?s():o.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",l,this),this._map.panTo(o.getLatLng())):(this._map.on("moveend",l,this),this.on("animationend",l,this),o.__parent.zoomToBounds())},onAdd:function(o){this._map=o;var s,u,l;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(o),this._nonPointGroup.addTo(o),this._gridClusters||this._generateInitialClusters(),this._maxLat=o.options.crs.projection.MAX_LATITUDE,s=0,u=this._needsRemoving.length;s<u;s++)l=this._needsRemoving[s],l.newlatlng=l.layer._latlng,l.layer._latlng=l.latlng;for(s=0,u=this._needsRemoving.length;s<u;s++)l=this._needsRemoving[s],this._removeLayer(l.layer,!0),l.layer._latlng=l.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),u=this._needsClustering,this._needsClustering=[],this.addLayers(u,!0)},onRemove:function(o){o.off("zoomend",this._zoomEnd,this),o.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(o){for(var s=o;s&&!s._icon;)s=s.__parent;return s||null},_arraySplice:function(o,s){for(var u=o.length-1;u>=0;u--)if(o[u]===s)return o.splice(u,1),!0},_removeFromGridUnclustered:function(o,s){for(var u=this._map,l=this._gridUnclustered,p=Math.floor(this._map.getMinZoom());s>=p&&l[s].removeObject(o,u.project(o.getLatLng(),s));s--);},_childMarkerDragStart:function(o){o.target.__dragStart=o.target._latlng},_childMarkerMoved:function(o){if(!this._ignoreMove&&!o.target.__dragStart){var s=o.target._popup&&o.target._popup.isOpen();this._moveChild(o.target,o.oldLatLng,o.latlng),s&&o.target.openPopup()}},_moveChild:function(o,s,u){o._latlng=s,this.removeLayer(o),o._latlng=u,this.addLayer(o)},_childMarkerDragEnd:function(o){var s=o.target.__dragStart;delete o.target.__dragStart,s&&this._moveChild(o.target,s,o.target._latlng)},_removeLayer:function(o,s,u){var l=this._gridClusters,p=this._gridUnclustered,g=this._featureGroup,c=this._map,_=Math.floor(this._map.getMinZoom());s&&this._removeFromGridUnclustered(o,this._maxZoom);var C=o.__parent,E=C._markers,P;for(this._arraySplice(E,o);C&&(C._childCount--,C._boundsNeedUpdate=!0,!(C._zoom<_));)s&&C._childCount<=1?(P=C._markers[0]===o?C._markers[1]:C._markers[0],l[C._zoom].removeObject(C,c.project(C._cLatLng,C._zoom)),p[C._zoom].addObject(P,c.project(P.getLatLng(),C._zoom)),this._arraySplice(C.__parent._childClusters,C),C.__parent._markers.push(P),P.__parent=C.__parent,C._icon&&(g.removeLayer(C),u||g.addLayer(P))):C._iconNeedsUpdate=!0,C=C.__parent;delete o.__parent},_isOrIsParent:function(o,s){for(;s;){if(o===s)return!0;s=s.parentNode}return!1},fire:function(o,s,u){if(s&&s.layer instanceof L.MarkerCluster){if(s.originalEvent&&this._isOrIsParent(s.layer._icon,s.originalEvent.relatedTarget))return;o="cluster"+o}L.FeatureGroup.prototype.fire.call(this,o,s,u)},listens:function(o,s){return L.FeatureGroup.prototype.listens.call(this,o,s)||L.FeatureGroup.prototype.listens.call(this,"cluster"+o,s)},_defaultIconCreateFunction:function(o){var s=o.getChildCount(),u=" marker-cluster-";return s<10?u+="small":s<100?u+="medium":u+="large",new L.DivIcon({html:"<div><span>"+s+"</span></div>",className:"marker-cluster"+u,iconSize:new L.Point(40,40)})},_bindEvents:function(){var o=this._map,s=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,l=this.options.zoomToBoundsOnClick,p=this.options.spiderfyOnEveryZoom;(s||l||p)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),o.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(o){var s=o.layer,u=s;if(!(o.type==="clusterkeypress"&&o.originalEvent&&o.originalEvent.keyCode!==13)){for(;u._childClusters.length===1;)u=u._childClusters[0];u._zoom===this._maxZoom&&u._childCount===s._childCount&&this.options.spiderfyOnMaxZoom?s.spiderfy():this.options.zoomToBoundsOnClick&&s.zoomToBounds(),this.options.spiderfyOnEveryZoom&&s.spiderfy(),o.originalEvent&&o.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(o){var s=this._map;this._inZoomAnimation||(this._shownPolygon&&s.removeLayer(this._shownPolygon),o.layer.getChildCount()>2&&o.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(o.layer.getConvexHull(),this.options.polygonOptions),s.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var o=this.options.spiderfyOnMaxZoom,s=this.options.showCoverageOnHover,u=this.options.zoomToBoundsOnClick,l=this.options.spiderfyOnEveryZoom,p=this._map;(o||u||l)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),s&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),p.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var o=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),o),this._currentShownBounds=o}},_generateInitialClusters:function(){var o=Math.ceil(this._map.getMaxZoom()),s=Math.floor(this._map.getMinZoom()),u=this.options.maxClusterRadius,l=u;typeof u!="function"&&(l=function(){return u}),this.options.disableClusteringAtZoom!==null&&(o=this.options.disableClusteringAtZoom-1),this._maxZoom=o,this._gridClusters={},this._gridUnclustered={};for(var p=o;p>=s;p--)this._gridClusters[p]=new L.DistanceGrid(l(p)),this._gridUnclustered[p]=new L.DistanceGrid(l(p));this._topClusterLevel=new this._markerCluster(this,s-1)},_addLayer:function(o,s){var u=this._gridClusters,l=this._gridUnclustered,p=Math.floor(this._map.getMinZoom()),g,c;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(o),o.on(this._childMarkerEventHandlers,this);s>=p;s--){g=this._map.project(o.getLatLng(),s);var _=u[s].getNearObject(g);if(_){_._addChild(o),o.__parent=_;return}if(_=l[s].getNearObject(g),_){var C=_.__parent;C&&this._removeLayer(_,!1);var E=new this._markerCluster(this,s,_,o);u[s].addObject(E,this._map.project(E._cLatLng,s)),_.__parent=E,o.__parent=E;var P=E;for(c=s-1;c>C._zoom;c--)P=new this._markerCluster(this,c,P),u[c].addObject(P,this._map.project(_.getLatLng(),c));C._addChild(P),this._removeFromGridUnclustered(_,s);return}l[s].addObject(o,g)}this._topClusterLevel._addChild(o),o.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(o){o instanceof L.MarkerCluster&&o._iconNeedsUpdate&&o._updateIcon()})},_enqueue:function(o){this._queue.push(o),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var o=0;o<this._queue.length;o++)this._queue[o].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var o=Math.round(this._map._zoom);this._processQueue(),this._zoom<o&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,o)):this._zoom>o?(this._animationStart(),this._animationZoomOut(this._zoom,o)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(o){var s=this._maxLat;return s!==void 0&&(o.getNorth()>=s&&(o._northEast.lat=1/0),o.getSouth()<=-s&&(o._southWest.lat=-1/0)),o},_animationAddLayerNonAnimated:function(o,s){if(s===o)this._featureGroup.addLayer(o);else if(s._childCount===2){s._addToMap();var u=s.getAllChildMarkers();this._featureGroup.removeLayer(u[0]),this._featureGroup.removeLayer(u[1])}else s._updateIcon()},_extractNonGroupLayers:function(o,s){var u=o.getLayers(),l=0,p;for(s=s||[];l<u.length;l++){if(p=u[l],p instanceof L.LayerGroup){this._extractNonGroupLayers(p,s);continue}s.push(p)}return s},_overrideMarkerIcon:function(o){var s=o.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[o]}});return s}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(o,s){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(o,s){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(o,s){this._animationAddLayerNonAnimated(o,s)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(o,s){var u=this._getExpandedVisibleBounds(),l=this._featureGroup,p=Math.floor(this._map.getMinZoom()),g;this._ignoreMove=!0,this._topClusterLevel._recursively(u,o,p,function(c){var _=c._latlng,C=c._markers,E;for(u.contains(_)||(_=null),c._isSingleParent()&&o+1===s?(l.removeLayer(c),c._recursivelyAddChildrenToMap(null,s,u)):(c.clusterHide(),c._recursivelyAddChildrenToMap(_,s,u)),g=C.length-1;g>=0;g--)E=C[g],u.contains(E._latlng)||l.removeLayer(E)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(u,s),l.eachLayer(function(c){!(c instanceof L.MarkerCluster)&&c._icon&&c.clusterShow()}),this._topClusterLevel._recursively(u,o,s,function(c){c._recursivelyRestoreChildPositions(s)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(u,o,p,function(c){l.removeLayer(c),c.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(o,s){this._animationZoomOutSingle(this._topClusterLevel,o-1,s),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o,this._getExpandedVisibleBounds())},_animationAddLayer:function(o,s){var u=this,l=this._featureGroup;l.addLayer(o),s!==o&&(s._childCount>2?(s._updateIcon(),this._forceLayout(),this._animationStart(),o._setPos(this._map.latLngToLayerPoint(s.getLatLng())),o.clusterHide(),this._enqueue(function(){l.removeLayer(o),o.clusterShow(),u._animationEnd()})):(this._forceLayout(),u._animationStart(),u._animationZoomOutSingle(s,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(o,s,u){var l=this._getExpandedVisibleBounds(),p=Math.floor(this._map.getMinZoom());o._recursivelyAnimateChildrenInAndAddSelfToMap(l,p,s+1,u);var g=this;this._forceLayout(),o._recursivelyBecomeVisible(l,u),this._enqueue(function(){if(o._childCount===1){var c=o._markers[0];this._ignoreMove=!0,c.setLatLng(c.getLatLng()),this._ignoreMove=!1,c.clusterShow&&c.clusterShow()}else o._recursively(l,u,p,function(_){_._recursivelyRemoveChildrenFromMap(l,p,s+1)});g._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(o){return new L.MarkerClusterGroup(o)};var i=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(o,s,u,l){L.Marker.prototype.initialize.call(this,u?u._cLatLng||u.getLatLng():new L.LatLng(0,0),{icon:this,pane:o.options.clusterPane}),this._group=o,this._zoom=s,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,u&&this._addChild(u),l&&this._addChild(l)},getAllChildMarkers:function(o,s){o=o||[];for(var u=this._childClusters.length-1;u>=0;u--)this._childClusters[u].getAllChildMarkers(o,s);for(var l=this._markers.length-1;l>=0;l--)s&&this._markers[l].__dragStart||o.push(this._markers[l]);return o},getChildCount:function(){return this._childCount},zoomToBounds:function(o){for(var s=this._childClusters.slice(),u=this._group._map,l=u.getBoundsZoom(this._bounds),p=this._zoom+1,g=u.getZoom(),c;s.length>0&&l>p;){p++;var _=[];for(c=0;c<s.length;c++)_=_.concat(s[c]._childClusters);s=_}l>p?this._group._map.setView(this._latlng,p):l<=g?this._group._map.setView(this._latlng,g+1):this._group._map.fitBounds(this._bounds,o)},getBounds:function(){var o=new L.LatLngBounds;return o.extend(this._bounds),o},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(o,s){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(o),o instanceof L.MarkerCluster?(s||(this._childClusters.push(o),o.__parent=this),this._childCount+=o._childCount):(s||this._markers.push(o),this._childCount++),this.__parent&&this.__parent._addChild(o,!0)},_setClusterCenter:function(o){this._cLatLng||(this._cLatLng=o._cLatLng||o._latlng)},_resetBounds:function(){var o=this._bounds;o._southWest&&(o._southWest.lat=1/0,o._southWest.lng=1/0),o._northEast&&(o._northEast.lat=-1/0,o._northEast.lng=-1/0)},_recalculateBounds:function(){var o=this._markers,s=this._childClusters,u=0,l=0,p=this._childCount,g,c,_,C;if(p!==0){for(this._resetBounds(),g=0;g<o.length;g++)_=o[g]._latlng,this._bounds.extend(_),u+=_.lat,l+=_.lng;for(g=0;g<s.length;g++)c=s[g],c._boundsNeedUpdate&&c._recalculateBounds(),this._bounds.extend(c._bounds),_=c._wLatLng,C=c._childCount,u+=_.lat*C,l+=_.lng*C;this._latlng=this._wLatLng=new L.LatLng(u/p,l/p),this._boundsNeedUpdate=!1}},_addToMap:function(o){o&&(this._backupLatlng=this._latlng,this.setLatLng(o)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(o,s,u){this._recursively(o,this._group._map.getMinZoom(),u-1,function(l){var p=l._markers,g,c;for(g=p.length-1;g>=0;g--)c=p[g],c._icon&&(c._setPos(s),c.clusterHide())},function(l){var p=l._childClusters,g,c;for(g=p.length-1;g>=0;g--)c=p[g],c._icon&&(c._setPos(s),c.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(o,s,u,l){this._recursively(o,l,s,function(p){p._recursivelyAnimateChildrenIn(o,p._group._map.latLngToLayerPoint(p.getLatLng()).round(),u),p._isSingleParent()&&u-1===l?(p.clusterShow(),p._recursivelyRemoveChildrenFromMap(o,s,u)):p.clusterHide(),p._addToMap()})},_recursivelyBecomeVisible:function(o,s){this._recursively(o,this._group._map.getMinZoom(),s,null,function(u){u.clusterShow()})},_recursivelyAddChildrenToMap:function(o,s,u){this._recursively(u,this._group._map.getMinZoom()-1,s,function(l){if(s!==l._zoom)for(var p=l._markers.length-1;p>=0;p--){var g=l._markers[p];u.contains(g._latlng)&&(o&&(g._backupLatlng=g.getLatLng(),g.setLatLng(o),g.clusterHide&&g.clusterHide()),l._group._featureGroup.addLayer(g))}},function(l){l._addToMap(o)})},_recursivelyRestoreChildPositions:function(o){for(var s=this._markers.length-1;s>=0;s--){var u=this._markers[s];u._backupLatlng&&(u.setLatLng(u._backupLatlng),delete u._backupLatlng)}if(o-1===this._zoom)for(var l=this._childClusters.length-1;l>=0;l--)this._childClusters[l]._restorePosition();else for(var p=this._childClusters.length-1;p>=0;p--)this._childClusters[p]._recursivelyRestoreChildPositions(o)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(o,s,u,l){var p,g;this._recursively(o,s-1,u-1,function(c){for(g=c._markers.length-1;g>=0;g--)p=c._markers[g],(!l||!l.contains(p._latlng))&&(c._group._featureGroup.removeLayer(p),p.clusterShow&&p.clusterShow())},function(c){for(g=c._childClusters.length-1;g>=0;g--)p=c._childClusters[g],(!l||!l.contains(p._latlng))&&(c._group._featureGroup.removeLayer(p),p.clusterShow&&p.clusterShow())})},_recursively:function(o,s,u,l,p){var g=this._childClusters,c=this._zoom,_,C;if(s<=c&&(l&&l(this),p&&c===u&&p(this)),c<s||c<u)for(_=g.length-1;_>=0;_--)C=g[_],C._boundsNeedUpdate&&C._recalculateBounds(),o.intersects(C._bounds)&&C._recursively(o,s,u,l,p)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var o=this.options.opacity;return this.setOpacity(0),this.options.opacity=o,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(o){this._cellSize=o,this._sqCellSize=o*o,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(o,s){var u=this._getCoord(s.x),l=this._getCoord(s.y),p=this._grid,g=p[l]=p[l]||{},c=g[u]=g[u]||[],_=L.Util.stamp(o);this._objectPoint[_]=s,c.push(o)},updateObject:function(o,s){this.removeObject(o),this.addObject(o,s)},removeObject:function(o,s){var u=this._getCoord(s.x),l=this._getCoord(s.y),p=this._grid,g=p[l]=p[l]||{},c=g[u]=g[u]||[],_,C;for(delete this._objectPoint[L.Util.stamp(o)],_=0,C=c.length;_<C;_++)if(c[_]===o)return c.splice(_,1),C===1&&delete g[u],!0},eachObject:function(o,s){var u,l,p,g,c,_,C,E=this._grid;for(u in E){c=E[u];for(l in c)for(_=c[l],p=0,g=_.length;p<g;p++)C=o.call(s,_[p]),C&&(p--,g--)}},getNearObject:function(o){var s=this._getCoord(o.x),u=this._getCoord(o.y),l,p,g,c,_,C,E,P,S=this._objectPoint,I=this._sqCellSize,T=null;for(l=u-1;l<=u+1;l++)if(c=this._grid[l],c){for(p=s-1;p<=s+1;p++)if(_=c[p],_)for(g=0,C=_.length;g<C;g++)E=_[g],P=this._sqDist(S[L.Util.stamp(E)],o),(P<I||P<=I&&T===null)&&(I=P,T=E)}return T},_getCoord:function(o){var s=Math.floor(o/this._cellSize);return isFinite(s)?s:o},_sqDist:function(o,s){var u=s.x-o.x,l=s.y-o.y;return u*u+l*l}},function(){L.QuickHull={getDistant:function(o,s){var u=s[1].lat-s[0].lat,l=s[0].lng-s[1].lng;return l*(o.lat-s[0].lat)+u*(o.lng-s[0].lng)},findMostDistantPointFromBaseLine:function(o,s){var u=0,l=null,p=[],g,c,_;for(g=s.length-1;g>=0;g--){if(c=s[g],_=this.getDistant(c,o),_>0)p.push(c);else continue;_>u&&(u=_,l=c)}return{maxPoint:l,newPoints:p}},buildConvexHull:function(o,s){var u=[],l=this.findMostDistantPointFromBaseLine(o,s);return l.maxPoint?(u=u.concat(this.buildConvexHull([o[0],l.maxPoint],l.newPoints)),u=u.concat(this.buildConvexHull([l.maxPoint,o[1]],l.newPoints)),u):[o[0]]},getConvexHull:function(o){var s=!1,u=!1,l=!1,p=!1,g=null,c=null,_=null,C=null,E=null,P=null,S;for(S=o.length-1;S>=0;S--){var I=o[S];(s===!1||I.lat>s)&&(g=I,s=I.lat),(u===!1||I.lat<u)&&(c=I,u=I.lat),(l===!1||I.lng>l)&&(_=I,l=I.lng),(p===!1||I.lng<p)&&(C=I,p=I.lng)}u!==s?(P=c,E=g):(P=C,E=_);var T=[].concat(this.buildConvexHull([P,E],o),this.buildConvexHull([E,P],o));return T}}}(),L.MarkerCluster.include({getConvexHull:function(){var o=this.getAllChildMarkers(),s=[],u,l;for(l=o.length-1;l>=0;l--)u=o[l].getLatLng(),s.push(u);return L.QuickHull.getConvexHull(s)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var o=this.getAllChildMarkers(null,!0),s=this._group,u=s._map,l=u.latLngToLayerPoint(this._latlng),p;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?p=this._group.options.spiderfyShapePositions(o.length,l):o.length>=this._circleSpiralSwitchover?p=this._generatePointsSpiral(o.length,l):(l.y+=10,p=this._generatePointsCircle(o.length,l)),this._animationSpiderfy(o,p)}},unspiderfy:function(o){this._group._inZoomAnimation||(this._animationUnspiderfy(o),this._group._spiderfied=null)},_generatePointsCircle:function(o,s){var u=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+o),l=u/this._2PI,p=this._2PI/o,g=[],c,_;for(l=Math.max(l,35),g.length=o,c=0;c<o;c++)_=this._circleStartAngle+c*p,g[c]=new L.Point(s.x+l*Math.cos(_),s.y+l*Math.sin(_))._round();return g},_generatePointsSpiral:function(o,s){var u=this._group.options.spiderfyDistanceMultiplier,l=u*this._spiralLengthStart,p=u*this._spiralFootSeparation,g=u*this._spiralLengthFactor*this._2PI,c=0,_=[],C;for(_.length=o,C=o;C>=0;C--)C<o&&(_[C]=new L.Point(s.x+l*Math.cos(c),s.y+l*Math.sin(c))._round()),c+=p/l+C*5e-4,l+=g/c;return _},_noanimationUnspiderfy:function(){var o=this._group,s=o._map,u=o._featureGroup,l=this.getAllChildMarkers(null,!0),p,g;for(o._ignoreMove=!0,this.setOpacity(1),g=l.length-1;g>=0;g--)p=l[g],u.removeLayer(p),p._preSpiderfyLatlng&&(p.setLatLng(p._preSpiderfyLatlng),delete p._preSpiderfyLatlng),p.setZIndexOffset&&p.setZIndexOffset(0),p._spiderLeg&&(s.removeLayer(p._spiderLeg),delete p._spiderLeg);o.fire("unspiderfied",{cluster:this,markers:l}),o._ignoreMove=!1,o._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(o,s){var u=this._group,l=u._map,p=u._featureGroup,g=this._group.options.spiderLegPolylineOptions,c,_,C,E;for(u._ignoreMove=!0,c=0;c<o.length;c++)E=l.layerPointToLatLng(s[c]),_=o[c],C=new L.Polyline([this._latlng,E],g),l.addLayer(C),_._spiderLeg=C,_._preSpiderfyLatlng=_._latlng,_.setLatLng(E),_.setZIndexOffset&&_.setZIndexOffset(1e6),p.addLayer(_);this.setOpacity(.3),u._ignoreMove=!1,u.fire("spiderfied",{cluster:this,markers:o})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(o,s){var u=this,l=this._group,p=l._map,g=l._featureGroup,c=this._latlng,_=p.latLngToLayerPoint(c),C=L.Path.SVG,E=L.extend({},this._group.options.spiderLegPolylineOptions),P=E.opacity,S,I,T,N,x,R;for(P===void 0&&(P=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),C?(E.opacity=0,E.className=(E.className||"")+" leaflet-cluster-spider-leg"):E.opacity=P,l._ignoreMove=!0,S=0;S<o.length;S++)I=o[S],R=p.layerPointToLatLng(s[S]),T=new L.Polyline([c,R],E),p.addLayer(T),I._spiderLeg=T,C&&(N=T._path,x=N.getTotalLength()+.1,N.style.strokeDasharray=x,N.style.strokeDashoffset=x),I.setZIndexOffset&&I.setZIndexOffset(1e6),I.clusterHide&&I.clusterHide(),g.addLayer(I),I._setPos&&I._setPos(_);for(l._forceLayout(),l._animationStart(),S=o.length-1;S>=0;S--)R=p.layerPointToLatLng(s[S]),I=o[S],I._preSpiderfyLatlng=I._latlng,I.setLatLng(R),I.clusterShow&&I.clusterShow(),C&&(T=I._spiderLeg,N=T._path,N.style.strokeDashoffset=0,T.setStyle({opacity:P}));this.setOpacity(.3),l._ignoreMove=!1,setTimeout(function(){l._animationEnd(),l.fire("spiderfied",{cluster:u,markers:o})},200)},_animationUnspiderfy:function(o){var s=this,u=this._group,l=u._map,p=u._featureGroup,g=o?l._latLngToNewLayerPoint(this._latlng,o.zoom,o.center):l.latLngToLayerPoint(this._latlng),c=this.getAllChildMarkers(null,!0),_=L.Path.SVG,C,E,P,S,I,T;for(u._ignoreMove=!0,u._animationStart(),this.setOpacity(1),E=c.length-1;E>=0;E--)C=c[E],C._preSpiderfyLatlng&&(C.closePopup(),C.setLatLng(C._preSpiderfyLatlng),delete C._preSpiderfyLatlng,T=!0,C._setPos&&(C._setPos(g),T=!1),C.clusterHide&&(C.clusterHide(),T=!1),T&&p.removeLayer(C),_&&(P=C._spiderLeg,S=P._path,I=S.getTotalLength()+.1,S.style.strokeDashoffset=I,P.setStyle({opacity:0})));u._ignoreMove=!1,setTimeout(function(){var N=0;for(E=c.length-1;E>=0;E--)C=c[E],C._spiderLeg&&N++;for(E=c.length-1;E>=0;E--)C=c[E],C._spiderLeg&&(C.clusterShow&&C.clusterShow(),C.setZIndexOffset&&C.setZIndexOffset(0),N>1&&p.removeLayer(C),l.removeLayer(C._spiderLeg),delete C._spiderLeg);u._animationEnd(),u.fire("unspiderfied",{cluster:s,markers:c})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(o){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(o))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(o){this._spiderfied&&this._spiderfied.unspiderfy(o)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(o){o._spiderLeg&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow(),o.setZIndexOffset&&o.setZIndexOffset(0),this._map.removeLayer(o._spiderLeg),delete o._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(o){return o?o instanceof L.MarkerClusterGroup?o=o._topClusterLevel.getAllChildMarkers():o instanceof L.LayerGroup?o=o._layers:o instanceof L.MarkerCluster?o=o.getAllChildMarkers():o instanceof L.Marker&&(o=[o]):o=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(o),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(o),this},_flagParentsIconsNeedUpdate:function(o){var s,u;for(s in o)for(u=o[s].__parent;u;)u._iconNeedsUpdate=!0,u=u.__parent},_refreshSingleMarkerModeMarkers:function(o){var s,u;for(s in o)u=o[s],this.hasLayer(u)&&u.setIcon(this._overrideMarkerIcon(u))}}),L.Marker.include({refreshIconOptions:function(o,s){var u=this.options.icon;return L.setOptions(u,o),this.setIcon(u),s&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=i,Object.defineProperty(n,"__esModule",{value:!0})})})(my,Uh);(()=>{var e={9705:(r,i,o)=>{var s=o(1540);function u(l){var p=[1/0,1/0,-1/0,-1/0];return s.coordEach(l,function(g){p[0]>g[0]&&(p[0]=g[0]),p[1]>g[1]&&(p[1]=g[1]),p[2]<g[0]&&(p[2]=g[0]),p[3]<g[1]&&(p[3]=g[1])}),p}u.default=u,i.Z=u},4102:(r,i)=>{function o(I,T,N){N===void 0&&(N={});var x={type:"Feature"};return(N.id===0||N.id)&&(x.id=N.id),N.bbox&&(x.bbox=N.bbox),x.properties=T||{},x.geometry=I,x}function s(I,T,N){if(N===void 0&&(N={}),!I)throw new Error("coordinates is required");if(!Array.isArray(I))throw new Error("coordinates must be an Array");if(I.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!S(I[0])||!S(I[1]))throw new Error("coordinates must contain numbers");return o({type:"Point",coordinates:I},T,N)}function u(I,T,N){N===void 0&&(N={});for(var x=0,R=I;x<R.length;x++){var B=R[x];if(B.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Y=0;Y<B[B.length-1].length;Y++)if(B[B.length-1][Y]!==B[0][Y])throw new Error("First and last Position are not equivalent.")}return o({type:"Polygon",coordinates:I},T,N)}function l(I,T,N){if(N===void 0&&(N={}),I.length<2)throw new Error("coordinates must be an array of two or more positions");return o({type:"LineString",coordinates:I},T,N)}function p(I,T){T===void 0&&(T={});var N={type:"FeatureCollection"};return T.id&&(N.id=T.id),T.bbox&&(N.bbox=T.bbox),N.features=I,N}function g(I,T,N){return N===void 0&&(N={}),o({type:"MultiLineString",coordinates:I},T,N)}function c(I,T,N){return N===void 0&&(N={}),o({type:"MultiPoint",coordinates:I},T,N)}function _(I,T,N){return N===void 0&&(N={}),o({type:"MultiPolygon",coordinates:I},T,N)}function C(I,T){T===void 0&&(T="kilometers");var N=i.factors[T];if(!N)throw new Error(T+" units is invalid");return I*N}function E(I,T){T===void 0&&(T="kilometers");var N=i.factors[T];if(!N)throw new Error(T+" units is invalid");return I/N}function P(I){return 180*(I%(2*Math.PI))/Math.PI}function S(I){return!isNaN(I)&&I!==null&&!Array.isArray(I)}Object.defineProperty(i,"__esModule",{value:!0}),i.earthRadius=63710088e-1,i.factors={centimeters:100*i.earthRadius,centimetres:100*i.earthRadius,degrees:i.earthRadius/111325,feet:3.28084*i.earthRadius,inches:39.37*i.earthRadius,kilometers:i.earthRadius/1e3,kilometres:i.earthRadius/1e3,meters:i.earthRadius,metres:i.earthRadius,miles:i.earthRadius/1609.344,millimeters:1e3*i.earthRadius,millimetres:1e3*i.earthRadius,nauticalmiles:i.earthRadius/1852,radians:1,yards:1.0936*i.earthRadius},i.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/i.earthRadius,yards:1.0936133},i.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},i.feature=o,i.geometry=function(I,T,N){switch(I){case"Point":return s(T).geometry;case"LineString":return l(T).geometry;case"Polygon":return u(T).geometry;case"MultiPoint":return c(T).geometry;case"MultiLineString":return g(T).geometry;case"MultiPolygon":return _(T).geometry;default:throw new Error(I+" is invalid")}},i.point=s,i.points=function(I,T,N){return N===void 0&&(N={}),p(I.map(function(x){return s(x,T)}),N)},i.polygon=u,i.polygons=function(I,T,N){return N===void 0&&(N={}),p(I.map(function(x){return u(x,T)}),N)},i.lineString=l,i.lineStrings=function(I,T,N){return N===void 0&&(N={}),p(I.map(function(x){return l(x,T)}),N)},i.featureCollection=p,i.multiLineString=g,i.multiPoint=c,i.multiPolygon=_,i.geometryCollection=function(I,T,N){return N===void 0&&(N={}),o({type:"GeometryCollection",geometries:I},T,N)},i.round=function(I,T){if(T===void 0&&(T=0),T&&!(T>=0))throw new Error("precision must be a positive number");var N=Math.pow(10,T||0);return Math.round(I*N)/N},i.radiansToLength=C,i.lengthToRadians=E,i.lengthToDegrees=function(I,T){return P(E(I,T))},i.bearingToAzimuth=function(I){var T=I%360;return T<0&&(T+=360),T},i.radiansToDegrees=P,i.degreesToRadians=function(I){return I%360*Math.PI/180},i.convertLength=function(I,T,N){if(T===void 0&&(T="kilometers"),N===void 0&&(N="kilometers"),!(I>=0))throw new Error("length must be a positive number");return C(E(I,T),N)},i.convertArea=function(I,T,N){if(T===void 0&&(T="meters"),N===void 0&&(N="kilometers"),!(I>=0))throw new Error("area must be a positive number");var x=i.areaFactors[T];if(!x)throw new Error("invalid original units");var R=i.areaFactors[N];if(!R)throw new Error("invalid final units");return I/x*R},i.isNumber=S,i.isObject=function(I){return!!I&&I.constructor===Object},i.validateBBox=function(I){if(!I)throw new Error("bbox is required");if(!Array.isArray(I))throw new Error("bbox must be an Array");if(I.length!==4&&I.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");I.forEach(function(T){if(!S(T))throw new Error("bbox must only contain numbers")})},i.validateId=function(I){if(!I)throw new Error("id is required");if(["string","number"].indexOf(typeof I)===-1)throw new Error("id must be a number or a string")}},1540:(r,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0});var s=o(4102);function u(E,P,S){if(E!==null)for(var I,T,N,x,R,B,Y,Q,rt=0,ct=0,X=E.type,J=X==="FeatureCollection",at=X==="Feature",it=J?E.features.length:1,ot=0;ot<it;ot++){R=(Q=!!(Y=J?E.features[ot].geometry:at?E.geometry:E)&&Y.type==="GeometryCollection")?Y.geometries.length:1;for(var bt=0;bt<R;bt++){var Bt=0,ut=0;if((x=Q?Y.geometries[bt]:Y)!==null){B=x.coordinates;var Ut=x.type;switch(rt=!S||Ut!=="Polygon"&&Ut!=="MultiPolygon"?0:1,Ut){case null:break;case"Point":if(P(B,ct,ot,Bt,ut)===!1)return!1;ct++,Bt++;break;case"LineString":case"MultiPoint":for(I=0;I<B.length;I++){if(P(B[I],ct,ot,Bt,ut)===!1)return!1;ct++,Ut==="MultiPoint"&&Bt++}Ut==="LineString"&&Bt++;break;case"Polygon":case"MultiLineString":for(I=0;I<B.length;I++){for(T=0;T<B[I].length-rt;T++){if(P(B[I][T],ct,ot,Bt,ut)===!1)return!1;ct++}Ut==="MultiLineString"&&Bt++,Ut==="Polygon"&&ut++}Ut==="Polygon"&&Bt++;break;case"MultiPolygon":for(I=0;I<B.length;I++){for(ut=0,T=0;T<B[I].length;T++){for(N=0;N<B[I][T].length-rt;N++){if(P(B[I][T][N],ct,ot,Bt,ut)===!1)return!1;ct++}ut++}Bt++}break;case"GeometryCollection":for(I=0;I<x.geometries.length;I++)if(u(x.geometries[I],P,S)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function l(E,P){var S;switch(E.type){case"FeatureCollection":for(S=0;S<E.features.length&&P(E.features[S].properties,S)!==!1;S++);break;case"Feature":P(E.properties,0)}}function p(E,P){if(E.type==="Feature")P(E,0);else if(E.type==="FeatureCollection")for(var S=0;S<E.features.length&&P(E.features[S],S)!==!1;S++);}function g(E,P){var S,I,T,N,x,R,B,Y,Q,rt,ct=0,X=E.type==="FeatureCollection",J=E.type==="Feature",at=X?E.features.length:1;for(S=0;S<at;S++){for(R=X?E.features[S].geometry:J?E.geometry:E,Y=X?E.features[S].properties:J?E.properties:{},Q=X?E.features[S].bbox:J?E.bbox:void 0,rt=X?E.features[S].id:J?E.id:void 0,x=(B=!!R&&R.type==="GeometryCollection")?R.geometries.length:1,T=0;T<x;T++)if((N=B?R.geometries[T]:R)!==null)switch(N.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(P(N,ct,Y,Q,rt)===!1)return!1;break;case"GeometryCollection":for(I=0;I<N.geometries.length;I++)if(P(N.geometries[I],ct,Y,Q,rt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(P(null,ct,Y,Q,rt)===!1)return!1;ct++}}function c(E,P){g(E,function(S,I,T,N,x){var R,B=S===null?null:S.type;switch(B){case null:case"Point":case"LineString":case"Polygon":return P(s.feature(S,T,{bbox:N,id:x}),I,0)!==!1&&void 0}switch(B){case"MultiPoint":R="Point";break;case"MultiLineString":R="LineString";break;case"MultiPolygon":R="Polygon"}for(var Y=0;Y<S.coordinates.length;Y++){var Q={type:R,coordinates:S.coordinates[Y]};if(P(s.feature(Q,T),I,Y)===!1)return!1}})}function _(E,P){c(E,function(S,I,T){var N=0;if(S.geometry){var x=S.geometry.type;if(x!=="Point"&&x!=="MultiPoint"){var R,B=0,Y=0,Q=0;return u(S,function(rt,ct,X,J,at){if(R===void 0||I>B||J>Y||at>Q)return R=rt,B=I,Y=J,Q=at,void(N=0);var it=s.lineString([R,rt],S.properties);if(P(it,I,T,at,N)===!1)return!1;N++,R=rt})!==!1&&void 0}}})}function C(E,P){if(!E)throw new Error("geojson is required");c(E,function(S,I,T){if(S.geometry!==null){var N=S.geometry.type,x=S.geometry.coordinates;switch(N){case"LineString":if(P(S,I,T,0,0)===!1)return!1;break;case"Polygon":for(var R=0;R<x.length;R++)if(P(s.lineString(x[R],S.properties),I,T,R)===!1)return!1}}})}i.coordAll=function(E){var P=[];return u(E,function(S){P.push(S)}),P},i.coordEach=u,i.coordReduce=function(E,P,S,I){var T=S;return u(E,function(N,x,R,B,Y){T=x===0&&S===void 0?N:P(T,N,x,R,B,Y)},I),T},i.featureEach=p,i.featureReduce=function(E,P,S){var I=S;return p(E,function(T,N){I=N===0&&S===void 0?T:P(I,T,N)}),I},i.findPoint=function(E,P){if(P=P||{},!s.isObject(P))throw new Error("options is invalid");var S,I=P.featureIndex||0,T=P.multiFeatureIndex||0,N=P.geometryIndex||0,x=P.coordIndex||0,R=P.properties;switch(E.type){case"FeatureCollection":I<0&&(I=E.features.length+I),R=R||E.features[I].properties,S=E.features[I].geometry;break;case"Feature":R=R||E.properties,S=E.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":S=E;break;default:throw new Error("geojson is invalid")}if(S===null)return null;var B=S.coordinates;switch(S.type){case"Point":return s.point(B,R,P);case"MultiPoint":return T<0&&(T=B.length+T),s.point(B[T],R,P);case"LineString":return x<0&&(x=B.length+x),s.point(B[x],R,P);case"Polygon":return N<0&&(N=B.length+N),x<0&&(x=B[N].length+x),s.point(B[N][x],R,P);case"MultiLineString":return T<0&&(T=B.length+T),x<0&&(x=B[T].length+x),s.point(B[T][x],R,P);case"MultiPolygon":return T<0&&(T=B.length+T),N<0&&(N=B[T].length+N),x<0&&(x=B[T][N].length-x),s.point(B[T][N][x],R,P)}throw new Error("geojson is invalid")},i.findSegment=function(E,P){if(P=P||{},!s.isObject(P))throw new Error("options is invalid");var S,I=P.featureIndex||0,T=P.multiFeatureIndex||0,N=P.geometryIndex||0,x=P.segmentIndex||0,R=P.properties;switch(E.type){case"FeatureCollection":I<0&&(I=E.features.length+I),R=R||E.features[I].properties,S=E.features[I].geometry;break;case"Feature":R=R||E.properties,S=E.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":S=E;break;default:throw new Error("geojson is invalid")}if(S===null)return null;var B=S.coordinates;switch(S.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=B.length+x-1),s.lineString([B[x],B[x+1]],R,P);case"Polygon":return N<0&&(N=B.length+N),x<0&&(x=B[N].length+x-1),s.lineString([B[N][x],B[N][x+1]],R,P);case"MultiLineString":return T<0&&(T=B.length+T),x<0&&(x=B[T].length+x-1),s.lineString([B[T][x],B[T][x+1]],R,P);case"MultiPolygon":return T<0&&(T=B.length+T),N<0&&(N=B[T].length+N),x<0&&(x=B[T][N].length-x-1),s.lineString([B[T][N][x],B[T][N][x+1]],R,P)}throw new Error("geojson is invalid")},i.flattenEach=c,i.flattenReduce=function(E,P,S){var I=S;return c(E,function(T,N,x){I=N===0&&x===0&&S===void 0?T:P(I,T,N,x)}),I},i.geomEach=g,i.geomReduce=function(E,P,S){var I=S;return g(E,function(T,N,x,R,B){I=N===0&&S===void 0?T:P(I,T,N,x,R,B)}),I},i.lineEach=C,i.lineReduce=function(E,P,S){var I=S;return C(E,function(T,N,x,R){I=N===0&&S===void 0?T:P(I,T,N,x,R)}),I},i.propEach=l,i.propReduce=function(E,P,S){var I=S;return l(E,function(T,N){I=N===0&&S===void 0?T:P(I,T,N)}),I},i.segmentEach=_,i.segmentReduce=function(E,P,S){var I=S,T=!1;return _(E,function(N,x,R,B,Y){I=T===!1&&S===void 0?N:P(I,N,x,R,B,Y),T=!0}),I}},5975:(r,i,o)=>{o(7107);var s=o(2492),u=o.n(s);const l=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker","placeText":"Click to place text"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together","rotateButton":"Rotate Layers","drawTextButton":"Draw Text","scaleButton":"Scale Layers","autoTracingButton":"Auto trace Line"},"measurements":{"totalLength":"Length","segmentLength":"Segment length","area":"Area","radius":"Radius","perimeter":"Perimeter","height":"Height","width":"Width","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),p=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick","placeText":"Platziere den Text mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex löschen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer löschen","drawCircleMarkerButton":"Kreismarker zeichnen","snappingButton":"Bewegter Layer an andere Layer oder Vertexe einhacken","pinningButton":"Vertexe an der gleichen Position verknüpfen","rotateButton":"Layer drehen","drawTextButton":"Text zeichnen","scaleButton":"Layer skalieren","autoTracingButton":"Linie automatisch nachzeichen"},"measurements":{"totalLength":"Länge","segmentLength":"Segment Länge","area":"Fläche","radius":"Radius","perimeter":"Umfang","height":"Höhe","width":"Breite","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),g=JSON.parse(`{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cerchio","snappingButton":"Snap ha trascinato il pennarello su altri strati e vertici","pinningButton":"Pin condiviso vertici insieme"}}`),c=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran","placeCircleMarker":"Klik untuk menempatkan penanda lingkarann"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer","drawCircleMarkerButton":"Digitasi Penanda Lingkaran","snappingButton":"Jepretkan penanda yang ditarik ke lapisan dan simpul lain","pinningButton":"Sematkan simpul bersama bersama"}}'),_=JSON.parse('{"tooltips":{"placeMarker":"Adaugă un punct","firstVertex":"Apasă aici pentru a adăuga primul Vertex","continueLine":"Apasă aici pentru a continua desenul","finishLine":"Apasă pe orice obiect pentru a finisa desenul","finishPoly":"Apasă pe primul obiect pentru a finisa","finishRect":"Apasă pentru a finisa","startCircle":"Apasă pentru a desena un cerc","finishCircle":"Apasă pentru a finisa un cerc","placeCircleMarker":"Adaugă un punct"},"actions":{"finish":"Termină","cancel":"Anulează","removeLastVertex":"Șterge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"Adaugă o bulină","drawPolyButton":"Desenează un poligon","drawLineButton":"Desenează o linie","drawCircleButton":"Desenează un cerc","drawRectButton":"Desenează un dreptunghi","editButton":"Editează straturile","dragButton":"Mută straturile","cutButton":"Taie straturile","deleteButton":"Șterge straturile","drawCircleMarkerButton":"Desenează marcatorul cercului","snappingButton":"Fixați marcatorul glisat pe alte straturi și vârfuri","pinningButton":"Fixați vârfurile partajate împreună"}}'),C=JSON.parse('{"tooltips":{"placeMarker":"Нажмите, чтобы нанести маркер","firstVertex":"Нажмите, чтобы нанести первый объект","continueLine":"Нажмите, чтобы продолжить рисование","finishLine":"Нажмите любой существующий маркер для завершения","finishPoly":"Выберите первую точку, чтобы закончить","finishRect":"Нажмите, чтобы закончить","startCircle":"Нажмите, чтобы добавить центр круга","finishCircle":"Нажмите, чтобы задать радиус","placeCircleMarker":"Нажмите, чтобы нанести круговой маркер"},"actions":{"finish":"Завершить","cancel":"Отменить","removeLastVertex":"Отменить последнее действие"},"buttonTitles":{"drawMarkerButton":"Добавить маркер","drawPolyButton":"Рисовать полигон","drawLineButton":"Рисовать кривую","drawCircleButton":"Рисовать круг","drawRectButton":"Рисовать прямоугольник","editButton":"Редактировать слой","dragButton":"Перенести слой","cutButton":"Вырезать слой","deleteButton":"Удалить слой","drawCircleMarkerButton":"Добавить круговой маркер","snappingButton":"Привязать перетаскиваемый маркер к другим слоям и вершинам","pinningButton":"Связать общие точки вместе"}}'),E=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer vértice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del círculo","finishCircle":"Presiona para finalizar el círculo","placeCircleMarker":"Presiona para colocar un marcador de círculo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Eliminar último vértice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar Polígono","drawLineButton":"Dibujar Línea","drawCircleButton":"Dibujar Círculo","drawRectButton":"Dibujar Rectángulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Eliminar Capas","drawCircleMarkerButton":"Dibujar Marcador de Círculo","snappingButton":"El marcador de Snap arrastrado a otras capas y vértices","pinningButton":"Fijar juntos los vértices compartidos"}}'),P=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te beëindigen","finishPoly":"Klik op het eerst punt om te beëindigen","finishRect":"Klik om te beëindigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te beëindigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker","snappingButton":"Snap gesleepte marker naar andere lagen en hoekpunten","pinningButton":"Speld gedeelde hoekpunten samen"}}'),S=JSON.parse(`{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer à dessiner","finishLine":"Cliquez sur n'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle","placeCircleMarker":"Cliquez pour placer le marqueur circulaire"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"Éditer des calques","dragButton":"Déplacer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques","drawCircleMarkerButton":"Dessiner un marqueur circulaire","snappingButton":"Glisser le marqueur vers d'autres couches et sommets","pinningButton":"Épingler ensemble les sommets partagés","rotateButton":"Tourner des calques"}}`),I=JSON.parse('{"tooltips":{"placeMarker":"单击放置标记","firstVertex":"单击放置首个顶点","continueLine":"单击继续绘制","finishLine":"单击任何存在的标记以完成","finishPoly":"单击第一个标记以完成","finishRect":"单击完成","startCircle":"单击放置圆心","finishCircle":"单击完成圆形","placeCircleMarker":"点击放置圆形标记"},"actions":{"finish":"完成","cancel":"取消","removeLastVertex":"移除最后的顶点"},"buttonTitles":{"drawMarkerButton":"绘制标记","drawPolyButton":"绘制多边形","drawLineButton":"绘制线段","drawCircleButton":"绘制圆形","drawRectButton":"绘制长方形","editButton":"编辑图层","dragButton":"拖拽图层","cutButton":"剪切图层","deleteButton":"删除图层","drawCircleMarkerButton":"画圆圈标记","snappingButton":"将拖动的标记捕捉到其他图层和顶点","pinningButton":"将共享顶点固定在一起"}}'),T=JSON.parse('{"tooltips":{"placeMarker":"單擊放置標記","firstVertex":"單擊放置第一個頂點","continueLine":"單擊繼續繪製","finishLine":"單擊任何存在的標記以完成","finishPoly":"單擊第一個標記以完成","finishRect":"單擊完成","startCircle":"單擊放置圓心","finishCircle":"單擊完成圓形","placeCircleMarker":"點擊放置圓形標記"},"actions":{"finish":"完成","cancel":"取消","removeLastVertex":"移除最後一個頂點"},"buttonTitles":{"drawMarkerButton":"放置標記","drawPolyButton":"繪製多邊形","drawLineButton":"繪製線段","drawCircleButton":"繪製圓形","drawRectButton":"繪製方形","editButton":"編輯圖形","dragButton":"移動圖形","cutButton":"裁切圖形","deleteButton":"刪除圖形","drawCircleMarkerButton":"畫圓圈標記","snappingButton":"將拖動的標記對齊到其他圖層和頂點","pinningButton":"將共享頂點固定在一起"}}'),N={en:l,de:p,it:g,id:c,ro:_,ru:C,es:E,nl:P,fr:S,pt_br:JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro vértice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o polígono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do círculo","finishCircle":"Clique para fechar o círculo","placeCircleMarker":"Clique para posicionar o marcador circular"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover último vértice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um polígono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um círculo","drawRectButton":"Desenhar um retângulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)","drawCircleMarkerButton":"Marcador de círculos de desenho","snappingButton":"Marcador arrastado para outras camadas e vértices","pinningButton":"Vértices compartilhados de pinos juntos"}}'),zh:I,zh_tw:T,pl:JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby ustawić znacznik","firstVertex":"Kliknij, aby ustawić pierwszy punkt","continueLine":"Kliknij, aby kontynuować rysowanie","finishLine":"Kliknij dowolny punkt, aby zakończyć","finishPoly":"Kliknij pierwszy punkt, aby zakończyć","finishRect":"Kliknij, aby zakończyć","startCircle":"Kliknij, aby ustawić środek koła","finishCircle":"Kliknij, aby zakończyć rysowanie koła","placeCircleMarker":"Kliknij, aby ustawić okrągły znacznik"},"actions":{"finish":"Zakończ","cancel":"Anuluj","removeLastVertex":"Usuń ostatni punkt"},"buttonTitles":{"drawMarkerButton":"Narysuj znacznik","drawPolyButton":"Narysuj wielokąt","drawLineButton":"Narysuj ścieżkę","drawCircleButton":"Narysuj koło","drawRectButton":"Narysuj prostokąt","editButton":"Edytuj","dragButton":"Przesuń","cutButton":"Wytnij","deleteButton":"Usuń","drawCircleMarkerButton":"Narysuj okrągły znacznik","snappingButton":"Snap przeciągnięty marker na inne warstwy i wierzchołki","pinningButton":"Sworzeń wspólne wierzchołki razem"}}'),sv:JSON.parse('{"tooltips":{"placeMarker":"Klicka för att placera markör","firstVertex":"Klicka för att placera första hörnet","continueLine":"Klicka för att fortsätta rita","finishLine":"Klicka på en existerande punkt för att slutföra","finishPoly":"Klicka på den första punkten för att slutföra","finishRect":"Klicka för att slutföra","startCircle":"Klicka för att placera cirkelns centrum","finishCircle":"Klicka för att slutföra cirkeln","placeCircleMarker":"Klicka för att placera cirkelmarkör"},"actions":{"finish":"Slutför","cancel":"Avbryt","removeLastVertex":"Ta bort sista hörnet"},"buttonTitles":{"drawMarkerButton":"Rita Markör","drawPolyButton":"Rita Polygoner","drawLineButton":"Rita Linje","drawCircleButton":"Rita Cirkel","drawRectButton":"Rita Rektangel","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita Cirkelmarkör","snappingButton":"Snäpp dra markören till andra lager och hörn","pinningButton":"Fäst delade hörn tillsammans"}}'),el:JSON.parse('{"tooltips":{"placeMarker":"Κάντε κλικ για να τοποθετήσετε Δείκτη","firstVertex":"Κάντε κλικ για να τοποθετήσετε το πρώτο σημείο","continueLine":"Κάντε κλικ για να συνεχίσετε να σχεδιάζετε","finishLine":"Κάντε κλικ σε οποιονδήποτε υπάρχον σημείο για να ολοκληρωθεί","finishPoly":"Κάντε κλικ στο πρώτο σημείο για να τελειώσετε","finishRect":"Κάντε κλικ για να τελειώσετε","startCircle":"Κάντε κλικ για να τοποθετήσετε κέντρο Κύκλου","finishCircle":"Κάντε κλικ για να ολοκληρώσετε τον Κύκλο","placeCircleMarker":"Κάντε κλικ για να τοποθετήσετε Κυκλικό Δείκτη"},"actions":{"finish":"Τέλος","cancel":"Ακύρωση","removeLastVertex":"Κατάργηση τελευταίου σημείου"},"buttonTitles":{"drawMarkerButton":"Σχεδίαση Δείκτη","drawPolyButton":"Σχεδίαση Πολυγώνου","drawLineButton":"Σχεδίαση Γραμμής","drawCircleButton":"Σχεδίαση Κύκλου","drawRectButton":"Σχεδίαση Ορθογωνίου","editButton":"Επεξεργασία Επιπέδων","dragButton":"Μεταφορά Επιπέδων","cutButton":"Αποκοπή Επιπέδων","deleteButton":"Κατάργηση Επιπέδων","drawCircleMarkerButton":"Σχεδίαση Κυκλικού Δείκτη","snappingButton":"Προσκόλληση του Δείκτη μεταφοράς σε άλλα Επίπεδα και Κορυφές","pinningButton":"Περικοπή κοινών κορυφών μαζί"}}'),hu:JSON.parse('{"tooltips":{"placeMarker":"Kattintson a jelölő elhelyezéséhez","firstVertex":"Kattintson az első pont elhelyezéséhez","continueLine":"Kattintson a következő pont elhelyezéséhez","finishLine":"A befejezéshez kattintson egy meglévő pontra","finishPoly":"A befejezéshez kattintson az első pontra","finishRect":"Kattintson a befejezéshez","startCircle":"Kattintson a kör középpontjának elhelyezéséhez","finishCircle":"Kattintson a kör befejezéséhez","placeCircleMarker":"Kattintson a körjelölő elhelyezéséhez"},"actions":{"finish":"Befejezés","cancel":"Mégse","removeLastVertex":"Utolsó pont eltávolítása"},"buttonTitles":{"drawMarkerButton":"Jelölő rajzolása","drawPolyButton":"Poligon rajzolása","drawLineButton":"Vonal rajzolása","drawCircleButton":"Kör rajzolása","drawRectButton":"Négyzet rajzolása","editButton":"Elemek szerkesztése","dragButton":"Elemek mozgatása","cutButton":"Elemek vágása","deleteButton":"Elemek törlése","drawCircleMarkerButton":"Kör jelölő rajzolása","snappingButton":"Kapcsolja a jelöltőt másik elemhez vagy ponthoz","pinningButton":"Közös pontok összekötése"}}'),da:JSON.parse('{"tooltips":{"placeMarker":"Tryk for at placere en markør","firstVertex":"Tryk for at placere det første punkt","continueLine":"Tryk for at fortsætte linjen","finishLine":"Tryk på et eksisterende punkt for at afslutte","finishPoly":"Tryk på det første punkt for at afslutte","finishRect":"Tryk for at afslutte","startCircle":"Tryk for at placere cirklens center","finishCircle":"Tryk for at afslutte cirklen","placeCircleMarker":"Tryk for at placere en cirkelmarkør"},"actions":{"finish":"Afslut","cancel":"Afbryd","removeLastVertex":"Fjern sidste punkt"},"buttonTitles":{"drawMarkerButton":"Placer markør","drawPolyButton":"Tegn polygon","drawLineButton":"Tegn linje","drawCircleButton":"Tegn cirkel","drawRectButton":"Tegn firkant","editButton":"Rediger","dragButton":"Træk","cutButton":"Klip","deleteButton":"Fjern","drawCircleMarkerButton":"Tegn cirkelmarkør","snappingButton":"Fastgør trukket markør til andre elementer","pinningButton":"Sammenlæg delte elementer"}}'),no:JSON.parse('{"tooltips":{"placeMarker":"Klikk for å plassere punkt","firstVertex":"Klikk for å plassere første punkt","continueLine":"Klikk for å tegne videre","finishLine":"Klikk på et eksisterende punkt for å fullføre","finishPoly":"Klikk første punkt for å fullføre","finishRect":"Klikk for å fullføre","startCircle":"Klikk for å sette sirkel midtpunkt","finishCircle":"Klikk for å fullføre sirkel","placeCircleMarker":"Klikk for å plassere sirkel"},"actions":{"finish":"Fullfør","cancel":"Kanseller","removeLastVertex":"Fjern forrige punkt"},"buttonTitles":{"drawMarkerButton":"Tegn Punkt","drawPolyButton":"Tegn Flate","drawLineButton":"Tegn Linje","drawCircleButton":"Tegn Sirkel","drawRectButton":"Tegn rektangel","editButton":"Rediger Objekter","dragButton":"Dra Objekter","cutButton":"Kutt Objekter","deleteButton":"Fjern Objekter","drawCircleMarkerButton":"Tegn sirkel-punkt","snappingButton":"Fest dratt punkt til andre objekter og punkt","pinningButton":"Pin delte punkt sammen"}}'),fa:JSON.parse('{"tooltips":{"placeMarker":"کلیک برای جانمایی نشان","firstVertex":"کلیک برای رسم اولین رأس","continueLine":"کلیک برای ادامه رسم","finishLine":"کلیک روی هر نشان موجود برای پایان","finishPoly":"کلیک روی اولین نشان برای پایان","finishRect":"کلیک برای پایان","startCircle":"کلیک برای رسم مرکز دایره","finishCircle":"کلیک برای پایان رسم دایره","placeCircleMarker":"کلیک برای رسم نشان دایره","placeText":"کلیک برای نوشتن متن"},"actions":{"finish":"پایان","cancel":"لفو","removeLastVertex":"حذف آخرین رأس"},"buttonTitles":{"drawMarkerButton":"درج نشان","drawPolyButton":"رسم چندضلعی","drawLineButton":"رسم خط","drawCircleButton":"رسم دایره","drawRectButton":"رسم چهارضلعی","editButton":"ویرایش لایه‌ها","dragButton":"جابجایی لایه‌ها","cutButton":"برش لایه‌ها","deleteButton":"حذف لایه‌ها","drawCircleMarkerButton":"رسم نشان دایره","snappingButton":"نشانگر را به لایه‌ها و رئوس دیگر بکشید","pinningButton":"رئوس مشترک را با هم پین کنید","rotateButton":"چرخش لایه","drawTextButton":"رسم متن"}}'),ua:JSON.parse(`{"tooltips":{"placeMarker":"Натисніть, щоб нанести маркер","firstVertex":"Натисніть, щоб нанести першу вершину","continueLine":"Натисніть, щоб продовжити малювати","finishLine":"Натисніть будь-який існуючий маркер для завершення","finishPoly":"Виберіть перший маркер, щоб завершити","finishRect":"Натисніть, щоб завершити","startCircle":"Натисніть, щоб додати центр кола","finishCircle":"Натисніть, щоб завершити коло","placeCircleMarker":"Натисніть, щоб нанести круговий маркер"},"actions":{"finish":"Завершити","cancel":"Відмінити","removeLastVertex":"Видалити попередню вершину"},"buttonTitles":{"drawMarkerButton":"Малювати маркер","drawPolyButton":"Малювати полігон","drawLineButton":"Малювати криву","drawCircleButton":"Малювати коло","drawRectButton":"Малювати прямокутник","editButton":"Редагувати шари","dragButton":"Перенести шари","cutButton":"Вирізати шари","deleteButton":"Видалити шари","drawCircleMarkerButton":"Малювати круговий маркер","snappingButton":"Прив’язати перетягнутий маркер до інших шарів та вершин","pinningButton":"Зв'язати спільні вершини разом"}}`),tr:JSON.parse('{"tooltips":{"placeMarker":"İşaretçi yerleştirmek için tıklayın","firstVertex":"İlk tepe noktasını yerleştirmek için tıklayın","continueLine":"Çizime devam etmek için tıklayın","finishLine":"Bitirmek için mevcut herhangi bir işaretçiyi tıklayın","finishPoly":"Bitirmek için ilk işaretçiyi tıklayın","finishRect":"Bitirmek için tıklayın","startCircle":"Daire merkezine yerleştirmek için tıklayın","finishCircle":"Daireyi bitirmek için tıklayın","placeCircleMarker":"Daire işaretçisi yerleştirmek için tıklayın"},"actions":{"finish":"Bitir","cancel":"İptal","removeLastVertex":"Son köşeyi kaldır"},"buttonTitles":{"drawMarkerButton":"Çizim İşaretçisi","drawPolyButton":"Çokgenler çiz","drawLineButton":"Çoklu çizgi çiz","drawCircleButton":"Çember çiz","drawRectButton":"Dikdörtgen çiz","editButton":"Katmanları düzenle","dragButton":"Katmanları sürükle","cutButton":"Katmanları kes","deleteButton":"Katmanları kaldır","drawCircleMarkerButton":"Daire işaretçisi çiz","snappingButton":"Sürüklenen işaretçiyi diğer katmanlara ve köşelere yapıştır","pinningButton":"Paylaşılan köşeleri birbirine sabitle"}}'),cz:JSON.parse('{"tooltips":{"placeMarker":"Kliknutím vytvoříte značku","firstVertex":"Kliknutím vytvoříte první objekt","continueLine":"Kliknutím pokračujte v kreslení","finishLine":"Kliknutí na libovolnou existující značku pro dokončení","finishPoly":"Vyberte první bod pro dokončení","finishRect":"Klikněte pro dokončení","startCircle":"Kliknutím přidejte střed kruhu","finishCircle":"Нажмите, чтобы задать радиус","placeCircleMarker":"Kliknutím nastavte poloměr"},"actions":{"finish":"Dokončit","cancel":"Zrušit","removeLastVertex":"Zrušit poslední akci"},"buttonTitles":{"drawMarkerButton":"Přidat značku","drawPolyButton":"Nakreslit polygon","drawLineButton":"Nakreslit křivku","drawCircleButton":"Nakreslit kruh","drawRectButton":"Nakreslit obdélník","editButton":"Upravit vrstvu","dragButton":"Přeneste vrstvu","cutButton":"Vyjmout vrstvu","deleteButton":"Smazat vrstvu","drawCircleMarkerButton":"Přidat kruhovou značku","snappingButton":"Navázat tažnou značku k dalším vrstvám a vrcholům","pinningButton":"Spojit společné body dohromady"}}'),ja:JSON.parse('{"tooltips":{"placeMarker":"クリックしてマーカーを配置","firstVertex":"クリックして最初の頂点を配置","continueLine":"クリックして描画を続ける","finishLine":"任意のマーカーをクリックして終了","finishPoly":"最初のマーカーをクリックして終了","finishRect":"クリックして終了","startCircle":"クリックして円の中心を配置","finishCircle":"クリックして円の描画を終了","placeCircleMarker":"クリックして円マーカーを配置","placeText":"クリックしてテキストを配置"},"actions":{"finish":"終了","cancel":"キャンセル","removeLastVertex":"最後の頂点を削除"},"buttonTitles":{"drawMarkerButton":"マーカーを描画","drawPolyButton":"ポリゴンを描画","drawLineButton":"折れ線を描画","drawCircleButton":"円を描画","drawRectButton":"矩形を描画","editButton":"レイヤーを編集","dragButton":"レイヤーをドラッグ","cutButton":"レイヤーを切り取り","deleteButton":"レイヤーを削除","drawCircleMarkerButton":"円マーカーを描画","snappingButton":"ドラッグしたマーカーを他のレイヤーや頂点にスナップする","pinningButton":"共有する頂点を同時に動かす","rotateButton":"レイヤーを回転","drawTextButton":"テキストを描画"}}'),fi:JSON.parse('{"tooltips":{"placeMarker":"Klikkaa asettaaksesi merkin","firstVertex":"Klikkaa asettaakseni ensimmäisen osuuden","continueLine":"Klikkaa jatkaaksesi piirtämistä","finishLine":"Klikkaa olemassa olevaa merkkiä lopettaaksesi","finishPoly":"Klikkaa ensimmäistä merkkiä lopettaaksesi","finishRect":"Klikkaa lopettaaksesi","startCircle":"Klikkaa asettaaksesi ympyrän keskipisteen","finishCircle":"Klikkaa lopettaaksesi ympyrän","placeCircleMarker":"Klikkaa asettaaksesi ympyrämerkin","placeText":"Klikkaa asettaaksesi tekstin"},"actions":{"finish":"Valmis","cancel":"Peruuta","removeLastVertex":"Poista viimeinen osuus"},"buttonTitles":{"drawMarkerButton":"Piirrä merkkejä","drawPolyButton":"Piirrä monikulmioita","drawLineButton":"Piirrä viivoja","drawCircleButton":"Piirrä ympyrä","drawRectButton":"Piirrä neliskulmioita","editButton":"Muokkaa","dragButton":"Siirrä","cutButton":"Leikkaa","deleteButton":"Poista","drawCircleMarkerButton":"Piirrä ympyrämerkki","snappingButton":"Kiinnitä siirrettävä merkki toisiin muotoihin","pinningButton":"Kiinnitä jaetut muodot yhteen","rotateButton":"Käännä","drawTextButton":"Piirrä tekstiä"}}'),ko:JSON.parse('{"tooltips":{"placeMarker":"마커 위치를 클릭하세요","firstVertex":"첫번째 꼭지점 위치을 클릭하세요","continueLine":"계속 그리려면 클릭하세요","finishLine":"끝내려면 기존 마커를 클릭하세요","finishPoly":"끝내려면 처음 마커를 클릭하세요","finishRect":"끝내려면 클릭하세요","startCircle":"원의 중심이 될 위치를 클릭하세요","finishCircle":"원을 끝내려면 클릭하세요","placeCircleMarker":"원 마커 위치를 클릭하세요","placeText":"텍스트 위치를 클릭하세요"},"actions":{"finish":"끝내기","cancel":"취소","removeLastVertex":"마지막 꼭지점 제거"},"buttonTitles":{"drawMarkerButton":"마커 그리기","drawPolyButton":"다각형 그리기","drawLineButton":"다각선 그리기","drawCircleButton":"원 그리기","drawRectButton":"직사각형 그리기","editButton":"레이어 편집하기","dragButton":"레이어 끌기","cutButton":"레이어 자르기","deleteButton":"레이어 제거하기","drawCircleMarkerButton":"원 마커 그리기","snappingButton":"잡아끈 마커를 다른 레이어 및 꼭지점에 들러붙게 하기","pinningButton":"공유 꼭지점을 함께 찍기","rotateButton":"레이어 회전하기","drawTextButton":"텍스트 그리기"}}')};function x(h,d){var v=Object.keys(h);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(h);d&&(b=b.filter(function(M){return Object.getOwnPropertyDescriptor(h,M).enumerable})),v.push.apply(v,b)}return v}function R(h){for(var d=1;d<arguments.length;d++){var v=arguments[d]!=null?arguments[d]:{};d%2?x(Object(v),!0).forEach(function(b){B(h,b,v[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(v)):x(Object(v)).forEach(function(b){Object.defineProperty(h,b,Object.getOwnPropertyDescriptor(v,b))})}return h}function B(h,d,v){return d in h?Object.defineProperty(h,d,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[d]=v,h}const Y={_globalEditModeEnabled:!1,enableGlobalEditMode:function(h){var d=R({},h);this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(function(v){v.pm.enable(d)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayers={},this.map.on("layeradd",this._layerAdded,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode:function(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(function(h){h.pm.disable()}),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled:function(){return this.globalEditModeEnabled()},globalEditModeEnabled:function(){return this._globalEditModeEnabled},toggleGlobalEditMode:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.globalOptions;this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(h)},handleLayerAdditionInGlobalEditMode:function(){var h=this._addedLayers;for(var d in this._addedLayers={},h){var v=h[d];this._isRelevantForEdit(v)&&this.globalEditModeEnabled()&&v.pm.enable(R({},this.globalOptions))}},_layerAdded:function(h){var d=h.layer;this._addedLayers[L.stamp(d)]=d},_isRelevantForEdit:function(h){return h.pm&&!(h instanceof L.LayerGroup)&&(!L.PM.optIn&&!h.options.pmIgnore||L.PM.optIn&&h.options.pmIgnore===!1)&&!h._pmTempLayer&&h.pm.options.allowEditing}},Q={_globalDragModeEnabled:!1,enableGlobalDragMode:function(){var h=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},h.forEach(function(d){d.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode:function(){var h=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,h.forEach(function(d){d.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled:function(){return!!this._globalDragModeEnabled},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(){var h=this._addedLayersDrag;for(var d in this._addedLayersDrag={},h){var v=h[d];this._isRelevantForDrag(v)&&this.globalDragModeEnabled()&&v.pm.enableLayerDrag()}},_layerAddedDrag:function(h){var d=h.layer;this._addedLayersDrag[L.stamp(d)]=d},_isRelevantForDrag:function(h){return h.pm&&!(h instanceof L.LayerGroup)&&(!L.PM.optIn&&!h.options.pmIgnore||L.PM.optIn&&h.options.pmIgnore===!1)&&!h._pmTempLayer&&h.pm.options.draggable}},rt={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode:function(){var h=this;this._globalRemovalModeEnabled=!0,this.map.eachLayer(function(d){h._isRelevantForRemoval(d)&&(d.pm.disable(),d.on("click",h.removeLayer,h))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.reinitGlobalRemovalMode,100,this)),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode:function(){var h=this;this._globalRemovalModeEnabled=!1,this.map.eachLayer(function(d){d.off("click",h.removeLayer,h)}),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled:function(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled:function(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode:function(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},reinitGlobalRemovalMode:function(h){var d=h.layer;this._isRelevantForRemoval(d)&&this.globalRemovalModeEnabled()&&(this.disableGlobalRemovalMode(),this.enableGlobalRemovalMode())},removeLayer:function(h){var d=h.target;this._isRelevantForRemoval(d)&&!d.pm.dragging()&&(d.removeFrom(this.map.pm._getContainingLayer()),d.remove(),d instanceof L.LayerGroup?(this._fireRemoveLayerGroup(d),this._fireRemoveLayerGroup(this.map,d)):(d.pm._fireRemove(d),d.pm._fireRemove(this.map,d)))},_isRelevantForRemoval:function(h){return h.pm&&!(h instanceof L.LayerGroup)&&(!L.PM.optIn&&!h.options.pmIgnore||L.PM.optIn&&h.options.pmIgnore===!1)&&!h._pmTempLayer&&h.pm.options.allowRemoval}},ct={_globalRotateModeEnabled:!1,enableGlobalRotateMode:function(){var h=this;this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(function(d){return d instanceof L.Polyline}).forEach(function(d){h._isRelevantForRotate(d)&&d.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this._reinitGlobalRotateMode,100,this)),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode:function(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(function(h){return h instanceof L.Polyline}).forEach(function(h){h.pm.disableRotate()}),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled:function(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode:function(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_reinitGlobalRotateMode:function(h){var d=h.layer;this._isRelevantForRotate(d)&&this.globalRotateModeEnabled()&&(this.disableGlobalRotateMode(),this.enableGlobalRotateMode())},_isRelevantForRotate:function(h){return h.pm&&!(h instanceof L.LayerGroup)&&(!L.PM.optIn&&!h.options.pmIgnore||L.PM.optIn&&h.options.pmIgnore===!1)&&!h._pmTempLayer&&h.pm.options.allowRotation}};function X(h,d){var v=Object.keys(h);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(h);d&&(b=b.filter(function(M){return Object.getOwnPropertyDescriptor(h,M).enumerable})),v.push.apply(v,b)}return v}function J(h){for(var d=1;d<arguments.length;d++){var v=arguments[d]!=null?arguments[d]:{};d%2?X(Object(v),!0).forEach(function(b){at(h,b,v[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(v)):X(Object(v)).forEach(function(b){Object.defineProperty(h,b,Object.getOwnPropertyDescriptor(v,b))})}return h}function at(h,d,v){return d in h?Object.defineProperty(h,d,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[d]=v,h}var it={_fireDrawStart:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},h,d)},_fireDrawEnd:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawend",{shape:this._shape},h,d)},_fireCreate:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Draw",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._map,"pm:create",{shape:this._shape,marker:h,layer:h},d,v)},_fireCenterPlaced:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=h==="Draw"?this._layer:void 0,b=h!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:v,layer:b,latlng:this._layer.getLatLng()},h,d)},_fireCut:function(h,d,v){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Draw",M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(h,"pm:cut",{shape:this._shape,layer:d,originalLayer:v},b,M)},_fireEdit:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._layer,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(h,"pm:edit",{layer:this._layer,shape:this.getShape()},d,v)},_fireEnable:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},h,d)},_fireDisable:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},h,d)},_fireUpdate:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},h,d)},_fireMarkerDragStart:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:h,shape:this.getShape(),indexPath:d},v,b)},_fireMarkerDrag:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:h,shape:this.getShape(),indexPath:d},v,b)},_fireMarkerDragEnd:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:h,shape:this.getShape(),indexPath:d,intersectionReset:v},b,M)},_fireDragStart:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},h,d)},_fireDrag:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:drag",J(J({},h),{},{shape:this.getShape()}),d,v)},_fireDragEnd:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},h,d)},_fireDragEnable:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},h,d)},_fireDragDisable:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},h,d)},_fireRemove:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(h,"pm:remove",{layer:d,shape:this.getShape()},v,b)},_fireVertexAdded:function(h,d,v){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:h,indexPath:d,latlng:v,shape:this.getShape()},b,M)},_fireVertexRemoved:function(h,d){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:h,indexPath:d,shape:this.getShape()},v,b)},_fireVertexClick:function(h,d){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:h,indexPath:d,shape:this.getShape()},v,b)},_fireIntersect:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:intersect",{layer:this._layer,intersection:h,shape:this.getShape()},d,v)},_fireLayerReset:function(h,d){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:h,indexPath:d,shape:this.getShape()},v,b)},_fireChange:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:h,shape:this.getShape()},d,v)},_fireTextChange:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:h,shape:this.getShape()},d,v)},_fireTextFocus:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},h,d)},_fireTextBlur:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},h,d)},_fireSnapDrag:function(h,d){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(h,"pm:snapdrag",d,v,b)},_fireSnap:function(h,d){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(h,"pm:snap",d,v,b)},_fireUnsnap:function(h,d){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(h,"pm:unsnap",d,v,b)},_fireRotationEnable:function(h,d){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(h,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},v,b)},_fireRotationDisable:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Rotation",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(h,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},d,v)},_fireRotationStart:function(h,d){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(h,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:d},v,b)},_fireRotation:function(h,d,v){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this._rotationLayer,M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Rotation",A=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(h,"pm:rotate",{layer:b,helpLayer:this._layer,startAngle:this._startAngle,angle:b.pm.getAngle(),angleDiff:d,oldLatLngs:v,newLatLngs:b.getLatLngs()},M,A)},_fireRotationEnd:function(h,d,v){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Rotation",M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(h,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:d,angle:this._rotationLayer.pm.getAngle(),originLatLngs:v,newLatLngs:this._rotationLayer.getLatLngs()},b,M)},_fireActionClick:function(h,d,v){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Toolbar",M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._map,"pm:actionclick",{text:h.text,action:h,btnName:d,button:v},b,M)},_fireButtonClick:function(h,d){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Toolbar",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._map,"pm:buttonclick",{btnName:h,button:d},v,b)},_fireLangChange:function(h,d,v,b){var M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Global",A=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(this.map,"pm:langchange",{oldLang:h,activeLang:d,fallback:v,translations:b},M,A)},_fireGlobalDragModeToggled:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:h,map:this.map},d,v)},_fireGlobalEditModeToggled:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:h,map:this.map},d,v)},_fireGlobalRemovalModeToggled:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:h,map:this.map},d,v)},_fireGlobalCutModeToggled:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},h,d)},_fireGlobalDrawModeToggled:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},h,d)},_fireGlobalRotateModeToggled:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},h,d)},_fireRemoveLayerGroup:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(h,"pm:remove",{layer:d,shape:void 0},v,b)},_fireKeyeventEvent:function(h,d,v){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Global",M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this.map,"pm:keyevent",{event:h,eventType:d,focusOn:v},b,M)},__fire:function(h,d,v,b){var M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};v=u()(v,M,{source:b}),L.PM.Utils._fireEvent(h,d,v)}};const ot=it,bt={_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener:function(h){this.map=h,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this)},_onKeyListener:function(h){var d="document";this.map.getContainer().contains(h.target)&&(d="map");var v={event:h,eventType:h.type,focusOn:d};this._lastEvents[h.type]=v,this._lastEvents.current=v,this.map.pm._fireKeyeventEvent(h,h.type,d)},_onBlur:function(h){h.altKey=!1;var d={event:h,eventType:h.type,focusOn:"document"};this._lastEvents[h.type]=d,this._lastEvents.current=d},getLastKeyEvent:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"current";return this._lastEvents[h]},isShiftKeyPressed:function(){var h;return(h=this._lastEvents.current)===null||h===void 0?void 0:h.event.shiftKey},isAltKeyPressed:function(){var h;return(h=this._lastEvents.current)===null||h===void 0?void 0:h.event.altKey},isCtrlKeyPressed:function(){var h;return(h=this._lastEvents.current)===null||h===void 0?void 0:h.event.ctrlKey},isMetaKeyPressed:function(){var h;return(h=this._lastEvents.current)===null||h===void 0?void 0:h.event.metaKey},getPressedKey:function(){var h;return(h=this._lastEvents.current)===null||h===void 0?void 0:h.event.key}};var Bt=o(7361),ut=o.n(Bt),Ut=o(8721),Rt=o.n(Ut);function Tt(h){var d=L.PM.activeLang;return Rt()(N,d)||(d="en"),ut()(N[d],h)}function Xt(h){for(var d=0;d<h.length;d+=1){var v=h[d];if(Array.isArray(v)){if(Xt(v))return!0}else if(v!=null&&v!=="")return!0}return!1}function Fe(h){return h.reduce(function(d,v){if(v.length!==0){var b=Array.isArray(v)?Fe(v):v;Array.isArray(b)?b.length!==0&&d.push(b):d.push(b)}return d},[])}function Ge(h,d,v){for(var b,M,A,F=6378137,V=63567523142e-4,G=.0033528106647474805,H=h.lng,tt=h.lat,gt=v,ht=Math.PI,St=d*ht/180,Dt=Math.sin(St),Wt=Math.cos(St),me=(1-G)*Math.tan(tt*ht/180),Xe=1/Math.sqrt(1+me*me),qt=me*Xe,Ye=Math.atan2(me,Wt),Qe=Xe*Dt,Jn=1-Qe*Qe,Oi=Jn*(F*F-V*V)/(V*V),ql=1+Oi/16384*(4096+Oi*(Oi*(320-175*Oi)-768)),Ss=Oi/1024*(256+Oi*(Oi*(74-47*Oi)-128)),So=gt/(V*ql),el=2*Math.PI;Math.abs(So-el)>1e-12;)b=Math.cos(2*Ye+So),el=So,So=gt/(V*ql)+Ss*(M=Math.sin(So))*(b+Ss/4*((A=Math.cos(So))*(2*b*b-1)-Ss/6*b*(4*M*M-3)*(4*b*b-3)));var Xl=qt*M-Xe*A*Wt,sh=Math.atan2(qt*A+Xe*M*Wt,(1-G)*Math.sqrt(Qe*Qe+Xl*Xl)),ks=G/16*Jn*(4+G*(4-3*Jn)),ah=H+180*(Math.atan2(M*Dt,Xe*A-qt*M*Wt)-(1-ks)*G*Qe*(So+ks*M*(b+ks*A*(2*b*b-1))))/ht,oi=180*sh/ht;return L.latLng(ah,oi)}function ie(h,d,v,b){for(var M,A,F=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],V=[],G=0;G<v;G+=1){if(F)M=Ge(h,360*G/v+b,d),A=L.latLng(M.lng,M.lat);else{var H=h.lat+Math.cos(2*G*Math.PI/v)*d,tt=h.lng+Math.sin(2*G*Math.PI/v)*d;A=L.latLng(H,tt)}V.push(A)}return V}function fe(h,d,v,b){var M=function(A,F,V){var G=A.latLngToContainerPoint(F),H=A.latLngToContainerPoint(V),tt=180*Math.atan2(H.y-G.y,H.x-G.x)/Math.PI+90;return tt+(tt<0?360:0)}(h,d,v);return function(A,F,V){F=(F+360)%360;var G=Math.PI/180,H=180/Math.PI,tt=6378137,gt=A.lng*G,ht=A.lat*G,St=F*G,Dt=Math.sin(ht),Wt=Math.cos(ht),me=Math.cos(V/tt),Xe=Math.sin(V/tt),qt=Math.asin(Dt*me+Wt*Xe*Math.cos(St)),Ye=gt+Math.atan2(Math.sin(St)*Xe*Wt,me-Dt*Math.sin(qt));return Ye=(Ye*=H)>180?Ye-360:Ye<-180?Ye+360:Ye,L.latLng([qt*H,Ye])}(d,M,b)}function gr(h,d){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"asc";if(!d||Object.keys(d).length===0)return function(G,H){return G-H};for(var b,M=Object.keys(d),A=M.length-1,F={};A>=0;)b=M[A],F[b.toLowerCase()]=d[b],A-=1;function V(G){return G instanceof L.Marker?"Marker":G instanceof L.Circle?"Circle":G instanceof L.CircleMarker?"CircleMarker":G instanceof L.Rectangle?"Rectangle":G instanceof L.Polygon?"Polygon":G instanceof L.Polyline?"Line":void 0}return function(G,H){var tt,gt;if(h==="instanceofShape"){if(tt=V(G.layer).toLowerCase(),gt=V(H.layer).toLowerCase(),!tt||!gt)return 0}else{if(!G.hasOwnProperty(h)||!H.hasOwnProperty(h))return 0;tt=G[h].toLowerCase(),gt=H[h].toLowerCase()}var ht=tt in F?F[tt]:Number.MAX_SAFE_INTEGER,St=gt in F?F[gt]:Number.MAX_SAFE_INTEGER,Dt=0;return ht<St?Dt=-1:ht>St&&(Dt=1),v==="desc"?-1*Dt:Dt}}function In(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.getLatLngs();return h instanceof L.Polygon?L.polygon(d).getLatLngs():L.polyline(d).getLatLngs()}function Wi(h,d){var v,b;if((v=d.options.crs)!==null&&v!==void 0&&(b=v.projection)!==null&&b!==void 0&&b.MAX_LATITUDE){var M,A,F=(M=d.options.crs)===null||M===void 0||(A=M.projection)===null||A===void 0?void 0:A.MAX_LATITUDE;h.lat=Math.max(Math.min(F,h.lat),-F)}return h}function Tr(h){return h.options.renderer||h._map&&(h._map._getPaneRenderer(h.options.pane)||h._map.options.renderer||h._map._renderer)||h._renderer}const bo=L.Class.extend({includes:[Y,Q,rt,ct,ot],initialize:function(h){this.map=h,this.Draw=new L.PM.Draw(h),this.Toolbar=new L.PM.Toolbar(h),this.Keyboard=bt,this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(h)},setLang:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en",d=arguments.length>1?arguments[1]:void 0,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"en",b=L.PM.activeLang;d&&(N[h]=u()(N[v],d)),L.PM.activeLang=h,this.map.pm.Toolbar.reinit(),this._fireLangChange(b,h,v,N[h])},addControls:function(h){this.Toolbar.addControls(h)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon",d=arguments.length>1?arguments[1]:void 0;h==="Poly"&&(h="Polygon"),this.Draw.enable(h,d)},disableDraw:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon";h==="Poly"&&(h="Polygon"),this.Draw.disable(h)},setPathOptions:function(h){var d=this,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=v.ignoreShapes||[],M=v.merge||!1;this.map.pm.Draw.shapes.forEach(function(A){b.indexOf(A)===-1&&d.map.pm.Draw[A].setPathOptions(h,M)})},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(h){var d=this,v=u()(this.globalOptions,h),b=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.editable!=!!v.editable&&(this.map.pm.Draw.CircleMarker.disable(),b=!0),this.map.pm.Draw.shapes.forEach(function(M){d.map.pm.Draw[M].setOptions(v)}),b&&this.map.pm.Draw.CircleMarker.enable(),L.PM.Utils.findLayers(this.map).forEach(function(M){M.pm.setOptions(v)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=v,this.applyGlobalOptions()},applyGlobalOptions:function(){L.PM.Utils.findLayers(this.map).forEach(function(h){h.pm.enabled()&&h.pm.applyOptions()})},globalDrawModeEnabled:function(){return!!this.Draw.getActiveShape()},globalCutModeEnabled:function(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode:function(h){return this.Draw.Cut.enable(h)},toggleGlobalCutMode:function(h){return this.Draw.Cut.toggle(h)},disableGlobalCutMode:function(){return this.Draw.Cut.disable()},getGeomanLayers:function(){var h=arguments.length>0&&arguments[0]!==void 0&&arguments[0],d=L.PM.Utils.findLayers(this.map);if(!h)return d;var v=L.featureGroup();return v._pmTempLayer=!0,d.forEach(function(b){v.addLayer(b)}),v},getGeomanDrawLayers:function(){var h=arguments.length>0&&arguments[0]!==void 0&&arguments[0],d=L.PM.Utils.findLayers(this.map).filter(function(b){return b._drawnByGeoman===!0});if(!h)return d;var v=L.featureGroup();return v._pmTempLayer=!0,d.forEach(function(b){v.addLayer(b)}),v},_getContainingLayer:function(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple:function(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents:function(h){this._touchEventCounter===0&&(L.DomEvent.on(h,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(h,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents:function(h){this._touchEventCounter===1&&(L.DomEvent.off(h,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(h,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove:function(h){Tr(this.map)._onMouseMove(this._createMouseEvent("mousemove",h))},_canvasTouchClick:function(h){var d="";h.type==="touchstart"||h.type==="pointerdown"?d="mousedown":h.type==="touchend"||h.type==="pointerup"?d="mouseup":h.type!=="touchcancel"&&h.type!=="pointercancel"||(d="mouseup"),d&&Tr(this.map)._onClick(this._createMouseEvent(d,h))},_createMouseEvent:function(h,d){var v,b=d.touches[0]||d.changedTouches[0];try{v=new MouseEvent(h,{bubbles:d.bubbles,cancelable:d.cancelable,view:d.view,detail:b.detail,screenX:b.screenX,screenY:b.screenY,clientX:b.clientX,clientY:b.clientY,ctrlKey:d.ctrlKey,altKey:d.altKey,shiftKey:d.shiftKey,metaKey:d.metaKey,button:d.button,relatedTarget:d.relatedTarget})}catch{(v=document.createEvent("MouseEvents")).initMouseEvent(h,d.bubbles,d.cancelable,d.view,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget)}return v}}),ni=L.Control.extend({includes:[ot],options:{position:"topleft",disableByOtherButtons:!0},initialize:function(h){this._button=L.Util.extend({},this.options,h)},onAdd:function(h){return this._map=h,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(h){return this._button.toggleStatus=typeof h=="boolean"?h:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},disable:function(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable:function(){this._button.disabled=!1,this._updateDisabled()},_triggerClick:function(h){h&&h.preventDefault(),this._button.disabled||(this._button.onClick(h,{button:this,event:h}),this._clicked(h),this._button.afterClick(h,{button:this,event:h}))},_makeButton:function(h){var d=this,v=this.options.position.indexOf("right")>-1?"pos-right":"",b=L.DomUtil.create("div","button-container  ".concat(v),this._container);h.title&&b.setAttribute("title",h.title);var M=L.DomUtil.create("a","leaflet-buttons-control-button",b);M.setAttribute("role","button"),M.setAttribute("tabindex","0"),M.href="#";var A=L.DomUtil.create("div","leaflet-pm-actions-container ".concat(v),b),F=h.actions,V={cancel:{text:Tt("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:Tt("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:Tt("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[h.jsClass]._removeLastVertex()}},finish:{text:Tt("actions.finish"),onClick:function(H){this._map.pm.Draw[h.jsClass]._finishShape(H)}}};F.forEach(function(H){var tt,gt=typeof H=="string"?H:H.name;if(V[gt])tt=V[gt];else{if(!H.text)return;tt=H}var ht=L.DomUtil.create("a","leaflet-pm-action ".concat(v," action-").concat(gt),A);ht.setAttribute("role","button"),ht.setAttribute("tabindex","0"),ht.href="#",ht.innerHTML=tt.text,L.DomEvent.disableClickPropagation(ht),L.DomEvent.on(ht,"click",L.DomEvent.stop),!h.disabled&&tt.onClick&&(L.DomEvent.addListener(ht,"click",function(St){St.preventDefault();var Dt="",Wt=d._map.pm.Toolbar.buttons;for(var me in Wt)if(Wt[me]._button===h){Dt=me;break}d._fireActionClick(tt,Dt,h)},d),L.DomEvent.addListener(ht,"click",tt.onClick,d))}),h.toggleStatus&&L.DomUtil.addClass(b,"active");var G=L.DomUtil.create("div","control-icon",M);return h.iconUrl&&G.setAttribute("src",h.iconUrl),h.className&&L.DomUtil.addClass(G,h.className),L.DomEvent.disableClickPropagation(M),L.DomEvent.on(M,"click",L.DomEvent.stop),h.disabled||(L.DomEvent.addListener(M,"click",this._onBtnClick,this),L.DomEvent.addListener(M,"click",this._triggerClick,this)),h.disabled&&(L.DomUtil.addClass(M,"pm-disabled"),M.setAttribute("aria-disabled","true")),b},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus&&this._button.cssToggle!==!1?(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")):(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")))},_onBtnClick:function(){this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);var h="",d=this._map.pm.Toolbar.buttons;for(var v in d)if(d[v]._button===this._button){h=v;break}this._fireButtonClick(h,this._button)},_clicked:function(){this._button.doToggle&&this.toggle()},_updateDisabled:function(){if(this._container){var h="pm-disabled",d=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(d,h),d.setAttribute("aria-disabled","true"),L.DomEvent.off(d,"click",this._triggerClick,this),L.DomEvent.off(d,"click",this._onBtnClick,this)):(L.DomUtil.removeClass(d,h),d.setAttribute("aria-disabled","false"),L.DomEvent.on(d,"click",this._triggerClick,this),L.DomEvent.on(d,"click",this._onBtnClick,this))}}});function Ki(h,d){var v=Object.keys(h);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(h);d&&(b=b.filter(function(M){return Object.getOwnPropertyDescriptor(h,M).enumerable})),v.push.apply(v,b)}return v}function Kn(h){for(var d=1;d<arguments.length;d++){var v=arguments[d]!=null?arguments[d]:{};d%2?Ki(Object(v),!0).forEach(function(b){jo(h,b,v[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(v)):Ki(Object(v)).forEach(function(b){Object.defineProperty(h,b,Object.getOwnPropertyDescriptor(v,b))})}return h}function jo(h,d,v){return d in h?Object.defineProperty(h,d,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[d]=v,h}function Ji(h){return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},Ji(h)}L.Control.PMButton=ni;const Co=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize:function(h){this.init(h)},reinit:function(){var h=this.isVisible;this.removeControls(),this._defineButtons(),h&&this.addControls()},init:function(h){this.map=h,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer:function(h){var d="".concat(h,"Container");return this[d]||(this[d]=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-".concat(h," leaflet-bar leaflet-control"))),this[d]},getButtons:function(){return this.buttons},addControls:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;typeof h.editPolygon<"u"&&(h.editMode=h.editPolygon),typeof h.deleteLayer<"u"&&(h.removalMode=h.deleteLayer),L.Util.setOptions(this,h),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle:function(){var h=this.getButtons(),d={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(var v in h){var b=h[v];L.Util.setOptions(b,{className:d.geomanIcons[v]})}},removeControls:function(){var h=this.getButtons();for(var d in h)h[d].remove();this.isVisible=!1},toggleControls:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(h)},_addButton:function(h,d){return this.buttons[h]=d,this.options[h]=this.options[h]||!1,this.buttons[h]},triggerClickOnToggledButtons:function(h){for(var d in this.buttons){var v=this.buttons[d];v._button.disableByOtherButtons&&v!==h&&v.toggled()&&v._triggerClick()}},toggleButton:function(h,d){var v=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return h==="editPolygon"&&(h="editMode"),h==="deleteLayer"&&(h="removalMode"),v&&this.triggerClickOnToggledButtons(this.buttons[h]),!!this.buttons[h]&&this.buttons[h].toggle(d)},_defineButtons:function(){var h=this,d={className:"control-icon leaflet-pm-icon-marker",title:Tt("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(St,Dt){h.map.pm.Draw[Dt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},v={title:Tt("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(St,Dt){h.map.pm.Draw[Dt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},b={className:"control-icon leaflet-pm-icon-polyline",title:Tt("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(St,Dt){h.map.pm.Draw[Dt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},M={title:Tt("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(St,Dt){h.map.pm.Draw[Dt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},A={title:Tt("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(St,Dt){h.map.pm.Draw[Dt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},F={title:Tt("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(St,Dt){h.map.pm.Draw[Dt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},V={title:Tt("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){h.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},G={title:Tt("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){h.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},H={title:Tt("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(St,Dt){h.map.pm.Draw[Dt.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},tt={title:Tt("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){h.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},gt={title:Tt("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:function(){},afterClick:function(){h.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},ht={className:"control-icon leaflet-pm-icon-text",title:Tt("buttonTitles.drawTextButton"),jsClass:"Text",onClick:function(){},afterClick:function(St,Dt){h.map.pm.Draw[Dt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(d)),this._addButton("drawPolyline",new L.Control.PMButton(b)),this._addButton("drawRectangle",new L.Control.PMButton(F)),this._addButton("drawPolygon",new L.Control.PMButton(v)),this._addButton("drawCircle",new L.Control.PMButton(M)),this._addButton("drawCircleMarker",new L.Control.PMButton(A)),this._addButton("drawText",new L.Control.PMButton(ht)),this._addButton("editMode",new L.Control.PMButton(V)),this._addButton("dragMode",new L.Control.PMButton(G)),this._addButton("cutPolygon",new L.Control.PMButton(H)),this._addButton("removalMode",new L.Control.PMButton(tt)),this._addButton("rotateMode",new L.Control.PMButton(gt))},_showHideButtons:function(){if(this.isVisible){this.removeControls(),this.isVisible=!0;var h=this.getButtons(),d=[];for(var v in this.options.drawControls===!1&&(d=d.concat(Object.keys(h).filter(function(M){return!h[M]._button.tool}))),this.options.editControls===!1&&(d=d.concat(Object.keys(h).filter(function(M){return h[M]._button.tool==="edit"}))),this.options.optionsControls===!1&&(d=d.concat(Object.keys(h).filter(function(M){return h[M]._button.tool==="options"}))),this.options.customControls===!1&&(d=d.concat(Object.keys(h).filter(function(M){return h[M]._button.tool==="custom"}))),h)if(this.options[v]&&d.indexOf(v)===-1){var b=h[v]._button.tool;b||(b="draw"),h[v].setPosition(this._getBtnPosition(b)),h[v].addTo(this.map)}}},_getBtnPosition:function(h){return this.options.positions&&this.options.positions[h]?this.options.positions[h]:this.options.position},setBlockPosition:function(h,d){this.options.positions[h]=d,this._showHideButtons(),this.changeControlOrder()},getBlockPositions:function(){return this.options.positions},copyDrawControl:function(h,d){if(!d)throw new TypeError("Button has no name");Ji(d)!=="object"&&(d={name:d});var v=this._btnNameMapping(h);if(!d.name)throw new TypeError("Button has no name");if(this.buttons[d.name])throw new TypeError("Button with this name already exists");var b=this.map.pm.Draw.createNewDrawInstance(d.name,v);return d=Kn(Kn({},this.buttons[v]._button),d),{drawInstance:b,control:this.createCustomControl(d)}},createCustomControl:function(h){var d,v;if(!h.name)throw new TypeError("Button has no name");if(this.buttons[h.name])throw new TypeError("Button with this name already exists");h.onClick||(h.onClick=function(){}),h.afterClick||(h.afterClick=function(){}),h.toggle!==!1&&(h.toggle=!0),h.block&&(h.block=h.block.toLowerCase()),h.block&&h.block!=="draw"||(h.block=""),h.className?h.className.indexOf("control-icon")===-1&&(h.className="control-icon ".concat(h.className)):h.className="control-icon";var b={tool:h.block,className:h.className,title:h.title||"",jsClass:h.name,onClick:h.onClick,afterClick:h.afterClick,doToggle:h.toggle,toggleStatus:!1,disableOtherButtons:(d=h.disableOtherButtons)===null||d===void 0||d,disableByOtherButtons:(v=h.disableByOtherButtons)===null||v===void 0||v,cssToggle:h.toggle,position:this.options.position,actions:h.actions||[],disabled:!!h.disabled};this.options[h.name]!==!1&&(this.options[h.name]=!0);var M=this._addButton(h.name,new L.Control.PMButton(b));return this.changeControlOrder(),M},changeControlOrder:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=this._shapeMapping(),v=[];h.forEach(function(H){d[H]?v.push(d[H]):v.push(H)});var b=this.getButtons(),M={};v.forEach(function(H){b[H]&&(M[H]=b[H])});var A=Object.keys(b).filter(function(H){return!b[H]._button.tool});A.forEach(function(H){v.indexOf(H)===-1&&(M[H]=b[H])});var F=Object.keys(b).filter(function(H){return b[H]._button.tool==="edit"});F.forEach(function(H){v.indexOf(H)===-1&&(M[H]=b[H])});var V=Object.keys(b).filter(function(H){return b[H]._button.tool==="options"});V.forEach(function(H){v.indexOf(H)===-1&&(M[H]=b[H])});var G=Object.keys(b).filter(function(H){return b[H]._button.tool==="custom"});G.forEach(function(H){v.indexOf(H)===-1&&(M[H]=b[H])}),Object.keys(b).forEach(function(H){v.indexOf(H)===-1&&(M[H]=b[H])}),this.map.pm.Toolbar.buttons=M,this._showHideButtons()},getControlOrder:function(){var h=this.getButtons(),d=[];for(var v in h)d.push(v);return d},changeActionsOfControl:function(h,d){var v=this._btnNameMapping(h);if(!v)throw new TypeError("No name passed");if(!d)throw new TypeError("No actions passed");if(!this.buttons[v])throw new TypeError("Button with this name not exists");this.buttons[v]._button.actions=d,this.changeControlOrder()},setButtonDisabled:function(h,d){var v=this._btnNameMapping(h);d?this.buttons[v].disable():this.buttons[v].enable()},_shapeMapping:function(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping:function(h){var d=this._shapeMapping();return d[h]?d[h]:h}});function Ti(h,d){var v=Object.keys(h);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(h);d&&(b=b.filter(function(M){return Object.getOwnPropertyDescriptor(h,M).enumerable})),v.push.apply(v,b)}return v}function Z(h){for(var d=1;d<arguments.length;d++){var v=arguments[d]!=null?arguments[d]:{};d%2?Ti(Object(v),!0).forEach(function(b){k(h,b,v[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(v)):Ti(Object(v)).forEach(function(b){Object.defineProperty(h,b,Object.getOwnPropertyDescriptor(v,b))})}return h}function k(h,d,v){return d in h?Object.defineProperty(h,d,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[d]=v,h}var O={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(h){var d=this;h.forEach(function(v){Array.isArray(v)?d._assignEvents(v):(v.off("drag",d._handleSnapping,d),v.on("drag",d._handleSnapping,d),v.off("dragend",d._cleanupSnapping,d),v.on("dragend",d._cleanupSnapping,d))})},_cleanupSnapping:function(h){h&&(h.target._snapped=!1),delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("pm:remove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(d){d.remove()})},_handleThrottleSnapping:function(){this.throttledList&&this._createSnapList()},_handleSnapping:function(h){var d=this,v=h.target;if(v._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),this._map.pm.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;var b=this._calcClosestLayer(v.getLatLng(),this._snapList);if(Object.keys(b).length===0)return!1;var M,A=b.layer instanceof L.Marker||b.layer instanceof L.CircleMarker||!this.options.snapSegment;M=A?b.latlng:this._checkPrioritiySnapping(b);var F=this.options.snapDistance,V={marker:v,shape:this._shape,snapLatLng:M,segment:b.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:b.layer,distance:b.distance};if(this._fireSnapDrag(V.marker,V),this._fireSnapDrag(this._layer,V),b.distance<F){v._orgLatLng=v.getLatLng(),v.setLatLng(M),v._snapped=!0,v._snapInfo=V;var G=this._snapLatLng||{},H=M||{};G.lat===H.lat&&G.lng===H.lng||(d._snapLatLng=M,d._fireSnap(v,V),d._fireSnap(d._layer,V))}else this._snapLatLng&&(this._unsnap(V),v._snapped=!1,v._snapInfo=void 0,this._fireUnsnap(V.marker,V),this._fireUnsnap(this._layer,V));return!0},_createSnapList:function(){var h=this,d=[],v=[],b=this._map;b.off("pm:remove",this._handleSnapLayerRemoval,this),b.on("pm:remove",this._handleSnapLayerRemoval,this),b.eachLayer(function(M){if((M instanceof L.Polyline||M instanceof L.Marker||M instanceof L.CircleMarker||M instanceof L.ImageOverlay)&&M.options.snapIgnore!==!0){if(M.options.snapIgnore===void 0&&(!L.PM.optIn&&M.options.pmIgnore===!0||L.PM.optIn&&M.options.pmIgnore!==!1))return;(M instanceof L.Circle||M instanceof L.CircleMarker)&&M.pm&&M.pm._hiddenPolyCircle?d.push(M.pm._hiddenPolyCircle):M instanceof L.ImageOverlay&&(M=L.rectangle(M.getBounds())),d.push(M);var A=L.polyline([],{color:"red",pmIgnore:!0});A._pmTempLayer=!0,v.push(A),(M instanceof L.Circle||M instanceof L.CircleMarker)&&v.push(A)}}),d=(d=(d=d.filter(function(M){return h._layer!==M})).filter(function(M){return M._latlng||M._latlngs&&Xt(M._latlngs)})).filter(function(M){return!M._pmTempLayer}),this._otherSnapLayers?(this._otherSnapLayers.forEach(function(){var M=L.polyline([],{color:"red",pmIgnore:!0});M._pmTempLayer=!0,v.push(M)}),this._snapList=d.concat(this._otherSnapLayers)):this._snapList=d,this.debugIndicatorLines=v},_handleSnapLayerRemoval:function(h){var d=h.layer,v=this._snapList.findIndex(function(b){return b._leaflet_id===d._leaflet_id});this._snapList.splice(v,1)},_calcClosestLayer:function(h,d){return this._calcClosestLayers(h,d,1)[0]},_calcClosestLayers:function(h,d){var v=this,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,M=[],A={};d.forEach(function(V,G){if(!V._parentCopy||V._parentCopy!==v._layer){var H=v._calcLayerDistances(h,V);if(H.distance=Math.floor(H.distance),v.debugIndicatorLines){if(!v.debugIndicatorLines[G]){var tt=L.polyline([],{color:"red",pmIgnore:!0});tt._pmTempLayer=!0,v.debugIndicatorLines[G]=tt}v.debugIndicatorLines[G].setLatLngs([h,H.latlng])}b===1&&(A.distance===void 0||H.distance<=A.distance)?(H.distance<A.distance&&(M=[]),(A=H).layer=V,M.push(A)):b!==1&&(A={},(A=H).layer=V,M.push(A))}}),b!==1&&(M=M.sort(function(V,G){return V.distance-G.distance})),b===-1&&(b=M.length);var F=this._getClosestLayerByPriority(M,b);return L.Util.isArray(F)?F:[F]},_calcLayerDistances:function(h,d){var v=this._map,b=d instanceof L.Marker||d instanceof L.CircleMarker,M=d instanceof L.Polygon,A=h;if(b){var F=d.getLatLng();return{latlng:Z({},F),distance:this._getDistance(v,F,A)}}return this._calcLatLngDistances(A,d.getLatLngs(),v,M)},_calcLatLngDistances:function(h,d,v){var b,M,A,F=this,V=arguments.length>3&&arguments[3]!==void 0&&arguments[3],G=function tt(gt){gt.forEach(function(ht,St){if(Array.isArray(ht))tt(ht);else if(F.options.snapSegment){var Dt,Wt=ht;Dt=V?St+1===gt.length?0:St+1:St+1===gt.length?void 0:St+1;var me=gt[Dt];if(me){var Xe=F._getDistanceToSegment(v,h,Wt,me);(M===void 0||Xe<M)&&(M=Xe,A=[Wt,me])}}else{var qt=F._getDistance(v,h,ht);(M===void 0||qt<M)&&(M=qt,b=ht)}})};if(G(d),this.options.snapSegment){var H=this._getClosestPointOnSegment(v,h,A[0],A[1]);return{latlng:Z({},H),segment:A,distance:M}}return{latlng:b,distance:M}},_getClosestLayerByPriority:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;h=h.sort(function(F,V){return F._leaflet_id-V._leaflet_id});var v=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],b=this._map.pm.globalOptions.snappingOrder||[],M=0,A={};return b.concat(v).forEach(function(F){A[F]||(M+=1,A[F]=M)}),h.sort(gr("instanceofShape",A)),d===1?h[0]||{}:h.slice(0,d)},_checkPrioritiySnapping:function(h){var d=this._map,v=h.segment[0],b=h.segment[1],M=h.latlng,A=this._getDistance(d,v,M),F=this._getDistance(d,b,M),V=A<F?v:b,G=A<F?A:F;if(this.options.snapMiddle){var H=L.PM.Utils.calcMiddleLatLng(d,v,b),tt=this._getDistance(d,H,M);tt<A&&tt<F&&(V=H,G=tt)}return Z({},G<this.options.snapDistance?V:M)},_unsnap:function(){delete this._snapLatLng},_getClosestPointOnSegment:function(h,d,v,b){var M=h.getMaxZoom();M===1/0&&(M=h.getZoom());var A=h.project(d,M),F=h.project(v,M),V=h.project(b,M),G=L.LineUtil.closestPointOnSegment(A,F,V);return h.unproject(G,M)},_getDistanceToSegment:function(h,d,v,b){var M=h.latLngToLayerPoint(d),A=h.latLngToLayerPoint(v),F=h.latLngToLayerPoint(b);return L.LineUtil.pointToSegmentDistance(M,A,F)},_getDistance:function(h,d,v){return h.latLngToLayerPoint(d).distanceTo(h.latLngToLayerPoint(v))}};const z=O,j=L.Class.extend({includes:[z,ot],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,editable:!1,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1},setOptions:function(h){L.Util.setOptions(this,h),this.setStyle(this.options)},setStyle:function(){},getOptions:function(){return this.options},initialize:function(h){var d=this,v=new L.Icon.Default;v.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=v,this._map=h,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(function(b){d[b]=new L.PM.Draw[b](d._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions:function(h){var d=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.options.pathOptions=d?u()(this.options.pathOptions,h):h},getShapes:function(){return this.shapes},getShape:function(){return this._shape},enable:function(h,d){if(!h)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[h].enable(d)},disable:function(){var h=this;this.shapes.forEach(function(d){h[d].disable()})},addControls:function(){var h=this;this.shapes.forEach(function(d){h[d].addButton()})},getActiveShape:function(){var h,d=this;return this.shapes.forEach(function(v){d[v]._enabled&&(h=v)}),h},_setGlobalDrawMode:function(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();var h=L.PM.Utils.findLayers(this._map);this._enabled?h.forEach(function(d){L.PM.Utils.disablePopup(d)}):h.forEach(function(d){L.PM.Utils.enablePopup(d)})},createNewDrawInstance:function(h,d){var v=this._getShapeFromBtnName(d);if(this[h])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[v])throw new TypeError("There is no class L.PM.Draw.".concat(v));return this[h]=new L.PM.Draw[v](this._map),this[h].toolbarButtonName=h,this[h]._shape=h,this.shapes.push(h),this[d]&&this[h].setOptions(this[d].options),this[h].setOptions(this[h].options),this[h]},_getShapeFromBtnName:function(h){var d={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return d[h]?d[h]:this[h]?this[h]._shape:h},_finishLayer:function(h){h.pm&&(h.pm.setOptions(this.options),h.pm._shape=this._shape,h.pm._map=this._map),this._addDrawnLayerProp(h)},_addDrawnLayerProp:function(h){h._drawnByGeoman=!0},_setPane:function(h,d){d==="layerPane"?h.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":d==="vertexPane"?h.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":d==="markerPane"&&(h.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer:function(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}});j.Marker=j.extend({initialize:function(h){this._map=h,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(h){var d=this;L.Util.setOptions(this,h),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Tt("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(function(v){d.isRelevantMarker(v)&&v.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var h=this;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(d){h.isRelevantMarker(d)&&d.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(h){this.enabled()?this.disable():this.enable(h)},isRelevantMarker:function(h){return h instanceof L.Marker&&h.pm&&!h._pmTempLayer&&!h.pm._initTextMarker},_syncHintMarker:function(h){if(this._hintMarker.setLatLng(h.latlng),this.options.snappable){var d=h;d.target=this._hintMarker,this._handleSnapping(d)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker:function(h){if(h.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(h.latlng);var d=this._hintMarker.getLatLng(),v=new L.Marker(d,this.options.markerStyle);this._setPane(v,"markerPane"),this._finishLayer(v),v.pm||(v.options.draggable=!1),v.addTo(this._map.pm._getContainingLayer()),v.pm&&this.options.markerEditable?v.pm.enable():v.dragging&&v.dragging.disable(),this._fireCreate(v),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},setStyle:function(){var h,d;(h=this.options.markerStyle)!==null&&h!==void 0&&h.icon&&((d=this._hintMarker)===null||d===void 0||d.setIcon(this.options.markerStyle.icon))}});var W=63710088e-1,_t={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*W,kilometers:6371.0088,kilometres:6371.0088,meters:W,metres:W,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:W/1852,radians:1,yards:6967335223679999e-9};function mt(h,d,v){v===void 0&&(v={});var b={type:"Feature"};return(v.id===0||v.id)&&(b.id=v.id),v.bbox&&(b.bbox=v.bbox),b.properties=d||{},b.geometry=h,b}function It(h,d,v){if(v===void 0&&(v={}),!h)throw new Error("coordinates is required");if(!Array.isArray(h))throw new Error("coordinates must be an Array");if(h.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Ke(h[0])||!Ke(h[1]))throw new Error("coordinates must contain numbers");return mt({type:"Point",coordinates:h},d,v)}function K(h,d,v){if(v===void 0&&(v={}),h.length<2)throw new Error("coordinates must be an array of two or more positions");return mt({type:"LineString",coordinates:h},d,v)}function pe(h,d){d===void 0&&(d={});var v={type:"FeatureCollection"};return d.id&&(v.id=d.id),d.bbox&&(v.bbox=d.bbox),v.features=h,v}function xe(h,d){d===void 0&&(d="kilometers");var v=_t[d];if(!v)throw new Error(d+" units is invalid");return h*v}function ke(h,d){d===void 0&&(d="kilometers");var v=_t[d];if(!v)throw new Error(d+" units is invalid");return h/v}function tn(h){return 180*(h%(2*Math.PI))/Math.PI}function ge(h){return h%360*Math.PI/180}function Ke(h){return!isNaN(h)&&h!==null&&!Array.isArray(h)}function bn(h){var d,v,b={type:"FeatureCollection",features:[]};if((v=h.type==="Feature"?h.geometry:h).type==="LineString")d=[v.coordinates];else if(v.type==="MultiLineString")d=v.coordinates;else if(v.type==="MultiPolygon")d=[].concat.apply([],v.coordinates);else{if(v.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");d=v.coordinates}return d.forEach(function(M){d.forEach(function(A){for(var F=0;F<M.length-1;F++)for(var V=F;V<A.length-1;V++)if(!(M===A&&(Math.abs(F-V)===1||F===0&&V===M.length-2&&M[F][0]===M[M.length-1][0]&&M[F][1]===M[M.length-1][1]))){var G=Hn(M[F][0],M[F][1],M[F+1][0],M[F+1][1],A[V][0],A[V][1],A[V+1][0],A[V+1][1]);G&&b.features.push(It([G[0],G[1]]))}})}),b}function Hn(h,d,v,b,M,A,F,V){var G,H,tt,gt,ht={x:null,y:null,onLine1:!1,onLine2:!1};return(G=(V-A)*(v-h)-(F-M)*(b-d))===0?ht.x!==null&&ht.y!==null&&ht:(gt=(v-h)*(H=d-A)-(b-d)*(tt=h-M),H=((F-M)*H-(V-A)*tt)/G,tt=gt/G,ht.x=h+H*(v-h),ht.y=d+H*(b-d),H>=0&&H<=1&&(ht.onLine1=!0),tt>=0&&tt<=1&&(ht.onLine2=!0),!(!ht.onLine1||!ht.onLine2)&&[ht.x,ht.y])}function xn(h,d){var v=Object.keys(h);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(h);d&&(b=b.filter(function(M){return Object.getOwnPropertyDescriptor(h,M).enumerable})),v.push.apply(v,b)}return v}function ar(h){for(var d=1;d<arguments.length;d++){var v=arguments[d]!=null?arguments[d]:{};d%2?xn(Object(v),!0).forEach(function(b){lr(h,b,v[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(v)):xn(Object(v)).forEach(function(b){Object.defineProperty(h,b,Object.getOwnPropertyDescriptor(v,b))})}return h}function lr(h,d,v){return d in h?Object.defineProperty(h,d,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[d]=v,h}function ri(h,d){var v=Object.keys(h);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(h);d&&(b=b.filter(function(M){return Object.getOwnPropertyDescriptor(h,M).enumerable})),v.push.apply(v,b)}return v}function Hr(h){for(var d=1;d<arguments.length;d++){var v=arguments[d]!=null?arguments[d]:{};d%2?ri(Object(v),!0).forEach(function(b){_r(h,b,v[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(v)):ri(Object(v)).forEach(function(b){Object.defineProperty(h,b,Object.getOwnPropertyDescriptor(v,b))})}return h}function _r(h,d,v){return d in h?Object.defineProperty(h,d,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[d]=v,h}function Zr(h,d){var v=Object.keys(h);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(h);d&&(b=b.filter(function(M){return Object.getOwnPropertyDescriptor(h,M).enumerable})),v.push.apply(v,b)}return v}function Ni(h){for(var d=1;d<arguments.length;d++){var v=arguments[d]!=null?arguments[d]:{};d%2?Zr(Object(v),!0).forEach(function(b){wo(h,b,v[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(v)):Zr(Object(v)).forEach(function(b){Object.defineProperty(h,b,Object.getOwnPropertyDescriptor(v,b))})}return h}function wo(h,d,v){return d in h?Object.defineProperty(h,d,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[d]=v,h}function ur(h){if(!h)throw new Error("coord is required");if(!Array.isArray(h)){if(h.type==="Feature"&&h.geometry!==null&&h.geometry.type==="Point")return h.geometry.coordinates;if(h.type==="Point")return h.coordinates}if(Array.isArray(h)&&h.length>=2&&!Array.isArray(h[0])&&!Array.isArray(h[1]))return h;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Zn(h){if(Array.isArray(h))return h;if(h.type==="Feature"){if(h.geometry!==null)return h.geometry.coordinates}else if(h.coordinates)return h.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Qi(h){return h.type==="Feature"?h.geometry:h}function Ks(h,d){return h.type==="FeatureCollection"?"FeatureCollection":h.type==="GeometryCollection"?"GeometryCollection":h.type==="Feature"&&h.geometry!==null?h.geometry.type:h.type}function Ha(h,d,v){if(h!==null)for(var b,M,A,F,V,G,H,tt,gt=0,ht=0,St=h.type,Dt=St==="FeatureCollection",Wt=St==="Feature",me=Dt?h.features.length:1,Xe=0;Xe<me;Xe++){V=(tt=!!(H=Dt?h.features[Xe].geometry:Wt?h.geometry:h)&&H.type==="GeometryCollection")?H.geometries.length:1;for(var qt=0;qt<V;qt++){var Ye=0,Qe=0;if((F=tt?H.geometries[qt]:H)!==null){G=F.coordinates;var Jn=F.type;switch(gt=!v||Jn!=="Polygon"&&Jn!=="MultiPolygon"?0:1,Jn){case null:break;case"Point":if(d(G,ht,Xe,Ye,Qe)===!1)return!1;ht++,Ye++;break;case"LineString":case"MultiPoint":for(b=0;b<G.length;b++){if(d(G[b],ht,Xe,Ye,Qe)===!1)return!1;ht++,Jn==="MultiPoint"&&Ye++}Jn==="LineString"&&Ye++;break;case"Polygon":case"MultiLineString":for(b=0;b<G.length;b++){for(M=0;M<G[b].length-gt;M++){if(d(G[b][M],ht,Xe,Ye,Qe)===!1)return!1;ht++}Jn==="MultiLineString"&&Ye++,Jn==="Polygon"&&Qe++}Jn==="Polygon"&&Ye++;break;case"MultiPolygon":for(b=0;b<G.length;b++){for(Qe=0,M=0;M<G[b].length;M++){for(A=0;A<G[b][M].length-gt;A++){if(d(G[b][M][A],ht,Xe,Ye,Qe)===!1)return!1;ht++}Qe++}Ye++}break;case"GeometryCollection":for(b=0;b<F.geometries.length;b++)if(Ha(F.geometries[b],d,v)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function ys(h,d){if(h.type==="Feature")d(h,0);else if(h.type==="FeatureCollection")for(var v=0;v<h.features.length&&d(h.features[v],v)!==!1;v++);}function eh(h,d){var v,b,M,A,F,V,G,H,tt,gt,ht=0,St=h.type==="FeatureCollection",Dt=h.type==="Feature",Wt=St?h.features.length:1;for(v=0;v<Wt;v++){for(V=St?h.features[v].geometry:Dt?h.geometry:h,H=St?h.features[v].properties:Dt?h.properties:{},tt=St?h.features[v].bbox:Dt?h.bbox:void 0,gt=St?h.features[v].id:Dt?h.id:void 0,F=(G=!!V&&V.type==="GeometryCollection")?V.geometries.length:1,M=0;M<F;M++)if((A=G?V.geometries[M]:V)!==null)switch(A.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(d(A,ht,H,tt,gt)===!1)return!1;break;case"GeometryCollection":for(b=0;b<A.geometries.length;b++)if(d(A.geometries[b],ht,H,tt,gt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(d(null,ht,H,tt,gt)===!1)return!1;ht++}}function Za(h,d){eh(h,function(v,b,M,A,F){var V,G=v===null?null:v.type;switch(G){case null:case"Point":case"LineString":case"Polygon":return d(mt(v,M,{bbox:A,id:F}),b,0)!==!1&&void 0}switch(G){case"MultiPoint":V="Point";break;case"MultiLineString":V="LineString";break;case"MultiPolygon":V="Polygon"}for(var H=0;H<v.coordinates.length;H++){var tt=v.coordinates[H];if(d(mt({type:V,coordinates:tt},M),b,H)===!1)return!1}})}j.Line=j.extend({initialize:function(h){this._map=h,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(h){L.Util.setOptions(this,h),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],ar(ar({},this.options.templineStyle),{},{pmIgnore:!1})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Tt("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map._container.style.cursor="crosshair",this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(h){this.enabled()?this.disable():this.enable(h)},_syncHintLine:function(){var h=this._layer.getLatLngs();if(h.length>0){var d=h[h.length-1];this._hintline.setLatLngs([d,this._hintMarker.getLatLng()])}},_syncHintMarker:function(h){if(this._hintMarker.setLatLng(h.latlng),this.options.snappable){var d=h;d.target=this._hintMarker,this._handleSnapping(d)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());var v=this._layer._defaultShape().slice();v.push(this._hintMarker.getLatLng()),this._change(v)},hasSelfIntersection:function(){return bn(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection:function(h,d){var v=L.polyline(this._layer.getLatLngs());h&&(d||(d=this._hintMarker.getLatLng()),v.addLatLng(d));var b=bn(v.toGeoJSON(15));this._doesSelfIntersect=b.features.length>0,this._doesSelfIntersect?this._hintline.setStyle({color:"#f00000ff"}):this._hintline.isEmpty()||this._hintline.setStyle(this.options.hintlineStyle)},_createVertex:function(h){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,h.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(h.latlng);var d=this._hintMarker.getLatLng(),v=this._layer.getLatLngs(),b=v[v.length-1];if(d.equals(v[0])||v.length>0&&d.equals(b))this._finishShape();else{this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:d,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(d);var M=this._createMarker(d);this._setTooltipText(),this._setHintLineAfterNewVertex(d),this._fireVertexAdded(M,void 0,d,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(h)}}},_setHintLineAfterNewVertex:function(h){this._hintline.setLatLngs([h,h])},_removeLastVertex:function(){var h=this._markers;if(h.length<=1)this.disable();else{var d=this._layer.getLatLngs(),v=h[h.length-1],b=L.PM.Utils.findDeepMarkerIndex(h,v).indexPath;h.pop(),this._layerGroup.removeLayer(v);var M=h[h.length-1],A=d.indexOf(M.getLatLng());d=d.slice(0,A+1),this._layer.setLatLngs(d),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(v,b,"Draw"),this._change(this._layer.getLatLngs())}},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var h=this._layer.getLatLngs();if(!(h.length<=1)){var d=L.polyline(h,this.options.pathOptions);this._setPane(d,"layerPane"),this._finishLayer(d),d.addTo(this._map.pm._getContainingLayer()),this._fireCreate(d),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}}},_createMarker:function(h){var d=new L.Marker(h,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(d,"vertexPane"),d._pmTempLayer=!0,this._layerGroup.addLayer(d),this._markers.push(d),d.on("click",this._finishShape,this),d},_setTooltipText:function(){var h="";h=Tt(this._layer.getLatLngs().flat().length<=1?"tooltips.continueLine":"tooltips.finishLine"),this._hintMarker.setTooltipContent(h)},_change:function(h){this._fireChange(h,"Draw")},setStyle:function(){var h,d;(h=this._layer)===null||h===void 0||h.setStyle(this.options.templineStyle),(d=this._hintline)===null||d===void 0||d.setStyle(this.options.hintlineStyle)}}),j.Polygon=j.Line.extend({initialize:function(h){this._map=h,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable:function(h){L.PM.Draw.Line.prototype.enable.call(this,h),this._layer.pm._shape="Polygon"},_createMarker:function(h){var d=new L.Marker(h,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(d,"vertexPane"),d._pmTempLayer=!0,this._layerGroup.addLayer(d),this._markers.push(d),this._layer.getLatLngs().flat().length===1?(d.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(d)-1,this.options.snappable&&this._cleanupSnapping()):d.on("click",function(){return 1}),d},_setTooltipText:function(){var h="";h=Tt(this._layer.getLatLngs().flat().length<=2?"tooltips.continueLine":"tooltips.finishPoly"),this._hintMarker.setTooltipContent(h)},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var h=this._layer.getLatLngs();if(!(h.length<=2)){var d=L.polygon(h,this.options.pathOptions);this._setPane(d,"layerPane"),this._finishLayer(d),d.addTo(this._map.pm._getContainingLayer()),this._fireCreate(d),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}}}),j.Rectangle=j.extend({initialize:function(h){this._map=h,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(h){if(L.Util.setOptions(this,h),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Tt("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(var d=0;d<2;d+=1){var v=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(v,"vertexPane"),v._pmTempLayer=!0,this._layerGroup.addLayer(v),this._styleMarkers.push(v)}}this._map._container.style.cursor="crosshair",this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(h){this.enabled()?this.disable():this.enable(h)},_placeStartingMarkers:function(h){this._hintMarker._snapped||this._hintMarker.setLatLng(h.latlng);var d=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(d),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(v){L.DomUtil.addClass(v._icon,"visible"),v.setLatLng(d)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Tt("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var h=this._startMarker.getLatLng();h&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([h,h]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(h){if(this._hintMarker.setLatLng(h.latlng),this.options.snappable){var d=h;d.target=this._hintMarker,this._handleSnapping(d)}var v=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(v,"Draw")},_syncRectangleSize:function(){var h=this,d=Wi(this._startMarker.getLatLng(),this._map),v=Wi(this._hintMarker.getLatLng(),this._map),b=L.PM.Utils._getRotatedRectangle(d,v,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(b),this.options.cursorMarker&&this._styleMarkers){var M=[];b.forEach(function(A){A.equals(d,1e-8)||A.equals(v,1e-8)||M.push(A)}),M.forEach(function(A,F){try{h._styleMarkers[F].setLatLng(A)}catch{}})}},_findCorners:function(){var h=this._layer.getBounds();return[h.getNorthWest(),h.getNorthEast(),h.getSouthEast(),h.getSouthWest()]},_finishShape:function(h){this._hintMarker._snapped||this._hintMarker.setLatLng(h.latlng);var d=this._hintMarker.getLatLng(),v=this._startMarker.getLatLng();if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){var b=L.rectangle([v,d],this.options.pathOptions);if(this.options.rectangleAngle){var M=L.PM.Utils._getRotatedRectangle(v,d,this.options.rectangleAngle||0,this._map);b.setLatLngs(M),b.pm&&b.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(b,"layerPane"),this._finishLayer(b),b.addTo(this._map.pm._getContainingLayer()),this._fireCreate(b),this.disable(),this.options.continueDrawing&&this.enable()}},setStyle:function(){var h;(h=this._layer)===null||h===void 0||h.setStyle(this.options.pathOptions)}}),j.Circle=j.extend({initialize:function(h){this._map=h,this._shape="Circle",this.toolbarButtonName="drawCircle"},enable:function(h){L.Util.setOptions(this,h),this.options.radius=0,this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circle(this._map.getCenter(),Hr(Hr({},this.options.templineStyle),{},{radius:0})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Tt("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._placeCenterMarker,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(h){this.enabled()?this.disable():this.enable(h)},_syncHintLine:function(){var h=this._centerMarker.getLatLng(),d=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([h,d])},_syncCircleRadius:function(){var h,d=this._centerMarker.getLatLng(),v=this._hintMarker.getLatLng();h=this._map.options.crs===L.CRS.Simple?this._map.distance(d,v):d.distanceTo(v),this.options.minRadiusCircle&&h<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&h>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(h)},_syncHintMarker:function(h){if(this._hintMarker.setLatLng(h.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var d=h;d.target=this._hintMarker,this._handleSnapping(d)}this._handleHintMarkerSnapping();var v=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(v,"Draw")},_placeCenterMarker:function(h){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(h.latlng);var d=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(d),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var h=this._centerMarker.getLatLng();h&&(this._layer.setLatLng(h),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Tt("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_finishShape:function(h){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(h.latlng);var d,v=this._centerMarker.getLatLng(),b=this._hintMarker.getLatLng();d=this._map.options.crs===L.CRS.Simple?this._map.distance(v,b):v.distanceTo(b),this.options.minRadiusCircle&&d<this.options.minRadiusCircle?d=this.options.minRadiusCircle:this.options.maxRadiusCircle&&d>this.options.maxRadiusCircle&&(d=this.options.maxRadiusCircle);var M=Hr(Hr({},this.options.pathOptions),{},{radius:d}),A=L.circle(v,M);this._setPane(A,"layerPane"),this._finishLayer(A),A.addTo(this._map.pm._getContainingLayer()),A.pm&&A.pm._updateHiddenPolyCircle(),this._fireCreate(A),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var h=this._hintMarker.getLatLng();if(!this._layerGroup.hasLayer(this._centerMarker))return h;var d=this._centerMarker.getLatLng(),v=d.distanceTo(h);return this.options.minRadiusCircle&&v<this.options.minRadiusCircle?h=fe(this._map,d,h,this.options.minRadiusCircle):this.options.maxRadiusCircle&&v>this.options.maxRadiusCircle&&(h=fe(this._map,d,h,this.options.maxRadiusCircle)),h},_handleHintMarkerSnapping:function(){if(this._hintMarker._snapped){var h=this._centerMarker.getLatLng(),d=this._hintMarker.getLatLng(),v=h.distanceTo(d);this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircle&&v<this.options.minRadiusCircle||this.options.maxRadiusCircle&&v>this.options.maxRadiusCircle)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())},setStyle:function(){var h,d;(h=this._layer)===null||h===void 0||h.setStyle(this.options.templineStyle),(d=this._hintline)===null||d===void 0||d.setStyle(this.options.hintlineStyle)}}),j.CircleMarker=j.Marker.extend({initialize:function(h){this._map=h,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1},enable:function(h){var d=this;if(L.Util.setOptions(this,h),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this.options.editable){var v={};L.extend(v,this.options.templineStyle),v.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circleMarker(this._map.getCenter(),v),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Tt("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this),this._map._container.style.cursor="crosshair"}else this._map.on("click",this._createMarker,this),this._hintMarker=L.circleMarker(this._map.getCenter(),this.options.templineStyle),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Tt("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),!this.options.editable&&this.options.markerEditable&&this._map.eachLayer(function(b){d.isRelevantMarker(b)&&b.pm.enable()}),this._layer.bringToBack(),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var h=this;this._enabled&&(this._enabled=!1,this.options.editable?(this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._map.eachLayer(function(d){h.isRelevantMarker(d)&&d.pm.disable()}),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_placeCenterMarker:function(h){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(h.latlng);var d=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(d),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var h=this._centerMarker.getLatLng();h&&(this._layer.setLatLng(h),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Tt("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine:function(){var h=this._centerMarker.getLatLng(),d=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([h,d])},_syncCircleRadius:function(){var h=this._centerMarker.getLatLng(),d=this._hintMarker.getLatLng(),v=this._map.project(h).distanceTo(this._map.project(d));this.options.minRadiusCircleMarker&&v<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&v>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(v)},_syncHintMarker:function(h){if(this._hintMarker.setLatLng(h.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var d=h;d.target=this._hintMarker,this._handleSnapping(d)}this._handleHintMarkerSnapping();var v=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(v,"Draw")},isRelevantMarker:function(h){return h instanceof L.CircleMarker&&!(h instanceof L.Circle)&&h.pm&&!h._pmTempLayer},_createMarker:function(h){if((!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())&&h.latlng&&!this._layerIsDragging){this._hintMarker._snapped||this._hintMarker.setLatLng(h.latlng);var d=this._hintMarker.getLatLng(),v=L.circleMarker(d,this.options.pathOptions);this._setPane(v,"layerPane"),this._finishLayer(v),v.addTo(this._map.pm._getContainingLayer()),v.pm&&this.options.markerEditable&&v.pm.enable(),this._fireCreate(v),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},_finishShape:function(h){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(h.latlng);var d=this._centerMarker.getLatLng(),v=this._hintMarker.getLatLng(),b=this._map.project(d).distanceTo(this._map.project(v));this.options.editable&&(this.options.minRadiusCircleMarker&&b<this.options.minRadiusCircleMarker?b=this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&b>this.options.maxRadiusCircleMarker&&(b=this.options.maxRadiusCircleMarker));var M=Ni(Ni({},this.options.pathOptions),{},{radius:b}),A=L.circleMarker(d,M);this._setPane(A,"layerPane"),this._finishLayer(A),A.addTo(this._map.pm._getContainingLayer()),A.pm&&A.pm._updateHiddenPolyCircle(),this._fireCreate(A),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var h=this._hintMarker.getLatLng();if(this.options.editable){if(!this._layerGroup.hasLayer(this._centerMarker))return h;var d=this._centerMarker.getLatLng(),v=this._map.project(d).distanceTo(this._map.project(h));this.options.minRadiusCircleMarker&&v<this.options.minRadiusCircleMarker?h=fe(this._map,d,h,this._pxRadiusToMeter(this.options.minRadiusCircleMarker)):this.options.maxRadiusCircleMarker&&v>this.options.maxRadiusCircleMarker&&(h=fe(this._map,d,h,this._pxRadiusToMeter(this.options.maxRadiusCircleMarker)))}return h},_handleHintMarkerSnapping:function(){if(this.options.editable){if(this._hintMarker._snapped){var h=this._centerMarker.getLatLng(),d=this._hintMarker.getLatLng(),v=this._map.project(h).distanceTo(this._map.project(d));this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircleMarker&&v<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&v>this.options.maxRadiusCircleMarker)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},_pxRadiusToMeter:function(h){var d=this._centerMarker.getLatLng(),v=this._map.project(d),b=L.point(v.x+h,v.y);return this._map.unproject(b).distanceTo(d)},setStyle:function(){var h,d,v={};L.extend(v,this.options.templineStyle),this.options.editable&&(v.radius=0),(h=this._layer)===null||h===void 0||h.setStyle(v),(d=this._hintline)===null||d===void 0||d.setStyle(this.options.hintlineStyle)}});const Nr=function(h){if(!h)throw new Error("geojson is required");var d=[];return Za(h,function(v){(function(b,M){var A=[],F=b.geometry;if(F!==null){switch(F.type){case"Polygon":A=Zn(F);break;case"LineString":A=[Zn(F)]}A.forEach(function(V){var G=function(H,tt){var gt=[];return H.reduce(function(ht,St){var Dt,Wt,me,Xe,qt,Ye,Qe=K([ht,St],tt);return Qe.bbox=(Wt=St,me=(Dt=ht)[0],Xe=Dt[1],qt=Wt[0],Ye=Wt[1],[me<qt?me:qt,Xe<Ye?Xe:Ye,me>qt?me:qt,Xe>Ye?Xe:Ye]),gt.push(Qe),St}),gt}(V,b.properties);G.forEach(function(H){H.id=M.length,M.push(H)})})}})(v,d)}),pe(d)};var Gt=o(1787);function ja(h,d){var v=Zn(h),b=Zn(d);if(v.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(b.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var M=v[0][0],A=v[0][1],F=v[1][0],V=v[1][1],G=b[0][0],H=b[0][1],tt=b[1][0],gt=b[1][1],ht=(gt-H)*(F-M)-(tt-G)*(V-A),St=(tt-G)*(A-H)-(gt-H)*(M-G),Dt=(F-M)*(A-H)-(V-A)*(M-G);if(ht===0)return null;var Wt=St/ht,me=Dt/ht;return Wt>=0&&Wt<=1&&me>=0&&me<=1?It([M+Wt*(F-M),A+Wt*(V-A)]):null}const $i=function(h,d){var v={},b=[];if(h.type==="LineString"&&(h=mt(h)),d.type==="LineString"&&(d=mt(d)),h.type==="Feature"&&d.type==="Feature"&&h.geometry!==null&&d.geometry!==null&&h.geometry.type==="LineString"&&d.geometry.type==="LineString"&&h.geometry.coordinates.length===2&&d.geometry.coordinates.length===2){var M=ja(h,d);return M&&b.push(M),pe(b)}var A=Gt();return A.load(Nr(d)),ys(Nr(h),function(F){ys(A.search(F),function(V){var G=ja(F,V);if(G){var H=Zn(G).join(",");v[H]||(v[H]=!0,b.push(G))}})}),pe(b)},to=function(h,d,v){v===void 0&&(v={});var b=ur(h),M=ur(d),A=ge(M[1]-b[1]),F=ge(M[0]-b[0]),V=ge(b[1]),G=ge(M[1]),H=Math.pow(Math.sin(A/2),2)+Math.pow(Math.sin(F/2),2)*Math.cos(V)*Math.cos(G);return xe(2*Math.atan2(Math.sqrt(H),Math.sqrt(1-H)),v.units)},Gl=function(h){var d=h[0],v=h[1],b=h[2],M=h[3];if(to(h.slice(0,2),[b,v])>=to(h.slice(0,2),[d,M])){var A=(v+M)/2;return[d,A-(b-d)/2,b,A+(b-d)/2]}var F=(d+b)/2;return[F-(M-v)/2,v,F+(M-v)/2,M]};function Ls(h){var d=[1/0,1/0,-1/0,-1/0];return Ha(h,function(v){d[0]>v[0]&&(d[0]=v[0]),d[1]>v[1]&&(d[1]=v[1]),d[2]<v[0]&&(d[2]=v[0]),d[3]<v[1]&&(d[3]=v[1])}),d}Ls.default=Ls;const qo=Ls,Xo=function(h,d){d===void 0&&(d={});var v=d.precision,b=d.coordinates,M=d.mutate;if(v=v==null||isNaN(v)?6:v,b=b==null||isNaN(b)?3:b,!h)throw new Error("<geojson> is required");if(typeof v!="number")throw new Error("<precision> must be a number");if(typeof b!="number")throw new Error("<coordinates> must be a number");M!==!1&&M!==void 0||(h=JSON.parse(JSON.stringify(h)));var A=Math.pow(10,v);return Ha(h,function(F){(function(V,G,H){V.length>H&&V.splice(H,V.length);for(var tt=0;tt<V.length;tt++)V[tt]=Math.round(V[tt]*G)/G})(F,A,b)}),h};function qa(h,d,v){if(v===void 0&&(v={}),v.final===!0)return function(gt,ht){var St=qa(ht,gt);return St=(St+180)%360}(h,d);var b=ur(h),M=ur(d),A=ge(b[0]),F=ge(M[0]),V=ge(b[1]),G=ge(M[1]),H=Math.sin(F-A)*Math.cos(G),tt=Math.cos(V)*Math.sin(G)-Math.sin(V)*Math.cos(G)*Math.cos(F-A);return tn(Math.atan2(H,tt))}function Vl(h,d,v,b){b===void 0&&(b={});var M=ur(h),A=ge(M[0]),F=ge(M[1]),V=ge(v),G=ke(d,b.units),H=Math.asin(Math.sin(F)*Math.cos(G)+Math.cos(F)*Math.sin(G)*Math.cos(V));return It([tn(A+Math.atan2(Math.sin(V)*Math.sin(G)*Math.cos(F),Math.cos(G)-Math.sin(F)*Math.sin(H))),tn(H)],b.properties)}const nh=function(h,d,v){v===void 0&&(v={});var b=It([1/0,1/0],{dist:1/0}),M=0;return Za(h,function(A){for(var F=Zn(A),V=0;V<F.length-1;V++){var G=It(F[V]);G.properties.dist=to(d,G,v);var H=It(F[V+1]);H.properties.dist=to(d,H,v);var tt=to(G,H,v),gt=Math.max(G.properties.dist,H.properties.dist),ht=qa(G,H),St=Vl(d,gt,ht+90,v),Dt=Vl(d,gt,ht-90,v),Wt=$i(K([St.geometry.coordinates,Dt.geometry.coordinates]),K([G.geometry.coordinates,H.geometry.coordinates])),me=null;Wt.features.length>0&&((me=Wt.features[0]).properties.dist=to(d,me,v),me.properties.location=M+to(G,me,v)),G.properties.dist<b.properties.dist&&((b=G).properties.index=V,b.properties.location=M),H.properties.dist<b.properties.dist&&((b=H).properties.index=V+1,b.properties.location=M+tt),me&&me.properties.dist<b.properties.dist&&((b=me).properties.index=V),M+=tt}}),b};function Ul(h,d){var v=[],b=Gt();return Za(d,function(M){if(v.forEach(function(V,G){V.id=G}),v.length){var A=b.search(M);if(A.features.length){var F=Ya(M,A);v=v.filter(function(V){return V.id!==F.id}),b.remove(F),ys(Xa(F,M),function(V){v.push(V),b.insert(V)})}}else(v=Xa(h,M).features).forEach(function(V){V.bbox||(V.bbox=Gl(qo(V)))}),b.load(pe(v))}),pe(v)}function Xa(h,d){var v=[],b=Zn(h)[0],M=Zn(h)[h.geometry.coordinates.length-1];if(Wa(b,ur(d))||Wa(M,ur(d)))return pe([h]);var A=Gt(),F=Nr(h);A.load(F);var V=A.search(d);if(!V.features.length)return pe([h]);var G=Ya(d,V),H=function(tt,gt,ht){var St=ht;return ys(tt,function(Dt,Wt){St=Wt===0&&ht===void 0?Dt:gt(St,Dt,Wt)}),St}(F,function(tt,gt,ht){var St=Zn(gt)[1],Dt=ur(d);return ht===G.id?(tt.push(Dt),v.push(K(tt)),Wa(Dt,St)?[Dt]:[Dt,St]):(tt.push(St),tt)},[b]);return H.length>1&&v.push(K(H)),pe(v)}function Ya(h,d){if(!d.features.length)throw new Error("lines must contain features");if(d.features.length===1)return d.features[0];var v,b=1/0;return ys(d,function(M){var A=nh(M,h).properties.dist;A<b&&(v=M,b=A)}),v}function Wa(h,d){return h[0]===d[0]&&h[1]===d[1]}const Js=function(h,d){if(!h)throw new Error("line is required");if(!d)throw new Error("splitter is required");var v=Ks(h),b=Ks(d);if(v!=="LineString")throw new Error("line must be LineString");if(b==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(b==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var M=Xo(d,{precision:7});switch(b){case"Point":return Xa(h,M);case"MultiPoint":return Ul(h,M);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Ul(h,$i(h,M))}};function Qs(h,d,v){if(v===void 0&&(v={}),!h)throw new Error("point is required");if(!d)throw new Error("polygon is required");var b=ur(h),M=Qi(d),A=M.type,F=d.bbox,V=M.coordinates;if(F&&function(ht,St){return St[0]<=ht[0]&&St[1]<=ht[1]&&St[2]>=ht[0]&&St[3]>=ht[1]}(b,F)===!1)return!1;A==="Polygon"&&(V=[V]);for(var G=!1,H=0;H<V.length&&!G;H++)if(Hl(b,V[H][0],v.ignoreBoundary)){for(var tt=!1,gt=1;gt<V[H].length&&!tt;)Hl(b,V[H][gt],!v.ignoreBoundary)&&(tt=!0),gt++;tt||(G=!0)}return G}function Hl(h,d,v){var b=!1;d[0][0]===d[d.length-1][0]&&d[0][1]===d[d.length-1][1]&&(d=d.slice(0,d.length-1));for(var M=0,A=d.length-1;M<d.length;A=M++){var F=d[M][0],V=d[M][1],G=d[A][0],H=d[A][1];if(h[1]*(F-G)+V*(G-h[0])+H*(h[0]-F)==0&&(F-h[0])*(G-h[0])<=0&&(V-h[1])*(H-h[1])<=0)return!v;V>h[1]!=H>h[1]&&h[0]<(G-F)*(h[1]-V)/(H-V)+F&&(b=!b)}return b}function rh(h,d,v,b,M){var A=v[0],F=v[1],V=h[0],G=h[1],H=d[0],tt=d[1],gt=H-V,ht=tt-G,St=(v[0]-V)*ht-(v[1]-G)*gt;if(M!==null){if(Math.abs(St)>M)return!1}else if(St!==0)return!1;return b?b==="start"?Math.abs(gt)>=Math.abs(ht)?gt>0?V<A&&A<=H:H<=A&&A<V:ht>0?G<F&&F<=tt:tt<=F&&F<G:b==="end"?Math.abs(gt)>=Math.abs(ht)?gt>0?V<=A&&A<H:H<A&&A<=V:ht>0?G<=F&&F<tt:tt<F&&F<=G:b==="both"&&(Math.abs(gt)>=Math.abs(ht)?gt>0?V<A&&A<H:H<A&&A<V:ht>0?G<F&&F<tt:tt<F&&F<G):Math.abs(gt)>=Math.abs(ht)?gt>0?V<=A&&A<=H:H<=A&&A<=V:ht>0?G<=F&&F<=tt:tt<=F&&F<=G}const bs=function(h,d,v){v===void 0&&(v={});for(var b=ur(h),M=Zn(d),A=0;A<M.length-1;A++){var F=!1;if(v.ignoreEndVertices&&(A===0&&(F="start"),A===M.length-2&&(F="end"),A===0&&A+1===M.length-1&&(F="both")),rh(M[A],M[A+1],b,F,typeof v.epsilon>"u"?null:v.epsilon))return!0}return!1};function ih(h,d){var v=Qi(h),b=Qi(d),M=v.type,A=b.type,F=v.coordinates,V=b.coordinates;switch(M){case"Point":if(A==="Point")return Eo(F,V);throw new Error("feature2 "+A+" geometry not supported");case"MultiPoint":switch(A){case"Point":return function(G,H){var tt,gt=!1;for(tt=0;tt<G.coordinates.length;tt++)if(Eo(G.coordinates[tt],H.coordinates)){gt=!0;break}return gt}(v,b);case"MultiPoint":return function(G,H){for(var tt=0,gt=H.coordinates;tt<gt.length;tt++){for(var ht=gt[tt],St=!1,Dt=0,Wt=G.coordinates;Dt<Wt.length;Dt++)if(Eo(ht,Wt[Dt])){St=!0;break}if(!St)return!1}return!0}(v,b);default:throw new Error("feature2 "+A+" geometry not supported")}case"LineString":switch(A){case"Point":return bs(b,v,{ignoreEndVertices:!0});case"LineString":return function(G,H){for(var tt=!1,gt=0,ht=H.coordinates;gt<ht.length;gt++){var St=ht[gt];if(bs({type:"Point",coordinates:St},G,{ignoreEndVertices:!0})&&(tt=!0),!bs({type:"Point",coordinates:St},G,{ignoreEndVertices:!1}))return!1}return tt}(v,b);case"MultiPoint":return function(G,H){for(var tt=!1,gt=0,ht=H.coordinates;gt<ht.length;gt++){var St=ht[gt];if(bs(St,G,{ignoreEndVertices:!0})&&(tt=!0),!bs(St,G))return!1}return!!tt}(v,b);default:throw new Error("feature2 "+A+" geometry not supported")}case"Polygon":switch(A){case"Point":return Qs(b,v,{ignoreBoundary:!0});case"LineString":return function(G,H){var tt=!1,gt=0,ht=qo(G),St=qo(H);if(!$s(ht,St))return!1;for(;gt<H.coordinates.length-1;gt++)if(Qs({type:"Point",coordinates:Zl(H.coordinates[gt],H.coordinates[gt+1])},G,{ignoreBoundary:!0})){tt=!0;break}return tt}(v,b);case"Polygon":return function(G,H){if(G.type==="Feature"&&G.geometry===null||H.type==="Feature"&&H.geometry===null)return!1;var tt=qo(G),gt=qo(H);if(!$s(tt,gt))return!1;for(var ht=Qi(H).coordinates,St=0,Dt=ht;St<Dt.length;St++)for(var Wt=0,me=Dt[St];Wt<me.length;Wt++)if(!Qs(me[Wt],G))return!1;return!0}(v,b);case"MultiPoint":return function(G,H){for(var tt=0,gt=H.coordinates;tt<gt.length;tt++)if(!Qs(gt[tt],G,{ignoreBoundary:!0}))return!1;return!0}(v,b);default:throw new Error("feature2 "+A+" geometry not supported")}default:throw new Error("feature1 "+M+" geometry not supported")}}function $s(h,d){return!(h[0]>d[0])&&!(h[2]<d[2])&&!(h[1]>d[1])&&!(h[3]<d[3])}function Eo(h,d){return h[0]===d[0]&&h[1]===d[1]}function Zl(h,d){return[(h[0]+d[0])/2,(h[1]+d[1])/2]}var jl=o(2676),Yo=o.n(jl);function Te(h){var d={type:"Feature"};return d.geometry=h,d}function Je(h){return h.type==="Feature"?h.geometry:h}function Cs(h){return h&&h.geometry&&h.geometry.coordinates?h.geometry.coordinates:h}function Mo(h){return Te({type:"Polygon",coordinates:h})}function Po(h){return Te({type:"MultiPolygon",coordinates:h})}function ta(h){return Array.isArray(h)?1+ta(h[0]):-1}function _e(h){h instanceof L.Polyline&&(h=h.toGeoJSON(15));var d=Cs(h),v=ta(d),b=[];return v>1?d.forEach(function(M){b.push(function(A){return Te({type:"LineString",coordinates:A})}(M))}):b.push(h),b}function Cn(h){var d=[];return h.eachLayer(function(v){d.push(Cs(v.toGeoJSON(15)))}),function(v){return Te({type:"MultiLineString",coordinates:v})}(d)}function Ka(h,d){return function(v){if(Array.isArray(v))return v}(h)||function(v,b){var M=v==null?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(M!=null){var A,F,V=[],G=!0,H=!1;try{for(M=M.call(v);!(G=(A=M.next()).done)&&(V.push(A.value),!b||V.length!==b);G=!0);}catch(tt){H=!0,F=tt}finally{try{G||M.return==null||M.return()}finally{if(H)throw F}}return V}}(h,d)||function(v,b){if(v){if(typeof v=="string")return ws(v,b);var M=Object.prototype.toString.call(v).slice(8,-1);if(M==="Object"&&v.constructor&&(M=v.constructor.name),M==="Map"||M==="Set")return Array.from(v);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return ws(v,b)}}(h,d)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ws(h,d){(d==null||d>h.length)&&(d=h.length);for(var v=0,b=new Array(d);v<d;v++)b[v]=h[v];return b}function Or(h){return function(d){if(Array.isArray(d))return Ja(d)}(h)||function(d){if(typeof Symbol<"u"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}(h)||function(d,v){if(d){if(typeof d=="string")return Ja(d,v);var b=Object.prototype.toString.call(d).slice(8,-1);if(b==="Object"&&d.constructor&&(b=d.constructor.name),b==="Map"||b==="Set")return Array.from(d);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return Ja(d,v)}}(h)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ja(h,d){(d==null||d>h.length)&&(d=h.length);for(var v=0,b=new Array(d);v<d;v++)b[v]=h[v];return b}j.Cut=j.Polygon.extend({initialize:function(h){this._map=h,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape:function(){var h=this;if(this._editedLayers=[],(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var d=this._layer.getLatLngs();if(!(d.length<=2)){var v=L.polygon(d,this.options.pathOptions);v._latlngInfos=this._layer._latlngInfo,this.cut(v),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(function(b){var M=b.layer,A=b.originalLayer;h._fireCut(A,M,A),h._fireCut(h._map,M,A),A.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()}}},cut:function(h){var d=this,v=this._map._layers,b=h._latlngInfos||[];Object.keys(v).map(function(M){return v[M]}).filter(function(M){return M.pm}).filter(function(M){return!M._pmTempLayer}).filter(function(M){return!L.PM.optIn&&!M.options.pmIgnore||L.PM.optIn&&M.options.pmIgnore===!1}).filter(function(M){return M instanceof L.Polyline}).filter(function(M){return M!==h}).filter(function(M){return M.pm.options.allowCutting}).filter(function(M){return!(d.options.layersToCut&&L.Util.isArray(d.options.layersToCut)&&d.options.layersToCut.length>0)||d.options.layersToCut.indexOf(M)>-1}).filter(function(M){return!d._layerGroup.hasLayer(M)}).filter(function(M){try{var A=!!$i(h.toGeoJSON(15),M.toGeoJSON(15)).features.length>0;return A||M instanceof L.Polyline&&!(M instanceof L.Polygon)?A:(F=h.toGeoJSON(15),V=M.toGeoJSON(15),G=Je(F),H=Je(V),!((tt=Yo().intersection(G.coordinates,H.coordinates)).length===0||!(tt.length===1?Mo(tt[0]):Po(tt))))}catch{return M instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}var F,V,G,H,tt}).forEach(function(M){var A;if(M instanceof L.Polygon){var F=(A=L.polygon(M.getLatLngs())).getLatLngs();b.forEach(function(ht){if(ht&&ht.snapInfo){var St=ht.latlng,Dt=d._calcClosestLayer(St,[A]);if(Dt&&Dt.segment&&Dt.distance<d.options.snapDistance){var Wt=Dt.segment;if(Wt&&Wt.length===2){var me=L.PM.Utils._getIndexFromSegment(F,Wt),Xe=me.indexPath,qt=me.parentPath,Ye=me.newIndex;(Xe.length>1?ut()(F,qt):F).splice(Ye,0,St)}}}})}else A=M;var V=d._cutLayer(h,A),G=L.geoJSON(V,M.options);if(G.getLayers().length===1){var H=G.getLayers();G=Ka(H,1)[0]}d._setPane(G,"layerPane");var tt=G.addTo(d._map.pm._getContainingLayer());if(tt.pm.enable(M.pm.options),tt.pm.disable(),M._pmTempLayer=!0,h._pmTempLayer=!0,M.remove(),M.removeFrom(d._map.pm._getContainingLayer()),h.remove(),h.removeFrom(d._map.pm._getContainingLayer()),tt.getLayers&&tt.getLayers().length===0&&d._map.pm.removeLayer({target:tt}),tt instanceof L.LayerGroup&&tt.eachLayer(function(ht){d._addDrawnLayerProp(ht)}),d._addDrawnLayerProp(tt),d.options.layersToCut&&L.Util.isArray(d.options.layersToCut)&&d.options.layersToCut.length>0){var gt=d.options.layersToCut.indexOf(M);gt>-1&&d.options.layersToCut.splice(gt,1)}d._editedLayers.push({layer:tt,originalLayer:M})})},_cutLayer:function(h,d){var v,b,M,A,F,V,G=L.geoJSON();if(d instanceof L.Polygon)b=d.toGeoJSON(15),M=h.toGeoJSON(15),A=Je(b),F=Je(M),v=(V=Yo().difference(A.coordinates,F.coordinates)).length===0?null:V.length===1?Mo(V[0]):Po(V);else{var H=_e(d);H.forEach(function(tt){var gt=Js(tt,h.toGeoJSON(15));(gt&&gt.features.length>0?L.geoJSON(gt):L.geoJSON(tt)).getLayers().forEach(function(ht){ih(h.toGeoJSON(15),ht.toGeoJSON(15))||ht.addTo(G)})}),v=H.length>1?Cn(G):G.toGeoJSON(15)}return v},_change:L.Util.falseFn}),j.Text=j.extend({initialize:function(h){this._map=h,this._shape="Text",this.toolbarButtonName="drawText"},enable:function(h){L.Util.setOptions(this,h),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Tt("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(h){this.enabled()?this.disable():this.enable(h)},_syncHintMarker:function(h){if(this._hintMarker.setLatLng(h.latlng),this.options.snappable){var d=h;d.target=this._hintMarker,this._handleSnapping(d)}},_createMarker:function(h){var d;if(h.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(h.latlng);var v=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(d=this.options.textOptions)!==null&&d!==void 0&&d.className){var b,M=this.options.textOptions.className.split(" ");(b=this.textArea.classList).add.apply(b,Or(M))}var A=this._createTextIcon(this.textArea),F=new L.Marker(v,{textMarker:!0,_textMarkerOverPM:!0,icon:A});if(this._setPane(F,"markerPane"),this._finishLayer(F),F.pm||(F.options.draggable=!1),F.addTo(this._map.pm._getContainingLayer()),F.pm){var V,G,H,tt,gt;F.pm.textArea=this.textArea,L.setOptions(F.pm,{removeIfEmpty:(V=(G=this.options.textOptions)===null||G===void 0?void 0:G.removeIfEmpty)===null||V===void 0||V});var ht=(H=(tt=this.options.textOptions)===null||tt===void 0?void 0:tt.focusAfterDraw)===null||H===void 0||H;F.pm._createTextMarker(ht),(gt=this.options.textOptions)!==null&&gt!==void 0&&gt.text&&F.pm.setText(this.options.textOptions.text)}this._fireCreate(F),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}},_createTextArea:function(){var h=document.createElement("textarea");return h.autofocus=!0,h.readOnly=!0,h.classList.add("pm-textarea","pm-disabled"),h},_createTextIcon:function(h){return L.divIcon({className:"pm-text-marker",html:h})}});const ea={enableLayerDrag:function(){if(this.options.draggable&&this._layer._map){this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,Tr(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;var h=this._getDOMElem();h&&(Tr(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(h)):L.DomEvent.on(h,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()}},disableLayerDrag:function(){this._layerDragEnabled=!1,Tr(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();var h=this._getDOMElem();h&&(Tr(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(h)):L.DomEvent.off(h,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging:function(){return this._dragging},layerDragEnabled:function(){return!!this._layerDragEnabled},_simulateMouseDownEvent:function(h){var d=h.touches?h.touches[0]:h,v={originalEvent:d,target:this._layer};return v.containerPoint=this._map.mouseEventToContainerPoint(d),v.latlng=this._map.containerPointToLatLng(v.containerPoint),this._dragMixinOnMouseDown(v),!1},_simulateMouseMoveEvent:function(h){var d=h.touches?h.touches[0]:h,v={originalEvent:d,target:this._layer};return v.containerPoint=this._map.mouseEventToContainerPoint(d),v.latlng=this._map.containerPointToLatLng(v.containerPoint),this._dragMixinOnMouseMove(v),!1},_simulateMouseUpEvent:function(h){var d={originalEvent:h.touches?h.touches[0]:h,target:this._layer};return h.type.indexOf("touch")===-1&&(d.containerPoint=this._map.mouseEventToContainerPoint(h),d.latlng=this._map.containerPointToLatLng(d.containerPoint)),this._dragMixinOnMouseUp(d),!1},_dragMixinOnMouseDown:function(h){if(!(h.originalEvent.button>0)){this._overwriteEventIfItComesFromMarker(h);var d=h._fromLayerSync,v=this._syncLayers("_dragMixinOnMouseDown",h);this._layer instanceof L.Marker&&(!this.options.snappable||d||v?this._disableSnapping():this._initSnappableMarkers()),this._layer instanceof L.CircleMarker&&!(this._layer instanceof L.Circle)&&(!this.options.snappable||d||v?this._layer.pm.options.editable?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag():this._layer.pm.options.editable||this._initSnappableMarkersDrag()),this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=h.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)}},_dragMixinOnMouseMove:function(h){this._overwriteEventIfItComesFromMarker(h);var d=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",h),this._dragging||(this._dragging=!0,L.DomUtil.addClass(d,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=h.latlng),this._onLayerDrag(h),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp:function(h){var d=this,v=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",h),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),!!this._dragging&&(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(function(){d._dragging=!1,v&&L.DomUtil.removeClass(v,"leaflet-pm-dragging"),d._fireDragEnd(),d._fireEdit(),d._layerEdited=!0},10),!0)},_onLayerDrag:function(h){var d=h.latlng,v=d.lat-this._tempDragCoord.lat,b=d.lng-this._tempDragCoord.lng,M=function tt(gt){return gt.map(function(ht){if(Array.isArray(ht))return tt(ht);var St={lat:ht.lat+v,lng:ht.lng+b};return(ht.alt||ht.alt===0)&&(St.alt=ht.alt),St})};if(this._layer instanceof L.Circle||this._layer instanceof L.CircleMarker&&this._layer.options.editable){var A=M([this._layer.getLatLng()]);this._layer.setLatLng(A[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){var F=this._layer.getLatLng();this._layer._snapped&&(F=this._layer._orgLatLng);var V=M([F]);this._layer.setLatLng(V[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){var G=M([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(G),this._fireChange(this._layer.getBounds(),"Edit")}else{var H=M(this._layer.getLatLngs());this._layer.setLatLngs(H),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=d,h.layer=this._layer,this._fireDrag(h)},addDraggingClass:function(){var h=this._getDOMElem();h&&L.DomUtil.addClass(h,"leaflet-pm-draggable")},removeDraggingClass:function(){var h=this._getDOMElem();h&&L.DomUtil.removeClass(h,"leaflet-pm-draggable")},_getDOMElem:function(){var h=null;return this._layer._path?h=this._layer._path:this._layer._renderer&&this._layer._renderer._container?h=this._layer._renderer._container:this._layer._image?h=this._layer._image:this._layer._icon&&(h=this._layer._icon),h},_overwriteEventIfItComesFromMarker:function(h){h.target.getLatLng&&(!h.target._radius||h.target._radius<=10)&&(h.containerPoint=this._map.mouseEventToContainerPoint(h.originalEvent),h.latlng=this._map.containerPointToLatLng(h.containerPoint))},_syncLayers:function(h,d){var v=this;if(this.enabled())return!1;if(!d._fromLayerSync&&this._layer===d.target&&this.options.syncLayersOnDrag){d._fromLayerSync=!0;var b=[];if(L.Util.isArray(this.options.syncLayersOnDrag))b=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(function(F){F instanceof L.LayerGroup&&(b=b.concat(F.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(var M in this._parentLayerGroup){var A=this._parentLayerGroup[M];A.pm&&(b=A.pm.getLayers(!0))}return L.Util.isArray(b)&&b.length>0&&(b=b.filter(function(F){return!!F.pm}).filter(function(F){return!!F.pm.options.draggable})).forEach(function(F){F!==v._layer&&F.pm[h]&&(F._snapped=!1,F.pm[h](d))}),b.length>0}return!1},_stopDOMImageDrag:function(h){return h.preventDefault(),!1}};function eo(h,d,v){var b=v.getMaxZoom();if(b===1/0&&(b=v.getZoom()),L.Util.isArray(h)){var M=[];return h.forEach(function(A){M.push(eo(A,d,v))}),M}return h instanceof L.LatLng?function(A,F,V,G){return V.unproject(F.transform(V.project(A,G)),G)}(h,d,v,b):null}function en(h,d){d instanceof L.Layer&&(d=d.getLatLng());var v=h.getMaxZoom();return v===1/0&&(v=h.getZoom()),h.project(d,v)}function ii(h,d){var v=h.getMaxZoom();return v===1/0&&(v=h.getZoom()),h.unproject(d,v)}var Es={_onRotateStart:function(h){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=en(this._map,this._rotationOriginLatLng),this._rotationStartPoint=en(this._map,h.target.getLatLng()),this._initialRotateLatLng=In(this._layer),this._startAngle=this.getAngle();var d=In(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,d),this._fireRotationStart(this._map,d)},_onRotate:function(h){var d=en(this._map,h.target.getLatLng()),v=this._rotationStartPoint,b=this._rotationOriginPoint,M=Math.atan2(d.y-b.y,d.x-b.x)-Math.atan2(v.y-b.y,v.x-b.x);this._layer.setLatLngs(this._rotateLayer(M,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var A=this;(function H(tt){var gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],ht=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(ht>-1&&gt.push(ht),L.Util.isArray(tt[0]))tt.forEach(function(Dt,Wt){return H(Dt,gt.slice(),Wt)});else{var St=ut()(A._markers,gt);tt.forEach(function(Dt,Wt){St[Wt].setLatLng(Dt)})}})(this._layer.getLatLngs());var F=In(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(M,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var V=180*M/Math.PI,G=(V=V<0?V+360:V)+this._startAngle;this._setAngle(G),this._rotationLayer.pm._setAngle(G),this._fireRotation(this._rotationLayer,V,F),this._fireRotation(this._map,V,F),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd:function(){var h=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;var d=In(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=In(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,h,d),this._fireRotationEnd(this._map,h,d),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer:function(h,d,v,b,M){var A=en(M,v);return this._matrix=b.clone().rotate(h,A).flip(),eo(d,this._matrix,M)},_setAngle:function(h){h=h<0?h+360:h,this._angle=h%360},_getRotationCenter:function(){var h=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),d=h.getCenter();return h.removeFrom(this._layer._map),d},enableRotate:function(){this.options.allowRotation?(this._rotatePoly=L.polygon(this._layer.getLatLngs(),{fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0}).addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly._pmTempLayer=!0,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=In(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)):this.disableRotate()},disableRotate:function(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled:function(){return this._rotateEnabled},rotateLayer:function(h){var d=this.getAngle(),v=this._layer.getLatLngs(),b=h*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(b,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+h),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(b,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());var M=this.getAngle()-d;M=M<0?M+360:M,this._startAngle=d,this._fireRotation(this._layer,M,v,this._layer),this._fireRotation(this._map||this._layer._map,M,v,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle:function(h){var d=h-this.getAngle();this.rotateLayer(d)},getAngle:function(){return this._angle||0},setInitAngle:function(h){this._setAngle(h)}};const Ms=Es,kn=L.Class.extend({includes:[ea,z,Ms,ot],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0},setOptions:function(h){L.Util.setOptions(this,h)},getOptions:function(){return this.options},applyOptions:function(){},isPolygon:function(){return this._layer instanceof L.Polygon},getShape:function(){return this._shape},_setPane:function(h,d){d==="layerPane"?h.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":d==="vertexPane"?h.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":d==="markerPane"&&(h.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove:function(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation:function(h,d){var v=d.target,b={layer:this._layer,marker:v,event:d},M="";return h==="move"?M="moveVertexValidation":h==="add"?M="addVertexValidation":h==="remove"&&(M="removeVertexValidation"),this.options[M]&&typeof this.options[M]=="function"&&!this.options[M](b)?(h==="move"&&(v._cancelDragEventChain=v.getLatLng()),!1):(v._cancelDragEventChain=null,!0)},_vertexValidationDrag:function(h){return!h._cancelDragEventChain||(h._latlng=h._cancelDragEventChain,h.update(),!1)},_vertexValidationDragEnd:function(h){return!h._cancelDragEventChain||(h._cancelDragEventChain=null,!1)}});function no(h){return function(d){if(Array.isArray(d))return Ps(d)}(h)||function(d){if(typeof Symbol<"u"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}(h)||function(d,v){if(d){if(typeof d=="string")return Ps(d,v);var b=Object.prototype.toString.call(d).slice(8,-1);if(b==="Object"&&d.constructor&&(b=d.constructor.name),b==="Map"||b==="Set")return Array.from(d);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return Ps(d,v)}}(h)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ps(h,d){(d==null||d>h.length)&&(d=h.length);for(var v=0,b=new Array(d);v<d;v++)b[v]=h[v];return b}kn.LayerGroup=L.Class.extend({initialize:function(h){var d=this;this._layerGroup=h,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(function(v){return d._initLayer(v)}),this._layerGroup.on("layeradd",L.Util.throttle(function(v){if(!v.layer._pmTempLayer){d._layers=d.getLayers();var b=d._layers.filter(function(M){return!M.pm._parentLayerGroup||!(d._layerGroup._leaflet_id in M.pm._parentLayerGroup)});b.forEach(function(M){d._initLayer(M)}),b.length>0&&d._getMap()&&d._getMap().pm.globalEditModeEnabled()&&d.enabled()&&d.enable(d.getOptions())}},100,this),this),this._layerGroup.on("layerremove",function(v){d._removeLayerFromGroup(v.target)},this),this._layerGroup.on("layerremove",L.Util.throttle(function(v){v.target._pmTempLayer||(d._layers=d.getLayers())},100,this),this)},enable:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];d.length===0&&(this._layers=this.getLayers()),this._options=h,this._layers.forEach(function(v){v instanceof L.LayerGroup?d.indexOf(v._leaflet_id)===-1&&(d.push(v._leaflet_id),v.pm.enable(h,d)):v.pm.enable(h)})},disable:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];h.length===0&&(this._layers=this.getLayers()),this._layers.forEach(function(d){d instanceof L.LayerGroup?h.indexOf(d._leaflet_id)===-1&&(h.push(d._leaflet_id),d.pm.disable(h)):d.pm.disable()})},enabled:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];h.length===0&&(this._layers=this.getLayers());var d=this._layers.find(function(v){return v instanceof L.LayerGroup?h.indexOf(v._leaflet_id)===-1&&(h.push(v._leaflet_id),v.pm.enabled(h)):v.pm.enabled()});return!!d},toggleEdit:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];d.length===0&&(this._layers=this.getLayers()),this._options=h,this._layers.forEach(function(v){v instanceof L.LayerGroup?d.indexOf(v._leaflet_id)===-1&&(d.push(v._leaflet_id),v.pm.toggleEdit(h,d)):v.pm.toggleEdit(h)})},_initLayer:function(h){var d=L.Util.stamp(this._layerGroup);h.pm._parentLayerGroup||(h.pm._parentLayerGroup={}),h.pm._parentLayerGroup[d]=this._layerGroup},_removeLayerFromGroup:function(h){if(h.pm&&h.pm._layerGroup){var d=L.Util.stamp(this._layerGroup);delete h.pm._layerGroup[d]}},dragging:function(){if(this._layers=this.getLayers(),this._layers){var h=this._layers.find(function(d){return d.pm.dragging()});return!!h}return!1},getOptions:function(){return this.options},_getMap:function(){var h;return this._map||((h=this._layers.find(function(d){return!!d._map}))===null||h===void 0?void 0:h._map)||null},getLayers:function(){var h=arguments.length>0&&arguments[0]!==void 0&&arguments[0],d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],v=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],M=[];return h?this._layerGroup.getLayers().forEach(function(A){M.push(A),A instanceof L.LayerGroup&&b.indexOf(A._leaflet_id)===-1&&(b.push(A._leaflet_id),M=M.concat(A.pm.getLayers(!0,!0,!0,b)))}):M=this._layerGroup.getLayers(),v&&(M=M.filter(function(A){return!(A instanceof L.LayerGroup)})),d&&(M=(M=(M=M.filter(function(A){return!!A.pm})).filter(function(A){return!A._pmTempLayer})).filter(function(A){return!L.PM.optIn&&!A.options.pmIgnore||L.PM.optIn&&A.options.pmIgnore===!1})),M},setOptions:function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];d.length===0&&(this._layers=this.getLayers()),this.options=h,this._layers.forEach(function(v){v.pm&&(v instanceof L.LayerGroup?d.indexOf(v._leaflet_id)===-1&&(d.push(v._leaflet_id),v.pm.setOptions(h,d)):v.pm.setOptions(h))})}}),kn.Marker=kn.extend({_shape:"Marker",initialize:function(h){this._layer=h,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0};L.Util.setOptions(this,h),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()):this.disable()},disable:function(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(h){this.enabled()?this.disable():this.enable(h)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker:function(h){var d=h.target;d.remove(),this._fireRemove(d),this._fireRemove(this._map,d)},_onDragEnd:function(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers:function(){var h=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,h.off("pm:drag",this._handleSnapping,this),h.on("pm:drag",this._handleSnapping,this),h.off("pm:dragend",this._cleanupSnapping,this),h.on("pm:dragend",this._cleanupSnapping,this),h.off("pm:dragstart",this._unsnap,this),h.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var h=this._layer;h.off("pm:drag",this._handleSnapping,this),h.off("pm:dragend",this._cleanupSnapping,this),h.off("pm:dragstart",this._unsnap,this)}});const Qa={filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var h=[].concat(no(this._markerGroup.getLayers()),no(this.markerCache));this.markerCache=h.filter(function(d,v,b){return b.indexOf(d)===v})},renderLimits:function(h){var d=this;this.markerCache.forEach(function(v){h.includes(v)?d._markerGroup.addLayer(v):d._markerGroup.removeLayer(v)})},applyLimitFilters:function(h){var d=h.latlng,v=d===void 0?{lat:0,lng:0}:d;if(!this._preventRenderMarkers){var b=no(this._filterClosestMarkers(v));this.renderLimits(b)}},_filterClosestMarkers:function(h){var d=no(this.markerCache),v=this.options.limitMarkersToCount;return v===-1?d:(d.sort(function(b,M){return b._latlng.distanceTo(h)-M._latlng.distanceTo(h)}),d.filter(function(b,M){return!(v>-1)||M<v}))},_preventRenderMarkers:!1,_preventRenderingMarkers:function(h){this._preventRenderMarkers=!!h}};function na(h,d){return function(v){if(Array.isArray(v))return v}(h)||function(v,b){var M=v==null?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(M!=null){var A,F,V=[],G=!0,H=!1;try{for(M=M.call(v);!(G=(A=M.next()).done)&&(V.push(A.value),!b||V.length!==b);G=!0);}catch(tt){H=!0,F=tt}finally{try{G||M.return==null||M.return()}finally{if(H)throw F}}return V}}(h,d)||function(v,b){if(v){if(typeof v=="string")return ra(v,b);var M=Object.prototype.toString.call(v).slice(8,-1);if(M==="Object"&&v.constructor&&(M=v.constructor.name),M==="Map"||M==="Set")return Array.from(v);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return ra(v,b)}}(h,d)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ra(h,d){(d==null||d>h.length)&&(d=h.length);for(var v=0,b=new Array(d);v<d;v++)b[v]=h[v];return b}function $a(h){return function(d){if(Array.isArray(d))return Wo(d)}(h)||function(d){if(typeof Symbol<"u"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}(h)||function(d,v){if(d){if(typeof d=="string")return Wo(d,v);var b=Object.prototype.toString.call(d).slice(8,-1);if(b==="Object"&&d.constructor&&(b=d.constructor.name),b==="Map"||b==="Set")return Array.from(d);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return Wo(d,v)}}(h)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wo(h,d){(d==null||d>h.length)&&(d=h.length);for(var v=0,b=new Array(d);v<d;v++)b[v]=h[v];return b}kn.Line=kn.extend({includes:[Qa],_shape:"Line",initialize:function(h){this._layer=h,this._enabled=!1},enable:function(h){L.Util.setOptions(this,h),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()):this.disable())},disable:function(){if(this.enabled()&&!this._dragging){this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);var h=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(h,"leaflet-pm-draggable"),this._map.hasLayer(this._layer)&&!this.hasSelfIntersection()||L.DomUtil.removeClass(h,"leaflet-pm-invalid"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(h){return this.enabled()?this.disable():this.enable(h),this.enabled()},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers:function(){var h=this,d=this._map,v=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,this._markers=function b(M){if(Array.isArray(M[0]))return M.map(b,h);var A=M.map(h._createMarker,h);return h.options.hideMiddleMarkers!==!0&&M.map(function(F,V){var G=h.isPolygon()?(V+1)%M.length:V+1;return h._createMiddleMarker(A[V],A[G])}),A}(v),this.filterMarkerGroup(),d.addLayer(this._markerGroup)},_createMarker:function(h){var d=new L.Marker(h,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(d,"vertexPane"),d._pmTempLayer=!0,this.options.rotate?(d.on("dragstart",this._onRotateStart,this),d.on("drag",this._onRotate,this),d.on("dragend",this._onRotateEnd,this)):(d.on("click",this._onVertexClick,this),d.on("dragstart",this._onMarkerDragStart,this),d.on("move",this._onMarkerDrag,this),d.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||d.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(d),d},_createMiddleMarker:function(h,d){if(!h||!d)return!1;var v=L.PM.Utils.calcMiddleLatLng(this._map,h.getLatLng(),d.getLatLng()),b=this._createMarker(v),M=L.divIcon({className:"marker-icon marker-icon-middle"});return b.setIcon(M),b.leftM=h,b.rightM=d,h._middleMarkerNext=b,d._middleMarkerPrev=b,b.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),b.on("movestart",this._onMiddleMarkerMoveStart,this),b},_onMiddleMarkerClick:function(h){var d=h.target;if(this._vertexValidation("add",h)){var v=L.divIcon({className:"marker-icon"});d.setIcon(v),this._addMarker(d,d.leftM,d.rightM)}},_onMiddleMarkerMoveStart:function(h){var d=h.target;d.on("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidation("add",h)?(d._dragging=!0,this._addMarker(d,d.leftM,d.rightM)):d.on("move",this._onMiddleMarkerMovePrevent,this)},_onMiddleMarkerMovePrevent:function(h){var d=h.target;this._vertexValidationDrag(d)},_onMiddleMarkerMoveEnd:function(h){var d=h.target;if(d.off("move",this._onMiddleMarkerMovePrevent,this),d.off("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidationDragEnd(d)){var v=L.divIcon({className:"marker-icon"});d.setIcon(v),setTimeout(function(){delete d._dragging},100)}},_addMarker:function(h,d,v){h.off("movestart",this._onMiddleMarkerMoveStart,this),h.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);var b=h.getLatLng(),M=this._layer._latlngs;delete h.leftM,delete h.rightM;var A=L.PM.Utils.findDeepMarkerIndex(this._markers,d),F=A.indexPath,V=A.index,G=A.parentPath,H=F.length>1?ut()(M,G):M,tt=F.length>1?ut()(this._markers,G):this._markers;H.splice(V+1,0,b),tt.splice(V+1,0,h),this._layer.setLatLngs(M),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(d,h),this._createMiddleMarker(h,v)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(h,L.PM.Utils.findDeepMarkerIndex(this._markers,h).indexPath,b),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection:function(){return bn(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0),this.hasSelfIntersection()&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(h){var d=this._layer;if(this.hasSelfIntersection()){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return;h?this._flashLayer():(d.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(bn(this._layer.toGeoJSON(15)))}else d.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1)},_flashLayer:function(){var h=this;this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(function(){h._layer.setStyle({color:h.cachedColor}),h.isRed=!1},200)},_updateDisabledMarkerStyle:function(h,d){var v=this;h.forEach(function(b){Array.isArray(b)?v._updateDisabledMarkerStyle(b,d):b._icon&&(d&&!v._checkMarkerAllowedToDrag(b)?L.DomUtil.addClass(b._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(b._icon,"vertexmarker-disabled"))})},_removeMarker:function(h){var d=h.target;if(this._vertexValidation("remove",h)){this.options.allowSelfIntersection||(this._coordsBeforeEdit=In(this._layer,this._layer.getLatLngs()));var v=this._layer.getLatLngs(),b=L.PM.Utils.findDeepMarkerIndex(this._markers,d),M=b.indexPath,A=b.index,F=b.parentPath;if(M){var V=M.length>1?ut()(v,F):v,G=M.length>1?ut()(this._markers,F):this._markers;if(this.options.removeLayerBelowMinVertexCount||!(V.length<=2||this.isPolygon()&&V.length<=3)){V.splice(A,1),this._layer.setLatLngs(v),this.isPolygon()&&V.length<=2&&V.splice(0,V.length);var H=!1;if(V.length<=1&&(V.splice(0,V.length),F.length>1&&M.length>1&&(v=Fe(v)),this._layer.setLatLngs(v),this._initMarkers(),H=!0),Xt(v)||this._layer.remove(),v=Fe(v),this._layer.setLatLngs(v),this._markers=Fe(this._markers),!H&&(G=M.length>1?ut()(this._markers,F):this._markers,d._middleMarkerPrev&&this._markerGroup.removeLayer(d._middleMarkerPrev),d._middleMarkerNext&&this._markerGroup.removeLayer(d._middleMarkerNext),this._markerGroup.removeLayer(d),G)){var tt,gt;if(this.isPolygon()?(tt=(A+1)%G.length,gt=(A+(G.length-1))%G.length):(gt=A-1<0?void 0:A-1,tt=A+1>=G.length?void 0:A+1),tt!==gt){var ht=G[gt],St=G[tt];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(ht,St)}G.splice(A,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(d,M),this._fireChange(this._layer.getLatLngs(),"Edit")}else this._flashLayer()}}},updatePolygonCoordsFromMarkerDrag:function(h){var d=this._layer.getLatLngs(),v=h.getLatLng(),b=L.PM.Utils.findDeepMarkerIndex(this._markers,h),M=b.indexPath,A=b.index,F=b.parentPath;(M.length>1?ut()(d,F):d).splice(A,1,v),this._layer.setLatLngs(d)},_getNeighborMarkers:function(h){var d=L.PM.Utils.findDeepMarkerIndex(this._markers,h),v=d.indexPath,b=d.index,M=d.parentPath,A=v.length>1?ut()(this._markers,M):this._markers,F=(b+1)%A.length;return{prevMarker:A[(b+(A.length-1))%A.length],nextMarker:A[F]}},_checkMarkerAllowedToDrag:function(h){var d=this._getNeighborMarkers(h),v=d.prevMarker,b=d.nextMarker,M=L.polyline([v.getLatLng(),h.getLatLng()]),A=L.polyline([h.getLatLng(),b.getLatLng()]),F=$i(this._layer.toGeoJSON(15),M.toGeoJSON(15)).features.length,V=$i(this._layer.toGeoJSON(15),A.toGeoJSON(15)).features.length;return h.getLatLng()===this._markers[0][0].getLatLng()?V+=1:h.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(F+=1),!(F<=2&&V<=2)},_onMarkerDragStart:function(h){var d=h.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),this._vertexValidation("move",h)){var v=L.PM.Utils.findDeepMarkerIndex(this._markers,d).indexPath;this._fireMarkerDragStart(h,v),this.options.allowSelfIntersection||(this._coordsBeforeEdit=In(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(d):this._markerAllowedToDrag=null}},_onMarkerDrag:function(h){var d=h.target;if(this._vertexValidationDrag(d)){var v=L.PM.Utils.findDeepMarkerIndex(this._markers,d),b=v.indexPath,M=v.index,A=v.parentPath;if(b){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1)return this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),void this._handleLayerStyle();this.updatePolygonCoordsFromMarkerDrag(d);var F=b.length>1?ut()(this._markers,A):this._markers,V=(M+1)%F.length,G=(M+(F.length-1))%F.length,H=d.getLatLng(),tt=F[G].getLatLng(),gt=F[V].getLatLng();if(d._middleMarkerNext){var ht=L.PM.Utils.calcMiddleLatLng(this._map,H,gt);d._middleMarkerNext.setLatLng(ht)}if(d._middleMarkerPrev){var St=L.PM.Utils.calcMiddleLatLng(this._map,H,tt);d._middleMarkerPrev.setLatLng(St)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(h,b),this._fireChange(this._layer.getLatLngs(),"Edit")}}},_onMarkerDragEnd:function(h){var d=h.target;if(this._vertexValidationDragEnd(d)){var v=L.PM.Utils.findDeepMarkerIndex(this._markers,d).indexPath,b=this.hasSelfIntersection();b&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(b=!1);var M=!this.options.allowSelfIntersection&&b;if(this._fireMarkerDragEnd(h,v,M),M)return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),void this._fireLayerReset(h,v);!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")}},_onVertexClick:function(h){var d=h.target;if(!d._dragging){var v=L.PM.Utils.findDeepMarkerIndex(this._markers,d).indexPath;this._fireVertexClick(h,v)}}}),kn.Polygon=kn.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag:function(h){var d=this._getNeighborMarkers(h),v=d.prevMarker,b=d.nextMarker,M=L.polyline([v.getLatLng(),h.getLatLng()]),A=L.polyline([h.getLatLng(),b.getLatLng()]),F=$i(this._layer.toGeoJSON(15),M.toGeoJSON(15)).features.length,V=$i(this._layer.toGeoJSON(15),A.toGeoJSON(15)).features.length;return!(F<=2&&V<=2)}}),kn.Rectangle=kn.Polygon.extend({_shape:"Rectangle",_initMarkers:function(){var h=this,d=this._map,v=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,d.addLayer(this._markerGroup),this._markers=[],this._markers[0]=v.map(this._createMarker,this);var b=na(this._markers,1);this._cornerMarkers=b[0],this._layer.getLatLngs()[0].forEach(function(M,A){var F=h._cornerMarkers.find(function(V){return V._index===A});F&&F.setLatLng(M)})},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker:function(h,d){var v=new L.Marker(h,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(v,"vertexPane"),v._origLatLng=h,v._index=d,v._pmTempLayer=!0,this._markerGroup.addLayer(v),v},_addMarkerEvents:function(){var h=this;this._markers[0].forEach(function(d){d.on("dragstart",h._onMarkerDragStart,h),d.on("drag",h._onMarkerDrag,h),d.on("dragend",h._onMarkerDragEnd,h),h.options.preventMarkerRemoval||d.on("contextmenu",h._removeMarker,h)})},_removeMarker:function(){return null},_onMarkerDragStart:function(h){if(this._vertexValidation("move",h)){var d=h.target,v=this._cornerMarkers;d._oppositeCornerLatLng=v.find(function(b){return b._index===(d._index+2)%4}).getLatLng(),d._snapped=!1,this._fireMarkerDragStart(h)}},_onMarkerDrag:function(h){var d=h.target;this._vertexValidationDrag(d)&&d._index!==void 0&&(this._adjustRectangleForMarkerMove(d),this._fireMarkerDrag(h),this._fireChange(this._layer.getLatLngs(),"Edit"))},_onMarkerDragEnd:function(h){var d=h.target;this._vertexValidationDragEnd(d)&&(this._cornerMarkers.forEach(function(v){delete v._oppositeCornerLatLng}),this._fireMarkerDragEnd(h),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"))},_adjustRectangleForMarkerMove:function(h){L.extend(h._origLatLng,h._latlng);var d=L.PM.Utils._getRotatedRectangle(h.getLatLng(),h._oppositeCornerLatLng,this._angle||0,this._map);this._layer.setLatLngs(d),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers:function(){var h=this,d=this._layer.getLatLngs()[0];d&&d.length!==4&&d.length>0?(d.forEach(function(v,b){h._cornerMarkers[b].setLatLng(v)}),this._cornerMarkers.slice(d.length).forEach(function(v){v.setLatLng(d[0])})):d&&d.length?this._cornerMarkers.forEach(function(v){v.setLatLng(d[v._index])}):console.error("The layer has no LatLngs")},_findCorners:function(){var h=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(h[0],h[2],this._angle||0,this._map)}}),kn.Circle=kn.extend({_shape:"Circle",initialize:function(h){this._layer=h,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(h){L.Util.setOptions(this,h),this._map=this._layer._map,this.options.allowEditing?(this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){if(this.enabled()&&!this._dragging){this._centerMarker.off("dragstart",this._onCircleDragStart,this),this._centerMarker.off("drag",this._onCircleDrag,this),this._centerMarker.off("dragend",this._onCircleDragEnd,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this),this._layer.off("remove",this.disable,this),this._enabled=!1,this._helperLayers.clearLayers();var h=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(h,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(h){this.enabled()?this.disable():this.enable(h)},_initMarkers:function(){var h=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(h);var d=this._layer.getLatLng(),v=this._layer._radius,b=this._getLatLngOnCircle(d,v);this._centerMarker=this._createCenterMarker(d),this._outerMarker=this._createOuterMarker(b),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},applyOptions:function(){this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()},_createHintLine:function(h,d){var v=h.getLatLng(),b=d.getLatLng();this._hintline=L.polyline([v,b],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(h){var d=this._createMarker(h);return L.DomUtil.addClass(d._icon,"leaflet-pm-draggable"),d.on("drag",this._moveCircle,this),d.on("dragstart",this._onCircleDragStart,this),d.on("drag",this._onCircleDrag,this),d.on("dragend",this._onCircleDragEnd,this),d},_createOuterMarker:function(h){var d=this._createMarker(h);return d.on("drag",this._resizeCircle,this),d},_createMarker:function(h){var d=new L.Marker(h,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(d,"vertexPane"),d._origLatLng=h,d._pmTempLayer=!0,d.on("dragstart",this._onMarkerDragStart,this),d.on("drag",this._onMarkerDrag,this),d.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(d),d},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_moveCircle:function(h){if(!h.target._cancelDragEventChain){var d=h.latlng;this._layer.setLatLng(d);var v=this._layer._radius,b=this._getLatLngOnCircle(d,v);this._outerMarker._latlng=b,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")}},_syncCircleRadius:function(){var h=this._centerMarker.getLatLng(),d=this._outerMarker.getLatLng(),v=this._map.distance(h,d);this.options.minRadiusCircle&&v<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&v>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(v),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var h=this._centerMarker.getLatLng(),d=this._outerMarker.getLatLng();this._hintline.setLatLngs([h,d])},_disableSnapping:function(){var h=this;this._markers.forEach(function(d){d.off("move",h._syncHintLine,h),d.off("move",h._syncCircleRadius,h),d.off("drag",h._handleSnapping,h),d.off("dragend",h._cleanupSnapping,h)}),this._layer.off("pm:dragstart",this._unsnap,this)},_onMarkerDragStart:function(h){this._vertexValidation("move",h)&&this._fireMarkerDragStart(h)},_onMarkerDrag:function(h){var d=h.target;this._vertexValidationDrag(d)&&this._fireMarkerDrag(h)},_onMarkerDragEnd:function(h){var d=h.target;this._vertexValidationDragEnd(d)&&(this._fireEdit(),this._layerEdited=!0,this._fireMarkerDragEnd(h))},_onCircleDragStart:function(h){this._vertexValidationDrag(h.target)?(delete this._vertexValidationReset,this._fireDragStart()):this._vertexValidationReset=!0},_onCircleDrag:function(h){this._vertexValidationReset||this._fireDrag(h)},_onCircleDragEnd:function(){this._vertexValidationReset?delete this._vertexValidationReset:this._fireDragEnd()},_updateHiddenPolyCircle:function(){var h=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!h).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!h),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_getLatLngOnCircle:function(h,d){var v=this._map.project(h),b=L.point(v.x+d,v.y);return this._map.unproject(b)},_getNewDestinationOfOuterMarker:function(){var h=this._centerMarker.getLatLng(),d=this._outerMarker.getLatLng(),v=this._map.distance(h,d);return this.options.minRadiusCircle&&v<this.options.minRadiusCircle?d=fe(this._map,h,d,this.options.minRadiusCircle):this.options.maxRadiusCircle&&v>this.options.maxRadiusCircle&&(d=fe(this._map,h,d,this.options.maxRadiusCircle)),d},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var h=this._centerMarker.getLatLng(),d=this._outerMarker.getLatLng(),v=this._map.distance(h,d);(this.options.minRadiusCircle&&v<this.options.minRadiusCircle||this.options.maxRadiusCircle&&v>this.options.maxRadiusCircle)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),kn.CircleMarker=kn.extend({_shape:"CircleMarker",initialize:function(h){this._layer=h,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,h),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){this._dragging||(this._helperLayers&&this._helperLayers.clearLayers(),this._map||(this._map=this._layer._map),this._map||(this.options.editable?(this._map.off("move",this._syncMarkers,this),this._outerMarker&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this)),this.disableLayerDrag(),this._layer.off("contextmenu",this._removeMarker,this),this._layer.off("remove",this.disable,this),this.enabled()&&(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(h){this.enabled()?this.disable():this.enable(h)},applyOptions:function(){!this.options.editable&&this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.editable?(this._initMarkers(),this._map.on("move",this._syncMarkers,this)):this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this.options.editable?(this._initSnappableMarkers(),this._centerMarker.on("drag",this._moveCircle,this),this.options.editable&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._initSnappableMarkersDrag():this.options.editable?this._disableSnapping():this._disableSnappingDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers:function(){var h=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(h);var d=this._layer.getLatLng(),v=this._layer._radius,b=this._getLatLngOnCircle(d,v);this._centerMarker=this._createCenterMarker(d),this._outerMarker=this._createOuterMarker(b),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(h,d){var v=this._map.project(h),b=L.point(v.x+d,v.y);return this._map.unproject(b)},_createHintLine:function(h,d){var v=h.getLatLng(),b=d.getLatLng();this._hintline=L.polyline([v,b],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(h){var d=this._createMarker(h);return this.options.draggable?L.DomUtil.addClass(d._icon,"leaflet-pm-draggable"):d.dragging.disable(),d},_createOuterMarker:function(h){var d=this._createMarker(h);return d.on("drag",this._resizeCircle,this),d},_createMarker:function(h){var d=new L.Marker(h,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(d,"vertexPane"),d._origLatLng=h,d._pmTempLayer=!0,d.on("dragstart",this._onMarkerDragStart,this),d.on("drag",this._onMarkerDrag,this),d.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(d),d},_moveCircle:function(){var h=this._centerMarker.getLatLng();this._layer.setLatLng(h);var d=this._layer._radius,v=this._getLatLngOnCircle(h,d);this._outerMarker._latlng=v,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers:function(){var h=this._layer.getLatLng(),d=this._layer._radius,v=this._getLatLngOnCircle(h,d);this._outerMarker.setLatLng(v),this._centerMarker.setLatLng(h),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius:function(){var h=this._centerMarker.getLatLng(),d=this._outerMarker.getLatLng(),v=this._map.project(h).distanceTo(this._map.project(d));this.options.minRadiusCircleMarker&&v<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&v>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(v),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var h=this._centerMarker.getLatLng(),d=this._outerMarker.getLatLng();this._hintline.setLatLngs([h,d])},_removeMarker:function(){this.options.editable&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart:function(h){this._vertexValidation("move",h)&&this._fireMarkerDragStart(h)},_onMarkerDrag:function(h){var d=h.target;d instanceof L.Marker&&!this._vertexValidationDrag(d)||this._fireMarkerDrag(h)},_onMarkerDragEnd:function(h){this._map.pm.Draw.CircleMarker._layerIsDragging=!1;var d=h.target;this._vertexValidationDragEnd(d)&&(this.options.editable&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(h))},_initSnappableMarkersDrag:function(){var h=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,h.off("pm:drag",this._handleSnapping,this),h.on("pm:drag",this._handleSnapping,this),h.off("pm:dragend",this._cleanupSnapping,this),h.on("pm:dragend",this._cleanupSnapping,this),h.off("pm:dragstart",this._unsnap,this),h.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag:function(){var h=this._layer;h.off("pm:drag",this._handleSnapping,this),h.off("pm:dragend",this._cleanupSnapping,this),h.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle:function(){var h=this._layer._map||this._map;if(h){var d=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),h,this._layer.getLatLng()),v=L.circle(this._layer.getLatLng(),this._layer.options);v.setRadius(d);var b=h&&h.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(v,200,!b).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(v,200,!b),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker:function(){var h=this._centerMarker.getLatLng(),d=this._outerMarker.getLatLng(),v=this._map.project(h).distanceTo(this._map.project(d));return this.options.minRadiusCircleMarker&&v<this.options.minRadiusCircleMarker?d=fe(this._map,h,d,L.PM.Utils.pxRadiusToMeterRadius(this.options.minRadiusCircleMarker,this._map,h)):this.options.maxRadiusCircleMarker&&v>this.options.maxRadiusCircleMarker&&(d=fe(this._map,h,d,L.PM.Utils.pxRadiusToMeterRadius(this.options.maxRadiusCircleMarker,this._map,h))),d},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var h=this._centerMarker.getLatLng(),d=this._outerMarker.getLatLng(),v=this._map.project(h).distanceTo(this._map.project(d));(this.options.minRadiusCircleMarker&&v<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&v>this.options.maxRadiusCircleMarker)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),kn.ImageOverlay=kn.extend({_shape:"ImageOverlay",initialize:function(h){this._layer=h,this._enabled=!1},toggleEdit:function(h){this.enabled()?this.disable():this.enable(h)},enabled:function(){return this._enabled},enable:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,h),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()):this.disable())},disable:function(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners:function(){var h=this._layer.getBounds();return[h.getNorthWest(),h.getNorthEast(),h.getSouthEast(),h.getSouthWest()]}}),kn.Text=kn.extend({_shape:"Text",initialize:function(h){this._layer=h,this._enabled=!1},enable:function(h){L.Util.setOptions(this,h),this.textArea&&(this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()):this.disable())},disable:function(){if(this.enabled()){this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");var h=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),h.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1}},enabled:function(){return this._enabled},toggleEdit:function(h){this.enabled()?this.disable():this.enable(h)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers:function(){var h=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,h.off("pm:drag",this._handleSnapping,this),h.on("pm:drag",this._handleSnapping,this),h.off("pm:dragend",this._cleanupSnapping,this),h.on("pm:dragend",this._cleanupSnapping,this),h.off("pm:dragstart",this._unsnap,this),h.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var h=this._layer;h.off("pm:drag",this._handleSnapping,this),h.off("pm:dragend",this._cleanupSnapping,this),h.off("pm:dragstart",this._unsnap,this)},_autoResize:function(){this.textArea.style.height="1px",this.textArea.style.width="1px";var h=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,d=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height="".concat(h,"px"),this.textArea.style.width="".concat(d,"px"),this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur:function(){var h=this;this._disableOnBlurActive=!0,setTimeout(function(){h.enabled()&&L.DomEvent.on(document,"click",h._documentClick,h)},100)},_documentClick:function(h){h.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=this._hasFocus;this._hasFocus=h.type==="focus",!d!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus:function(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus:function(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus:function(){return this._hasFocus},getElement:function(){return this.textArea},setText:function(h){this.textArea.value=h,this._autoResize()},getText:function(){return this.textArea.value},_initTextMarker:function(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){var h,d=this.options.className.split(" ");(h=this.textArea.classList).add.apply(h,$a(d))}var v=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(v),this._layer.once("add",this._createTextMarker,this)},_createTextMarker:function(){var h=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),h===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection:function(h){h.preventDefault()}});var ia=function(h,d,v,b,M,A){this._matrix=[h,d,v,b,M,A]};ia.init=function(){return new L.PM.Matrix(1,0,0,1,0,0)},ia.prototype={transform:function(h){return this._transform(h.clone())},_transform:function(h){var d=this._matrix,v=h.x,b=h.y;return h.x=d[0]*v+d[1]*b+d[4],h.y=d[2]*v+d[3]*b+d[5],h},untransform:function(h){var d=this._matrix;return new L.Point((h.x/d[0]-d[4])/d[0],(h.y/d[2]-d[5])/d[2])},clone:function(){var h=this._matrix;return new L.PM.Matrix(h[0],h[1],h[2],h[3],h[4],h[5])},translate:function(h){return h===void 0?new L.Point(this._matrix[4],this._matrix[5]):(typeof h=="number"?(d=h,v=h):(d=h.x,v=h.y),this._add(1,0,0,1,d,v));var d,v},scale:function(h,d){return h===void 0?new L.Point(this._matrix[0],this._matrix[3]):(d=d||L.point(0,0),typeof h=="number"?(v=h,b=h):(v=h.x,b=h.y),this._add(v,0,0,b,d.x,d.y)._add(1,0,0,1,-d.x,-d.y));var v,b},rotate:function(h,d){var v=Math.cos(h),b=Math.sin(h);return d=d||new L.Point(0,0),this._add(v,b,-b,v,d.x,d.y)._add(1,0,0,1,-d.x,-d.y)},flip:function(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add:function(h,d,v,b,M,A){var F,V=[[],[],[]],G=this._matrix,H=[[G[0],G[2],G[4]],[G[1],G[3],G[5]],[0,0,1]],tt=[[h,v,M],[d,b,A],[0,0,1]];h&&h instanceof L.PM.Matrix&&(tt=[[(G=h._matrix)[0],G[2],G[4]],[G[1],G[3],G[5]],[0,0,1]]);for(var gt=0;gt<3;gt+=1)for(var ht=0;ht<3;ht+=1){F=0;for(var St=0;St<3;St+=1)F+=H[gt][St]*tt[St][ht];V[gt][ht]=F}return this._matrix=[V[0][0],V[1][0],V[0][1],V[1][1],V[0][2],V[1][2]],this}};const tl=ia;var oh={calcMiddleLatLng:function(h,d,v){var b=h.project(d),M=h.project(v);return h.unproject(b._add(M)._divideBy(2))},findLayers:function(h){var d=[];return h.eachLayer(function(v){(v instanceof L.Polyline||v instanceof L.Marker||v instanceof L.Circle||v instanceof L.CircleMarker||v instanceof L.ImageOverlay)&&d.push(v)}),d=(d=(d=d.filter(function(v){return!!v.pm})).filter(function(v){return!v._pmTempLayer})).filter(function(v){return!L.PM.optIn&&!v.options.pmIgnore||L.PM.optIn&&v.options.pmIgnore===!1})},circleToPolygon:function(h){for(var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,v=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],b=h.getLatLng(),M=h.getRadius(),A=ie(b,M,d,0,v),F=[],V=0;V<A.length;V+=1){var G=[A[V].lat,A[V].lng];F.push(G)}return L.polygon(F,h.options)},disablePopup:function(h){h.getPopup()&&(h._tempPopupCopy=h.getPopup(),h.unbindPopup())},enablePopup:function(h){h._tempPopupCopy&&(h.bindPopup(h._tempPopupCopy),delete h._tempPopupCopy)},_fireEvent:function(h,d,v){var b=arguments.length>3&&arguments[3]!==void 0&&arguments[3];h.fire(d,v,b);var M=this.getAllParentGroups(h),A=M.groups;A.forEach(function(F){F.fire(d,v,b)})},getAllParentGroups:function(h){var d=[],v=[];return!h._pmLastGroupFetch||!h._pmLastGroupFetch.time||new Date().getTime()-h._pmLastGroupFetch.time>1e3?(function b(M){for(var A in M._eventParents)if(d.indexOf(A)===-1){d.push(A);var F=M._eventParents[A];v.push(F),b(F)}}(h),h._pmLastGroupFetch={time:new Date().getTime(),groups:v,groupIds:d},{groupIds:d,groups:v}):{groups:h._pmLastGroupFetch.groups,groupIds:h._pmLastGroupFetch.groupIds}},createGeodesicPolygon:ie,getTranslation:Tt,findDeepCoordIndex:function(h,d){var v,b=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],M=function F(V){return function(G,H){var tt=V.concat(H);if(b){if(G.lat&&G.lat===d.lat&&G.lng===d.lng)return v=tt,!0}else if(G.lat&&L.latLng(G).equals(d))return v=tt,!0;return Array.isArray(G)&&G.some(F(tt))}};h.some(M([]));var A={};return v&&(A={indexPath:v,index:v[v.length-1],parentPath:v.slice(0,v.length-1)}),A},findDeepMarkerIndex:function(h,d){var v;h.some(function M(A){return function(F,V){var G=A.concat(V);return F._leaflet_id===d._leaflet_id?(v=G,!0):Array.isArray(F)&&F.some(M(G))}}([]));var b={};return v&&(b={indexPath:v,index:v[v.length-1],parentPath:v.slice(0,v.length-1)}),b},_getIndexFromSegment:function(h,d){if(d&&d.length===2){var v=this.findDeepCoordIndex(h,d[0]),b=this.findDeepCoordIndex(h,d[1]),M=Math.max(v.index,b.index);return v.index!==0&&b.index!==0||M===1||(M+=1),{indexA:v,indexB:b,newIndex:M,indexPath:v.indexPath,parentPath:v.parentPath}}return null},_getRotatedRectangle:function(h,d,v,b){var M=en(b,h),A=en(b,d),F=v*Math.PI/180,V=Math.cos(F),G=Math.sin(F),H=(A.x-M.x)*V+(A.y-M.y)*G,tt=(A.y-M.y)*V-(A.x-M.x)*G,gt=H*V+M.x,ht=H*G+M.y,St=-tt*G+M.x,Dt=tt*V+M.y;return[ii(b,M),ii(b,{x:gt,y:ht}),ii(b,A),ii(b,{x:St,y:Dt})]},pxRadiusToMeterRadius:function(h,d,v){var b=d.project(v),M=L.point(b.x+h,b.y);return d.distance(d.unproject(M),v)}};const se=oh;L.PM=L.PM||{version:"2.14.1",Map:bo,Toolbar:Co,Draw:j,Edit:kn,Utils:se,Matrix:tl,activeLang:"en",optIn:!1,initialize:function(h){this.addInitHooks(h)},setOptIn:function(h){this.optIn=!!h},addInitHooks:function(){L.Map.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}),L.LayerGroup.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}),L.Marker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}),L.CircleMarker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}),L.Polyline.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}),L.Polygon.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}),L.Rectangle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}),L.Circle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}),L.ImageOverlay.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))})},reInitLayer:function(h){var d=this;h instanceof L.LayerGroup&&h.eachLayer(function(v){d.reInitLayer(v)}),h.pm||L.PM.optIn&&h.options.pmIgnore!==!1||h.options.pmIgnore||(h instanceof L.Map?h.pm=new L.PM.Map(h):h instanceof L.Marker?h.options.textMarker?(h.pm=new L.PM.Edit.Text(h),h.pm._initTextMarker(),h.pm._createTextMarker(!1)):h.pm=new L.PM.Edit.Marker(h):h instanceof L.Circle?h.pm=new L.PM.Edit.Circle(h):h instanceof L.CircleMarker?h.pm=new L.PM.Edit.CircleMarker(h):h instanceof L.Rectangle?h.pm=new L.PM.Edit.Rectangle(h):h instanceof L.Polygon?h.pm=new L.PM.Edit.Polygon(h):h instanceof L.Polyline?h.pm=new L.PM.Edit.Line(h):h instanceof L.LayerGroup?h.pm=new L.PM.Edit.LayerGroup(h):h instanceof L.ImageOverlay&&(h.pm=new L.PM.Edit.ImageOverlay(h)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick:function(h){for(var d,v,b=this._map.mouseEventToLayerPoint(h),M=this._drawFirst;M;M=M.next)(d=M.layer).options.interactive&&d._containsPoint(b)&&(h.type!=="click"&&h.type!=="preclick"||!this._map._draggableMoved(d))&&(v=d);v&&(L.DomEvent.fakeStop(h),this._fireEvent([v],h))}}),L.PM.initialize()},7107:()=>{Array.prototype.findIndex=Array.prototype.findIndex||function(r){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof r!="function")throw new TypeError("callback must be a function");for(var i=Object(this),o=i.length>>>0,s=arguments[1],u=0;u<o;u++)if(r.call(s,i[u],u,i))return u;return-1},Array.prototype.find=Array.prototype.find||function(r){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof r!="function")throw new TypeError("callback must be a function");for(var i=Object(this),o=i.length>>>0,s=arguments[1],u=0;u<o;u++){var l=i[u];if(r.call(s,l,u,i))return l}},typeof Object.assign!="function"&&(Object.assign=function(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");r=Object(r);for(var i=1;i<arguments.length;i++){var o=arguments[i];if(o!=null)for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])}return r}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(r){r.hasOwnProperty("remove")||Object.defineProperty(r,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(r,i){if(this==null)throw new TypeError('"this" is null or not defined');var o=Object(this),s=o.length>>>0;if(s===0)return!1;for(var u,l,p=0|i,g=Math.max(p>=0?p:s-Math.abs(p),0);g<s;){if((u=o[g])===(l=r)||typeof u=="number"&&typeof l=="number"&&isNaN(u)&&isNaN(l))return!0;g++}return!1}})},1787:(r,i,o)=>{var s=o(2582),u=o(4102),l=o(1540),p=o(9705).Z,g=l.featureEach,c=(l.coordEach,u.polygon,u.featureCollection);function _(C){var E=new s(C);return E.insert=function(P){if(P.type!=="Feature")throw new Error("invalid feature");return P.bbox=P.bbox?P.bbox:p(P),s.prototype.insert.call(this,P)},E.load=function(P){var S=[];return Array.isArray(P)?P.forEach(function(I){if(I.type!=="Feature")throw new Error("invalid features");I.bbox=I.bbox?I.bbox:p(I),S.push(I)}):g(P,function(I){if(I.type!=="Feature")throw new Error("invalid features");I.bbox=I.bbox?I.bbox:p(I),S.push(I)}),s.prototype.load.call(this,S)},E.remove=function(P,S){if(P.type!=="Feature")throw new Error("invalid feature");return P.bbox=P.bbox?P.bbox:p(P),s.prototype.remove.call(this,P,S)},E.clear=function(){return s.prototype.clear.call(this)},E.search=function(P){var S=s.prototype.search.call(this,this.toBBox(P));return c(S)},E.collides=function(P){return s.prototype.collides.call(this,this.toBBox(P))},E.all=function(){var P=s.prototype.all.call(this);return c(P)},E.toJSON=function(){return s.prototype.toJSON.call(this)},E.fromJSON=function(P){return s.prototype.fromJSON.call(this,P)},E.toBBox=function(P){var S;if(P.bbox)S=P.bbox;else if(Array.isArray(P)&&P.length===4)S=P;else if(Array.isArray(P)&&P.length===6)S=[P[0],P[1],P[3],P[4]];else if(P.type==="Feature")S=p(P);else{if(P.type!=="FeatureCollection")throw new Error("invalid geojson");S=p(P)}return{minX:S[0],minY:S[1],maxX:S[2],maxY:S[3]}},E}r.exports=_,r.exports.default=_},1989:(r,i,o)=>{var s=o(1789),u=o(401),l=o(7667),p=o(1327),g=o(1866);function c(_){var C=-1,E=_==null?0:_.length;for(this.clear();++C<E;){var P=_[C];this.set(P[0],P[1])}}c.prototype.clear=s,c.prototype.delete=u,c.prototype.get=l,c.prototype.has=p,c.prototype.set=g,r.exports=c},8407:(r,i,o)=>{var s=o(7040),u=o(4125),l=o(2117),p=o(7518),g=o(4705);function c(_){var C=-1,E=_==null?0:_.length;for(this.clear();++C<E;){var P=_[C];this.set(P[0],P[1])}}c.prototype.clear=s,c.prototype.delete=u,c.prototype.get=l,c.prototype.has=p,c.prototype.set=g,r.exports=c},7071:(r,i,o)=>{var s=o(852)(o(5639),"Map");r.exports=s},3369:(r,i,o)=>{var s=o(4785),u=o(1285),l=o(6e3),p=o(9916),g=o(5265);function c(_){var C=-1,E=_==null?0:_.length;for(this.clear();++C<E;){var P=_[C];this.set(P[0],P[1])}}c.prototype.clear=s,c.prototype.delete=u,c.prototype.get=l,c.prototype.has=p,c.prototype.set=g,r.exports=c},6384:(r,i,o)=>{var s=o(8407),u=o(7465),l=o(3779),p=o(7599),g=o(4758),c=o(4309);function _(C){var E=this.__data__=new s(C);this.size=E.size}_.prototype.clear=u,_.prototype.delete=l,_.prototype.get=p,_.prototype.has=g,_.prototype.set=c,r.exports=_},2705:(r,i,o)=>{var s=o(5639).Symbol;r.exports=s},1149:(r,i,o)=>{var s=o(5639).Uint8Array;r.exports=s},6874:r=>{r.exports=function(i,o,s){switch(s.length){case 0:return i.call(o);case 1:return i.call(o,s[0]);case 2:return i.call(o,s[0],s[1]);case 3:return i.call(o,s[0],s[1],s[2])}return i.apply(o,s)}},4636:(r,i,o)=>{var s=o(2545),u=o(5694),l=o(1469),p=o(4144),g=o(5776),c=o(6719),_=Object.prototype.hasOwnProperty;r.exports=function(C,E){var P=l(C),S=!P&&u(C),I=!P&&!S&&p(C),T=!P&&!S&&!I&&c(C),N=P||S||I||T,x=N?s(C.length,String):[],R=x.length;for(var B in C)!E&&!_.call(C,B)||N&&(B=="length"||I&&(B=="offset"||B=="parent")||T&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||g(B,R))||x.push(B);return x}},9932:r=>{r.exports=function(i,o){for(var s=-1,u=i==null?0:i.length,l=Array(u);++s<u;)l[s]=o(i[s],s,i);return l}},6556:(r,i,o)=>{var s=o(9465),u=o(7813);r.exports=function(l,p,g){(g!==void 0&&!u(l[p],g)||g===void 0&&!(p in l))&&s(l,p,g)}},4865:(r,i,o)=>{var s=o(9465),u=o(7813),l=Object.prototype.hasOwnProperty;r.exports=function(p,g,c){var _=p[g];l.call(p,g)&&u(_,c)&&(c!==void 0||g in p)||s(p,g,c)}},8470:(r,i,o)=>{var s=o(7813);r.exports=function(u,l){for(var p=u.length;p--;)if(s(u[p][0],l))return p;return-1}},9465:(r,i,o)=>{var s=o(8777);r.exports=function(u,l,p){l=="__proto__"&&s?s(u,l,{configurable:!0,enumerable:!0,value:p,writable:!0}):u[l]=p}},3118:(r,i,o)=>{var s=o(3218),u=Object.create,l=function(){function p(){}return function(g){if(!s(g))return{};if(u)return u(g);p.prototype=g;var c=new p;return p.prototype=void 0,c}}();r.exports=l},8483:(r,i,o)=>{var s=o(5063)();r.exports=s},7786:(r,i,o)=>{var s=o(1811),u=o(327);r.exports=function(l,p){for(var g=0,c=(p=s(p,l)).length;l!=null&&g<c;)l=l[u(p[g++])];return g&&g==c?l:void 0}},4239:(r,i,o)=>{var s=o(2705),u=o(9607),l=o(2333),p=s?s.toStringTag:void 0;r.exports=function(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":p&&p in Object(g)?u(g):l(g)}},8565:r=>{var i=Object.prototype.hasOwnProperty;r.exports=function(o,s){return o!=null&&i.call(o,s)}},9454:(r,i,o)=>{var s=o(4239),u=o(7005);r.exports=function(l){return u(l)&&s(l)=="[object Arguments]"}},8458:(r,i,o)=>{var s=o(3560),u=o(5346),l=o(3218),p=o(346),g=/^\[object .+?Constructor\]$/,c=Function.prototype,_=Object.prototype,C=c.toString,E=_.hasOwnProperty,P=RegExp("^"+C.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");r.exports=function(S){return!(!l(S)||u(S))&&(s(S)?P:g).test(p(S))}},8749:(r,i,o)=>{var s=o(4239),u=o(1780),l=o(7005),p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1,r.exports=function(g){return l(g)&&u(g.length)&&!!p[s(g)]}},313:(r,i,o)=>{var s=o(3218),u=o(5726),l=o(3498),p=Object.prototype.hasOwnProperty;r.exports=function(g){if(!s(g))return l(g);var c=u(g),_=[];for(var C in g)(C!="constructor"||!c&&p.call(g,C))&&_.push(C);return _}},2980:(r,i,o)=>{var s=o(6384),u=o(6556),l=o(8483),p=o(9783),g=o(3218),c=o(1704),_=o(6390);r.exports=function C(E,P,S,I,T){E!==P&&l(P,function(N,x){if(T||(T=new s),g(N))p(E,P,x,S,C,I,T);else{var R=I?I(_(E,x),N,x+"",E,P,T):void 0;R===void 0&&(R=N),u(E,x,R)}},c)}},9783:(r,i,o)=>{var s=o(6556),u=o(4626),l=o(7133),p=o(278),g=o(8517),c=o(5694),_=o(1469),C=o(9246),E=o(4144),P=o(3560),S=o(3218),I=o(8630),T=o(6719),N=o(6390),x=o(9881);r.exports=function(R,B,Y,Q,rt,ct,X){var J=N(R,Y),at=N(B,Y),it=X.get(at);if(it)s(R,Y,it);else{var ot=ct?ct(J,at,Y+"",R,B,X):void 0,bt=ot===void 0;if(bt){var Bt=_(at),ut=!Bt&&E(at),Ut=!Bt&&!ut&&T(at);ot=at,Bt||ut||Ut?_(J)?ot=J:C(J)?ot=p(J):ut?(bt=!1,ot=u(at,!0)):Ut?(bt=!1,ot=l(at,!0)):ot=[]:I(at)||c(at)?(ot=J,c(J)?ot=x(J):S(J)&&!P(J)||(ot=g(at))):bt=!1}bt&&(X.set(at,ot),rt(ot,at,Q,ct,X),X.delete(at)),s(R,Y,ot)}}},5976:(r,i,o)=>{var s=o(6557),u=o(5357),l=o(61);r.exports=function(p,g){return l(u(p,g,s),p+"")}},6560:(r,i,o)=>{var s=o(5703),u=o(8777),l=o(6557),p=u?function(g,c){return u(g,"toString",{configurable:!0,enumerable:!1,value:s(c),writable:!0})}:l;r.exports=p},2545:r=>{r.exports=function(i,o){for(var s=-1,u=Array(i);++s<i;)u[s]=o(s);return u}},531:(r,i,o)=>{var s=o(2705),u=o(9932),l=o(1469),p=o(3448),g=s?s.prototype:void 0,c=g?g.toString:void 0;r.exports=function _(C){if(typeof C=="string")return C;if(l(C))return u(C,_)+"";if(p(C))return c?c.call(C):"";var E=C+"";return E=="0"&&1/C==-1/0?"-0":E}},1717:r=>{r.exports=function(i){return function(o){return i(o)}}},1811:(r,i,o)=>{var s=o(1469),u=o(5403),l=o(5514),p=o(9833);r.exports=function(g,c){return s(g)?g:u(g,c)?[g]:l(p(g))}},4318:(r,i,o)=>{var s=o(1149);r.exports=function(u){var l=new u.constructor(u.byteLength);return new s(l).set(new s(u)),l}},4626:(r,i,o)=>{r=o.nmd(r);var s=o(5639),u=i&&!i.nodeType&&i,l=u&&r&&!r.nodeType&&r,p=l&&l.exports===u?s.Buffer:void 0,g=p?p.allocUnsafe:void 0;r.exports=function(c,_){if(_)return c.slice();var C=c.length,E=g?g(C):new c.constructor(C);return c.copy(E),E}},7133:(r,i,o)=>{var s=o(4318);r.exports=function(u,l){var p=l?s(u.buffer):u.buffer;return new u.constructor(p,u.byteOffset,u.length)}},278:r=>{r.exports=function(i,o){var s=-1,u=i.length;for(o||(o=Array(u));++s<u;)o[s]=i[s];return o}},8363:(r,i,o)=>{var s=o(4865),u=o(9465);r.exports=function(l,p,g,c){var _=!g;g||(g={});for(var C=-1,E=p.length;++C<E;){var P=p[C],S=c?c(g[P],l[P],P,g,l):void 0;S===void 0&&(S=l[P]),_?u(g,P,S):s(g,P,S)}return g}},4429:(r,i,o)=>{var s=o(5639)["__core-js_shared__"];r.exports=s},1463:(r,i,o)=>{var s=o(5976),u=o(6612);r.exports=function(l){return s(function(p,g){var c=-1,_=g.length,C=_>1?g[_-1]:void 0,E=_>2?g[2]:void 0;for(C=l.length>3&&typeof C=="function"?(_--,C):void 0,E&&u(g[0],g[1],E)&&(C=_<3?void 0:C,_=1),p=Object(p);++c<_;){var P=g[c];P&&l(p,P,c,C)}return p})}},5063:r=>{r.exports=function(i){return function(o,s,u){for(var l=-1,p=Object(o),g=u(o),c=g.length;c--;){var _=g[i?c:++l];if(s(p[_],_,p)===!1)break}return o}}},8777:(r,i,o)=>{var s=o(852),u=function(){try{var l=s(Object,"defineProperty");return l({},"",{}),l}catch{}}();r.exports=u},1957:(r,i,o)=>{var s=typeof o.g=="object"&&o.g&&o.g.Object===Object&&o.g;r.exports=s},5050:(r,i,o)=>{var s=o(7019);r.exports=function(u,l){var p=u.__data__;return s(l)?p[typeof l=="string"?"string":"hash"]:p.map}},852:(r,i,o)=>{var s=o(8458),u=o(7801);r.exports=function(l,p){var g=u(l,p);return s(g)?g:void 0}},5924:(r,i,o)=>{var s=o(5569)(Object.getPrototypeOf,Object);r.exports=s},9607:(r,i,o)=>{var s=o(2705),u=Object.prototype,l=u.hasOwnProperty,p=u.toString,g=s?s.toStringTag:void 0;r.exports=function(c){var _=l.call(c,g),C=c[g];try{c[g]=void 0;var E=!0}catch{}var P=p.call(c);return E&&(_?c[g]=C:delete c[g]),P}},7801:r=>{r.exports=function(i,o){return i==null?void 0:i[o]}},222:(r,i,o)=>{var s=o(1811),u=o(5694),l=o(1469),p=o(5776),g=o(1780),c=o(327);r.exports=function(_,C,E){for(var P=-1,S=(C=s(C,_)).length,I=!1;++P<S;){var T=c(C[P]);if(!(I=_!=null&&E(_,T)))break;_=_[T]}return I||++P!=S?I:!!(S=_==null?0:_.length)&&g(S)&&p(T,S)&&(l(_)||u(_))}},1789:(r,i,o)=>{var s=o(4536);r.exports=function(){this.__data__=s?s(null):{},this.size=0}},401:r=>{r.exports=function(i){var o=this.has(i)&&delete this.__data__[i];return this.size-=o?1:0,o}},7667:(r,i,o)=>{var s=o(4536),u=Object.prototype.hasOwnProperty;r.exports=function(l){var p=this.__data__;if(s){var g=p[l];return g==="__lodash_hash_undefined__"?void 0:g}return u.call(p,l)?p[l]:void 0}},1327:(r,i,o)=>{var s=o(4536),u=Object.prototype.hasOwnProperty;r.exports=function(l){var p=this.__data__;return s?p[l]!==void 0:u.call(p,l)}},1866:(r,i,o)=>{var s=o(4536);r.exports=function(u,l){var p=this.__data__;return this.size+=this.has(u)?0:1,p[u]=s&&l===void 0?"__lodash_hash_undefined__":l,this}},8517:(r,i,o)=>{var s=o(3118),u=o(5924),l=o(5726);r.exports=function(p){return typeof p.constructor!="function"||l(p)?{}:s(u(p))}},5776:r=>{var i=/^(?:0|[1-9]\d*)$/;r.exports=function(o,s){var u=typeof o;return!!(s=s??9007199254740991)&&(u=="number"||u!="symbol"&&i.test(o))&&o>-1&&o%1==0&&o<s}},6612:(r,i,o)=>{var s=o(7813),u=o(8612),l=o(5776),p=o(3218);r.exports=function(g,c,_){if(!p(_))return!1;var C=typeof c;return!!(C=="number"?u(_)&&l(c,_.length):C=="string"&&c in _)&&s(_[c],g)}},5403:(r,i,o)=>{var s=o(1469),u=o(3448),l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/;r.exports=function(g,c){if(s(g))return!1;var _=typeof g;return!(_!="number"&&_!="symbol"&&_!="boolean"&&g!=null&&!u(g))||p.test(g)||!l.test(g)||c!=null&&g in Object(c)}},7019:r=>{r.exports=function(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}},5346:(r,i,o)=>{var s,u=o(4429),l=(s=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"";r.exports=function(p){return!!l&&l in p}},5726:r=>{var i=Object.prototype;r.exports=function(o){var s=o&&o.constructor;return o===(typeof s=="function"&&s.prototype||i)}},7040:r=>{r.exports=function(){this.__data__=[],this.size=0}},4125:(r,i,o)=>{var s=o(8470),u=Array.prototype.splice;r.exports=function(l){var p=this.__data__,g=s(p,l);return!(g<0)&&(g==p.length-1?p.pop():u.call(p,g,1),--this.size,!0)}},2117:(r,i,o)=>{var s=o(8470);r.exports=function(u){var l=this.__data__,p=s(l,u);return p<0?void 0:l[p][1]}},7518:(r,i,o)=>{var s=o(8470);r.exports=function(u){return s(this.__data__,u)>-1}},4705:(r,i,o)=>{var s=o(8470);r.exports=function(u,l){var p=this.__data__,g=s(p,u);return g<0?(++this.size,p.push([u,l])):p[g][1]=l,this}},4785:(r,i,o)=>{var s=o(1989),u=o(8407),l=o(7071);r.exports=function(){this.size=0,this.__data__={hash:new s,map:new(l||u),string:new s}}},1285:(r,i,o)=>{var s=o(5050);r.exports=function(u){var l=s(this,u).delete(u);return this.size-=l?1:0,l}},6e3:(r,i,o)=>{var s=o(5050);r.exports=function(u){return s(this,u).get(u)}},9916:(r,i,o)=>{var s=o(5050);r.exports=function(u){return s(this,u).has(u)}},5265:(r,i,o)=>{var s=o(5050);r.exports=function(u,l){var p=s(this,u),g=p.size;return p.set(u,l),this.size+=p.size==g?0:1,this}},4523:(r,i,o)=>{var s=o(8306);r.exports=function(u){var l=s(u,function(g){return p.size===500&&p.clear(),g}),p=l.cache;return l}},4536:(r,i,o)=>{var s=o(852)(Object,"create");r.exports=s},3498:r=>{r.exports=function(i){var o=[];if(i!=null)for(var s in Object(i))o.push(s);return o}},1167:(r,i,o)=>{r=o.nmd(r);var s=o(1957),u=i&&!i.nodeType&&i,l=u&&r&&!r.nodeType&&r,p=l&&l.exports===u&&s.process,g=function(){try{var c=l&&l.require&&l.require("util").types;return c||p&&p.binding&&p.binding("util")}catch{}}();r.exports=g},2333:r=>{var i=Object.prototype.toString;r.exports=function(o){return i.call(o)}},5569:r=>{r.exports=function(i,o){return function(s){return i(o(s))}}},5357:(r,i,o)=>{var s=o(6874),u=Math.max;r.exports=function(l,p,g){return p=u(p===void 0?l.length-1:p,0),function(){for(var c=arguments,_=-1,C=u(c.length-p,0),E=Array(C);++_<C;)E[_]=c[p+_];_=-1;for(var P=Array(p+1);++_<p;)P[_]=c[_];return P[p]=g(E),s(l,this,P)}}},5639:(r,i,o)=>{var s=o(1957),u=typeof self=="object"&&self&&self.Object===Object&&self,l=s||u||Function("return this")();r.exports=l},6390:r=>{r.exports=function(i,o){if((o!=="constructor"||typeof i[o]!="function")&&o!="__proto__")return i[o]}},61:(r,i,o)=>{var s=o(6560),u=o(1275)(s);r.exports=u},1275:r=>{var i=Date.now;r.exports=function(o){var s=0,u=0;return function(){var l=i(),p=16-(l-u);if(u=l,p>0){if(++s>=800)return arguments[0]}else s=0;return o.apply(void 0,arguments)}}},7465:(r,i,o)=>{var s=o(8407);r.exports=function(){this.__data__=new s,this.size=0}},3779:r=>{r.exports=function(i){var o=this.__data__,s=o.delete(i);return this.size=o.size,s}},7599:r=>{r.exports=function(i){return this.__data__.get(i)}},4758:r=>{r.exports=function(i){return this.__data__.has(i)}},4309:(r,i,o)=>{var s=o(8407),u=o(7071),l=o(3369);r.exports=function(p,g){var c=this.__data__;if(c instanceof s){var _=c.__data__;if(!u||_.length<199)return _.push([p,g]),this.size=++c.size,this;c=this.__data__=new l(_)}return c.set(p,g),this.size=c.size,this}},5514:(r,i,o)=>{var s=o(4523),u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,p=s(function(g){var c=[];return g.charCodeAt(0)===46&&c.push(""),g.replace(u,function(_,C,E,P){c.push(E?P.replace(l,"$1"):C||_)}),c});r.exports=p},327:(r,i,o)=>{var s=o(3448);r.exports=function(u){if(typeof u=="string"||s(u))return u;var l=u+"";return l=="0"&&1/u==-1/0?"-0":l}},346:r=>{var i=Function.prototype.toString;r.exports=function(o){if(o!=null){try{return i.call(o)}catch{}try{return o+""}catch{}}return""}},5703:r=>{r.exports=function(i){return function(){return i}}},7813:r=>{r.exports=function(i,o){return i===o||i!=i&&o!=o}},7361:(r,i,o)=>{var s=o(7786);r.exports=function(u,l,p){var g=u==null?void 0:s(u,l);return g===void 0?p:g}},8721:(r,i,o)=>{var s=o(8565),u=o(222);r.exports=function(l,p){return l!=null&&u(l,p,s)}},6557:r=>{r.exports=function(i){return i}},5694:(r,i,o)=>{var s=o(9454),u=o(7005),l=Object.prototype,p=l.hasOwnProperty,g=l.propertyIsEnumerable,c=s(function(){return arguments}())?s:function(_){return u(_)&&p.call(_,"callee")&&!g.call(_,"callee")};r.exports=c},1469:r=>{var i=Array.isArray;r.exports=i},8612:(r,i,o)=>{var s=o(3560),u=o(1780);r.exports=function(l){return l!=null&&u(l.length)&&!s(l)}},9246:(r,i,o)=>{var s=o(8612),u=o(7005);r.exports=function(l){return u(l)&&s(l)}},4144:(r,i,o)=>{r=o.nmd(r);var s=o(5639),u=o(5062),l=i&&!i.nodeType&&i,p=l&&r&&!r.nodeType&&r,g=p&&p.exports===l?s.Buffer:void 0,c=(g?g.isBuffer:void 0)||u;r.exports=c},3560:(r,i,o)=>{var s=o(4239),u=o(3218);r.exports=function(l){if(!u(l))return!1;var p=s(l);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}},1780:r=>{r.exports=function(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=9007199254740991}},3218:r=>{r.exports=function(i){var o=typeof i;return i!=null&&(o=="object"||o=="function")}},7005:r=>{r.exports=function(i){return i!=null&&typeof i=="object"}},8630:(r,i,o)=>{var s=o(4239),u=o(5924),l=o(7005),p=Function.prototype,g=Object.prototype,c=p.toString,_=g.hasOwnProperty,C=c.call(Object);r.exports=function(E){if(!l(E)||s(E)!="[object Object]")return!1;var P=u(E);if(P===null)return!0;var S=_.call(P,"constructor")&&P.constructor;return typeof S=="function"&&S instanceof S&&c.call(S)==C}},3448:(r,i,o)=>{var s=o(4239),u=o(7005);r.exports=function(l){return typeof l=="symbol"||u(l)&&s(l)=="[object Symbol]"}},6719:(r,i,o)=>{var s=o(8749),u=o(1717),l=o(1167),p=l&&l.isTypedArray,g=p?u(p):s;r.exports=g},1704:(r,i,o)=>{var s=o(4636),u=o(313),l=o(8612);r.exports=function(p){return l(p)?s(p,!0):u(p)}},8306:(r,i,o)=>{var s=o(3369);function u(l,p){if(typeof l!="function"||p!=null&&typeof p!="function")throw new TypeError("Expected a function");var g=function(){var c=arguments,_=p?p.apply(this,c):c[0],C=g.cache;if(C.has(_))return C.get(_);var E=l.apply(this,c);return g.cache=C.set(_,E)||C,E};return g.cache=new(u.Cache||s),g}u.Cache=s,r.exports=u},2492:(r,i,o)=>{var s=o(2980),u=o(1463)(function(l,p,g){s(l,p,g)});r.exports=u},5062:r=>{r.exports=function(){return!1}},9881:(r,i,o)=>{var s=o(8363),u=o(1704);r.exports=function(l){return s(l,u(l))}},9833:(r,i,o)=>{var s=o(531);r.exports=function(u){return u==null?"":s(u)}},2676:function(r){r.exports=function(){function i(Z,k){if(!(Z instanceof k))throw new TypeError("Cannot call a class as a function")}function o(Z,k){for(var O=0;O<k.length;O++){var z=k[O];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(Z,z.key,z)}}function s(Z,k,O){return k&&o(Z.prototype,k),O&&o(Z,O),Z}var u=function(){function Z(k,O){this.next=null,this.key=k,this.data=O,this.left=null,this.right=null}return Z}();function l(Z,k){return Z>k?1:Z<k?-1:0}function p(Z,k,O){for(var z=new u(null,null),j=z,W=z;;){var _t=O(Z,k.key);if(_t<0){if(k.left===null)break;if(O(Z,k.left.key)<0){var mt=k.left;if(k.left=mt.right,mt.right=k,(k=mt).left===null)break}W.left=k,W=k,k=k.left}else{if(!(_t>0)||k.right===null||O(Z,k.right.key)>0&&(mt=k.right,k.right=mt.left,mt.left=k,(k=mt).right===null))break;j.right=k,j=k,k=k.right}}return j.right=k.left,W.left=k.right,k.left=z.right,k.right=z.left,k}function g(Z,k,O,z){var j=new u(Z,k);if(O===null)return j.left=j.right=null,j;var W=z(Z,(O=p(Z,O,z)).key);return W<0?(j.left=O.left,j.right=O,O.left=null):W>=0&&(j.right=O.right,j.left=O,O.right=null),j}function c(Z,k,O){var z=null,j=null;if(k){var W=O((k=p(Z,k,O)).key,Z);W===0?(z=k.left,j=k.right):W<0?(j=k.right,k.right=null,z=k):(z=k.left,k.left=null,j=k)}return{left:z,right:j}}function _(Z,k,O){return k===null?Z:(Z===null||((k=p(Z.key,k,O)).left=Z),k)}function C(Z,k,O,z,j){if(Z){z(k+(O?"└── ":"├── ")+j(Z)+`
`);var W=k+(O?"    ":"│   ");Z.left&&C(Z.left,W,!1,z,j),Z.right&&C(Z.right,W,!0,z,j)}}var E=function(){function Z(k){k===void 0&&(k=l),this._root=null,this._size=0,this._comparator=k}return Z.prototype.insert=function(k,O){return this._size++,this._root=g(k,O,this._root,this._comparator)},Z.prototype.add=function(k,O){var z=new u(k,O);this._root===null&&(z.left=z.right=null,this._size++,this._root=z);var j=this._comparator,W=p(k,this._root,j),_t=j(k,W.key);return _t===0?this._root=W:(_t<0?(z.left=W.left,z.right=W,W.left=null):_t>0&&(z.right=W.right,z.left=W,W.right=null),this._size++,this._root=z),this._root},Z.prototype.remove=function(k){this._root=this._remove(k,this._root,this._comparator)},Z.prototype._remove=function(k,O,z){var j;return O===null?null:z(k,(O=p(k,O,z)).key)===0?(O.left===null?j=O.right:(j=p(k,O.left,z)).right=O.right,this._size--,j):O},Z.prototype.pop=function(){var k=this._root;if(k){for(;k.left;)k=k.left;return this._root=p(k.key,this._root,this._comparator),this._root=this._remove(k.key,this._root,this._comparator),{key:k.key,data:k.data}}return null},Z.prototype.findStatic=function(k){for(var O=this._root,z=this._comparator;O;){var j=z(k,O.key);if(j===0)return O;O=j<0?O.left:O.right}return null},Z.prototype.find=function(k){return this._root&&(this._root=p(k,this._root,this._comparator),this._comparator(k,this._root.key)!==0)?null:this._root},Z.prototype.contains=function(k){for(var O=this._root,z=this._comparator;O;){var j=z(k,O.key);if(j===0)return!0;O=j<0?O.left:O.right}return!1},Z.prototype.forEach=function(k,O){for(var z=this._root,j=[],W=!1;!W;)z!==null?(j.push(z),z=z.left):j.length!==0?(z=j.pop(),k.call(O,z),z=z.right):W=!0;return this},Z.prototype.range=function(k,O,z,j){for(var W=[],_t=this._comparator,mt=this._root;W.length!==0||mt;)if(mt)W.push(mt),mt=mt.left;else{if(_t((mt=W.pop()).key,O)>0)break;if(_t(mt.key,k)>=0&&z.call(j,mt))return this;mt=mt.right}return this},Z.prototype.keys=function(){var k=[];return this.forEach(function(O){var z=O.key;return k.push(z)}),k},Z.prototype.values=function(){var k=[];return this.forEach(function(O){var z=O.data;return k.push(z)}),k},Z.prototype.min=function(){return this._root?this.minNode(this._root).key:null},Z.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},Z.prototype.minNode=function(k){if(k===void 0&&(k=this._root),k)for(;k.left;)k=k.left;return k},Z.prototype.maxNode=function(k){if(k===void 0&&(k=this._root),k)for(;k.right;)k=k.right;return k},Z.prototype.at=function(k){for(var O=this._root,z=!1,j=0,W=[];!z;)if(O)W.push(O),O=O.left;else if(W.length>0){if(O=W.pop(),j===k)return O;j++,O=O.right}else z=!0;return null},Z.prototype.next=function(k){var O=this._root,z=null;if(k.right){for(z=k.right;z.left;)z=z.left;return z}for(var j=this._comparator;O;){var W=j(k.key,O.key);if(W===0)break;W<0?(z=O,O=O.left):O=O.right}return z},Z.prototype.prev=function(k){var O=this._root,z=null;if(k.left!==null){for(z=k.left;z.right;)z=z.right;return z}for(var j=this._comparator;O;){var W=j(k.key,O.key);if(W===0)break;W<0?O=O.left:(z=O,O=O.right)}return z},Z.prototype.clear=function(){return this._root=null,this._size=0,this},Z.prototype.toList=function(){return I(this._root)},Z.prototype.load=function(k,O,z){O===void 0&&(O=[]),z===void 0&&(z=!1);var j=k.length,W=this._comparator;if(z&&x(k,O,0,j-1,W),this._root===null)this._root=P(k,O,0,j),this._size=j;else{var _t=N(this.toList(),S(k,O),W);j=this._size+j,this._root=T({head:_t},0,j)}return this},Z.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(Z.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(Z.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Z.prototype.toString=function(k){k===void 0&&(k=function(z){return String(z.key)});var O=[];return C(this._root,"",!0,function(z){return O.push(z)},k),O.join("")},Z.prototype.update=function(k,O,z){var j=this._comparator,W=c(k,this._root,j),_t=W.left,mt=W.right;j(k,O)<0?mt=g(O,z,mt,j):_t=g(O,z,_t,j),this._root=_(_t,mt,j)},Z.prototype.split=function(k){return c(k,this._root,this._comparator)},Z}();function P(Z,k,O,z){var j=z-O;if(j>0){var W=O+Math.floor(j/2),_t=Z[W],mt=k[W],It=new u(_t,mt);return It.left=P(Z,k,O,W),It.right=P(Z,k,W+1,z),It}return null}function S(Z,k){for(var O=new u(null,null),z=O,j=0;j<Z.length;j++)z=z.next=new u(Z[j],k[j]);return z.next=null,O.next}function I(Z){for(var k=Z,O=[],z=!1,j=new u(null,null),W=j;!z;)k?(O.push(k),k=k.left):O.length>0?k=(k=W=W.next=O.pop()).right:z=!0;return W.next=null,j.next}function T(Z,k,O){var z=O-k;if(z>0){var j=k+Math.floor(z/2),W=T(Z,k,j),_t=Z.head;return _t.left=W,Z.head=Z.head.next,_t.right=T(Z,j+1,O),_t}return null}function N(Z,k,O){for(var z=new u(null,null),j=z,W=Z,_t=k;W!==null&&_t!==null;)O(W.key,_t.key)<0?(j.next=W,W=W.next):(j.next=_t,_t=_t.next),j=j.next;return W!==null?j.next=W:_t!==null&&(j.next=_t),z.next}function x(Z,k,O,z,j){if(!(O>=z)){for(var W=Z[O+z>>1],_t=O-1,mt=z+1;;){do _t++;while(j(Z[_t],W)<0);do mt--;while(j(Z[mt],W)>0);if(_t>=mt)break;var It=Z[_t];Z[_t]=Z[mt],Z[mt]=It,It=k[_t],k[_t]=k[mt],k[mt]=It}x(Z,k,O,mt,j),x(Z,k,mt+1,z,j)}}var R=function(Z,k){return Z.ll.x<=k.x&&k.x<=Z.ur.x&&Z.ll.y<=k.y&&k.y<=Z.ur.y},B=function(Z,k){if(k.ur.x<Z.ll.x||Z.ur.x<k.ll.x||k.ur.y<Z.ll.y||Z.ur.y<k.ll.y)return null;var O=Z.ll.x<k.ll.x?k.ll.x:Z.ll.x,z=Z.ur.x<k.ur.x?Z.ur.x:k.ur.x;return{ll:{x:O,y:Z.ll.y<k.ll.y?k.ll.y:Z.ll.y},ur:{x:z,y:Z.ur.y<k.ur.y?Z.ur.y:k.ur.y}}},Y=Number.EPSILON;Y===void 0&&(Y=Math.pow(2,-52));var Q=Y*Y,rt=function(Z,k){if(-Y<Z&&Z<Y&&-Y<k&&k<Y)return 0;var O=Z-k;return O*O<Q*Z*k?0:Z<k?-1:1},ct=function(){function Z(){i(this,Z),this.reset()}return s(Z,[{key:"reset",value:function(){this.xRounder=new X,this.yRounder=new X}},{key:"round",value:function(k,O){return{x:this.xRounder.round(k),y:this.yRounder.round(O)}}}]),Z}(),X=function(){function Z(){i(this,Z),this.tree=new E,this.round(0)}return s(Z,[{key:"round",value:function(k){var O=this.tree.add(k),z=this.tree.prev(O);if(z!==null&&rt(O.key,z.key)===0)return this.tree.remove(k),z.key;var j=this.tree.next(O);return j!==null&&rt(O.key,j.key)===0?(this.tree.remove(k),j.key):k}}]),Z}(),J=new ct,at=function(Z,k){return Z.x*k.y-Z.y*k.x},it=function(Z,k){return Z.x*k.x+Z.y*k.y},ot=function(Z,k,O){var z={x:k.x-Z.x,y:k.y-Z.y},j={x:O.x-Z.x,y:O.y-Z.y},W=at(z,j);return rt(W,0)},bt=function(Z){return Math.sqrt(it(Z,Z))},Bt=function(Z,k,O){var z={x:k.x-Z.x,y:k.y-Z.y},j={x:O.x-Z.x,y:O.y-Z.y};return at(j,z)/bt(j)/bt(z)},ut=function(Z,k,O){var z={x:k.x-Z.x,y:k.y-Z.y},j={x:O.x-Z.x,y:O.y-Z.y};return it(j,z)/bt(j)/bt(z)},Ut=function(Z,k,O){return k.y===0?null:{x:Z.x+k.x/k.y*(O-Z.y),y:O}},Rt=function(Z,k,O){return k.x===0?null:{x:O,y:Z.y+k.y/k.x*(O-Z.x)}},Tt=function(Z,k,O,z){if(k.x===0)return Rt(O,z,Z.x);if(z.x===0)return Rt(Z,k,O.x);if(k.y===0)return Ut(O,z,Z.y);if(z.y===0)return Ut(Z,k,O.y);var j=at(k,z);if(j==0)return null;var W={x:O.x-Z.x,y:O.y-Z.y},_t=at(W,k)/j,mt=at(W,z)/j;return{x:(Z.x+mt*k.x+(O.x+_t*z.x))/2,y:(Z.y+mt*k.y+(O.y+_t*z.y))/2}},Xt=function(){function Z(k,O){i(this,Z),k.events===void 0?k.events=[this]:k.events.push(this),this.point=k,this.isLeft=O}return s(Z,null,[{key:"compare",value:function(k,O){var z=Z.comparePoints(k.point,O.point);return z!==0?z:(k.point!==O.point&&k.link(O),k.isLeft!==O.isLeft?k.isLeft?1:-1:Ge.compare(k.segment,O.segment))}},{key:"comparePoints",value:function(k,O){return k.x<O.x?-1:k.x>O.x?1:k.y<O.y?-1:k.y>O.y?1:0}}]),s(Z,[{key:"link",value:function(k){if(k.point===this.point)throw new Error("Tried to link already linked events");for(var O=k.point.events,z=0,j=O.length;z<j;z++){var W=O[z];this.point.events.push(W),W.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var k=this.point.events.length,O=0;O<k;O++){var z=this.point.events[O];if(z.segment.consumedBy===void 0)for(var j=O+1;j<k;j++){var W=this.point.events[j];W.consumedBy===void 0&&z.otherSE.point.events===W.otherSE.point.events&&z.segment.consume(W.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var k=[],O=0,z=this.point.events.length;O<z;O++){var j=this.point.events[O];j!==this&&!j.segment.ringOut&&j.segment.isInResult()&&k.push(j)}return k}},{key:"getLeftmostComparator",value:function(k){var O=this,z=new Map,j=function(W){var _t=W.otherSE;z.set(W,{sine:Bt(O.point,k.point,_t.point),cosine:ut(O.point,k.point,_t.point)})};return function(W,_t){z.has(W)||j(W),z.has(_t)||j(_t);var mt=z.get(W),It=mt.sine,K=mt.cosine,pe=z.get(_t),xe=pe.sine,ke=pe.cosine;return It>=0&&xe>=0?K<ke?1:K>ke?-1:0:It<0&&xe<0?K<ke?-1:K>ke?1:0:xe<It?-1:xe>It?1:0}}}]),Z}(),Fe=0,Ge=function(){function Z(k,O,z,j){i(this,Z),this.id=++Fe,this.leftSE=k,k.segment=this,k.otherSE=O,this.rightSE=O,O.segment=this,O.otherSE=k,this.rings=z,this.windings=j}return s(Z,null,[{key:"compare",value:function(k,O){var z=k.leftSE.point.x,j=O.leftSE.point.x,W=k.rightSE.point.x,_t=O.rightSE.point.x;if(_t<z)return 1;if(W<j)return-1;var mt=k.leftSE.point.y,It=O.leftSE.point.y,K=k.rightSE.point.y,pe=O.rightSE.point.y;if(z<j){if(It<mt&&It<K)return 1;if(It>mt&&It>K)return-1;var xe=k.comparePoint(O.leftSE.point);if(xe<0)return 1;if(xe>0)return-1;var ke=O.comparePoint(k.rightSE.point);return ke!==0?ke:-1}if(z>j){if(mt<It&&mt<pe)return-1;if(mt>It&&mt>pe)return 1;var tn=O.comparePoint(k.leftSE.point);if(tn!==0)return tn;var ge=k.comparePoint(O.rightSE.point);return ge<0?1:ge>0?-1:1}if(mt<It)return-1;if(mt>It)return 1;if(W<_t){var Ke=O.comparePoint(k.rightSE.point);if(Ke!==0)return Ke}if(W>_t){var bn=k.comparePoint(O.rightSE.point);if(bn<0)return 1;if(bn>0)return-1}if(W!==_t){var Hn=K-mt,xn=W-z,ar=pe-It,lr=_t-j;if(Hn>xn&&ar<lr)return 1;if(Hn<xn&&ar>lr)return-1}return W>_t?1:W<_t||K<pe?-1:K>pe?1:k.id<O.id?-1:k.id>O.id?1:0}}]),s(Z,[{key:"replaceRightSE",value:function(k){this.rightSE=k,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var k=this.leftSE.point.y,O=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:k<O?k:O},ur:{x:this.rightSE.point.x,y:k>O?k:O}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(k){return k.x===this.leftSE.point.x&&k.y===this.leftSE.point.y||k.x===this.rightSE.point.x&&k.y===this.rightSE.point.y}},{key:"comparePoint",value:function(k){if(this.isAnEndpoint(k))return 0;var O=this.leftSE.point,z=this.rightSE.point,j=this.vector();if(O.x===z.x)return k.x===O.x?0:k.x<O.x?1:-1;var W=(k.y-O.y)/j.y,_t=O.x+W*j.x;if(k.x===_t)return 0;var mt=(k.x-O.x)/j.x,It=O.y+mt*j.y;return k.y===It?0:k.y<It?-1:1}},{key:"getIntersection",value:function(k){var O=this.bbox(),z=k.bbox(),j=B(O,z);if(j===null)return null;var W=this.leftSE.point,_t=this.rightSE.point,mt=k.leftSE.point,It=k.rightSE.point,K=R(O,mt)&&this.comparePoint(mt)===0,pe=R(z,W)&&k.comparePoint(W)===0,xe=R(O,It)&&this.comparePoint(It)===0,ke=R(z,_t)&&k.comparePoint(_t)===0;if(pe&&K)return ke&&!xe?_t:!ke&&xe?It:null;if(pe)return xe&&W.x===It.x&&W.y===It.y?null:W;if(K)return ke&&_t.x===mt.x&&_t.y===mt.y?null:mt;if(ke&&xe)return null;if(ke)return _t;if(xe)return It;var tn=Tt(W,this.vector(),mt,k.vector());return tn===null?null:R(j,tn)?J.round(tn.x,tn.y):null}},{key:"split",value:function(k){var O=[],z=k.events!==void 0,j=new Xt(k,!0),W=new Xt(k,!1),_t=this.rightSE;this.replaceRightSE(W),O.push(W),O.push(j);var mt=new Z(j,_t,this.rings.slice(),this.windings.slice());return Xt.comparePoints(mt.leftSE.point,mt.rightSE.point)>0&&mt.swapEvents(),Xt.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),z&&(j.checkForConsuming(),W.checkForConsuming()),O}},{key:"swapEvents",value:function(){var k=this.rightSE;this.rightSE=this.leftSE,this.leftSE=k,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var O=0,z=this.windings.length;O<z;O++)this.windings[O]*=-1}},{key:"consume",value:function(k){for(var O=this,z=k;O.consumedBy;)O=O.consumedBy;for(;z.consumedBy;)z=z.consumedBy;var j=Z.compare(O,z);if(j!==0){if(j>0){var W=O;O=z,z=W}if(O.prev===z){var _t=O;O=z,z=_t}for(var mt=0,It=z.rings.length;mt<It;mt++){var K=z.rings[mt],pe=z.windings[mt],xe=O.rings.indexOf(K);xe===-1?(O.rings.push(K),O.windings.push(pe)):O.windings[xe]+=pe}z.rings=null,z.windings=null,z.consumedBy=O,z.leftSE.consumedBy=O.leftSE,z.rightSE.consumedBy=O.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var k=this.prev.consumedBy||this.prev;this._beforeState=k.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var k=this.beforeState();this._afterState={rings:k.rings.slice(0),windings:k.windings.slice(0),multiPolys:[]};for(var O=this._afterState.rings,z=this._afterState.windings,j=this._afterState.multiPolys,W=0,_t=this.rings.length;W<_t;W++){var mt=this.rings[W],It=this.windings[W],K=O.indexOf(mt);K===-1?(O.push(mt),z.push(It)):z[K]+=It}for(var pe=[],xe=[],ke=0,tn=O.length;ke<tn;ke++)if(z[ke]!==0){var ge=O[ke],Ke=ge.poly;if(xe.indexOf(Ke)===-1)if(ge.isExterior)pe.push(Ke);else{xe.indexOf(Ke)===-1&&xe.push(Ke);var bn=pe.indexOf(ge.poly);bn!==-1&&pe.splice(bn,1)}}for(var Hn=0,xn=pe.length;Hn<xn;Hn++){var ar=pe[Hn].multiPoly;j.indexOf(ar)===-1&&j.push(ar)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var k=this.beforeState().multiPolys,O=this.afterState().multiPolys;switch(Kn.type){case"union":var z=k.length===0,j=O.length===0;this._isInResult=z!==j;break;case"intersection":var W,_t;k.length<O.length?(W=k.length,_t=O.length):(W=O.length,_t=k.length),this._isInResult=_t===Kn.numMultiPolys&&W<_t;break;case"xor":var mt=Math.abs(k.length-O.length);this._isInResult=mt%2==1;break;case"difference":var It=function(K){return K.length===1&&K[0].isSubject};this._isInResult=It(k)!==It(O);break;default:throw new Error("Unrecognized operation type found ".concat(Kn.type))}return this._isInResult}}],[{key:"fromRing",value:function(k,O,z){var j,W,_t,mt=Xt.comparePoints(k,O);if(mt<0)j=k,W=O,_t=1;else{if(!(mt>0))throw new Error("Tried to create degenerate segment at [".concat(k.x,", ").concat(k.y,"]"));j=O,W=k,_t=-1}return new Z(new Xt(j,!0),new Xt(W,!1),[z],[_t])}}]),Z}(),ie=function(){function Z(k,O,z){if(i(this,Z),!Array.isArray(k)||k.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=O,this.isExterior=z,this.segments=[],typeof k[0][0]!="number"||typeof k[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var j=J.round(k[0][0],k[0][1]);this.bbox={ll:{x:j.x,y:j.y},ur:{x:j.x,y:j.y}};for(var W=j,_t=1,mt=k.length;_t<mt;_t++){if(typeof k[_t][0]!="number"||typeof k[_t][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var It=J.round(k[_t][0],k[_t][1]);It.x===W.x&&It.y===W.y||(this.segments.push(Ge.fromRing(W,It,this)),It.x<this.bbox.ll.x&&(this.bbox.ll.x=It.x),It.y<this.bbox.ll.y&&(this.bbox.ll.y=It.y),It.x>this.bbox.ur.x&&(this.bbox.ur.x=It.x),It.y>this.bbox.ur.y&&(this.bbox.ur.y=It.y),W=It)}j.x===W.x&&j.y===W.y||this.segments.push(Ge.fromRing(W,j,this))}return s(Z,[{key:"getSweepEvents",value:function(){for(var k=[],O=0,z=this.segments.length;O<z;O++){var j=this.segments[O];k.push(j.leftSE),k.push(j.rightSE)}return k}}]),Z}(),fe=function(){function Z(k,O){if(i(this,Z),!Array.isArray(k))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new ie(k[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var z=1,j=k.length;z<j;z++){var W=new ie(k[z],this,!1);W.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=W.bbox.ll.x),W.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=W.bbox.ll.y),W.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=W.bbox.ur.x),W.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=W.bbox.ur.y),this.interiorRings.push(W)}this.multiPoly=O}return s(Z,[{key:"getSweepEvents",value:function(){for(var k=this.exteriorRing.getSweepEvents(),O=0,z=this.interiorRings.length;O<z;O++)for(var j=this.interiorRings[O].getSweepEvents(),W=0,_t=j.length;W<_t;W++)k.push(j[W]);return k}}]),Z}(),gr=function(){function Z(k,O){if(i(this,Z),!Array.isArray(k))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof k[0][0][0]=="number"&&(k=[k])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var z=0,j=k.length;z<j;z++){var W=new fe(k[z],this);W.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=W.bbox.ll.x),W.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=W.bbox.ll.y),W.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=W.bbox.ur.x),W.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=W.bbox.ur.y),this.polys.push(W)}this.isSubject=O}return s(Z,[{key:"getSweepEvents",value:function(){for(var k=[],O=0,z=this.polys.length;O<z;O++)for(var j=this.polys[O].getSweepEvents(),W=0,_t=j.length;W<_t;W++)k.push(j[W]);return k}}]),Z}(),In=function(){function Z(k){i(this,Z),this.events=k;for(var O=0,z=k.length;O<z;O++)k[O].segment.ringOut=this;this.poly=null}return s(Z,null,[{key:"factory",value:function(k){for(var O=[],z=0,j=k.length;z<j;z++){var W=k[z];if(W.isInResult()&&!W.ringOut){for(var _t=null,mt=W.leftSE,It=W.rightSE,K=[mt],pe=mt.point,xe=[];_t=mt,mt=It,K.push(mt),mt.point!==pe;)for(;;){var ke=mt.getAvailableLinkedEvents();if(ke.length===0){var tn=K[0].point,ge=K[K.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(tn.x,",")+" ".concat(tn.y,"]. Last matching segment found ends at")+" [".concat(ge.x,", ").concat(ge.y,"]."))}if(ke.length===1){It=ke[0].otherSE;break}for(var Ke=null,bn=0,Hn=xe.length;bn<Hn;bn++)if(xe[bn].point===mt.point){Ke=bn;break}if(Ke===null){xe.push({index:K.length,point:mt.point});var xn=mt.getLeftmostComparator(_t);It=ke.sort(xn)[0].otherSE;break}var ar=xe.splice(Ke)[0],lr=K.splice(ar.index);lr.unshift(lr[0].otherSE),O.push(new Z(lr.reverse()))}O.push(new Z(K))}}return O}}]),s(Z,[{key:"getGeom",value:function(){for(var k=this.events[0].point,O=[k],z=1,j=this.events.length-1;z<j;z++){var W=this.events[z].point,_t=this.events[z+1].point;ot(W,k,_t)!==0&&(O.push(W),k=W)}if(O.length===1)return null;var mt=O[0],It=O[1];ot(mt,k,It)===0&&O.shift(),O.push(O[0]);for(var K=this.isExteriorRing()?1:-1,pe=this.isExteriorRing()?0:O.length-1,xe=this.isExteriorRing()?O.length:-1,ke=[],tn=pe;tn!=xe;tn+=K)ke.push([O[tn].x,O[tn].y]);return ke}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var k=this.enclosingRing();this._isExteriorRing=!k||!k.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var k=this.events[0],O=1,z=this.events.length;O<z;O++){var j=this.events[O];Xt.compare(k,j)>0&&(k=j)}for(var W=k.segment.prevInResult(),_t=W?W.prevInResult():null;;){if(!W)return null;if(!_t)return W.ringOut;if(_t.ringOut!==W.ringOut)return _t.ringOut.enclosingRing()!==W.ringOut?W.ringOut:W.ringOut.enclosingRing();W=_t.prevInResult(),_t=W?W.prevInResult():null}}}]),Z}(),Wi=function(){function Z(k){i(this,Z),this.exteriorRing=k,k.poly=this,this.interiorRings=[]}return s(Z,[{key:"addInterior",value:function(k){this.interiorRings.push(k),k.poly=this}},{key:"getGeom",value:function(){var k=[this.exteriorRing.getGeom()];if(k[0]===null)return null;for(var O=0,z=this.interiorRings.length;O<z;O++){var j=this.interiorRings[O].getGeom();j!==null&&k.push(j)}return k}}]),Z}(),Tr=function(){function Z(k){i(this,Z),this.rings=k,this.polys=this._composePolys(k)}return s(Z,[{key:"getGeom",value:function(){for(var k=[],O=0,z=this.polys.length;O<z;O++){var j=this.polys[O].getGeom();j!==null&&k.push(j)}return k}},{key:"_composePolys",value:function(k){for(var O=[],z=0,j=k.length;z<j;z++){var W=k[z];if(!W.poly)if(W.isExteriorRing())O.push(new Wi(W));else{var _t=W.enclosingRing();_t.poly||O.push(new Wi(_t)),_t.poly.addInterior(W)}}return O}}]),Z}(),bo=function(){function Z(k){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ge.compare;i(this,Z),this.queue=k,this.tree=new E(O),this.segments=[]}return s(Z,[{key:"process",value:function(k){var O=k.segment,z=[];if(k.consumedBy)return k.isLeft?this.queue.remove(k.otherSE):this.tree.remove(O),z;var j=k.isLeft?this.tree.insert(O):this.tree.find(O);if(!j)throw new Error("Unable to find segment #".concat(O.id," ")+"[".concat(O.leftSE.point.x,", ").concat(O.leftSE.point.y,"] -> ")+"[".concat(O.rightSE.point.x,", ").concat(O.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var W=j,_t=j,mt=void 0,It=void 0;mt===void 0;)(W=this.tree.prev(W))===null?mt=null:W.key.consumedBy===void 0&&(mt=W.key);for(;It===void 0;)(_t=this.tree.next(_t))===null?It=null:_t.key.consumedBy===void 0&&(It=_t.key);if(k.isLeft){var K=null;if(mt){var pe=mt.getIntersection(O);if(pe!==null&&(O.isAnEndpoint(pe)||(K=pe),!mt.isAnEndpoint(pe)))for(var xe=this._splitSafely(mt,pe),ke=0,tn=xe.length;ke<tn;ke++)z.push(xe[ke])}var ge=null;if(It){var Ke=It.getIntersection(O);if(Ke!==null&&(O.isAnEndpoint(Ke)||(ge=Ke),!It.isAnEndpoint(Ke)))for(var bn=this._splitSafely(It,Ke),Hn=0,xn=bn.length;Hn<xn;Hn++)z.push(bn[Hn])}if(K!==null||ge!==null){var ar=null;ar=K===null?ge:ge===null||Xt.comparePoints(K,ge)<=0?K:ge,this.queue.remove(O.rightSE),z.push(O.rightSE);for(var lr=O.split(ar),ri=0,Hr=lr.length;ri<Hr;ri++)z.push(lr[ri])}z.length>0?(this.tree.remove(O),z.push(k)):(this.segments.push(O),O.prev=mt)}else{if(mt&&It){var _r=mt.getIntersection(It);if(_r!==null){if(!mt.isAnEndpoint(_r))for(var Zr=this._splitSafely(mt,_r),Ni=0,wo=Zr.length;Ni<wo;Ni++)z.push(Zr[Ni]);if(!It.isAnEndpoint(_r))for(var ur=this._splitSafely(It,_r),Zn=0,Qi=ur.length;Zn<Qi;Zn++)z.push(ur[Zn])}}this.tree.remove(O)}return z}},{key:"_splitSafely",value:function(k,O){this.tree.remove(k);var z=k.rightSE;this.queue.remove(z);var j=k.split(O);return j.push(z),k.consumedBy===void 0&&this.tree.insert(k),j}}]),Z}(),ni=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Ki=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Kn=new(function(){function Z(){i(this,Z)}return s(Z,[{key:"run",value:function(k,O,z){Kn.type=k,J.reset();for(var j=[new gr(O,!0)],W=0,_t=z.length;W<_t;W++)j.push(new gr(z[W],!1));if(Kn.numMultiPolys=j.length,Kn.type==="difference")for(var mt=j[0],It=1;It<j.length;)B(j[It].bbox,mt.bbox)!==null?It++:j.splice(It,1);if(Kn.type==="intersection"){for(var K=0,pe=j.length;K<pe;K++)for(var xe=j[K],ke=K+1,tn=j.length;ke<tn;ke++)if(B(xe.bbox,j[ke].bbox)===null)return[]}for(var ge=new E(Xt.compare),Ke=0,bn=j.length;Ke<bn;Ke++)for(var Hn=j[Ke].getSweepEvents(),xn=0,ar=Hn.length;xn<ar;xn++)if(ge.insert(Hn[xn]),ge.size>ni)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var lr=new bo(ge),ri=ge.size,Hr=ge.pop();Hr;){var _r=Hr.key;if(ge.size===ri){var Zr=_r.segment;throw new Error("Unable to pop() ".concat(_r.isLeft?"left":"right"," SweepEvent ")+"[".concat(_r.point.x,", ").concat(_r.point.y,"] from segment #").concat(Zr.id," ")+"[".concat(Zr.leftSE.point.x,", ").concat(Zr.leftSE.point.y,"] -> ")+"[".concat(Zr.rightSE.point.x,", ").concat(Zr.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(ge.size>ni)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(lr.segments.length>Ki)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var Ni=lr.process(_r),wo=0,ur=Ni.length;wo<ur;wo++){var Zn=Ni[wo];Zn.consumedBy===void 0&&ge.insert(Zn)}ri=ge.size,Hr=ge.pop()}J.reset();var Qi=In.factory(lr.segments);return new Tr(Qi).getGeom()}}]),Z}()),jo=function(Z){for(var k=arguments.length,O=new Array(k>1?k-1:0),z=1;z<k;z++)O[z-1]=arguments[z];return Kn.run("union",Z,O)},Ji=function(Z){for(var k=arguments.length,O=new Array(k>1?k-1:0),z=1;z<k;z++)O[z-1]=arguments[z];return Kn.run("intersection",Z,O)},Co=function(Z){for(var k=arguments.length,O=new Array(k>1?k-1:0),z=1;z<k;z++)O[z-1]=arguments[z];return Kn.run("xor",Z,O)},Ti=function(Z){for(var k=arguments.length,O=new Array(k>1?k-1:0),z=1;z<k;z++)O[z-1]=arguments[z];return Kn.run("difference",Z,O)};return{union:jo,intersection:Ji,xor:Co,difference:Ti}}()},2582:function(r){r.exports=function(){function i(x,R,B,Y,Q){(function rt(ct,X,J,at,it){for(;at>J;){if(at-J>600){var ot=at-J+1,bt=X-J+1,Bt=Math.log(ot),ut=.5*Math.exp(2*Bt/3),Ut=.5*Math.sqrt(Bt*ut*(ot-ut)/ot)*(bt-ot/2<0?-1:1);rt(ct,X,Math.max(J,Math.floor(X-bt*ut/ot+Ut)),Math.min(at,Math.floor(X+(ot-bt)*ut/ot+Ut)),it)}var Rt=ct[X],Tt=J,Xt=at;for(o(ct,J,X),it(ct[at],Rt)>0&&o(ct,J,at);Tt<Xt;){for(o(ct,Tt,Xt),Tt++,Xt--;it(ct[Tt],Rt)<0;)Tt++;for(;it(ct[Xt],Rt)>0;)Xt--}it(ct[J],Rt)===0?o(ct,J,Xt):o(ct,++Xt,at),Xt<=X&&(J=Xt+1),X<=Xt&&(at=Xt-1)}})(x,R,B||0,Y||x.length-1,Q||s)}function o(x,R,B){var Y=x[R];x[R]=x[B],x[B]=Y}function s(x,R){return x<R?-1:x>R?1:0}var u=function(x){x===void 0&&(x=9),this._maxEntries=Math.max(4,x),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function l(x,R,B){if(!B)return R.indexOf(x);for(var Y=0;Y<R.length;Y++)if(B(x,R[Y]))return Y;return-1}function p(x,R){g(x,0,x.children.length,R,x)}function g(x,R,B,Y,Q){Q||(Q=T(null)),Q.minX=1/0,Q.minY=1/0,Q.maxX=-1/0,Q.maxY=-1/0;for(var rt=R;rt<B;rt++){var ct=x.children[rt];c(Q,x.leaf?Y(ct):ct)}return Q}function c(x,R){return x.minX=Math.min(x.minX,R.minX),x.minY=Math.min(x.minY,R.minY),x.maxX=Math.max(x.maxX,R.maxX),x.maxY=Math.max(x.maxY,R.maxY),x}function _(x,R){return x.minX-R.minX}function C(x,R){return x.minY-R.minY}function E(x){return(x.maxX-x.minX)*(x.maxY-x.minY)}function P(x){return x.maxX-x.minX+(x.maxY-x.minY)}function S(x,R){return x.minX<=R.minX&&x.minY<=R.minY&&R.maxX<=x.maxX&&R.maxY<=x.maxY}function I(x,R){return R.minX<=x.maxX&&R.minY<=x.maxY&&R.maxX>=x.minX&&R.maxY>=x.minY}function T(x){return{children:x,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function N(x,R,B,Y,Q){for(var rt=[R,B];rt.length;)if(!((B=rt.pop())-(R=rt.pop())<=Y)){var ct=R+Math.ceil((B-R)/Y/2)*Y;i(x,ct,R,B,Q),rt.push(R,ct,ct,B)}}return u.prototype.all=function(){return this._all(this.data,[])},u.prototype.search=function(x){var R=this.data,B=[];if(!I(x,R))return B;for(var Y=this.toBBox,Q=[];R;){for(var rt=0;rt<R.children.length;rt++){var ct=R.children[rt],X=R.leaf?Y(ct):ct;I(x,X)&&(R.leaf?B.push(ct):S(x,X)?this._all(ct,B):Q.push(ct))}R=Q.pop()}return B},u.prototype.collides=function(x){var R=this.data;if(!I(x,R))return!1;for(var B=[];R;){for(var Y=0;Y<R.children.length;Y++){var Q=R.children[Y],rt=R.leaf?this.toBBox(Q):Q;if(I(x,rt)){if(R.leaf||S(x,rt))return!0;B.push(Q)}}R=B.pop()}return!1},u.prototype.load=function(x){if(!x||!x.length)return this;if(x.length<this._minEntries){for(var R=0;R<x.length;R++)this.insert(x[R]);return this}var B=this._build(x.slice(),0,x.length-1,0);if(this.data.children.length)if(this.data.height===B.height)this._splitRoot(this.data,B);else{if(this.data.height<B.height){var Y=this.data;this.data=B,B=Y}this._insert(B,this.data.height-B.height-1,!0)}else this.data=B;return this},u.prototype.insert=function(x){return x&&this._insert(x,this.data.height-1),this},u.prototype.clear=function(){return this.data=T([]),this},u.prototype.remove=function(x,R){if(!x)return this;for(var B,Y,Q,rt=this.data,ct=this.toBBox(x),X=[],J=[];rt||X.length;){if(rt||(rt=X.pop(),Y=X[X.length-1],B=J.pop(),Q=!0),rt.leaf){var at=l(x,rt.children,R);if(at!==-1)return rt.children.splice(at,1),X.push(rt),this._condense(X),this}Q||rt.leaf||!S(rt,ct)?Y?(B++,rt=Y.children[B],Q=!1):rt=null:(X.push(rt),J.push(B),B=0,Y=rt,rt=rt.children[0])}return this},u.prototype.toBBox=function(x){return x},u.prototype.compareMinX=function(x,R){return x.minX-R.minX},u.prototype.compareMinY=function(x,R){return x.minY-R.minY},u.prototype.toJSON=function(){return this.data},u.prototype.fromJSON=function(x){return this.data=x,this},u.prototype._all=function(x,R){for(var B=[];x;)x.leaf?R.push.apply(R,x.children):B.push.apply(B,x.children),x=B.pop();return R},u.prototype._build=function(x,R,B,Y){var Q,rt=B-R+1,ct=this._maxEntries;if(rt<=ct)return p(Q=T(x.slice(R,B+1)),this.toBBox),Q;Y||(Y=Math.ceil(Math.log(rt)/Math.log(ct)),ct=Math.ceil(rt/Math.pow(ct,Y-1))),(Q=T([])).leaf=!1,Q.height=Y;var X=Math.ceil(rt/ct),J=X*Math.ceil(Math.sqrt(ct));N(x,R,B,J,this.compareMinX);for(var at=R;at<=B;at+=J){var it=Math.min(at+J-1,B);N(x,at,it,X,this.compareMinY);for(var ot=at;ot<=it;ot+=X){var bt=Math.min(ot+X-1,it);Q.children.push(this._build(x,ot,bt,Y-1))}}return p(Q,this.toBBox),Q},u.prototype._chooseSubtree=function(x,R,B,Y){for(;Y.push(R),!R.leaf&&Y.length-1!==B;){for(var Q=1/0,rt=1/0,ct=void 0,X=0;X<R.children.length;X++){var J=R.children[X],at=E(J),it=(ot=x,bt=J,(Math.max(bt.maxX,ot.maxX)-Math.min(bt.minX,ot.minX))*(Math.max(bt.maxY,ot.maxY)-Math.min(bt.minY,ot.minY))-at);it<rt?(rt=it,Q=at<Q?at:Q,ct=J):it===rt&&at<Q&&(Q=at,ct=J)}R=ct||R.children[0]}var ot,bt;return R},u.prototype._insert=function(x,R,B){var Y=B?x:this.toBBox(x),Q=[],rt=this._chooseSubtree(Y,this.data,R,Q);for(rt.children.push(x),c(rt,Y);R>=0&&Q[R].children.length>this._maxEntries;)this._split(Q,R),R--;this._adjustParentBBoxes(Y,Q,R)},u.prototype._split=function(x,R){var B=x[R],Y=B.children.length,Q=this._minEntries;this._chooseSplitAxis(B,Q,Y);var rt=this._chooseSplitIndex(B,Q,Y),ct=T(B.children.splice(rt,B.children.length-rt));ct.height=B.height,ct.leaf=B.leaf,p(B,this.toBBox),p(ct,this.toBBox),R?x[R-1].children.push(ct):this._splitRoot(B,ct)},u.prototype._splitRoot=function(x,R){this.data=T([x,R]),this.data.height=x.height+1,this.data.leaf=!1,p(this.data,this.toBBox)},u.prototype._chooseSplitIndex=function(x,R,B){for(var Y,Q,rt,ct,X,J,at,it=1/0,ot=1/0,bt=R;bt<=B-R;bt++){var Bt=g(x,0,bt,this.toBBox),ut=g(x,bt,B,this.toBBox),Ut=(Q=Bt,rt=ut,ct=void 0,X=void 0,J=void 0,at=void 0,ct=Math.max(Q.minX,rt.minX),X=Math.max(Q.minY,rt.minY),J=Math.min(Q.maxX,rt.maxX),at=Math.min(Q.maxY,rt.maxY),Math.max(0,J-ct)*Math.max(0,at-X)),Rt=E(Bt)+E(ut);Ut<it?(it=Ut,Y=bt,ot=Rt<ot?Rt:ot):Ut===it&&Rt<ot&&(ot=Rt,Y=bt)}return Y||B-R},u.prototype._chooseSplitAxis=function(x,R,B){var Y=x.leaf?this.compareMinX:_,Q=x.leaf?this.compareMinY:C;this._allDistMargin(x,R,B,Y)<this._allDistMargin(x,R,B,Q)&&x.children.sort(Y)},u.prototype._allDistMargin=function(x,R,B,Y){x.children.sort(Y);for(var Q=this.toBBox,rt=g(x,0,R,Q),ct=g(x,B-R,B,Q),X=P(rt)+P(ct),J=R;J<B-R;J++){var at=x.children[J];c(rt,x.leaf?Q(at):at),X+=P(rt)}for(var it=B-R-1;it>=R;it--){var ot=x.children[it];c(ct,x.leaf?Q(ot):ot),X+=P(ct)}return X},u.prototype._adjustParentBBoxes=function(x,R,B){for(var Y=B;Y>=0;Y--)c(R[Y],x)},u.prototype._condense=function(x){for(var R=x.length-1,B=void 0;R>=0;R--)x[R].children.length===0?R>0?(B=x[R-1].children).splice(B.indexOf(x[R]),1):this.clear():p(x[R],this.toBBox)},u}()}},t={};function n(r){var i=t[r];if(i!==void 0)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=r=>{var i=r&&r.__esModule?()=>r.default:()=>r;return n.d(i,{a:i}),i},n.d=(r,i)=>{for(var o in i)n.o(i,o)&&!n.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:i[o]})},n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=(r,i)=>Object.prototype.hasOwnProperty.call(r,i),n.nmd=r=>(r.paths=[],r.children||(r.children=[]),r),n(5975)})();const $u=Symbol(),vy=e=>{const t="https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",n=Rn.map(e,{preferCanvas:!0,zoomControl:!1,doubleClickZoom:!1,markerZoomAnimation:!1}).setView([35.132454,136.978166],13);return Rn.tileLayer(t,{attribution:`&copy;<a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a>,
	        &copy;<a href="https://carto.com/attributions" target="_blank">CARTO</a>`,subdomains:"abcd"}).addTo(n),n},yy=()=>Rn.icon({iconRetinaUrl:Gg,iconUrl:Fg,shadowUrl:zg,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]}),ip=()=>Rn.divIcon({html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#1fad19;}</style></defs><g id="レイヤー_2" data-name="レイヤー 2"><g id="レイヤー_1-2" data-name="レイヤー 1"><circle class="cls-1" cx="7" cy="7" r="6.5"/><path class="cls-2" d="M7,1A6,6,0,1,1,1,7,6,6,0,0,1,7,1M7,0a7,7,0,1,0,7,7A7,7,0,0,0,7,0Z"/></g></g></svg>',iconSize:[14,14],iconAnchor:[7,7],className:""}),op=()=>Rn.divIcon({html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8"><defs><style>.cls-12{fill:#fff;}.cls-22{fill:#c70143;}</style></defs><g id="レイヤー_2" data-name="レイヤー 2"><g id="レイヤー_1-2" data-name="レイヤー 1"><circle class="cls-12" cx="4" cy="4" r="3.5"/><path class="cls-22" d="M4,1A3,3,0,1,1,1,4,3,3,0,0,1,4,1M4,0A4,4,0,1,0,8,4,4,4,0,0,0,4,0Z"/></g></g></svg>',iconSize:[8,8],iconAnchor:[4,4],className:""}),Ly=()=>Rn.divIcon({html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#1fad19;}</style></defs><g id="レイヤー_2" data-name="レイヤー 2"><g id="レイヤー_1-2" data-name="レイヤー 1"><circle class="cls-1" cx="7" cy="7" r="6.5"/><path class="cls-2" d="M7,1A6,6,0,1,1,1,7,6,6,0,0,1,7,1M7,0a7,7,0,1,0,7,7A7,7,0,0,0,7,0Z"/></g></g></svg>',iconSize:[16,16],iconAnchor:[8,8],className:""}),by=()=>Rn.divIcon({html:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8"><defs><style>.cls-12{fill:#fff;}.cls-22{fill:#c70143;}</style></defs><g id="レイヤー_2" data-name="レイヤー 2"><g id="レイヤー_1-2" data-name="レイヤー 1"><circle class="cls-12" cx="4" cy="4" r="3.5"/><path class="cls-22" d="M4,1A3,3,0,1,1,1,4,3,3,0,0,1,4,1M4,0A4,4,0,1,0,8,4,4,4,0,0,0,4,0Z"/></g></g></svg>',iconSize:[16,16],iconAnchor:[8,8],className:""});function Cy(e,t,n){let r,i;gn(e,fl,p=>n(0,r=p)),gn(e,Ih,p=>n(1,i=p));const o=Tl(),{getMap:s}=_s($u),u=s();let l=Rn.lasso(u);return u.on(Nd,p=>{console.log("lasso.finished in LassoControl"),fl.set(!1),o("mergedLasso",p),i&&fl.set(!0)}),e.$$.update=()=>{e.$$.dirty&1&&(console.log(r),r?l.enable():l.disable())},[r]}class wy extends be{constructor(t){super(),Ce(this,t,Cy,null,we,{})}}function sp(e){let t;const n=e[3].default,r=$t(n,e,e[2],null);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,o){r&&r.m(i,o),t=!0},p(i,o){r&&r.p&&(!t||o&4)&&te(r,n,i,i[2],t?ne(n,i[2],o,null):ee(i[2]),null)},i(i){t||(dt(r,i),t=!0)},o(i){Lt(r,i),t=!1},d(i){r&&r.d(i)}}}function Ey(e){let t,n,r,i,o=e[1]&&sp(e);return{c(){t=vt("div"),n=ve(),o&&o.c(),r=ho(),this.h()},l(s){t=yt(s,"DIV",{style:!0}),ft(t).forEach(U),n=ye(s),o&&o.l(s),r=ho(),this.h()},h(){da(t,"height","100%"),da(t,"width","100%")},m(s,u){Et(s,t,u),e[4](t),Et(s,n,u),o&&o.m(s,u),Et(s,r,u),i=!0},p(s,[u]){s[1]?o?(o.p(s,u),u&2&&dt(o,1)):(o=sp(s),o.c(),dt(o,1),o.m(r.parentNode,r)):o&&(di(),Lt(o,1,1,()=>{o=null}),gi())},i(s){i||(dt(o),i=!0)},o(s){Lt(o),i=!1},d(s){s&&U(t),e[4](null),s&&U(n),o&&o.d(s),s&&U(r)}}}function My(e,t,n){let{$$slots:r={},$$scope:i}=t,o,s;Ba($u,{getMap:()=>s}),zu(()=>{n(1,s=vy(o)),s.createPane("tempZone").style.zIndex="250",s.createPane("zone").style.zIndex="350"});function u(l){oe[l?"unshift":"push"](()=>{o=l,n(0,o)})}return e.$$set=l=>{"$$scope"in l&&n(2,i=l.$$scope)},[o,s,i,r,u]}class Py extends be{constructor(t){super(),Ce(this,t,My,Ey,we,{})}}async function Sy(e){const{pid:t,prefCode:n}=e.properties;return(await vo("curves",{curveId:{pid:t,pref_code:n}})).curves.map(o=>{const u=o.segments.split("\\\\r\\\\n").map(l=>{const p=l.split(" ");return[parseFloat(p[1]),parseFloat(p[0])]});return{curveId:o.id,segments:u}})}async function ky(e){return(await vo("get_curves",{curveKey:e})).curves.map(n=>{const i=n.segments.split("\\\\r\\\\n").map(o=>{const s=o.split(" ");return[parseFloat(s[1]),parseFloat(s[0])]});return{curveId:n.id,segments:i}})}var Fl={};Fl.attr=_c;Fl.tagClose=Iy;Fl.tag=xy;Fl.encode=Ty;function _c(e){return e&&e.length?" "+e.map(function(t){return t[0]+'="'+t[1]+'"'}).join(" "):""}function Iy(e,t){return"<"+e+_c(t)+"/>"}function xy(e,t,n){return"<"+e+_c(n)+">"+t+"</"+e+">"}function Ty(e){return(e===null?"":e.toString()).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}var Dd=Fl,Ee=Dd.tag,xl=Dd.encode,ap=function(t,n){return n=n||{documentName:void 0,documentDescription:void 0,name:"name",description:"description",simplestyle:!1,timestamp:"timestamp"},'<?xml version="1.0" encoding="UTF-8"?>'+Ee("kml",Ee("Document",Oy(n)+Dy(n)+Ny(t,n)),[["xmlns","http://www.opengis.net/kml/2.2"]])};function Mh(e,t){return function(n){if(!n.properties||!fi.valid(n.geometry))return"";var r=fi.any(n.geometry);if(!r)return"";var i="",o="";if(e.simplestyle){var s=qy(n.properties);s&&(fi.isPoint(n.geometry)&&Gy(n.properties)?(t.indexOf(s)===-1&&(i=Vy(n.properties,s),t.push(s)),o=Ee("styleUrl","#"+s)):(fi.isPolygon(n.geometry)||fi.isLine(n.geometry))&&Zy(n.properties)&&(t.indexOf(s)===-1&&(i=jy(n.properties,s),t.push(s)),o=Ee("styleUrl","#"+s)))}return i+Ee("Placemark",Ry(n.properties,e)+Ay(n.properties,e)+zy(n.properties)+By(n.properties,e)+r+o)}}function Ny(e,t){if(!e.type)return"";var n=[];switch(e.type){case"FeatureCollection":return e.features?e.features.map(Mh(t,n)).join(""):"";case"Feature":return Mh(t,n)(e);default:return Mh(t,n)({type:"Feature",geometry:e,properties:{}})}}function Oy(e){return e.documentName!==void 0?Ee("name",e.documentName):""}function Dy(e){return e.documentDescription!==void 0?Ee("description",e.documentDescription):""}function Ry(e,t){return e[t.name]?Ee("name",xl(e[t.name])):""}function Ay(e,t){return e[t.description]?Ee("description",xl(e[t.description])):""}function By(e,t){return e[t.timestamp]?Ee("TimeStamp",Ee("when",xl(e[t.timestamp]))):""}var fi={Point:function(e){return Ee("Point",Ee("coordinates",e.coordinates.join(",")))},LineString:function(e){return Ee("LineString",Ee("coordinates",Ph(e.coordinates)))},Polygon:function(e){if(!e.coordinates.length)return"";var t=e.coordinates[0],n=e.coordinates.slice(1),r=Ee("outerBoundaryIs",Ee("LinearRing",Ee("coordinates",Ph(t)))),i=n.map(function(o){return Ee("innerBoundaryIs",Ee("LinearRing",Ee("coordinates",Ph(o))))}).join("");return Ee("Polygon",r+i)},MultiPoint:function(e){return e.coordinates.length?Ee("MultiGeometry",e.coordinates.map(function(t){return fi.Point({coordinates:t})}).join("")):""},MultiPolygon:function(e){return e.coordinates.length?Ee("MultiGeometry",e.coordinates.map(function(t){return fi.Polygon({coordinates:t})}).join("")):""},MultiLineString:function(e){return e.coordinates.length?Ee("MultiGeometry",e.coordinates.map(function(t){return fi.LineString({coordinates:t})}).join("")):""},GeometryCollection:function(e){return Ee("MultiGeometry",e.geometries.map(fi.any).join(""))},valid:function(e){return e&&e.type&&(e.coordinates||e.type==="GeometryCollection"&&e.geometries&&e.geometries.every(fi.valid))},any:function(e){return fi[e.type]?fi[e.type](e):""},isPoint:function(e){return e.type==="Point"||e.type==="MultiPoint"},isPolygon:function(e){return e.type==="Polygon"||e.type==="MultiPolygon"},isLine:function(e){return e.type==="LineString"||e.type==="MultiLineString"}};function Ph(e){return e.map(function(t){return t.join(",")}).join(" ")}function zy(e){return Ee("ExtendedData",Xy(e).map(Fy).join(""))}function Fy(e){return Ee("Data",Ee("value",xl(e[1])),[["name",xl(e[0])]])}function Gy(e){return!!(e["marker-size"]||e["marker-symbol"]||e["marker-color"])}function Vy(e,t){return Ee("Style",Ee("IconStyle",Ee("Icon",Ee("href",Uy(e))))+Hy(),[["id",t]])}function Uy(e){var t=e["marker-size"]||"medium",n=e["marker-symbol"]?"-"+e["marker-symbol"]:"",r=(e["marker-color"]||"7e7e7e").replace("#","");return"https://api.tiles.mapbox.com/v3/marker/pin-"+t.charAt(0)+n+"+"+r+".png"}function Hy(e){return Ee("hotSpot","",[["xunits","fraction"],["yunits","fraction"],["x",.5],["y",.5]])}function Zy(e){for(var t in e)if({stroke:!0,"stroke-opacity":!0,"stroke-width":!0,fill:!0,"fill-opacity":!0}[t])return!0}function jy(e,t){var n=Ee("LineStyle",[Ee("color",lp(e.stroke,e["stroke-opacity"])||"ff555555")+Ee("width",e["stroke-width"]===void 0?2:e["stroke-width"])]),r="";return(e.fill||e["fill-opacity"])&&(r=Ee("PolyStyle",[Ee("color",lp(e.fill,e["fill-opacity"])||"88555555")])),Ee("Style",n+r,[["id",t]])}function qy(e){var t="";return e["marker-symbol"]&&(t=t+"ms"+e["marker-symbol"]),e["marker-color"]&&(t=t+"mc"+e["marker-color"].replace("#","")),e["marker-size"]&&(t=t+"ms"+e["marker-size"]),e.stroke&&(t=t+"s"+e.stroke.replace("#","")),e["stroke-width"]&&(t=t+"sw"+e["stroke-width"].toString().replace(".","")),e["stroke-opacity"]&&(t=t+"mo"+e["stroke-opacity"].toString().replace(".","")),e.fill&&(t=t+"f"+e.fill.replace("#","")),e["fill-opacity"]&&(t=t+"fo"+e["fill-opacity"].toString().replace(".","")),t}function lp(e,t){if(typeof e!="string")return"";if(e=e.replace("#","").toLowerCase(),e.length===3)e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2];else if(e.length!==6)return"";var n=e[0]+e[1],r=e[2]+e[3],i=e[4]+e[5],o="ff";return typeof t=="number"&&t>=0&&t<=1&&(o=(t*255).toString(16),o.indexOf(".")>-1&&(o=o.substr(0,o.indexOf("."))),o.length<2&&(o="0"+o)),o+i+r+n}function Xy(e){var t=[];for(var n in e)t.push([n,e[n]]);return t}async function Wn(e){return vo("tauri",e)}var Yy={};Qu(Yy,{ask:()=>Ky,confirm:()=>Jy,message:()=>Wy,open:()=>th,save:()=>Rd});async function th(e={}){return typeof e=="object"&&Object.freeze(e),Wn({__tauriModule:"Dialog",message:{cmd:"openDialog",options:e}})}async function Rd(e={}){return typeof e=="object"&&Object.freeze(e),Wn({__tauriModule:"Dialog",message:{cmd:"saveDialog",options:e}})}async function Wy(e,t){var n;let r=typeof t=="string"?{title:t}:t;return Wn({__tauriModule:"Dialog",message:{cmd:"messageDialog",message:e.toString(),title:(n=r==null?void 0:r.title)==null?void 0:n.toString(),type:r==null?void 0:r.type}})}async function Ky(e,t){var n;let r=typeof t=="string"?{title:t}:t;return Wn({__tauriModule:"Dialog",message:{cmd:"askDialog",message:e.toString(),title:(n=r==null?void 0:r.title)==null?void 0:n.toString(),type:r==null?void 0:r.type}})}async function Jy(e,t){var n;let r=typeof t=="string"?{title:t}:t;return Wn({__tauriModule:"Dialog",message:{cmd:"confirmDialog",message:e.toString(),title:(n=r==null?void 0:r.title)==null?void 0:n.toString(),type:r==null?void 0:r.type}})}var Qy={};Qu(Qy,{BaseDirectory:()=>Hh,Dir:()=>Hh,copyFile:()=>o0,createDir:()=>r0,exists:()=>l0,readBinaryFile:()=>t0,readDir:()=>n0,readTextFile:()=>$y,removeDir:()=>i0,removeFile:()=>s0,renameFile:()=>a0,writeBinaryFile:()=>e0,writeFile:()=>up,writeTextFile:()=>up});var Hh=(e=>(e[e.Audio=1]="Audio",e[e.Cache=2]="Cache",e[e.Config=3]="Config",e[e.Data=4]="Data",e[e.LocalData=5]="LocalData",e[e.Desktop=6]="Desktop",e[e.Document=7]="Document",e[e.Download=8]="Download",e[e.Executable=9]="Executable",e[e.Font=10]="Font",e[e.Home=11]="Home",e[e.Picture=12]="Picture",e[e.Public=13]="Public",e[e.Runtime=14]="Runtime",e[e.Template=15]="Template",e[e.Video=16]="Video",e[e.Resource=17]="Resource",e[e.App=18]="App",e[e.Log=19]="Log",e[e.Temp=20]="Temp",e[e.AppConfig=21]="AppConfig",e[e.AppData=22]="AppData",e[e.AppLocalData=23]="AppLocalData",e[e.AppCache=24]="AppCache",e[e.AppLog=25]="AppLog",e))(Hh||{});async function $y(e,t={}){return Wn({__tauriModule:"Fs",message:{cmd:"readTextFile",path:e,options:t}})}async function t0(e,t={}){let n=await Wn({__tauriModule:"Fs",message:{cmd:"readFile",path:e,options:t}});return Uint8Array.from(n)}async function up(e,t,n){typeof n=="object"&&Object.freeze(n),typeof e=="object"&&Object.freeze(e);let r={path:"",contents:""},i=n;return typeof e=="string"?r.path=e:(r.path=e.path,r.contents=e.contents),typeof t=="string"?r.contents=t??"":i=t,Wn({__tauriModule:"Fs",message:{cmd:"writeFile",path:r.path,contents:Array.from(new TextEncoder().encode(r.contents)),options:i}})}async function e0(e,t,n){typeof n=="object"&&Object.freeze(n),typeof e=="object"&&Object.freeze(e);let r={path:"",contents:[]},i=n;return typeof e=="string"?r.path=e:(r.path=e.path,r.contents=e.contents),t&&"dir"in t?i=t:typeof e=="string"&&(r.contents=t??[]),Wn({__tauriModule:"Fs",message:{cmd:"writeFile",path:r.path,contents:Array.from(r.contents instanceof ArrayBuffer?new Uint8Array(r.contents):r.contents),options:i}})}async function n0(e,t={}){return Wn({__tauriModule:"Fs",message:{cmd:"readDir",path:e,options:t}})}async function r0(e,t={}){return Wn({__tauriModule:"Fs",message:{cmd:"createDir",path:e,options:t}})}async function i0(e,t={}){return Wn({__tauriModule:"Fs",message:{cmd:"removeDir",path:e,options:t}})}async function o0(e,t,n={}){return Wn({__tauriModule:"Fs",message:{cmd:"copyFile",source:e,destination:t,options:n}})}async function s0(e,t={}){return Wn({__tauriModule:"Fs",message:{cmd:"removeFile",path:e,options:t}})}async function a0(e,t,n={}){return Wn({__tauriModule:"Fs",message:{cmd:"renameFile",oldPath:e,newPath:t,options:n}})}async function l0(e,t={}){return Wn({__tauriModule:"Fs",message:{cmd:"exists",path:e,options:t}})}function u0(e,t,n){let r,i,o,s,u;gn(e,Ts,X=>n(10,r=X)),gn(e,wu,X=>n(11,i=X)),gn(e,pl,X=>n(12,o=X)),gn(e,Cu,X=>n(13,s=X)),gn(e,au,X=>n(14,u=X));const{getMap:l}=_s($u),p=l(),g=Rn.geoJson();g.options={onEachFeature:(X,J)=>{const at=g.getLayerId(J);X.properties.layerId=at,J instanceof Rn.Path&&(J.on("pm:disable",it=>{console.log(it)}),J.on("click",it=>{const ot=X.properties.id.split(":")[0],bt=u.get(ot);it.originalEvent.shiftKey?Ts.add(ot,bt):Ts.set(ot,bt)}))},style:X=>{if(!X)return{};switch(X.properties.kind){case"SegmentLine":return{color:X.properties.color,weight:X.properties.weight};case"SegmentZone":return{color:X.properties.color,weight:X.properties.weight,fillOpacity:X.properties.fillOpacity,pane:"zone"};default:return{}}},pointToLayer(X,J){return Rn.marker(J,{icon:X.properties.icon,zIndexOffset:X.properties.zIndexOffset})}},g.addTo(p);const c=Rn.geoJson();c.options={onEachFeature:(X,J)=>{const at=c.getLayerId(J);X.properties.layerId=at,J instanceof Rn.Path&&J.on("pm:disable",it=>{console.log(it)})},style:X=>{if(!X)return{};switch(X.properties.kind){case"SegmentLine":return{color:X.properties.color,weight:X.properties.weight};case"SegmentZone":return{color:X.properties.color,weight:X.properties.weight,fillOpacity:X.properties.fillOpacity,pane:"tempZone"};default:return{}}}},c.addTo(p);const _=async X=>{const J=await Sy(X);R(J)},C=async X=>{const J=await ky(X);R(J)},E=async X=>{const J=X.detail;console.log("lasso.finished in SegmentMerger",J);const at=Rn.GeoJSON.latLngsToCoords(J.latLngs),it=J.layers.map(bt=>bt.feature),ot={lassoShape:at,targetFeatures:it};console.dir(ot),ct(ot.targetFeatures)},P=()=>{const X=r.keys();for(const J of X)Y(J),Ts.remove(J)},S=()=>{for(const X of r.keys())Q(X)},I=(X=100)=>{c.clearLayers();for(const J of r.values()){console.log("seg:",J),console.log("segId:",J.id),No(pl,o=!0,o),J.zone;const at=J.line,it=z_(at,X,{units:"meters"}),ot=X*25e-7,bt=X_(it,{tolerance:ot});bt.properties.id=`${J.id}:zone`,bt.properties.kind="SegmentZone",bt.properties.color="#00FF00",bt.properties.fillOpacity=.3,bt.properties.weight=1,c.addData(bt)}},T=()=>{const at=c.getLayers()[0].feature;at.properties.color="#0EA5E9";const it=at.properties.id.split(":")[0],ot=u.get(it);ot.zone&&ot.features.pop(),ot.zone=at,ot.features.push(at),g.addData(at),No(pl,o=!1,o)},N=async X=>{console.log(X.fileName);const J=await Rd({defaultPath:"exports.zip",filters:[{name:"Zip",extensions:["zip"]}]});if(J){const at=new Map([]);for(const ot of r.values()){const bt=ap(ot.line);if(at.set(x(ot.line.properties.id),bt),ot.zone){const Bt=ap(ot.zone);at.set(x(ot.zone.properties.id),Bt)}}const it={path:J,data:[...at.entries()]};await vo("save_export",{body:it})}},x=X=>`${X.replace(":","_")}.kml`,R=X=>{for(const J of X)B(J)},B=X=>{if(u.has(X.curveId))return;const J=Vg(X.segments,{id:`${X.curveId}:line`,layerId:void 0,kind:"SegmentLine",weight:5,color:"#0000FF"}),at=bu(X.segments[0],{id:`${X.curveId}:start`,layerId:void 0,kind:"SegmentStart",icon:ip(),zIndexOffset:1e3}),it=bu(X.segments[X.segments.length-1],{id:`${X.curveId}:end`,layerId:void 0,kind:"SegmentEnd",icon:op(),zIndexOffset:2e3}),ot=[J,at,it];g.addData(J),g.addData(at),g.addData(it),au.add(X.curveId,{id:X.curveId,features:ot,line:J,start:at,end:it})},Y=X=>{const J=u.get(X);g.removeLayer(J.line.properties.layerId),g.removeLayer(J.start.properties.layerId),g.removeLayer(J.end.properties.layerId),J.zone&&g.removeLayer(J.zone.properties.layerId),au.remove(X)},Q=X=>{const J=u.get(X),it=`swapedLine-${Eh()}`,ot=vu(J.line);ot.properties.id=`${it}:line`,ot.properties.layerId=void 0;const bt=vu(J.end);bt.properties.id=`${it}:start`,bt.properties.layerId=void 0,bt.properties.icon=ip();const Bt=vu(J.start);Bt.properties.id=`${it}:end`,Bt.properties.layerId=void 0,Bt.properties.icon=op();const ut=[ot,bt,Bt];g.addData(ot),g.addData(bt),g.addData(Bt),au.add(it,{id:it,features:ut,line:ot,start:bt,end:Bt}),Y(X),Ts.reset()},rt=()=>{g.resetStyle(),g.eachLayer(X=>{var J,at;X instanceof Rn.Marker&&(X.setIcon((J=X.feature)==null?void 0:J.properties.icon),X.setZIndexOffset((at=X.feature)==null?void 0:at.properties.zIndexOffset))})},ct=X=>{const J=X.filter(fe=>fe.properties.kind==="SegmentStart"),at=X.filter(fe=>fe.properties.kind==="SegmentEnd");if(J.length!==1||at.length!==1){alert("no single conjunction");return}const it=at[0].properties.id.split(":")[0],ot=J[0].properties.id.split(":")[0],bt=u.get(it),Bt=u.get(ot),ut=bt.line,Ut=Bt.line,Rt=ut.geometry.coordinates,Tt=Ut.geometry.coordinates,Xt=Rt.concat(Tt),ie={curveId:`mergedLine-${Eh()}`,segments:Xt};B(ie),Y(it),Y(ot)};return p.on("pm:create",X=>{const J=X.layer.toGeoJSON(),ot={curveId:`drawedSegment-${Eh()}`,segments:J.geometry.coordinates};B(ot),No(Cu,s=!1,s),p.removeLayer(X.layer)}),e.$$.update=()=>{if(e.$$.dirty&16128){if(r.size===0&&rt(),r.size>0){rt();for(const X of r.values()){const J=g.getLayer(X.line.properties.layerId),at=g.getLayer(X.start.properties.layerId),it=g.getLayer(X.end.properties.layerId);J==null||J.setStyle({color:"#FF0000"}),at==null||at.setIcon(Ly()).setZIndexOffset(1e4),it==null||it.setIcon(by()).setZIndexOffset(2e4)}}if(s?p.pm.enableDraw("Line",{snappable:!0,snapDistance:20}):p.pm.disableDraw(),o||c.clearLayers(),i)for(const X of r.values()){const J=X.zone;if(!J)continue;const at=g.getLayer(J.properties.layerId);at&&at instanceof Rn.Path&&(at.pm.setOptions({limitMarkersToCount:20,snapDistance:5}),at.pm.enable())}if(!i)for(const X of r.values()){const J=X.zone;if(!J)continue;const at=g.getLayer(J.properties.layerId);at&&at instanceof Rn.Path&&at.pm.disable()}}},[_,C,E,P,S,I,T,N,g,c,r,i,o,s]}class h0 extends be{constructor(t){super(),Ce(this,t,u0,null,we,{loadCurve:0,loadCurveByKey:1,onMergedLasso:2,removeSelectingSegments:3,swapStartEndSelectingSegment:4,buildZone:5,fixedZone:6,exportSegments:7})}get loadCurve(){return this.$$.ctx[0]}get loadCurveByKey(){return this.$$.ctx[1]}get onMergedLasso(){return this.$$.ctx[2]}get removeSelectingSegments(){return this.$$.ctx[3]}get swapStartEndSelectingSegment(){return this.$$.ctx[4]}get buildZone(){return this.$$.ctx[5]}get fixedZone(){return this.$$.ctx[6]}get exportSegments(){return this.$$.ctx[7]}}function c0(e,t,n){const r=Tl(),{getMap:i}=_s($u),o=i(),s=Rn.markerClusterGroup();s.addTo(o);const u=async()=>{const g=o.getBounds(),c={min:g.getSouthWest(),max:g.getNorthEast()},_=await vo("search_points",{bounds:c});du.set(_.points)},l=async()=>{du.set([])},p=du.subscribe(async g=>{s.clearLayers();for(const c of g){let _=`${c.lat}${c.lng}`,C=bu([c.lng,c.lat],{id:_,pid:c.id,kind:"StartingPoint",icon:yy(),zIndexOffset:3e3,riverName:c.river_name,riverCode:c.river_code,prefCode:c.prefecture_code}),E=Rn.geoJSON(C,{onEachFeature:(P,S)=>{S.bindTooltip(`${P.properties.riverName} (${P.properties.riverCode})`),S.on("click",()=>{r("clickedPoint",{feature:P})})},pointToLayer(P,S){return Rn.marker(S,{icon:P.properties.icon,zIndexOffset:P.properties.zIndexOffset})}});s.addLayer(E)}});return fa(p),[u,l]}class f0 extends be{constructor(t){super(),Ce(this,t,c0,null,we,{load:0,unload:1})}get load(){return this.$$.ctx[0]}get unload(){return this.$$.ctx[1]}}function p0(e){let t,n,r,i,o,s,u={};t=new f0({props:u}),e[14](t),t.$on("clickedPoint",e[4]);let l={};return r=new h0({props:l}),e[15](r),o=new wy({}),o.$on("mergedLasso",e[6]),{c(){ae(t.$$.fragment),n=ve(),ae(r.$$.fragment),i=ve(),ae(o.$$.fragment)},l(p){de(t.$$.fragment,p),n=ye(p),de(r.$$.fragment,p),i=ye(p),de(o.$$.fragment,p)},m(p,g){le(t,p,g),Et(p,n,g),le(r,p,g),Et(p,i,g),le(o,p,g),s=!0},p(p,g){const c={};t.$set(c);const _={};r.$set(_)},i(p){s||(dt(t.$$.fragment,p),dt(r.$$.fragment,p),dt(o.$$.fragment,p),s=!0)},o(p){Lt(t.$$.fragment,p),Lt(r.$$.fragment,p),Lt(o.$$.fragment,p),s=!1},d(p){e[14](null),ue(t,p),p&&U(n),e[15](null),ue(r,p),p&&U(i),ue(o,p)}}}function d0(e){let t,n,r,i,o,s,u,l,p,g,c;return i=new xm({}),i.$on("clickedSearchRiver",e[5]),u=new _y({}),u.$on("clickedPin",e[2]),u.$on("clickedOffPin",e[3]),u.$on("clickedRemoveSegment",e[7]),u.$on("clickedSwapStartEnd",e[8]),u.$on("createZoneEvent",e[9]),u.$on("extendZoneEvent",e[10]),u.$on("fixedZoneEvent",e[11]),u.$on("clickedEditZone",e[12]),u.$on("clickedExportSegments",e[13]),g=new Py({props:{$$slots:{default:[p0]},$$scope:{ctx:e}}}),{c(){t=vt("div"),n=vt("div"),r=vt("div"),ae(i.$$.fragment),o=ve(),s=vt("div"),ae(u.$$.fragment),l=ve(),p=vt("div"),ae(g.$$.fragment),this.h()},l(_){t=yt(_,"DIV",{class:!0});var C=ft(t);n=yt(C,"DIV",{class:!0});var E=ft(n);r=yt(E,"DIV",{class:!0});var P=ft(r);de(i.$$.fragment,P),P.forEach(U),o=ye(E),s=yt(E,"DIV",{class:!0});var S=ft(s);de(u.$$.fragment,S),S.forEach(U),E.forEach(U),l=ye(C),p=yt(C,"DIV",{class:!0});var I=ft(p);de(g.$$.fragment,I),I.forEach(U),C.forEach(U),this.h()},h(){pt(r,"class","pl-2 pt-2"),pt(s,"class","pl-2 pt-2"),pt(n,"class","pointer-events-none absolute inset-0 z-20"),pt(p,"class","absolute inset-0 z-10"),pt(t,"class","relative h-full w-full")},m(_,C){Et(_,t,C),Ct(t,n),Ct(n,r),le(i,r,null),Ct(n,o),Ct(n,s),le(u,s,null),Ct(t,l),Ct(t,p),le(g,p,null),c=!0},p(_,[C]){const E={};C&131075&&(E.$$scope={dirty:C,ctx:_}),g.$set(E)},i(_){c||(dt(i.$$.fragment,_),dt(u.$$.fragment,_),dt(g.$$.fragment,_),c=!0)},o(_){Lt(i.$$.fragment,_),Lt(u.$$.fragment,_),Lt(g.$$.fragment,_),c=!1},d(_){_&&U(t),ue(i),ue(u),ue(g)}}}function g0(e,t,n){let r;gn(e,wu,x=>n(16,r=x));let i,o;const s=()=>{i.load()},u=()=>{i.unload()},l=x=>{o.loadCurve(x.detail.feature)},p=x=>{o.loadCurveByKey(x.detail.curveKey)},g=x=>{o.onMergedLasso(x)},c=()=>{o.removeSelectingSegments()},_=()=>{o.swapStartEndSelectingSegment()},C=()=>{o.buildZone()},E=x=>{o.buildZone(x.detail.extend)},P=()=>{o.fixedZone()},S=()=>{No(wu,r=!r,r)},I=x=>{o.exportSegments(x.detail)};function T(x){oe[x?"unshift":"push"](()=>{i=x,n(0,i)})}function N(x){oe[x?"unshift":"push"](()=>{o=x,n(1,o)})}return[i,o,s,u,l,p,g,c,_,C,E,P,S,I,T,N]}class _0 extends be{constructor(t){super(),Ce(this,t,g0,d0,we,{})}}function m0(e){let t,n,r=[{xmlns:"http://www.w3.org/2000/svg"},{width:e[0]},{height:e[0]},{fill:e[1]},{class:n=e[4].class},e[5],{"aria-label":e[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<r.length;o+=1)i=Pt(i,r[o]);return{c(){t=_n("svg"),this.h()},l(o){t=mn(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=ft(t);s.forEach(U),this.h()},h(){He(t,i)},m(o,s){Et(o,t,s),t.innerHTML=e[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),He(t,i=Zt(r,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&n!==(n=o[4].class)&&{class:n},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Vt,o:Vt,d(o){o&&U(t)}}}let v0='<path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"/>',hp='<path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 9h10.5v3.5H4V9zm0 5.5h10.5V18H4v-3.5zM20 18h-3.5V9H20v9z"/>',y0='<path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 9h10.5v3.5H4V9zm0 5.5h10.5V18H5c-.55 0-1-.45-1-1v-2.5zM19 18h-2.5V9H20v8c0 .55-.45 1-1 1z"/>',L0='<path d="M22 4H2v16h20V4zM4 9h10.5v3.5H4V9zm0 5.5h10.5V18H4v-3.5zM20 18h-3.5V9H20v9z"/>',b0='<path d="M4 9h10.5v3.5H4zm0 5.5h10.5V18H4zM16.5 9H20v9h-3.5z" opacity=".3"/><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5.5 14H4v-3.5h10.5V18zm0-5.5H4V9h10.5v3.5zM20 18h-3.5V9H20v9z"/>';function C0(e,t,n){const r=["size","color","variation","ariaLabel"];let i=Pe(t,r),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=v0;break;case"outlined":l=hp;break;case"round":l=y0;break;case"sharp":l=L0;break;case"two-tone":l=b0;break;default:l=hp}let{ariaLabel:p="web"}=t;return e.$$set=g=>{n(4,t=Pt(Pt({},t),Be(g))),n(5,i=Pe(t,r)),"size"in g&&n(0,o=g.size),"color"in g&&n(1,s=g.color),"variation"in g&&n(6,u=g.variation),"ariaLabel"in g&&n(2,p=g.ariaLabel)},t=Be(t),[o,s,p,l,t,i,u]}class w0 extends be{constructor(t){super(),Ce(this,t,C0,m0,we,{size:0,color:1,variation:6,ariaLabel:2})}}function E0(e){let t,n,r;return n=new w0({props:{tabindex:"-1"}}),{c(){t=vt("button"),ae(n.$$.fragment),this.h()},l(i){t=yt(i,"BUTTON",{class:!0,type:!0});var o=ft(t);de(n.$$.fragment,o),o.forEach(U),this.h()},h(){pt(t,"class","w-min rounded-md bg-white py-1 px-2 hover:bg-gray-200"),pt(t,"type","button")},m(i,o){Et(i,t,o),le(n,t,null),r=!0},p:Vt,i(i){r||(dt(n.$$.fragment,i),r=!0)},o(i){Lt(n.$$.fragment,i),r=!1},d(i){i&&U(t),ue(n)}}}class M0 extends be{constructor(t){super(),Ce(this,t,null,E0,we,{})}}function P0(e){let t,n,r=[{xmlns:"http://www.w3.org/2000/svg"},{width:e[0]},{height:e[0]},{fill:e[1]},{class:n=e[4].class},e[5],{"aria-label":e[2]},{viewBox:"0 0 24 24"}],i={};for(let o=0;o<r.length;o+=1)i=Pt(i,r[o]);return{c(){t=_n("svg"),this.h()},l(o){t=mn(o,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,"aria-label":!0,viewBox:!0});var s=ft(t);s.forEach(U),this.h()},h(){He(t,i)},m(o,s){Et(o,t,s),t.innerHTML=e[3]},p(o,[s]){s&8&&(t.innerHTML=o[3]),He(t,i=Zt(r,[{xmlns:"http://www.w3.org/2000/svg"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&2&&{fill:o[1]},s&16&&n!==(n=o[4].class)&&{class:n},s&32&&o[5],s&4&&{"aria-label":o[2]},{viewBox:"0 0 24 24"}]))},i:Vt,o:Vt,d(o){o&&U(t)}}}let S0='<path d="M6 11c2.76 0 5-2.24 5-5S8.76 1 6 1 1 3.24 1 6s2.24 5 5 5zm15 3h-5c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h5c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2z"/><path d="M17.71 7.7c.4.19.83.3 1.29.3 1.65 0 3-1.35 3-3s-1.35-3-3-3-3 1.35-3 3c0 .46.11.89.3 1.29L6.29 16.3c-.4-.19-.83-.3-1.29-.3-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3c0-.46-.11-.89-.3-1.29L17.71 7.7z"/>',cp='<path d="M6 11c2.76 0 5-2.24 5-5S8.76 1 6 1 1 3.24 1 6s2.24 5 5 5zm0-8c1.65 0 3 1.35 3 3S7.65 9 6 9 3 7.65 3 6s1.35-3 3-3zm15 11h-5c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h5c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2zm0 7h-5v-5h5v5z"/><path d="M17.71 7.7c.4.19.83.3 1.29.3 1.65 0 3-1.35 3-3s-1.35-3-3-3-3 1.35-3 3c0 .46.11.89.3 1.29L6.29 16.3c-.4-.19-.83-.3-1.29-.3-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3c0-.46-.11-.89-.3-1.29L17.71 7.7z"/>',k0='<path d="M6 11c2.76 0 5-2.24 5-5S8.76 1 6 1 1 3.24 1 6s2.24 5 5 5zm15 3h-5c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h5c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2z"/><path d="M17.71 7.7c.4.19.83.3 1.29.3 1.65 0 3-1.35 3-3s-1.35-3-3-3-3 1.35-3 3c0 .46.11.89.3 1.29L6.29 16.3c-.4-.19-.83-.3-1.29-.3-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3c0-.46-.11-.89-.3-1.29L17.71 7.7z"/>',I0='<path d="M6 11c2.76 0 5-2.24 5-5S8.76 1 6 1 1 3.24 1 6s2.24 5 5 5zm17 3h-9v9h9v-9z"/><path d="M17.71 7.7c.4.19.83.3 1.29.3 1.65 0 3-1.35 3-3s-1.35-3-3-3-3 1.35-3 3c0 .46.11.89.3 1.29L6.29 16.3c-.4-.19-.83-.3-1.29-.3-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3c0-.46-.11-.89-.3-1.29L17.71 7.7z"/>',x0='<path d="M16 16h5v5h-5z" opacity=".3"/><circle cx="6" cy="6" r="3" opacity=".3"/><path d="M6 11c2.76 0 5-2.24 5-5S8.76 1 6 1 1 3.24 1 6s2.24 5 5 5zm0-8c1.65 0 3 1.35 3 3S7.65 9 6 9 3 7.65 3 6s1.35-3 3-3zm15 11h-5c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h5c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2zm0 7h-5v-5h5v5z"/><path d="M17.71 7.7c.4.19.83.3 1.29.3 1.65 0 3-1.35 3-3s-1.35-3-3-3-3 1.35-3 3c0 .46.11.89.3 1.29L6.29 16.3c-.4-.19-.83-.3-1.29-.3-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3c0-.46-.11-.89-.3-1.29L17.71 7.7z"/>';function T0(e,t,n){const r=["size","color","variation","ariaLabel"];let i=Pe(t,r),{size:o="24"}=t,{color:s="currentColor"}=t,{variation:u="outlined"}=t,l;switch(u){case"filled":l=S0;break;case"outlined":l=cp;break;case"round":l=k0;break;case"sharp":l=I0;break;case"two-tone":l=x0;break;default:l=cp}let{ariaLabel:p="shape line"}=t;return e.$$set=g=>{n(4,t=Pt(Pt({},t),Be(g))),n(5,i=Pe(t,r)),"size"in g&&n(0,o=g.size),"color"in g&&n(1,s=g.color),"variation"in g&&n(6,u=g.variation),"ariaLabel"in g&&n(2,p=g.ariaLabel)},t=Be(t),[o,s,p,l,t,i,u]}class N0 extends be{constructor(t){super(),Ce(this,t,T0,P0,we,{size:0,color:1,variation:6,ariaLabel:2})}}function O0(e){let t,n,r,i,o;return n=new N0({props:{tabindex:"-1"}}),{c(){t=vt("button"),ae(n.$$.fragment),this.h()},l(s){t=yt(s,"BUTTON",{class:!0,type:!0});var u=ft(t);de(n.$$.fragment,u),u.forEach(U),this.h()},h(){pt(t,"class","w-min rounded-md bg-white py-1 px-2 hover:bg-gray-200"),pt(t,"type","button")},m(s,u){Et(s,t,u),le(n,t,null),r=!0,i||(o=qe(t,"click",e[0]),i=!0)},p:Vt,i(s){r||(dt(n.$$.fragment,s),r=!0)},o(s){Lt(n.$$.fragment,s),r=!1},d(s){s&&U(t),ue(n),i=!1,o()}}}function D0(e){return[async()=>{const n=await th({multiple:!1,filters:[{name:"Image",extensions:["png","jpeg","zip"]}]});console.dir(n),await vo("greet",{name:n})}]}class R0 extends be{constructor(t){super(),Ce(this,t,D0,O0,we,{})}}function A0(e){let t,n;return{c(){t=vt("h1"),n=un("RMv3"),this.h()},l(r){t=yt(r,"H1",{class:!0});var i=ft(t);n=hn(i,"RMv3"),i.forEach(U),this.h()},h(){pt(t,"class","text-2xl text-gray-600")},m(r,i){Et(r,t,i),Ct(t,n)},p:Vt,i:Vt,o:Vt,d(r){r&&U(t)}}}class B0 extends be{constructor(t){super(),Ce(this,t,null,A0,we,{})}}function z0(e){let t,n,r,i;return{c(){t=vt("button"),n=un("logout"),this.h()},l(o){t=yt(o,"BUTTON",{class:!0,type:!0});var s=ft(t);n=hn(s,"logout"),s.forEach(U),this.h()},h(){pt(t,"class","w-min rounded-md border border-gray-300 bg-white py-1 px-4 text-base font-normal"),pt(t,"type","button")},m(o,s){Et(o,t,s),Ct(t,n),r||(i=qe(t,"click",e[0]),r=!0)},p:Vt,i:Vt,o:Vt,d(o){o&&U(t),r=!1,i()}}}function F0(e){async function t(){await Ag()}return[t]}class G0 extends be{constructor(t){super(),Ce(this,t,F0,z0,we,{})}}function fp(e){let t,n,r=e[0].displayName+"",i;return{c(){t=vt("div"),n=vt("h2"),i=un(r)},l(o){t=yt(o,"DIV",{});var s=ft(t);n=yt(s,"H2",{});var u=ft(n);i=hn(u,r),u.forEach(U),s.forEach(U)},m(o,s){Et(o,t,s),Ct(t,n),Ct(n,i)},p(o,s){s&1&&r!==(r=o[0].displayName+"")&&rs(i,r)},d(o){o&&U(t)}}}function V0(e){let t,n=e[0]&&fp(e);return{c(){n&&n.c(),t=ho()},l(r){n&&n.l(r),t=ho()},m(r,i){n&&n.m(r,i),Et(r,t,i)},p(r,[i]){r[0]?n?n.p(r,i):(n=fp(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:Vt,o:Vt,d(r){n&&n.d(r),r&&U(t)}}}function U0(e,t,n){let r;const i=Bg();return gn(e,i,o=>n(0,r=o)),[r,i]}class H0 extends be{constructor(t){super(),Ce(this,t,U0,V0,we,{})}}function Z0(e){let t,n,r,i,o,s,u,l,p,g,c,_,C,E,P,S,I,T;return n=new B0({}),o=new R0({}),u=new M0({}),C=new H0({}),P=new G0({}),{c(){t=vt("div"),ae(n.$$.fragment),r=ve(),i=vt("div"),ae(o.$$.fragment),s=ve(),ae(u.$$.fragment),l=ve(),p=vt("button"),g=un("btn"),c=ve(),_=vt("div"),ae(C.$$.fragment),E=ve(),ae(P.$$.fragment),this.h()},l(N){t=yt(N,"DIV",{class:!0});var x=ft(t);de(n.$$.fragment,x),r=ye(x),i=yt(x,"DIV",{class:!0});var R=ft(i);de(o.$$.fragment,R),s=ye(R),de(u.$$.fragment,R),l=ye(R),p=yt(R,"BUTTON",{type:!0});var B=ft(p);g=hn(B,"btn"),B.forEach(U),R.forEach(U),c=ye(x),_=yt(x,"DIV",{class:!0});var Y=ft(_);de(C.$$.fragment,Y),E=ye(Y),de(P.$$.fragment,Y),Y.forEach(U),x.forEach(U),this.h()},h(){pt(p,"type","button"),pt(i,"class","ml-8 flex gap-x-2"),pt(_,"class","ml-auto flex items-center gap-x-2"),pt(t,"class","flex w-full grow-0 items-center justify-start border-t border-gray-200 py-2 px-6 shadow-md")},m(N,x){Et(N,t,x),le(n,t,null),Ct(t,r),Ct(t,i),le(o,i,null),Ct(i,s),le(u,i,null),Ct(i,l),Ct(i,p),Ct(p,g),Ct(t,c),Ct(t,_),le(C,_,null),Ct(_,E),le(P,_,null),S=!0,I||(T=qe(p,"click",e[0]),I=!0)},p:Vt,i(N){S||(dt(n.$$.fragment,N),dt(o.$$.fragment,N),dt(u.$$.fragment,N),dt(C.$$.fragment,N),dt(P.$$.fragment,N),S=!0)},o(N){Lt(n.$$.fragment,N),Lt(o.$$.fragment,N),Lt(u.$$.fragment,N),Lt(C.$$.fragment,N),Lt(P.$$.fragment,N),S=!1},d(N){N&&U(t),ue(n),ue(o),ue(u),ue(C),ue(P),I=!1,T()}}}function j0(e){return[async()=>{const n=await th({multiple:!1,filters:[{name:"Image",extensions:["png","jpeg","zip"]}]});console.dir(n)}]}class q0 extends be{constructor(t){super(),Ce(this,t,j0,Z0,we,{})}}var dl;(function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"})(dl||(dl={}));const X0="headlessui-open-closed-context";function Y0(){return _s(X0)}function Zh(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Zh),r}let W0=0;function K0(){return++W0}function Ad(){return K0()}let ha=new Set,es=new Map;function pp(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function dp(e){let t=es.get(e);t&&(t["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}function J0(e,t=!0){if(!t||!e)return;let n=e;ha.add(n);for(let r of es.keys())r.contains(n)&&(dp(r),es.delete(r));return document.querySelectorAll("body > *").forEach(r=>{if(r instanceof HTMLElement){for(let i of ha)if(r.contains(i))return;ha.size===1&&(es.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),pp(r))}}),()=>{if(ha.delete(n),ha.size>0)document.querySelectorAll("body > *").forEach(r=>{if(r instanceof HTMLElement&&!es.has(r)){for(let i of ha)if(r.contains(i))return;es.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),pp(r)}});else for(let r of es.keys())dp(r),es.delete(r)}}function jh(e,t){for(let n of e)if(n.contains(t))return!0;return!1}var Au;(function(e){e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab"})(Au||(Au={}));let Q0=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var mr;(function(e){e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll"})(mr||(mr={}));var ns;(function(e){e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow"})(ns||(ns={}));var Bu;(function(e){e[e.Previous=-1]="Previous",e[e.Next=1]="Next"})(Bu||(Bu={}));function $0(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Q0))}var gp;(function(e){e[e.Strict=0]="Strict",e[e.Loose=1]="Loose"})(gp||(gp={}));function ul(e){e==null||e.focus({preventScroll:!0})}function _p(e,t){let n=Array.isArray(e)?e:$0(e),r=document.activeElement,i=(()=>{if(t&(mr.First|mr.Next))return Bu.Next;if(t&(mr.Previous|mr.Last))return Bu.Previous;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),o=(()=>{if(t&mr.First)return 0;if(t&mr.Previous)return Math.max(0,n.indexOf(r))-1;if(t&mr.Next)return Math.max(0,n.indexOf(r))+1;if(t&mr.Last)return n.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),s=t&mr.NoScroll?{preventScroll:!0}:{},u=0,l=n.length,p;do{if(u>=l||u+l<=0)return ns.Error;let g=o+u;if(t&mr.WrapAround)g=(g+l)%l;else{if(g<0)return ns.Underflow;if(g>=l)return ns.Overflow}p=n[g],p==null||p.focus(s),u+=i}while(p!==document.activeElement);return p.hasAttribute("tabindex")||p.setAttribute("tabindex","0"),ns.Success}const{window:mp}=Op;function t1(e){let t,n;return{c:Vt,l:Vt,m(r,i){t||(n=[qe(mp,"keydown",e[0]),qe(mp,"focus",e[1],!0)],t=!0)},p:Vt,i:Vt,o:Vt,d(r){t=!1,Qt(n)}}}function e1(e,t,n){let{containers:r}=t,{enabled:i=!0}=t,{options:o={}}=t,s=typeof window<"u"?document.activeElement:null,u=null;async function l(){if(!i||r.size!==1)return;let{initialFocus:C}=o;await Yh();let E=document.activeElement;if(C){if(C===E)return}else if(jh(r,E))return;if(s=E,C)ul(C);else{let P=!1;for(let S of r)if(_p(S,mr.First)===ns.Success){P=!0;break}P||console.warn("There are no focusable elements inside the <FocusTrap />")}u=document.activeElement}function p(){ul(s),s=null,u=null}zu(l);let g=!1;fa(()=>{g=!0,p()});function c(C){if(i&&C.key===Au.Tab&&document.activeElement&&r.size===1){C.preventDefault();for(let E of r)if(_p(E,(C.shiftKey?mr.Previous:mr.Next)|mr.WrapAround)===ns.Success){u=document.activeElement;break}}}function _(C){if(C.target===window.document.body||!i||r.size!==1||g)return;let E=u;if(!E)return;let P=C.target;P&&P instanceof HTMLElement?jh(r,P)?(u=P,ul(P)):(C.preventDefault(),C.stopPropagation(),ul(E)):ul(u)}return e.$$set=C=>{"containers"in C&&n(2,r=C.containers),"enabled"in C&&n(3,i=C.enabled),"options"in C&&n(4,o=C.options)},e.$$.update=()=>{e.$$.dirty&12&&(i&&r?l():p())},[c,_,r,i,o]}class n1 extends be{constructor(t){super(),Ce(this,t,e1,t1,we,{containers:2,enabled:3,options:4})}}function r1(e){let t;const n=e[4].default,r=$t(n,e,e[3],null);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,o){r&&r.m(i,o),t=!0},p(i,[o]){r&&r.p&&(!t||o&8)&&te(r,n,i,i[3],t?ne(n,i[3],o,null):ee(i[3]),null)},i(i){t||(dt(r,i),t=!0)},o(i){Lt(r,i),t=!1},d(i){r&&r.d(i)}}}var Aa;(function(e){e[e.Add=0]="Add",e[e.Remove=1]="Remove"})(Aa||(Aa={}));const vp="headlessui-stack-context";function i1(e,t,n){let r,{$$slots:i={},$$scope:o}=t,{onUpdate:s}=t,{element:u}=t;function l(...g){s==null||s(...g),p==null||p(...g)}let p=_s(vp);return Ba(vp,l),fa(()=>{r&&r()}),e.$$set=g=>{"onUpdate"in g&&n(0,s=g.onUpdate),"element"in g&&n(1,u=g.element),"$$scope"in g&&n(3,o=g.$$scope)},e.$$.update=()=>{e.$$.dirty&6&&n(2,r=(()=>{if(r&&r(),!u)return null;let g=u;return l(Aa.Add,g),()=>l(Aa.Remove,g)})())},[s,u,r,o,i]}class o1 extends be{constructor(t){super(),Ce(this,t,i1,r1,we,{onUpdate:0,element:1})}}const s1=e=>({describedby:e&1}),yp=e=>({describedby:e[0].descriptionIds});function a1(e){let t;const n=e[6].default,r=$t(n,e,e[5],yp);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,o){r&&r.m(i,o),t=!0},p(i,[o]){r&&r.p&&(!t||o&33)&&te(r,n,i,i[5],t?ne(n,i[5],o,s1):ee(i[5]),yp)},i(i){t||(dt(r,i),t=!0)},o(i){Lt(r,i),t=!1},d(i){r&&r.d(i)}}}const l1="headlessui-description-context";function u1(e,t,n){const r=["name","slotProps"];let i=Pe(t,r),o,{$$slots:s={},$$scope:u}=t,{name:l}=t,{slotProps:p={}}=t,g=[],c=Gr({name:l,slotProps:p,props:i,register:_});gn(e,c,C=>n(0,o=C)),Ba(l1,c);function _(C){return n(4,g=[...g,C]),()=>{n(4,g=g.filter(E=>E!==C))}}return e.$$set=C=>{t=Pt(Pt({},t),Be(C)),n(8,i=Pe(t,r)),"name"in C&&n(2,l=C.name),"slotProps"in C&&n(3,p=C.slotProps),"$$scope"in C&&n(5,u=C.$$scope)},e.$$.update=()=>{c.set({name:l,slotProps:p,props:i,register:_,descriptionIds:g.length>0?g.join(" "):void 0})},[o,c,l,p,g,u,s]}class h1 extends be{constructor(t){super(),Ce(this,t,u1,a1,we,{name:2,slotProps:3})}}function c1(e){let t;const n=e[2].default,r=$t(n,e,e[1],null);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,o){r&&r.m(i,o),t=!0},p(i,[o]){r&&r.p&&(!t||o&2)&&te(r,n,i,i[1],t?ne(n,i[1],o,null):ee(i[1]),null)},i(i){t||(dt(r,i),t=!0)},o(i){Lt(r,i),t=!1},d(i){r&&r.d(i)}}}const Bd="headlessui-force-portal-root-context";function f1(){return _s(Bd)}function p1(e,t,n){let{$$slots:r={},$$scope:i}=t,{force:o}=t;return Ba(Bd,Gr(o)),e.$$set=s=>{"force"in s&&n(0,o=s.force),"$$scope"in s&&n(1,i=s.$$scope)},[o,i,r]}class zd extends be{constructor(t){super(),Ce(this,t,p1,c1,we,{force:0})}}function d1(e){let t;const n=e[2].default,r=$t(n,e,e[1],null);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,o){r&&r.m(i,o),t=!0},p(i,[o]){r&&r.p&&(!t||o&2)&&te(r,n,i,i[1],t?ne(n,i[1],o,null):ee(i[1]),null)},i(i){t||(dt(r,i),t=!0)},o(i){Lt(r,i),t=!1},d(i){r&&r.d(i)}}}const Fd="headlessui-portal-group-context";function g1(){return _s(Fd)}function _1(e,t,n){let{$$slots:r={},$$scope:i}=t,{target:o}=t,s=Gr(o);return Ba(Fd,s),e.$$set=u=>{"target"in u&&n(0,o=u.target),"$$scope"in u&&n(1,i=u.$$scope)},e.$$.update=()=>{e.$$.dirty&1&&s.set(o)},[o,i,r]}class m1 extends be{constructor(t){super(),Ce(this,t,_1,d1,we,{target:0})}}function v1(e,t){return t&&t.append(e),{update(n){t=n,n.append(e)},destroy(){var n;t!=null&&t.contains(e)&&t.removeChild(e),t&&t.childNodes.length<=0&&((n=t.parentElement)==null||n.removeChild(t))}}}function y1(e){let t,n,r,i,o;const s=e[6].default,u=$t(s,e,e[5],null);return{c(){t=vt("div"),u&&u.c()},l(l){t=yt(l,"DIV",{});var p=ft(t);u&&u.l(p),p.forEach(U)},m(l,p){Et(l,t,p),u&&u.m(t,null),r=!0,i||(o=Nt(n=v1.call(null,t,e[0])),i=!0)},p(l,[p]){u&&u.p&&(!r||p&32)&&te(u,s,l,l[5],r?ne(s,l[5],p,null):ee(l[5]),null),n&&Se(n.update)&&p&1&&n.update.call(null,l[0])},i(l){r||(dt(u,l),r=!0)},o(l){Lt(u,l),r=!1},d(l){l&&U(t),u&&u.d(l),i=!1,o()}}}function L1(e,t,n){let r,i,o,{$$slots:s={},$$scope:u}=t,l=f1();gn(e,l,g=>n(4,o=g));let p=g1();return gn(e,p,g=>n(3,i=g)),e.$$set=g=>{"$$scope"in g&&n(5,u=g.$$scope)},e.$$.update=()=>{e.$$.dirty&24&&n(0,r=(()=>{if(!(l&&o)&&p!==void 0&&i!==null)return i;if(typeof window>"u")return null;let g=document.getElementById("headlessui-portal-root");if(g)return g;let c=document.createElement("div");return c.setAttribute("id","headlessui-portal-root"),Yh().then(()=>{c!==document.body.lastChild&&document.body.appendChild(c)}),document.body.appendChild(c)})())},[r,l,p,i,o,u,s]}class b1 extends be{constructor(t){super(),Ce(this,t,L1,y1,we,{})}}const qh="!",C1=new RegExp(`^[^${qh}]+(?:${qh}(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$`);function mc(e,t=[]){let n,r=[];e.$on=(o,s)=>{let u=o,l=()=>{};for(let p of t){if(typeof p=="string"&&p===u){const g=e.$$.callbacks[u]||(e.$$.callbacks[u]=[]);return g.push(s),()=>{const c=g.indexOf(s);c!==-1&&g.splice(c,1)}}if(typeof p=="object"&&p.name===u){let g=s;s=(...c)=>{typeof p=="object"&&p.shouldExclude()||g(...c)}}}return n?l=n(u,s):r.push([u,s]),()=>{l()}};function i(o){Og(e,o)}return o=>{const s=[],u={};n=(l,p)=>{let g=l,c=p,_=!1;if(g.match(C1)){const S=g.split(qh);g=S[0];const I=Object.fromEntries(S.slice(1).map(T=>[T,!0]));I.passive&&(_=_||{},_.passive=!0),I.nonpassive&&(_=_||{},_.passive=!1),I.capture&&(_=_||{},_.capture=!0),I.once&&(_=_||{},_.once=!0),I.preventDefault&&(c=Dg(c)),I.stopPropagation&&(c=Rg(c))}const E=qe(o,g,c,_),P=()=>{E();const S=s.indexOf(P);S>-1&&s.splice(S,1)};return s.push(P),g in u||(u[g]=qe(o,g,i)),P};for(let l=0;l<r.length;l++)n(r[l][0],r[l][1]);return{destroy:()=>{for(let l=0;l<s.length;l++)s[l]();for(let l of Object.entries(u))l[1]()}}}}const w1=["a","address","article","aside","b","bdi","bdo","blockquote","button","cite","code","data","datalist","dd","dl","dt","div","em","footer","form","h1","h2","h3","h4","h5","h6","header","i","input","label","li","main","nav","ol","p","section","span","strong","ul"];function E1(e){return!(typeof e=="string"&&!w1.includes(e))}function Ie(e,t){let n=[];if(t)for(let r=0;r<t.length;r++){const i=t[r],o=Array.isArray(i)?i[0]:i;Array.isArray(i)&&i.length>1?n.push(o(e,i[1])):n.push(o(e))}return{update(r){if((r&&r.length||0)!=n.length)throw new Error("You must not change the length of an actions array.");if(r)for(let i=0;i<r.length;i++){const o=n[i];if(o&&o.update){const s=r[i];Array.isArray(s)&&s.length>1?o.update(s[1]):o.update()}}},destroy(){for(let r=0;r<n.length;r++){const i=n[r];i&&i.destroy&&i.destroy()}}}}var Ai;(function(e){e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static"})(Ai||(Ai={}));function Lp(e){let t,n,r,i;const o=[hL,uL,lL,aL,sL,oL,iL,rL,nL,eL,tL,$1,Q1,J1,K1,W1,Y1,X1,q1,j1,Z1,H1,U1,V1,G1,F1,z1,B1,A1,R1,D1,O1,N1,T1,x1,I1,k1,S1,P1,M1],s=[];function u(l,p){return l[1]==="a"?0:l[1]==="address"?1:l[1]==="article"?2:l[1]==="aside"?3:l[1]==="b"?4:l[1]==="bdi"?5:l[1]==="bdo"?6:l[1]==="blockquote"?7:l[1]==="button"?8:l[1]==="cite"?9:l[1]==="code"?10:l[1]==="data"?11:l[1]==="datalist"?12:l[1]==="dd"?13:l[1]==="dl"?14:l[1]==="dt"?15:l[1]==="div"?16:l[1]==="em"?17:l[1]==="footer"?18:l[1]==="form"?19:l[1]==="h1"?20:l[1]==="h2"?21:l[1]==="h3"?22:l[1]==="h4"?23:l[1]==="h5"?24:l[1]==="h6"?25:l[1]==="header"?26:l[1]==="i"?27:l[1]==="input"?28:l[1]==="label"?29:l[1]==="li"?30:l[1]==="main"?31:l[1]==="nav"?32:l[1]==="ol"?33:l[1]==="p"?34:l[1]==="section"?35:l[1]==="span"?36:l[1]==="strong"?37:l[1]==="ul"?38:39}return t=u(e),n=s[t]=o[t](e),{c(){n.c(),r=ho()},l(l){n.l(l),r=ho()},m(l,p){s[t].m(l,p),Et(l,r,p),i=!0},p(l,p){let g=t;t=u(l),t===g?s[t].p(l,p):(di(),Lt(s[g],1,1,()=>{s[g]=null}),gi(),n=s[t],n?n.p(l,p):(n=s[t]=o[t](l),n.c()),dt(n,1),n.m(r.parentNode,r))},i(l){i||(dt(n),i=!0)},o(l){Lt(n),i=!1},d(l){s[t].d(l),l&&U(r)}}}function M1(e){let t,n,r,i;const o=[{use:[...e[2],e[6]]},e[7],e[3],{hidden:e[4]||void 0}];function s(p){e[58](p)}var u=e[1];function l(p){let g={$$slots:{default:[cL]},$$scope:{ctx:p}};for(let c=0;c<o.length;c+=1)g=Pt(g,o[c]);return p[0]!==void 0&&(g.el=p[0]),{props:g}}return u&&(t=Jc(u,l(e)),oe.push(()=>Sh(t,"el",s))),{c(){t&&ae(t.$$.fragment),r=ho()},l(p){t&&de(t.$$.fragment,p),r=ho()},m(p,g){t&&le(t,p,g),Et(p,r,g),i=!0},p(p,g){const c=g[0]&220?Zt(o,[g[0]&68&&{use:[...p[2],p[6]]},g[0]&128&&Qc(p[7]),g[0]&8&&Qc(p[3]),g[0]&16&&{hidden:p[4]||void 0}]):{};if(g[1]&268435456&&(c.$$scope={dirty:g,ctx:p}),!n&&g[0]&1&&(n=!0,c.el=p[0],Dp(()=>n=!1)),u!==(u=p[1])){if(t){di();const _=t;Lt(_.$$.fragment,1,0,()=>{ue(_,1)}),gi()}u?(t=Jc(u,l(p)),oe.push(()=>Sh(t,"el",s)),ae(t.$$.fragment),dt(t.$$.fragment,1),le(t,r.parentNode,r)):t=null}else u&&t.$set(c)},i(p){i||(t&&dt(t.$$.fragment,p),i=!0)},o(p){t&&Lt(t.$$.fragment,p),i=!1},d(p){p&&U(r),t&&ue(t,p)}}}function P1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("ul"),l&&l.c(),this.h()},l(c){t=yt(c,"UL",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[57](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[57](null),o=!1,Qt(s)}}}function S1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("strong"),l&&l.c(),this.h()},l(c){t=yt(c,"STRONG",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[56](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[56](null),o=!1,Qt(s)}}}function k1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("span"),l&&l.c(),this.h()},l(c){t=yt(c,"SPAN",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[55](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[55](null),o=!1,Qt(s)}}}function I1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("section"),l&&l.c(),this.h()},l(c){t=yt(c,"SECTION",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[54](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[54](null),o=!1,Qt(s)}}}function x1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("p"),l&&l.c(),this.h()},l(c){t=yt(c,"P",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[53](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[53](null),o=!1,Qt(s)}}}function T1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("ol"),l&&l.c(),this.h()},l(c){t=yt(c,"OL",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[52](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[52](null),o=!1,Qt(s)}}}function N1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("nav"),l&&l.c(),this.h()},l(c){t=yt(c,"NAV",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[51](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[51](null),o=!1,Qt(s)}}}function O1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("main"),l&&l.c(),this.h()},l(c){t=yt(c,"MAIN",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[50](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[50](null),o=!1,Qt(s)}}}function D1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("li"),l&&l.c(),this.h()},l(c){t=yt(c,"LI",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[49](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[49](null),o=!1,Qt(s)}}}function R1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("label"),l&&l.c(),this.h()},l(c){t=yt(c,"LABEL",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[48](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[48](null),o=!1,Qt(s)}}}function A1(e){let t,n,r,i,o,s=[e[7],e[3],{hidden:n=e[4]||void 0}],u={};for(let l=0;l<s.length;l+=1)u=Pt(u,s[l]);return{c(){t=vt("input"),this.h()},l(l){t=yt(l,"INPUT",{}),this.h()},h(){Ot(t,u)},m(l,p){Et(l,t,p),t.autofocus&&t.focus(),e[47](t),i||(o=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],i=!0)},p(l,p){Ot(t,u=Zt(s,[p[0]&128&&l[7],p[0]&8&&l[3],p[0]&16&&n!==(n=l[4]||void 0)&&{hidden:n}])),r&&Se(r.update)&&p[0]&4&&r.update.call(null,l[2])},i:Vt,o:Vt,d(l){l&&U(t),e[47](null),i=!1,Qt(o)}}}function B1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("i"),l&&l.c(),this.h()},l(c){t=yt(c,"I",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[46](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[46](null),o=!1,Qt(s)}}}function z1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("header"),l&&l.c(),this.h()},l(c){t=yt(c,"HEADER",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[45](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[45](null),o=!1,Qt(s)}}}function F1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("h6"),l&&l.c(),this.h()},l(c){t=yt(c,"H6",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[44](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[44](null),o=!1,Qt(s)}}}function G1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("h5"),l&&l.c(),this.h()},l(c){t=yt(c,"H5",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[43](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[43](null),o=!1,Qt(s)}}}function V1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("h4"),l&&l.c(),this.h()},l(c){t=yt(c,"H4",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[42](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[42](null),o=!1,Qt(s)}}}function U1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("h3"),l&&l.c(),this.h()},l(c){t=yt(c,"H3",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[41](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[41](null),o=!1,Qt(s)}}}function H1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("h2"),l&&l.c(),this.h()},l(c){t=yt(c,"H2",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[40](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[40](null),o=!1,Qt(s)}}}function Z1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("h1"),l&&l.c(),this.h()},l(c){t=yt(c,"H1",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[39](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[39](null),o=!1,Qt(s)}}}function j1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("form"),l&&l.c(),this.h()},l(c){t=yt(c,"FORM",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[38](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[38](null),o=!1,Qt(s)}}}function q1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("footer"),l&&l.c(),this.h()},l(c){t=yt(c,"FOOTER",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[37](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[37](null),o=!1,Qt(s)}}}function X1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("em"),l&&l.c(),this.h()},l(c){t=yt(c,"EM",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[36](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[36](null),o=!1,Qt(s)}}}function Y1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("div"),l&&l.c(),this.h()},l(c){t=yt(c,"DIV",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[35](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[35](null),o=!1,Qt(s)}}}function W1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("dt"),l&&l.c(),this.h()},l(c){t=yt(c,"DT",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[34](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[34](null),o=!1,Qt(s)}}}function K1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("dl"),l&&l.c(),this.h()},l(c){t=yt(c,"DL",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[33](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[33](null),o=!1,Qt(s)}}}function J1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("dd"),l&&l.c(),this.h()},l(c){t=yt(c,"DD",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[32](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[32](null),o=!1,Qt(s)}}}function Q1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("datalist"),l&&l.c(),this.h()},l(c){t=yt(c,"DATALIST",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[31](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[31](null),o=!1,Qt(s)}}}function $1(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("data"),l&&l.c(),this.h()},l(c){t=yt(c,"DATA",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[30](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[30](null),o=!1,Qt(s)}}}function tL(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("code"),l&&l.c(),this.h()},l(c){t=yt(c,"CODE",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[29](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[29](null),o=!1,Qt(s)}}}function eL(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("cite"),l&&l.c(),this.h()},l(c){t=yt(c,"CITE",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[28](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[28](null),o=!1,Qt(s)}}}function nL(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("button"),l&&l.c(),this.h()},l(c){t=yt(c,"BUTTON",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),t.autofocus&&t.focus(),e[27](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[27](null),o=!1,Qt(s)}}}function rL(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("blockquote"),l&&l.c(),this.h()},l(c){t=yt(c,"BLOCKQUOTE",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[26](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[26](null),o=!1,Qt(s)}}}function iL(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("bdo"),l&&l.c(),this.h()},l(c){t=yt(c,"BDO",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[25](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[25](null),o=!1,Qt(s)}}}function oL(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("bdi"),l&&l.c(),this.h()},l(c){t=yt(c,"BDI",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[24](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[24](null),o=!1,Qt(s)}}}function sL(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("b"),l&&l.c(),this.h()},l(c){t=yt(c,"B",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[23](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[23](null),o=!1,Qt(s)}}}function aL(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("aside"),l&&l.c(),this.h()},l(c){t=yt(c,"ASIDE",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[22](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[22](null),o=!1,Qt(s)}}}function lL(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("article"),l&&l.c(),this.h()},l(c){t=yt(c,"ARTICLE",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[21](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[21](null),o=!1,Qt(s)}}}function uL(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("address"),l&&l.c(),this.h()},l(c){t=yt(c,"ADDRESS",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[20](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[20](null),o=!1,Qt(s)}}}function hL(e){let t,n,r,i,o,s;const u=e[18].default,l=$t(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],g={};for(let c=0;c<p.length;c+=1)g=Pt(g,p[c]);return{c(){t=vt("a"),l&&l.c(),this.h()},l(c){t=yt(c,"A",{});var _=ft(t);l&&l.l(_),_.forEach(U),this.h()},h(){Ot(t,g)},m(c,_){Et(c,t,_),l&&l.m(t,null),e[19](t),i=!0,o||(s=[Nt(r=Ie.call(null,t,e[2])),Nt(e[6].call(null,t))],o=!0)},p(c,_){l&&l.p&&(!i||_[1]&268435456)&&te(l,u,c,c[59],i?ne(u,c[59],_,null):ee(c[59]),null),Ot(t,g=Zt(p,[_[0]&128&&c[7],_[0]&8&&c[3],(!i||_[0]&16&&n!==(n=c[4]||void 0))&&{hidden:n}])),r&&Se(r.update)&&_[0]&4&&r.update.call(null,c[2])},i(c){i||(dt(l,c),i=!0)},o(c){Lt(l,c),i=!1},d(c){c&&U(t),l&&l.d(c),e[19](null),o=!1,Qt(s)}}}function cL(e){let t;const n=e[18].default,r=$t(n,e,e[59],null);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,o){r&&r.m(i,o),t=!0},p(i,o){r&&r.p&&(!t||o[1]&268435456)&&te(r,n,i,i[59],t?ne(n,i[59],o,null):ee(i[59]),null)},i(i){t||(dt(r,i),t=!0)},o(i){Lt(r,i),t=!1},d(i){r&&r.d(i)}}}function fL(e){let t,n,r=e[5]&&Lp(e);return{c(){r&&r.c(),t=ho()},l(i){r&&r.l(i),t=ho()},m(i,o){r&&r.m(i,o),Et(i,t,o),n=!0},p(i,o){i[5]?r?(r.p(i,o),o[0]&32&&dt(r,1)):(r=Lp(i),r.c(),dt(r,1),r.m(t.parentNode,t)):r&&(di(),Lt(r,1,1,()=>{r=null}),gi())},i(i){n||(dt(r),n=!0)},o(i){Lt(r),n=!1},d(i){r&&r.d(i),i&&U(t)}}}var bp;(function(e){e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden"})(bp||(bp={}));function pL(e,t,n){let r,i,o,s,u;const l=["name","as","slotProps","el","use","visible","features","unmount","static","class","style"];let p=Pe(t,l),{$$slots:g={},$$scope:c}=t;const _=mc(Wh());let{name:C}=t,{as:E}=t,{slotProps:P}=t,{el:S=null}=t,{use:I=[]}=t,{visible:T=!0}=t,{features:N=Ai.None}=t,{unmount:x=!0}=t,{static:R=!1}=t,{class:B=void 0}=t,{style:Y=void 0}=t;if(!E)throw new Error(`<${C}> did not provide an \`as\` value to <Render>`);if(!E1(E))throw new Error(`<${C}> has an invalid or unsupported \`as\` prop: ${E}`);function Q(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function rt(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function ct(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function X(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function J(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function at(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function it(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function ot(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function bt(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function Bt(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function ut(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function Ut(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function Rt(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function Tt(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function Xt(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function Fe(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function Ge(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function ie(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function fe(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function gr(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function In(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function Wi(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function Tr(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function bo(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function ni(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function Ki(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function Kn(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function jo(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function Ji(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function Co(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function Ti(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function Z(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function k(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function O(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function z(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function j(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function W(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function _t(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function mt(K){oe[K?"unshift":"push"](()=>{S=K,n(0,S)})}function It(K){S=K,n(0,S)}return e.$$set=K=>{t=Pt(Pt({},t),Be(K)),n(7,p=Pe(t,l)),"name"in K&&n(8,C=K.name),"as"in K&&n(1,E=K.as),"slotProps"in K&&n(9,P=K.slotProps),"el"in K&&n(0,S=K.el),"use"in K&&n(2,I=K.use),"visible"in K&&n(10,T=K.visible),"features"in K&&n(11,N=K.features),"unmount"in K&&n(12,x=K.unmount),"static"in K&&n(13,R=K.static),"class"in K&&n(14,B=K.class),"style"in K&&n(15,Y=K.style),"$$scope"in K&&n(59,c=K.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&16896&&n(17,r=typeof B=="function"?B(P):B),e.$$.dirty[0]&33280&&n(16,i=typeof Y=="function"?Y(P):Y),e.$$.dirty[0]&15360&&n(5,o=T||N&Ai.Static&&R||!(N&Ai.RenderStrategy&&x)),e.$$.dirty[0]&15360&&n(4,s=!T&&!(N&Ai.Static&&R)&&N&Ai.RenderStrategy&&!x),e.$$.dirty[0]&196624&&n(3,u={class:r,style:`${i??""}${s?" display: none":""}`||void 0}),e.$$.dirty[0]&8&&u.style===void 0&&delete u.style},[S,E,I,u,s,o,_,p,C,P,T,N,x,R,B,Y,i,r,g,Q,rt,ct,X,J,at,it,ot,bt,Bt,ut,Ut,Rt,Tt,Xt,Fe,Ge,ie,fe,gr,In,Wi,Tr,bo,ni,Ki,Kn,jo,Ji,Co,Ti,Z,k,O,z,j,W,_t,mt,It,c]}class Gd extends be{constructor(t){super(),Ce(this,t,pL,fL,we,{name:8,as:1,slotProps:9,el:0,use:2,visible:10,features:11,unmount:12,static:13,class:14,style:15},null,[-1,-1])}}const{window:Cp}=Op,dL=e=>e&64,gL=e=>({}),wp=e=>({...e[6]});function _L(e){let t;const n=e[24].default,r=$t(n,e,e[27],wp);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,o){r&&r.m(i,o),t=!0},p(i,o){r&&r.p&&(!t||o&134217792)&&te(r,n,i,i[27],dL(o)||!t?ee(i[27]):ne(n,i[27],o,gL),wp)},i(i){t||(dt(r,i),t=!0)},o(i){Lt(r,i),t=!1},d(i){r&&r.d(i)}}}function mL(e){let t,n,r;const i=[{...e[14],...e[7]},{as:e[0]},{slotProps:e[6]},{use:[...e[1],e[9]]},{name:"Dialog"},{"aria-describedby":e[30]},{visible:e[8]},{features:Ai.RenderStrategy|Ai.Static}];function o(u){e[25](u)}let s={$$slots:{default:[_L]},$$scope:{ctx:e}};for(let u=0;u<i.length;u+=1)s=Pt(s,i[u]);return e[3]!==void 0&&(s.el=e[3]),t=new Gd({props:s}),oe.push(()=>Sh(t,"el",o)),t.$on("click",ML),{c(){ae(t.$$.fragment)},l(u){de(t.$$.fragment,u)},m(u,l){le(t,u,l),r=!0},p(u,l){const p=l&1073759171?Zt(i,[l&16512&&{...u[14],...u[7]},l&1&&{as:u[0]},l&64&&{slotProps:u[6]},l&514&&{use:[...u[1],u[9]]},i[4],l&1073741824&&{"aria-describedby":u[30]},l&256&&{visible:u[8]},l&0&&{features:Ai.RenderStrategy|Ai.Static}]):{};l&134217792&&(p.$$scope={dirty:l,ctx:u}),!n&&l&8&&(n=!0,p.el=u[3],Dp(()=>n=!1)),t.$set(p)},i(u){r||(dt(t.$$.fragment,u),r=!0)},o(u){Lt(t.$$.fragment,u),r=!1},d(u){ue(t,u)}}}function vL(e){let t,n;return t=new h1({props:{name:"DialogDescription",slotProps:e[6],$$slots:{default:[mL,({describedby:r})=>({30:r}),({describedby:r})=>r?1073741824:0]},$$scope:{ctx:e}}}),{c(){ae(t.$$.fragment)},l(r){de(t.$$.fragment,r)},m(r,i){le(t,r,i),n=!0},p(r,i){const o={};i&64&&(o.slotProps=r[6]),i&1207976395&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(dt(t.$$.fragment,r),n=!0)},o(r){Lt(t.$$.fragment,r),n=!1},d(r){ue(t,r)}}}function yL(e){let t,n;return t=new zd({props:{force:!1,$$slots:{default:[vL]},$$scope:{ctx:e}}}),{c(){ae(t.$$.fragment)},l(r){de(t.$$.fragment,r)},m(r,i){le(t,r,i),n=!0},p(r,i){const o={};i&134234571&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(dt(t.$$.fragment,r),n=!0)},o(r){Lt(t.$$.fragment,r),n=!1},d(r){ue(t,r)}}}function LL(e){let t,n;return t=new m1({props:{target:e[3],$$slots:{default:[yL]},$$scope:{ctx:e}}}),{c(){ae(t.$$.fragment)},l(r){de(t.$$.fragment,r)},m(r,i){le(t,r,i),n=!0},p(r,i){const o={};i&8&&(o.target=r[3]),i&134234571&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(dt(t.$$.fragment,r),n=!0)},o(r){Lt(t.$$.fragment,r),n=!1},d(r){ue(t,r)}}}function bL(e){let t,n;return t=new b1({props:{$$slots:{default:[LL]},$$scope:{ctx:e}}}),{c(){ae(t.$$.fragment)},l(r){de(t.$$.fragment,r)},m(r,i){le(t,r,i),n=!0},p(r,i){const o={};i&134234571&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(dt(t.$$.fragment,r),n=!0)},o(r){Lt(t.$$.fragment,r),n=!1},d(r){ue(t,r)}}}function CL(e){let t,n;return t=new zd({props:{force:!0,$$slots:{default:[bL]},$$scope:{ctx:e}}}),{c(){ae(t.$$.fragment)},l(r){de(t.$$.fragment,r)},m(r,i){le(t,r,i),n=!0},p(r,i){const o={};i&134234571&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(dt(t.$$.fragment,r),n=!0)},o(r){Lt(t.$$.fragment,r),n=!1},d(r){ue(t,r)}}}function wL(e){let t,n,r,i,o,s;return t=new n1({props:{containers:e[5],enabled:e[4],options:{initialFocus:e[2]}}}),r=new o1({props:{element:e[3],onUpdate:e[26],$$slots:{default:[CL]},$$scope:{ctx:e}}}),{c(){ae(t.$$.fragment),n=ve(),ae(r.$$.fragment)},l(u){de(t.$$.fragment,u),n=ye(u),de(r.$$.fragment,u)},m(u,l){le(t,u,l),Et(u,n,l),le(r,u,l),i=!0,o||(s=[qe(Cp,"mousedown",e[12]),qe(Cp,"keydown",e[13])],o=!0)},p(u,[l]){const p={};l&32&&(p.containers=u[5]),l&16&&(p.enabled=u[4]),l&4&&(p.options={initialFocus:u[2]}),t.$set(p);const g={};l&8&&(g.element=u[3]),l&32&&(g.onUpdate=u[26]),l&134234571&&(g.$$scope={dirty:l,ctx:u}),r.$set(g)},i(u){i||(dt(t.$$.fragment,u),dt(r.$$.fragment,u),i=!0)},o(u){Lt(t.$$.fragment,u),Lt(r.$$.fragment,u),i=!1},d(u){ue(t,u),u&&U(n),ue(r,u),o=!1,Qt(s)}}}var hi;(function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"})(hi||(hi={}));const Vd="headlessui-dialog-context";function EL(e){let t=_s(Vd);if(t===void 0)throw new Error(`<${e} /> is missing a parent <Dialog /> component.`);return t}function ML(e){e.stopPropagation()}function PL(e,t,n){let r,i,o,s,u,l,p,g;const c=["as","use","open","initialFocus"];let _=Pe(t,c),C,E,{$$slots:P={},$$scope:S}=t,{as:I="div"}=t,{use:T=[]}=t,{open:N=void 0}=t,{initialFocus:x=null}=t;const R=mc(Wh(),["close"]),B=Tl();let Y=new Set,Q=Y0();gn(e,Q,ut=>n(23,E=ut));let rt=null;const ct=`headlessui-dialog-${Ad()}`;fa(()=>{s&&s()});let X,J=Gr({titleId:X,dialogState:r,setTitleId(ut){X!==ut&&n(16,X=ut)},close(){B("close",!1)}});gn(e,J,ut=>n(22,C=ut)),Ba(Vd,J);async function at(ut){let Ut=ut.target;r===hi.Open&&Y.size===1&&(jh(Y,Ut)||(C.close(),await Yh(),Ut==null||Ut.focus()))}function it(ut){ut.key===Au.Escape&&r===hi.Open&&(Y.size>1||(ut.preventDefault(),ut.stopPropagation(),C.close()))}let ot=!1;zu(()=>n(17,ot=!0)),fa(()=>{u&&u()}),fa(()=>{l&&l()});function bt(ut){rt=ut,n(3,rt)}const Bt=(ut,Ut)=>Zh(ut,{[Aa.Add](){n(5,Y=new Set([...Y,Ut]))},[Aa.Remove](){Y.delete(Ut),n(5,Y=new Set([...Y]))}});return e.$$set=ut=>{t=Pt(Pt({},t),Be(ut)),n(14,_=Pe(t,c)),"as"in ut&&n(0,I=ut.as),"use"in ut&&n(1,T=ut.use),"open"in ut&&n(15,N=ut.open),"initialFocus"in ut&&n(2,x=ut.initialFocus),"$$scope"in ut&&n(27,S=ut.$$scope)},e.$$.update=()=>{if(e.$$.dirty&8421376){if(n(15,N=N===void 0&&Q!==void 0?Zh(E,{[dl.Open]:!0,[dl.Closed]:!1}):N),!(N!==void 0||Q!==void 0))throw new Error("You forgot to provide an `open` prop to the `Dialog` component.");if(typeof N!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${N}`)}e.$$.dirty&32768&&n(18,r=N?hi.Open:hi.Closed),e.$$.dirty&8650752&&n(8,i=Q!==void 0?E===dl.Open:r===hi.Open),e.$$.dirty&262144&&n(4,o=r===hi.Open),e.$$.dirty&2097176&&n(21,s=(()=>(s&&s(),J0(rt,o)))()),e.$$.dirty&327680&&J.update(ut=>({...ut,titleId:X,dialogState:r})),e.$$.dirty&1441792&&n(20,u=(()=>{if(u&&u(),r!==hi.Open||!ot)return;let ut=document.documentElement.style.overflow,Ut=document.documentElement.style.paddingRight,Rt=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${Rt}px`,()=>{document.documentElement.style.overflow=ut,document.documentElement.style.paddingRight=Ut}})()),e.$$.dirty&4980744&&n(19,l=(()=>{if(l&&l(),r!==hi.Open)return;let ut=rt;if(!ut)return;let Ut=new IntersectionObserver(Rt=>{for(let Tt of Rt)Tt.boundingClientRect.x===0&&Tt.boundingClientRect.y===0&&Tt.boundingClientRect.width===0&&Tt.boundingClientRect.height===0&&C.close()});return Ut.observe(ut),()=>Ut.disconnect()})()),e.$$.dirty&327680&&n(7,p={id:ct,role:"dialog","aria-modal":r===hi.Open?!0:void 0,"aria-labelledby":X}),e.$$.dirty&32768&&n(6,g={open:N})},[I,T,x,rt,o,Y,g,p,i,R,Q,J,at,it,_,N,X,ot,r,l,u,s,C,E,P,bt,Bt,S]}class SL extends be{constructor(t){super(),Ce(this,t,PL,wL,we,{as:0,use:1,open:15,initialFocus:2})}}const kL=e=>e&4,IL=e=>({}),Ep=e=>({...e[2]});function xL(e){let t;const n=e[9].default,r=$t(n,e,e[10],Ep);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,o){r&&r.m(i,o),t=!0},p(i,o){r&&r.p&&(!t||o&1028)&&te(r,n,i,i[10],kL(o)||!t?ee(i[10]):ne(n,i[10],o,IL),Ep)},i(i){t||(dt(r,i),t=!0)},o(i){Lt(r,i),t=!1},d(i){r&&r.d(i)}}}function TL(e){let t,n;const r=[{...e[7],...e[3]},{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[4]]},{name:"DialogOverlay"}];let i={$$slots:{default:[xL]},$$scope:{ctx:e}};for(let o=0;o<r.length;o+=1)i=Pt(i,r[o]);return t=new Gd({props:i}),t.$on("click",e[6]),{c(){ae(t.$$.fragment)},l(o){de(t.$$.fragment,o)},m(o,s){le(t,o,s),n=!0},p(o,[s]){const u=s&159?Zt(r,[s&136&&{...o[7],...o[3]},s&1&&{as:o[0]},s&4&&{slotProps:o[2]},s&18&&{use:[...o[1],o[4]]},r[4]]):{};s&1028&&(u.$$scope={dirty:s,ctx:o}),t.$set(u)},i(o){n||(dt(t.$$.fragment,o),n=!0)},o(o){Lt(t.$$.fragment,o),n=!1},d(o){ue(t,o)}}}function NL(e,t,n){let r,i;const o=["as","use"];let s=Pe(t,o),u,{$$slots:l={},$$scope:p}=t,{as:g="div"}=t,{use:c=[]}=t;const _=mc(Wh());let C=EL("DialogOverlay");gn(e,C,S=>n(8,u=S));let E=`headlessui-dialog-overlay-${Ad()}`;function P(S){let I=S;I.target===I.currentTarget&&(I.preventDefault(),I.stopPropagation(),u.close())}return e.$$set=S=>{t=Pt(Pt({},t),Be(S)),n(7,s=Pe(t,o)),"as"in S&&n(0,g=S.as),"use"in S&&n(1,c=S.use),"$$scope"in S&&n(10,p=S.$$scope)},e.$$.update=()=>{e.$$.dirty&256&&n(2,i={open:u.dialogState===hi.Open})},n(3,r={id:E,"aria-hidden":!0}),[g,c,i,r,_,C,P,s,u,l,p]}class OL extends be{constructor(t){super(),Ce(this,t,NL,TL,we,{as:0,use:1})}}var Mp;(function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"})(Mp||(Mp={}));var Pp;(function(e){e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing"})(Pp||(Pp={}));var Sp;(function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"})(Sp||(Sp={}));var kp;(function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"})(kp||(kp={}));var Ip;(function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"})(Ip||(Ip={}));var xp;(function(e){e.Finished="finished",e.Cancelled="cancelled"})(xp||(xp={}));var Tp;(function(e){e.Visible="visible",e.Hidden="hidden"})(Tp||(Tp={}));var DL={};Qu(DL,{TauriEvent:()=>Zd,emit:()=>zL,listen:()=>jd,once:()=>BL});async function Ud(e,t){return Wn({__tauriModule:"Event",message:{cmd:"unlisten",event:e,eventId:t}})}async function RL(e,t,n){await Wn({__tauriModule:"Event",message:{cmd:"emit",event:e,windowLabel:t,payload:n}})}async function Hd(e,t,n){return Wn({__tauriModule:"Event",message:{cmd:"listen",event:e,windowLabel:t,handler:Du(n)}}).then(r=>async()=>Ud(e,r))}async function AL(e,t,n){return Hd(e,t,r=>{n(r),Ud(e,r.id).catch(()=>{})})}var Zd=(e=>(e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_CREATED="tauri://window-created",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_FILE_DROP="tauri://file-drop",e.WINDOW_FILE_DROP_HOVER="tauri://file-drop-hover",e.WINDOW_FILE_DROP_CANCELLED="tauri://file-drop-cancelled",e.MENU="tauri://menu",e.CHECK_UPDATE="tauri://update",e.UPDATE_AVAILABLE="tauri://update-available",e.INSTALL_UPDATE="tauri://update-install",e.STATUS_UPDATE="tauri://update-status",e.DOWNLOAD_PROGRESS="tauri://update-download-progress",e))(Zd||{});async function jd(e,t){return Hd(e,null,t)}async function BL(e,t){return AL(e,null,t)}async function zL(e,t){return RL(e,void 0,t)}function FL(e){let t,n,r,i,o,s,u,l,p,g,c;return{c(){t=vt("div"),n=_n("svg"),r=_n("circle"),i=_n("circle"),o=ve(),s=vt("div"),u=vt("div"),l=vt("span"),p=un(e[0]),g=vt("span"),c=un("%"),this.h()},l(_){t=yt(_,"DIV",{class:!0});var C=ft(t);n=mn(C,"svg",{class:!0,viewBox:!0,xmlns:!0});var E=ft(n);r=mn(E,"circle",{class:!0,r:!0,cx:!0,cy:!0}),ft(r).forEach(U),i=mn(E,"circle",{class:!0,r:!0,cx:!0,cy:!0,style:!0}),ft(i).forEach(U),E.forEach(U),o=ye(C),s=yt(C,"DIV",{class:!0});var P=ft(s);u=yt(P,"DIV",{});var S=ft(u);l=yt(S,"SPAN",{class:!0});var I=ft(l);p=hn(I,e[0]),I.forEach(U),g=yt(S,"SPAN",{class:!0});var T=ft(g);c=hn(T,"%"),T.forEach(U),S.forEach(U),P.forEach(U),C.forEach(U),this.h()},h(){pt(r,"class","circle-container__background svelte-o54wqb"),pt(r,"r","16"),pt(r,"cx","16"),pt(r,"cy","16"),pt(i,"class","circle-container__progress svelte-o54wqb"),pt(i,"r","16"),pt(i,"cx","16"),pt(i,"cy","16"),da(i,"stroke-dashoffset",e[1]),pt(n,"class","circle-container h-full w-full svelte-o54wqb"),pt(n,"viewBox","2 -2 28 36"),pt(n,"xmlns","http://www.w3.org/2000/svg"),pt(l,"class","text-3xl text-gray-800"),pt(g,"class","text-gray-600"),pt(s,"class","absolute inset-0 flex items-center justify-center"),pt(t,"class","relative h-full w-full")},m(_,C){Et(_,t,C),Ct(t,n),Ct(n,r),Ct(n,i),Ct(t,o),Ct(t,s),Ct(s,u),Ct(u,l),Ct(l,p),Ct(u,g),Ct(g,c)},p(_,[C]){C&2&&da(i,"stroke-dashoffset",_[1]),C&1&&rs(p,_[0])},i:Vt,o:Vt,d(_){_&&U(t)}}}function GL(e,t,n){let{progress:r=0}=t,i=100;return e.$$set=o=>{"progress"in o&&n(0,r=o.progress)},e.$$.update=()=>{e.$$.dirty&1&&n(1,i=100-r)},[r,i]}class VL extends be{constructor(t){super(),Ce(this,t,GL,FL,we,{progress:0})}}function UL(e){let t,n;return{c(){t=vt("div"),n=un("data checking..."),this.h()},l(r){t=yt(r,"DIV",{class:!0});var i=ft(t);n=hn(i,"data checking..."),i.forEach(U),this.h()},h(){pt(t,"class","animate-pulse")},m(r,i){Et(r,t,i),Ct(t,n)},p:Vt,i:Vt,o:Vt,d(r){r&&U(t)}}}function HL(e){let t,n,r,i,o,s,u,l,p,g,c,_,C,E,P,S,I,T,N,x,R,B,Y;return N=new VL({props:{progress:e[6]}}),{c(){t=vt("div"),n=vt("div"),r=vt("h1"),i=un("Importing..."),o=ve(),s=vt("p"),u=un(e[3]),l=un(" / "),p=un(e[4]),g=vt("br"),c=ve(),_=un(e[5]),C=ve(),E=vt("div"),P=vt("button"),S=un("Cancel"),I=ve(),T=vt("div"),ae(N.$$.fragment),this.h()},l(Q){t=yt(Q,"DIV",{class:!0});var rt=ft(t);n=yt(rt,"DIV",{class:!0});var ct=ft(n);r=yt(ct,"H1",{class:!0});var X=ft(r);i=hn(X,"Importing..."),X.forEach(U),o=ye(ct),s=yt(ct,"P",{class:!0});var J=ft(s);u=hn(J,e[3]),l=hn(J," / "),p=hn(J,e[4]),g=yt(J,"BR",{}),c=ye(J),_=hn(J,e[5]),J.forEach(U),C=ye(ct),E=yt(ct,"DIV",{class:!0});var at=ft(E);P=yt(at,"BUTTON",{class:!0});var it=ft(P);S=hn(it,"Cancel"),it.forEach(U),at.forEach(U),ct.forEach(U),I=ye(rt),T=yt(rt,"DIV",{class:!0});var ot=ft(T);de(N.$$.fragment,ot),ot.forEach(U),rt.forEach(U),this.h()},h(){pt(r,"class","mb-4 text-3xl text-gray-800"),pt(s,"class","mb-4 max-w-xs"),pt(P,"class","rounded-md bg-gray-100 py-1 px-4 text-gray-700 hover:bg-gray-200"),pt(E,"class","mt-auto block"),pt(n,"class","flex flex-col"),pt(T,"class","h-40 w-40"),pt(t,"class","flex flex-wrap gap-4")},m(Q,rt){Et(Q,t,rt),Ct(t,n),Ct(n,r),Ct(r,i),Ct(n,o),Ct(n,s),Ct(s,u),Ct(s,l),Ct(s,p),Ct(s,g),Ct(s,c),Ct(s,_),Ct(n,C),Ct(n,E),Ct(E,P),Ct(P,S),Ct(t,I),Ct(t,T),le(N,T,null),R=!0,B||(Y=qe(P,"click",e[8]),B=!0)},p(Q,rt){(!R||rt&8)&&rs(u,Q[3]),(!R||rt&16)&&rs(p,Q[4]),(!R||rt&32)&&rs(_,Q[5]);const ct={};rt&64&&(ct.progress=Q[6]),N.$set(ct)},i(Q){R||(dt(N.$$.fragment,Q),x||Xh(()=>{x=Rp(t,Od,{}),x.start()}),R=!0)},o(Q){Lt(N.$$.fragment,Q),R=!1},d(Q){Q&&U(t),ue(N),B=!1,Y()}}}function ZL(e){let t,n,r,i,o,s,u,l,p,g,c,_,C,E;return{c(){t=vt("div"),n=vt("h1"),r=un("First in first."),i=ve(),o=vt("p"),s=un("Import source.zip for registered points and streams."),u=vt("br"),l=un(`
						If not, it's no reason to use this App.`),p=ve(),g=vt("button"),c=un("Import"),this.h()},l(P){t=yt(P,"DIV",{class:!0});var S=ft(t);n=yt(S,"H1",{class:!0});var I=ft(n);r=hn(I,"First in first."),I.forEach(U),i=ye(S),o=yt(S,"P",{class:!0});var T=ft(o);s=hn(T,"Import source.zip for registered points and streams."),u=yt(T,"BR",{}),l=hn(T,`
						If not, it's no reason to use this App.`),T.forEach(U),p=ye(S),g=yt(S,"BUTTON",{class:!0});var N=ft(g);c=hn(N,"Import"),N.forEach(U),S.forEach(U),this.h()},h(){pt(n,"class","mb-4 text-3xl text-gray-800"),pt(o,"class","mb-4"),pt(g,"class","rounded-md bg-indigo-500 py-1 px-4 text-white hover:bg-indigo-600"),pt(t,"class","block")},m(P,S){Et(P,t,S),Ct(t,n),Ct(n,r),Ct(t,i),Ct(t,o),Ct(o,s),Ct(o,u),Ct(o,l),Ct(t,p),Ct(t,g),Ct(g,c),C||(E=qe(g,"click",e[7]),C=!0)},p:Vt,i(P){_||Xh(()=>{_=Rp(t,Od,{}),_.start()})},o:Vt,d(P){P&&U(t),C=!1,E()}}}function jL(e){let t,n,r,i,o,s,u;t=new OL({props:{class:"absolute inset-0 z-10 bg-black/80"}});const l=[ZL,HL,UL],p=[];function g(c,_){return c[1]&&!c[2]?0:c[1]&&c[2]?1:2}return o=g(e),s=p[o]=l[o](e),{c(){ae(t.$$.fragment),n=ve(),r=vt("div"),i=vt("div"),s.c(),this.h()},l(c){de(t.$$.fragment,c),n=ye(c),r=yt(c,"DIV",{class:!0});var _=ft(r);i=yt(_,"DIV",{class:!0});var C=ft(i);s.l(C),C.forEach(U),_.forEach(U),this.h()},h(){pt(i,"class","relative z-20 rounded-sm bg-white p-8"),pt(r,"class","absolute inset-0 z-20 flex items-center justify-center")},m(c,_){le(t,c,_),Et(c,n,_),Et(c,r,_),Ct(r,i),p[o].m(i,null),u=!0},p(c,_){let C=o;o=g(c),o===C?p[o].p(c,_):(di(),Lt(p[C],1,1,()=>{p[C]=null}),gi(),s=p[o],s?s.p(c,_):(s=p[o]=l[o](c),s.c()),dt(s,1),s.m(i,null))},i(c){u||(dt(t.$$.fragment,c),dt(s),u=!0)},o(c){Lt(t.$$.fragment,c),Lt(s),u=!1},d(c){ue(t,c),c&&U(n),c&&U(r),p[o].d()}}}function qL(e){let t,n;return t=new SL({props:{open:e[0],class:"fixed inset-0 z-20",$$slots:{default:[jL]},$$scope:{ctx:e}}}),{c(){ae(t.$$.fragment)},l(r){de(t.$$.fragment,r)},m(r,i){le(t,r,i),n=!0},p(r,[i]){const o={};i&1&&(o.open=r[0]),i&1150&&(o.$$scope={dirty:i,ctx:r}),t.$set(o)},i(r){n||(dt(t.$$.fragment,r),n=!0)},o(r){Lt(t.$$.fragment,r),n=!1},d(r){ue(t,r)}}}function XL(e,t,n){let r=!0,i=!1,o=!1,s="-",u="-",l="Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolor fugit, nihil unde neque quaerat reiciendis. Et est unde placeat, possimus architecto quod praesentium ad eius saepe ex maiores. Ab, eos!",p=0;return zu(async()=>{await jd("import-progress",C=>{console.log("event arrived",C),n(3,s=C.payload.current),n(4,u=C.payload.total),n(5,l=C.payload.message),n(6,p=Math.round(C.payload.current/C.payload.total*100))});const _=await vo("check_initiation");n(1,i=!0),n(0,r=!_)}),[r,i,o,s,u,l,p,async()=>{const _=await th({multiple:!1,filters:[{name:"Image",extensions:["png","jpeg","zip"]}]});console.dir(_),n(2,o=!0),Array.isArray(_)||_===null||await vo("greet",{name:_}),n(0,r=!1)},async()=>{alert("not implemented yet")}]}class YL extends be{constructor(t){super(),Ce(this,t,XL,qL,we,{})}}function WL(e){let t,n,r,i,o,s,u;return t=new YL({}),i=new _0({}),s=new q0({}),{c(){ae(t.$$.fragment),n=ve(),r=vt("div"),ae(i.$$.fragment),o=ve(),ae(s.$$.fragment),this.h()},l(l){de(t.$$.fragment,l),n=ye(l),r=yt(l,"DIV",{class:!0});var p=ft(r);de(i.$$.fragment,p),o=ye(p),de(s.$$.fragment,p),p.forEach(U),this.h()},h(){pt(r,"class","grid h-full w-full grid-rows-[auto,_min-content]")},m(l,p){le(t,l,p),Et(l,n,p),Et(l,r,p),le(i,r,null),Ct(r,o),le(s,r,null),u=!0},p:Vt,i(l){u||(dt(t.$$.fragment,l),dt(i.$$.fragment,l),dt(s.$$.fragment,l),u=!0)},o(l){Lt(t.$$.fragment,l),Lt(i.$$.fragment,l),Lt(s.$$.fragment,l),u=!1},d(l){ue(t,l),l&&U(n),l&&U(r),ue(i),ue(s)}}}class $L extends be{constructor(t){super(),Ce(this,t,null,WL,we,{})}}export{$L as default};
